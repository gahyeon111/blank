{"ast":null,"code":"import _slicedToArray from \"/Users/stoone_j/3rd/maze/blank/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectWithoutProperties from \"/Users/stoone_j/3rd/maze/blank/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _jsxFileName = \"/Users/stoone_j/3rd/maze/blank/src/mazeEaster/Scene2.js\";\nimport React, { useMemo } from 'react';\nimport * as THREE from 'three';\nimport { useFrame } from 'react-three-fiber';\nimport { Text, useMatcapTexture, Octahedron, useGLTFLoader } from '@react-three/drei';\nimport useSlerp from './use-slerp';\nimport useRenderTarget from './use-render-target';\nimport { ThinFilmFresnelMap } from './ThinFilmFresnelMap';\nimport { mirrorsData as diamondsData } from './data';\nimport useLayers from './use-layers';\nvar TEXT_PROPS = {\n  fontSize: 5,\n  font: 'https://fonts.gstatic.com/s/monoton/v10/5h1aiZUrOngCibe4TkHLRA.woff'\n};\n\nfunction Title(_ref) {\n  var material = _ref.material,\n      texture = _ref.texture,\n      map = _ref.map,\n      layers = _ref.layers,\n      props = _objectWithoutProperties(_ref, [\"material\", \"texture\", \"map\", \"layers\"]);\n\n  var textRef = useLayers(layers);\n  return /*#__PURE__*/React.createElement(\"group\", Object.assign({}, props, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 5\n    }\n  }), /*#__PURE__*/React.createElement(Text, Object.assign({\n    ref: textRef,\n    name: \"text-olga\",\n    depthTest: false,\n    position: [0, -1, 0]\n  }, TEXT_PROPS, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 22,\n      columnNumber: 7\n    }\n  }), \"OLGA\", /*#__PURE__*/React.createElement(\"meshPhysicalMaterial\", {\n    envMap: texture,\n    map: map,\n    roughness: 0,\n    metalness: 1,\n    color: \"#FFFFFF\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 9\n    }\n  })));\n}\n\nfunction Diamond(_ref2) {\n  var map = _ref2.map,\n      texture = _ref2.texture,\n      matcap = _ref2.matcap,\n      layers = _ref2.layers,\n      props = _objectWithoutProperties(_ref2, [\"map\", \"texture\", \"matcap\", \"layers\"]);\n\n  var ref = useLayers(layers);\n  useFrame(function () {\n    if (ref.current) {\n      ref.current.rotation.y += 0.001;\n      ref.current.rotation.z += 0.01;\n    }\n  });\n  return /*#__PURE__*/React.createElement(\"mesh\", Object.assign({\n    ref: ref\n  }, props, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 5\n    }\n  }), /*#__PURE__*/React.createElement(\"meshMatcapMaterial\", {\n    matcap: matcap,\n    transparent: true,\n    opacity: 0.9,\n    color: \"#14CEFF\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }\n  }));\n}\n\nfunction Diamonds(_ref3) {\n  var _this = this;\n\n  var layers = _ref3.layers,\n      props = _objectWithoutProperties(_ref3, [\"layers\"]);\n\n  var _useMatcapTexture = useMatcapTexture('2E763A_78A0B7_B3D1CF_14F209'),\n      _useMatcapTexture2 = _slicedToArray(_useMatcapTexture, 1),\n      matcapTexture = _useMatcapTexture2[0];\n\n  var _useGLTFLoader = useGLTFLoader(process.env.PUBLIC_URL + '/diamond.glb'),\n      nodes = _useGLTFLoader.nodes;\n\n  return /*#__PURE__*/React.createElement(\"group\", Object.assign({\n    name: \"diamonds\"\n  }, props, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 5\n    }\n  }), diamondsData.mirrors.map(function (mirror, index) {\n    return /*#__PURE__*/React.createElement(Diamond, Object.assign({\n      key: \"diamond-\".concat(index),\n      name: \"diamond-\".concat(index)\n    }, mirror, {\n      geometry: nodes.Cylinder.geometry,\n      matcap: matcapTexture,\n      scale: [0.5, 0.5, 0.5],\n      layers: layers,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }\n    }));\n  }));\n}\n\nfunction Background(_ref4) {\n  var layers = _ref4.layers,\n      props = _objectWithoutProperties(_ref4, [\"layers\"]);\n\n  var ref = useLayers(layers);\n\n  var _useMatcapTexture3 = useMatcapTexture('BA5DBA_F2BEF2_E69BE6_DC8CDC'),\n      _useMatcapTexture4 = _slicedToArray(_useMatcapTexture3, 1),\n      matcapTexture = _useMatcapTexture4[0];\n\n  return /*#__PURE__*/React.createElement(Octahedron, Object.assign({\n    ref: ref,\n    name: \"background\",\n    args: [20, 4, 4]\n  }, props, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 5\n    }\n  }), /*#__PURE__*/React.createElement(\"meshMatcapMaterial\", {\n    matcap: matcapTexture,\n    side: THREE.BackSide,\n    color: \"#FFFFFF\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }\n  }));\n}\n\nfunction Scene() {\n  var _useRenderTarget = useRenderTarget(),\n      _useRenderTarget2 = _slicedToArray(_useRenderTarget, 2),\n      cubeCamera = _useRenderTarget2[0],\n      renderTarget = _useRenderTarget2[1];\n\n  var thinFilmFresnelMap = useMemo(function () {\n    return new ThinFilmFresnelMap(410, 0, 5, 1024);\n  }, []);\n  var group = useSlerp();\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Background, {\n    layers: [0, 11],\n    position: [0, 0, -5],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"cubeCamera\", {\n    layers: [11],\n    name: \"cubeCamera\",\n    ref: cubeCamera,\n    args: [0.1, 100, renderTarget],\n    position: [0, 0, -12],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"group\", {\n    name: \"sceneContainer\",\n    ref: group,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Diamonds, {\n    layers: [0, 11],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"group\", {\n    name: \"text\",\n    position: [0, 0, -5],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Title, {\n    layers: [0],\n    name: \"title\",\n    texture: renderTarget.texture,\n    map: thinFilmFresnelMap,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 11\n    }\n  }))));\n}\n\nexport default Scene;","map":{"version":3,"sources":["/Users/stoone_j/3rd/maze/blank/src/mazeEaster/Scene2.js"],"names":["React","useMemo","THREE","useFrame","Text","useMatcapTexture","Octahedron","useGLTFLoader","useSlerp","useRenderTarget","ThinFilmFresnelMap","mirrorsData","diamondsData","useLayers","TEXT_PROPS","fontSize","font","Title","material","texture","map","layers","props","textRef","Diamond","matcap","ref","current","rotation","y","z","Diamonds","matcapTexture","process","env","PUBLIC_URL","nodes","mirrors","mirror","index","Cylinder","geometry","Background","BackSide","Scene","cubeCamera","renderTarget","thinFilmFresnelMap","group"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,OAAhB,QAA+B,OAA/B;AACA,OAAO,KAAKC,KAAZ,MAAuB,OAAvB;AACA,SAASC,QAAT,QAAyB,mBAAzB;AACA,SAASC,IAAT,EAAeC,gBAAf,EAAiCC,UAAjC,EAA6CC,aAA7C,QAAkE,mBAAlE;AAEA,OAAOC,QAAP,MAAqB,aAArB;AACA,OAAOC,eAAP,MAA4B,qBAA5B;AACA,SAASC,kBAAT,QAAmC,sBAAnC;AACA,SAASC,WAAW,IAAIC,YAAxB,QAA4C,QAA5C;AACA,OAAOC,SAAP,MAAsB,cAAtB;AAEA,IAAMC,UAAU,GAAG;AACjBC,EAAAA,QAAQ,EAAE,CADO;AAEjBC,EAAAA,IAAI,EAAE;AAFW,CAAnB;;AAKA,SAASC,KAAT,OAA6D;AAAA,MAA5CC,QAA4C,QAA5CA,QAA4C;AAAA,MAAlCC,OAAkC,QAAlCA,OAAkC;AAAA,MAAzBC,GAAyB,QAAzBA,GAAyB;AAAA,MAApBC,MAAoB,QAApBA,MAAoB;AAAA,MAATC,KAAS;;AAC3D,MAAMC,OAAO,GAAGV,SAAS,CAACQ,MAAD,CAAzB;AAEA,sBACE,+CAAWC,KAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACE,oBAAC,IAAD;AAAM,IAAA,GAAG,EAAEC,OAAX;AAAoB,IAAA,IAAI,EAAC,WAAzB;AAAqC,IAAA,SAAS,EAAE,KAAhD;AAAuD,IAAA,QAAQ,EAAE,CAAC,CAAD,EAAI,CAAC,CAAL,EAAQ,CAAR;AAAjE,KAAiFT,UAAjF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BAEE;AAAsB,IAAA,MAAM,EAAEK,OAA9B;AAAuC,IAAA,GAAG,EAAEC,GAA5C;AAAiD,IAAA,SAAS,EAAE,CAA5D;AAA+D,IAAA,SAAS,EAAE,CAA1E;AAA6E,IAAA,KAAK,EAAC,SAAnF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,CADF,CADF;AAQD;;AAED,SAASI,OAAT,QAA6D;AAAA,MAA1CJ,GAA0C,SAA1CA,GAA0C;AAAA,MAArCD,OAAqC,SAArCA,OAAqC;AAAA,MAA5BM,MAA4B,SAA5BA,MAA4B;AAAA,MAApBJ,MAAoB,SAApBA,MAAoB;AAAA,MAATC,KAAS;;AAC3D,MAAMI,GAAG,GAAGb,SAAS,CAACQ,MAAD,CAArB;AAEAlB,EAAAA,QAAQ,CAAC,YAAM;AACb,QAAIuB,GAAG,CAACC,OAAR,EAAiB;AACfD,MAAAA,GAAG,CAACC,OAAJ,CAAYC,QAAZ,CAAqBC,CAArB,IAA0B,KAA1B;AACAH,MAAAA,GAAG,CAACC,OAAJ,CAAYC,QAAZ,CAAqBE,CAArB,IAA0B,IAA1B;AACD;AACF,GALO,CAAR;AAOA,sBACE;AAAM,IAAA,GAAG,EAAEJ;AAAX,KAAoBJ,KAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACE;AAAoB,IAAA,MAAM,EAAEG,MAA5B;AAAoC,IAAA,WAAW,MAA/C;AAAgD,IAAA,OAAO,EAAE,GAAzD;AAA8D,IAAA,KAAK,EAAC,SAApE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF;AAKD;;AAED,SAASM,QAAT,QAAwC;AAAA;;AAAA,MAApBV,MAAoB,SAApBA,MAAoB;AAAA,MAATC,KAAS;;AAAA,0BACdjB,gBAAgB,CAAC,6BAAD,CADF;AAAA;AAAA,MAC/B2B,aAD+B;;AAAA,uBAEpBzB,aAAa,CAAC0B,OAAO,CAACC,GAAR,CAAYC,UAAZ,GAAyB,cAA1B,CAFO;AAAA,MAE9BC,KAF8B,kBAE9BA,KAF8B;;AAItC,sBACE;AAAO,IAAA,IAAI,EAAC;AAAZ,KAA2Bd,KAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MACGV,YAAY,CAACyB,OAAb,CAAqBjB,GAArB,CAAyB,UAACkB,MAAD,EAASC,KAAT;AAAA,wBACxB,oBAAC,OAAD;AACE,MAAA,GAAG,oBAAaA,KAAb,CADL;AAEE,MAAA,IAAI,oBAAaA,KAAb;AAFN,OAGMD,MAHN;AAIE,MAAA,QAAQ,EAAEF,KAAK,CAACI,QAAN,CAAeC,QAJ3B;AAKE,MAAA,MAAM,EAAET,aALV;AAME,MAAA,KAAK,EAAE,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,CANT;AAOE,MAAA,MAAM,EAAEX,MAPV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OADwB;AAAA,GAAzB,CADH,CADF;AAeD;;AAED,SAASqB,UAAT,QAA0C;AAAA,MAApBrB,MAAoB,SAApBA,MAAoB;AAAA,MAATC,KAAS;;AACxC,MAAMI,GAAG,GAAGb,SAAS,CAACQ,MAAD,CAArB;;AADwC,2BAEhBhB,gBAAgB,CAAC,6BAAD,CAFA;AAAA;AAAA,MAEjC2B,aAFiC;;AAIxC,sBACE,oBAAC,UAAD;AAAY,IAAA,GAAG,EAAEN,GAAjB;AAAsB,IAAA,IAAI,EAAC,YAA3B;AAAwC,IAAA,IAAI,EAAE,CAAC,EAAD,EAAK,CAAL,EAAQ,CAAR;AAA9C,KAA8DJ,KAA9D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACE;AAAoB,IAAA,MAAM,EAAEU,aAA5B;AAA2C,IAAA,IAAI,EAAE9B,KAAK,CAACyC,QAAvD;AAAiE,IAAA,KAAK,EAAC,SAAvE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF;AAKD;;AAED,SAASC,KAAT,GAAiB;AAAA,yBACoBnC,eAAe,EADnC;AAAA;AAAA,MACRoC,UADQ;AAAA,MACIC,YADJ;;AAEf,MAAMC,kBAAkB,GAAG9C,OAAO,CAAC;AAAA,WAAM,IAAIS,kBAAJ,CAAuB,GAAvB,EAA4B,CAA5B,EAA+B,CAA/B,EAAkC,IAAlC,CAAN;AAAA,GAAD,EAAgD,EAAhD,CAAlC;AACA,MAAMsC,KAAK,GAAGxC,QAAQ,EAAtB;AACA,sBACE,uDACE,oBAAC,UAAD;AAAY,IAAA,MAAM,EAAE,CAAC,CAAD,EAAI,EAAJ,CAApB;AAA6B,IAAA,QAAQ,EAAE,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAC,CAAR,CAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAEE;AACE,IAAA,MAAM,EAAE,CAAC,EAAD,CADV;AAEE,IAAA,IAAI,EAAC,YAFP;AAGE,IAAA,GAAG,EAAEqC,UAHP;AAIE,IAAA,IAAI,EAAE,CAAC,GAAD,EAAM,GAAN,EAAWC,YAAX,CAJR;AAKE,IAAA,QAAQ,EAAE,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAC,EAAR,CALZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,eASE;AAAO,IAAA,IAAI,EAAC,gBAAZ;AAA6B,IAAA,GAAG,EAAEE,KAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,QAAD;AAAU,IAAA,MAAM,EAAE,CAAC,CAAD,EAAI,EAAJ,CAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAEE;AAAO,IAAA,IAAI,EAAC,MAAZ;AAAmB,IAAA,QAAQ,EAAE,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAC,CAAR,CAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,KAAD;AAAO,IAAA,MAAM,EAAE,CAAC,CAAD,CAAf;AAAoB,IAAA,IAAI,EAAC,OAAzB;AAAiC,IAAA,OAAO,EAAEF,YAAY,CAAC3B,OAAvD;AAAgE,IAAA,GAAG,EAAE4B,kBAArE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CAFF,CATF,CADF;AAkBD;;AAED,eAAeH,KAAf","sourcesContent":["import React, { useMemo } from 'react'\nimport * as THREE from 'three'\nimport { useFrame } from 'react-three-fiber'\nimport { Text, useMatcapTexture, Octahedron, useGLTFLoader } from '@react-three/drei'\n\nimport useSlerp from './use-slerp'\nimport useRenderTarget from './use-render-target'\nimport { ThinFilmFresnelMap } from './ThinFilmFresnelMap'\nimport { mirrorsData as diamondsData } from './data'\nimport useLayers from './use-layers'\n\nconst TEXT_PROPS = {\n  fontSize: 5,\n  font: 'https://fonts.gstatic.com/s/monoton/v10/5h1aiZUrOngCibe4TkHLRA.woff'\n}\n\nfunction Title({ material, texture, map, layers, ...props }) {\n  const textRef = useLayers(layers)\n\n  return (\n    <group {...props}>\n      <Text ref={textRef} name=\"text-olga\" depthTest={false} position={[0, -1, 0]} {...TEXT_PROPS}>\n        OLGA\n        <meshPhysicalMaterial envMap={texture} map={map} roughness={0} metalness={1} color=\"#FFFFFF\" />\n      </Text>\n    </group>\n  )\n}\n\nfunction Diamond({ map, texture, matcap, layers, ...props }) {\n  const ref = useLayers(layers)\n\n  useFrame(() => {\n    if (ref.current) {\n      ref.current.rotation.y += 0.001\n      ref.current.rotation.z += 0.01\n    }\n  })\n\n  return (\n    <mesh ref={ref} {...props}>\n      <meshMatcapMaterial matcap={matcap} transparent opacity={0.9} color=\"#14CEFF\" />\n    </mesh>\n  )\n}\n\nfunction Diamonds({ layers, ...props }) {\n  const [matcapTexture] = useMatcapTexture('2E763A_78A0B7_B3D1CF_14F209')\n  const { nodes } = useGLTFLoader(process.env.PUBLIC_URL + '/diamond.glb')\n\n  return (\n    <group name=\"diamonds\" {...props}>\n      {diamondsData.mirrors.map((mirror, index) => (\n        <Diamond\n          key={`diamond-${index}`}\n          name={`diamond-${index}`}\n          {...mirror}\n          geometry={nodes.Cylinder.geometry}\n          matcap={matcapTexture}\n          scale={[0.5, 0.5, 0.5]}\n          layers={layers}\n        />\n      ))}\n    </group>\n  )\n}\n\nfunction Background({ layers, ...props }) {\n  const ref = useLayers(layers)\n  const [matcapTexture] = useMatcapTexture('BA5DBA_F2BEF2_E69BE6_DC8CDC')\n\n  return (\n    <Octahedron ref={ref} name=\"background\" args={[20, 4, 4]} {...props}>\n      <meshMatcapMaterial matcap={matcapTexture} side={THREE.BackSide} color=\"#FFFFFF\" />\n    </Octahedron>\n  )\n}\n\nfunction Scene() {\n  const [cubeCamera, renderTarget] = useRenderTarget()\n  const thinFilmFresnelMap = useMemo(() => new ThinFilmFresnelMap(410, 0, 5, 1024), [])\n  const group = useSlerp()\n  return (\n    <>\n      <Background layers={[0, 11]} position={[0, 0, -5]} />\n      <cubeCamera\n        layers={[11]}\n        name=\"cubeCamera\"\n        ref={cubeCamera}\n        args={[0.1, 100, renderTarget]}\n        position={[0, 0, -12]}\n      />\n      <group name=\"sceneContainer\" ref={group}>\n        <Diamonds layers={[0, 11]} />\n        <group name=\"text\" position={[0, 0, -5]}>\n          <Title layers={[0]} name=\"title\" texture={renderTarget.texture} map={thinFilmFresnelMap} />\n        </group>\n      </group>\n    </>\n  )\n}\n\nexport default Scene\n"]},"metadata":{},"sourceType":"module"}