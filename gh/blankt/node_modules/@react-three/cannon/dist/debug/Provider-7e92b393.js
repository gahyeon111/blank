import React, { useState, useRef, useMemo, useEffect } from 'react';
import { _ as _extends, c as context } from './index-9ebb847f.js';
import 'three';
import { useThree, useFrame } from 'react-three-fiber';

function decodeBase64(base64, enableUnicode) {
    var binaryString = atob(base64);
    if (enableUnicode) {
        var binaryView = new Uint8Array(binaryString.length);
        for (var i = 0, n = binaryString.length; i < n; ++i) {
            binaryView[i] = binaryString.charCodeAt(i);
        }
        return String.fromCharCode.apply(null, new Uint16Array(binaryView.buffer));
    }
    return binaryString;
}

function createURL(base64, sourcemapArg, enableUnicodeArg) {
    var sourcemap = sourcemapArg === undefined ? null : sourcemapArg;
    var enableUnicode = enableUnicodeArg === undefined ? false : enableUnicodeArg;
    var source = decodeBase64(base64, enableUnicode);
    var start = source.indexOf('\n', 10) + 1;
    var body = source.substring(start) + (sourcemap ? '\/\/# sourceMappingURL=' + sourcemap : '');
    var blob = new Blob([body], { type: 'application/javascript' });
    return URL.createObjectURL(blob);
}

function createBase64WorkerFactory(base64, sourcemapArg, enableUnicodeArg) {
    var url;
    return function WorkerFactory(options) {
        url = url || createURL(base64, sourcemapArg, enableUnicodeArg);
        return new Worker(url, options);
    };
}

var WorkerFactory = createBase64WorkerFactory('Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwpmdW5jdGlvbiBfZXh0ZW5kcygpIHsKICBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgewogICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsKICAgICAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsKCiAgICAgIGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsKICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgewogICAgICAgICAgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gdGFyZ2V0OwogIH07CgogIHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9CgpmdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShzb3VyY2UsIGV4Y2x1ZGVkKSB7CiAgaWYgKHNvdXJjZSA9PSBudWxsKSByZXR1cm4ge307CiAgdmFyIHRhcmdldCA9IHt9OwogIHZhciBzb3VyY2VLZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTsKICB2YXIga2V5LCBpOwoKICBmb3IgKGkgPSAwOyBpIDwgc291cmNlS2V5cy5sZW5ndGg7IGkrKykgewogICAga2V5ID0gc291cmNlS2V5c1tpXTsKICAgIGlmIChleGNsdWRlZC5pbmRleE9mKGtleSkgPj0gMCkgY29udGludWU7CiAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOwogIH0KCiAgcmV0dXJuIHRhcmdldDsKfQoKLyoqDQogKiBSZWNvcmRzIHdoYXQgb2JqZWN0cyBhcmUgY29sbGlkaW5nIHdpdGggZWFjaCBvdGhlcg0KICogQGNsYXNzIE9iamVjdENvbGxpc2lvbk1hdHJpeA0KICogQGNvbnN0cnVjdG9yDQogKi8KLyoqDQogKiBBIDN4MyBtYXRyaXguDQogKiBAY2xhc3MgTWF0Mw0KICogQGNvbnN0cnVjdG9yDQogKiBAcGFyYW0ge0FycmF5fSBlbGVtZW50cyBBIHZlY3RvciBvZiBsZW5ndGggOSwgY29udGFpbmluZyBhbGwgbWF0cml4IGVsZW1lbnRzLiBPcHRpb25hbC4NCiAqIEBhdXRob3Igc2NodGVwcGUgLyBodHRwOi8vZ2l0aHViLmNvbS9zY2h0ZXBwZQ0KICovCgoKY2xhc3MgTWF0MyB7CiAgY29uc3RydWN0b3IoZWxlbWVudHMgPSBbMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMF0pIHsKICAgIHRoaXMuZWxlbWVudHMgPSBlbGVtZW50czsKICB9CiAgLyoqDQogICAqIFNldHMgdGhlIG1hdHJpeCB0byBpZGVudGl0eQ0KICAgKiBAbWV0aG9kIGlkZW50aXR5DQogICAqIEB0b2RvIFNob3VsZCBwZXJoYXBzIGJlIHJlbmFtZWQgdG8gc2V0SWRlbnRpdHkoKSB0byBiZSBtb3JlIGNsZWFyLg0KICAgKiBAdG9kbyBDcmVhdGUgYW5vdGhlciBmdW5jdGlvbiB0aGF0IGltbWVkaWF0ZWx5IGNyZWF0ZXMgYW4gaWRlbnRpdHkgbWF0cml4IGVnLiBleWUoKQ0KICAgKi8KCgogIGlkZW50aXR5KCkgewogICAgY29uc3QgZSA9IHRoaXMuZWxlbWVudHM7CiAgICBlWzBdID0gMTsKICAgIGVbMV0gPSAwOwogICAgZVsyXSA9IDA7CiAgICBlWzNdID0gMDsKICAgIGVbNF0gPSAxOwogICAgZVs1XSA9IDA7CiAgICBlWzZdID0gMDsKICAgIGVbN10gPSAwOwogICAgZVs4XSA9IDE7CiAgfQogIC8qKg0KICAgKiBTZXQgYWxsIGVsZW1lbnRzIHRvIHplcm8NCiAgICogQG1ldGhvZCBzZXRaZXJvDQogICAqLwoKCiAgc2V0WmVybygpIHsKICAgIGNvbnN0IGUgPSB0aGlzLmVsZW1lbnRzOwogICAgZVswXSA9IDA7CiAgICBlWzFdID0gMDsKICAgIGVbMl0gPSAwOwogICAgZVszXSA9IDA7CiAgICBlWzRdID0gMDsKICAgIGVbNV0gPSAwOwogICAgZVs2XSA9IDA7CiAgICBlWzddID0gMDsKICAgIGVbOF0gPSAwOwogIH0KICAvKioNCiAgICogU2V0cyB0aGUgbWF0cml4IGRpYWdvbmFsIGVsZW1lbnRzIGZyb20gYSBWZWMzDQogICAqIEBtZXRob2Qgc2V0VHJhY2UNCiAgICogQHBhcmFtIHtWZWMzfSB2ZWMzDQogICAqLwoKCiAgc2V0VHJhY2UodmVjdG9yKSB7CiAgICBjb25zdCBlID0gdGhpcy5lbGVtZW50czsKICAgIGVbMF0gPSB2ZWN0b3IueDsKICAgIGVbNF0gPSB2ZWN0b3IueTsKICAgIGVbOF0gPSB2ZWN0b3IuejsKICB9CiAgLyoqDQogICAqIEdldHMgdGhlIG1hdHJpeCBkaWFnb25hbCBlbGVtZW50cw0KICAgKiBAbWV0aG9kIGdldFRyYWNlDQogICAqIEByZXR1cm4ge1ZlYzN9DQogICAqLwoKCiAgZ2V0VHJhY2UodGFyZ2V0ID0gbmV3IFZlYzMoKSkgewogICAgY29uc3QgZSA9IHRoaXMuZWxlbWVudHM7CiAgICB0YXJnZXQueCA9IGVbMF07CiAgICB0YXJnZXQueSA9IGVbNF07CiAgICB0YXJnZXQueiA9IGVbOF07CiAgfQogIC8qKg0KICAgKiBNYXRyaXgtVmVjdG9yIG11bHRpcGxpY2F0aW9uDQogICAqIEBtZXRob2Qgdm11bHQNCiAgICogQHBhcmFtIHtWZWMzfSB2IFRoZSB2ZWN0b3IgdG8gbXVsdGlwbHkgd2l0aA0KICAgKiBAcGFyYW0ge1ZlYzN9IHRhcmdldCBPcHRpb25hbCwgdGFyZ2V0IHRvIHNhdmUgdGhlIHJlc3VsdCBpbi4NCiAgICovCgoKICB2bXVsdCh2LCB0YXJnZXQgPSBuZXcgVmVjMygpKSB7CiAgICBjb25zdCBlID0gdGhpcy5lbGVtZW50czsKICAgIGNvbnN0IHggPSB2Lng7CiAgICBjb25zdCB5ID0gdi55OwogICAgY29uc3QgeiA9IHYuejsKICAgIHRhcmdldC54ID0gZVswXSAqIHggKyBlWzFdICogeSArIGVbMl0gKiB6OwogICAgdGFyZ2V0LnkgPSBlWzNdICogeCArIGVbNF0gKiB5ICsgZVs1XSAqIHo7CiAgICB0YXJnZXQueiA9IGVbNl0gKiB4ICsgZVs3XSAqIHkgKyBlWzhdICogejsKICAgIHJldHVybiB0YXJnZXQ7CiAgfQogIC8qKg0KICAgKiBNYXRyaXgtc2NhbGFyIG11bHRpcGxpY2F0aW9uDQogICAqIEBtZXRob2Qgc211bHQNCiAgICogQHBhcmFtIHtOdW1iZXJ9IHMNCiAgICovCgoKICBzbXVsdChzKSB7CiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuZWxlbWVudHMubGVuZ3RoOyBpKyspIHsKICAgICAgdGhpcy5lbGVtZW50c1tpXSAqPSBzOwogICAgfQogIH0KICAvKioNCiAgICogTWF0cml4IG11bHRpcGxpY2F0aW9uDQogICAqIEBtZXRob2QgbW11bHQNCiAgICogQHBhcmFtIHtNYXQzfSBtYXRyaXggTWF0cml4IHRvIG11bHRpcGx5IHdpdGggZnJvbSBsZWZ0IHNpZGUuDQogICAqIEByZXR1cm4ge01hdDN9IFRoZSByZXN1bHQuDQogICAqLwoKCiAgbW11bHQobWF0cml4LCB0YXJnZXQgPSBuZXcgTWF0MygpKSB7CiAgICBjb25zdCB7CiAgICAgIGVsZW1lbnRzCiAgICB9ID0gbWF0cml4OwoKICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMzsgaSsrKSB7CiAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgMzsgaisrKSB7CiAgICAgICAgbGV0IHN1bSA9IDAuMDsKCiAgICAgICAgZm9yIChsZXQgayA9IDA7IGsgPCAzOyBrKyspIHsKICAgICAgICAgIHN1bSArPSBlbGVtZW50c1tpICsgayAqIDNdICogdGhpcy5lbGVtZW50c1trICsgaiAqIDNdOwogICAgICAgIH0KCiAgICAgICAgdGFyZ2V0LmVsZW1lbnRzW2kgKyBqICogM10gPSBzdW07CiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gdGFyZ2V0OwogIH0KICAvKioNCiAgICogU2NhbGUgZWFjaCBjb2x1bW4gb2YgdGhlIG1hdHJpeA0KICAgKiBAbWV0aG9kIHNjYWxlDQogICAqIEBwYXJhbSB7VmVjM30gdg0KICAgKiBAcmV0dXJuIHtNYXQzfSBUaGUgcmVzdWx0Lg0KICAgKi8KCgogIHNjYWxlKHZlY3RvciwgdGFyZ2V0ID0gbmV3IE1hdDMoKSkgewogICAgY29uc3QgZSA9IHRoaXMuZWxlbWVudHM7CiAgICBjb25zdCB0ID0gdGFyZ2V0LmVsZW1lbnRzOwoKICAgIGZvciAobGV0IGkgPSAwOyBpICE9PSAzOyBpKyspIHsKICAgICAgdFszICogaSArIDBdID0gdmVjdG9yLnggKiBlWzMgKiBpICsgMF07CiAgICAgIHRbMyAqIGkgKyAxXSA9IHZlY3Rvci55ICogZVszICogaSArIDFdOwogICAgICB0WzMgKiBpICsgMl0gPSB2ZWN0b3IueiAqIGVbMyAqIGkgKyAyXTsKICAgIH0KCiAgICByZXR1cm4gdGFyZ2V0OwogIH0KICAvKioNCiAgICogU29sdmUgQXg9Yg0KICAgKiBAbWV0aG9kIHNvbHZlDQogICAqIEBwYXJhbSB7VmVjM30gYiBUaGUgcmlnaHQgaGFuZCBzaWRlDQogICAqIEBwYXJhbSB7VmVjM30gdGFyZ2V0IE9wdGlvbmFsLiBUYXJnZXQgdmVjdG9yIHRvIHNhdmUgaW4uDQogICAqIEByZXR1cm4ge1ZlYzN9IFRoZSBzb2x1dGlvbiB4DQogICAqIEB0b2RvIHNob3VsZCByZXVzZSBhcnJheXMNCiAgICovCgoKICBzb2x2ZShiLCB0YXJnZXQgPSBuZXcgVmVjMygpKSB7CiAgICAvLyBDb25zdHJ1Y3QgZXF1YXRpb25zCiAgICBjb25zdCBuciA9IDM7IC8vIG51bSByb3dzCgogICAgY29uc3QgbmMgPSA0OyAvLyBudW0gY29scwoKICAgIGNvbnN0IGVxbnMgPSBbXTsKICAgIGxldCBpOwogICAgbGV0IGo7CgogICAgZm9yIChpID0gMDsgaSA8IG5yICogbmM7IGkrKykgewogICAgICBlcW5zLnB1c2goMCk7CiAgICB9CgogICAgZm9yIChpID0gMDsgaSA8IDM7IGkrKykgewogICAgICBmb3IgKGogPSAwOyBqIDwgMzsgaisrKSB7CiAgICAgICAgZXFuc1tpICsgbmMgKiBqXSA9IHRoaXMuZWxlbWVudHNbaSArIDMgKiBqXTsKICAgICAgfQogICAgfQoKICAgIGVxbnNbMyArIDQgKiAwXSA9IGIueDsKICAgIGVxbnNbMyArIDQgKiAxXSA9IGIueTsKICAgIGVxbnNbMyArIDQgKiAyXSA9IGIuejsgLy8gQ29tcHV0ZSByaWdodCB1cHBlciB0cmlhbmd1bGFyIHZlcnNpb24gb2YgdGhlIG1hdHJpeCAtIEdhdXNzIGVsaW1pbmF0aW9uCgogICAgbGV0IG4gPSAzOwogICAgY29uc3QgayA9IG47CiAgICBsZXQgbnA7CiAgICBjb25zdCBrcCA9IDQ7IC8vIG51bSByb3dzCgogICAgbGV0IHA7CgogICAgZG8gewogICAgICBpID0gayAtIG47CgogICAgICBpZiAoZXFuc1tpICsgbmMgKiBpXSA9PT0gMCkgewogICAgICAgIC8vIHRoZSBwaXZvdCBpcyBudWxsLCBzd2FwIGxpbmVzCiAgICAgICAgZm9yIChqID0gaSArIDE7IGogPCBrOyBqKyspIHsKICAgICAgICAgIGlmIChlcW5zW2kgKyBuYyAqIGpdICE9PSAwKSB7CiAgICAgICAgICAgIG5wID0ga3A7CgogICAgICAgICAgICBkbyB7CiAgICAgICAgICAgICAgLy8gZG8gbGlnbmUoIGkgKSA9IGxpZ25lKCBpICkgKyBsaWduZSggayApCiAgICAgICAgICAgICAgcCA9IGtwIC0gbnA7CiAgICAgICAgICAgICAgZXFuc1twICsgbmMgKiBpXSArPSBlcW5zW3AgKyBuYyAqIGpdOwogICAgICAgICAgICB9IHdoaWxlICgtLW5wKTsKCiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQoKICAgICAgaWYgKGVxbnNbaSArIG5jICogaV0gIT09IDApIHsKICAgICAgICBmb3IgKGogPSBpICsgMTsgaiA8IGs7IGorKykgewogICAgICAgICAgY29uc3QgbXVsdGlwbGllciA9IGVxbnNbaSArIG5jICogal0gLyBlcW5zW2kgKyBuYyAqIGldOwogICAgICAgICAgbnAgPSBrcDsKCiAgICAgICAgICBkbyB7CiAgICAgICAgICAgIC8vIGRvIGxpZ25lKCBrICkgPSBsaWduZSggayApIC0gbXVsdGlwbGllciAqIGxpZ25lKCBpICkKICAgICAgICAgICAgcCA9IGtwIC0gbnA7CiAgICAgICAgICAgIGVxbnNbcCArIG5jICogal0gPSBwIDw9IGkgPyAwIDogZXFuc1twICsgbmMgKiBqXSAtIGVxbnNbcCArIG5jICogaV0gKiBtdWx0aXBsaWVyOwogICAgICAgICAgfSB3aGlsZSAoLS1ucCk7CiAgICAgICAgfQogICAgICB9CiAgICB9IHdoaWxlICgtLW4pOyAvLyBHZXQgdGhlIHNvbHV0aW9uCgoKICAgIHRhcmdldC56ID0gZXFuc1syICogbmMgKyAzXSAvIGVxbnNbMiAqIG5jICsgMl07CiAgICB0YXJnZXQueSA9IChlcW5zWzEgKiBuYyArIDNdIC0gZXFuc1sxICogbmMgKyAyXSAqIHRhcmdldC56KSAvIGVxbnNbMSAqIG5jICsgMV07CiAgICB0YXJnZXQueCA9IChlcW5zWzAgKiBuYyArIDNdIC0gZXFuc1swICogbmMgKyAyXSAqIHRhcmdldC56IC0gZXFuc1swICogbmMgKyAxXSAqIHRhcmdldC55KSAvIGVxbnNbMCAqIG5jICsgMF07CgogICAgaWYgKGlzTmFOKHRhcmdldC54KSB8fCBpc05hTih0YXJnZXQueSkgfHwgaXNOYU4odGFyZ2V0LnopIHx8IHRhcmdldC54ID09PSBJbmZpbml0eSB8fCB0YXJnZXQueSA9PT0gSW5maW5pdHkgfHwgdGFyZ2V0LnogPT09IEluZmluaXR5KSB7CiAgICAgIHRocm93ICJDb3VsZCBub3Qgc29sdmUgZXF1YXRpb24hIEdvdCB4PVsiICsgdGFyZ2V0LnRvU3RyaW5nKCkgKyAiXSwgYj1bIiArIGIudG9TdHJpbmcoKSArICJdLCBBPVsiICsgdGhpcy50b1N0cmluZygpICsgIl0iOwogICAgfQoKICAgIHJldHVybiB0YXJnZXQ7CiAgfQogIC8qKg0KICAgKiBHZXQgYW4gZWxlbWVudCBpbiB0aGUgbWF0cml4IGJ5IGluZGV4LiBJbmRleCBzdGFydHMgYXQgMCwgbm90IDEhISENCiAgICogQG1ldGhvZCBlDQogICAqIEBwYXJhbSB7TnVtYmVyfSByb3cNCiAgICogQHBhcmFtIHtOdW1iZXJ9IGNvbHVtbg0KICAgKiBAcGFyYW0ge051bWJlcn0gdmFsdWUgT3B0aW9uYWwuIElmIHByb3ZpZGVkLCB0aGUgbWF0cml4IGVsZW1lbnQgd2lsbCBiZSBzZXQgdG8gdGhpcyB2YWx1ZS4NCiAgICogQHJldHVybiB7TnVtYmVyfQ0KICAgKi8KCgogIGUocm93LCBjb2x1bW4sIHZhbHVlKSB7CiAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkgewogICAgICByZXR1cm4gdGhpcy5lbGVtZW50c1tjb2x1bW4gKyAzICogcm93XTsKICAgIH0gZWxzZSB7CiAgICAgIC8vIFNldCB2YWx1ZQogICAgICB0aGlzLmVsZW1lbnRzW2NvbHVtbiArIDMgKiByb3ddID0gdmFsdWU7CiAgICB9CiAgfQogIC8qKg0KICAgKiBDb3B5IGFub3RoZXIgbWF0cml4IGludG8gdGhpcyBtYXRyaXggb2JqZWN0Lg0KICAgKiBAbWV0aG9kIGNvcHkNCiAgICogQHBhcmFtIHtNYXQzfSBzb3VyY2UNCiAgICogQHJldHVybiB7TWF0M30gdGhpcw0KICAgKi8KCgogIGNvcHkobWF0cml4KSB7CiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG1hdHJpeC5lbGVtZW50cy5sZW5ndGg7IGkrKykgewogICAgICB0aGlzLmVsZW1lbnRzW2ldID0gbWF0cml4LmVsZW1lbnRzW2ldOwogICAgfQoKICAgIHJldHVybiB0aGlzOwogIH0KICAvKioNCiAgICogUmV0dXJucyBhIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGUgbWF0cml4Lg0KICAgKiBAbWV0aG9kIHRvU3RyaW5nDQogICAqIEByZXR1cm4gc3RyaW5nDQogICAqLwoKCiAgdG9TdHJpbmcoKSB7CiAgICBsZXQgciA9ICcnOwogICAgY29uc3Qgc2VwID0gJywnOwoKICAgIGZvciAobGV0IGkgPSAwOyBpIDwgOTsgaSsrKSB7CiAgICAgIHIgKz0gdGhpcy5lbGVtZW50c1tpXSArIHNlcDsKICAgIH0KCiAgICByZXR1cm4gcjsKICB9CiAgLyoqDQogICAqIHJldmVyc2UgdGhlIG1hdHJpeA0KICAgKiBAbWV0aG9kIHJldmVyc2UNCiAgICogQHBhcmFtIHtNYXQzfSB0YXJnZXQgT3B0aW9uYWwuIFRhcmdldCBtYXRyaXggdG8gc2F2ZSBpbi4NCiAgICogQHJldHVybiB7TWF0M30gVGhlIHNvbHV0aW9uIHgNCiAgICovCgoKICByZXZlcnNlKHRhcmdldCA9IG5ldyBNYXQzKCkpIHsKICAgIC8vIENvbnN0cnVjdCBlcXVhdGlvbnMKICAgIGNvbnN0IG5yID0gMzsgLy8gbnVtIHJvd3MKCiAgICBjb25zdCBuYyA9IDY7IC8vIG51bSBjb2xzCgogICAgY29uc3QgZXFucyA9IFtdOwogICAgbGV0IGk7CiAgICBsZXQgajsKCiAgICBmb3IgKGkgPSAwOyBpIDwgbnIgKiBuYzsgaSsrKSB7CiAgICAgIGVxbnMucHVzaCgwKTsKICAgIH0KCiAgICBmb3IgKGkgPSAwOyBpIDwgMzsgaSsrKSB7CiAgICAgIGZvciAoaiA9IDA7IGogPCAzOyBqKyspIHsKICAgICAgICBlcW5zW2kgKyBuYyAqIGpdID0gdGhpcy5lbGVtZW50c1tpICsgMyAqIGpdOwogICAgICB9CiAgICB9CgogICAgZXFuc1szICsgNiAqIDBdID0gMTsKICAgIGVxbnNbMyArIDYgKiAxXSA9IDA7CiAgICBlcW5zWzMgKyA2ICogMl0gPSAwOwogICAgZXFuc1s0ICsgNiAqIDBdID0gMDsKICAgIGVxbnNbNCArIDYgKiAxXSA9IDE7CiAgICBlcW5zWzQgKyA2ICogMl0gPSAwOwogICAgZXFuc1s1ICsgNiAqIDBdID0gMDsKICAgIGVxbnNbNSArIDYgKiAxXSA9IDA7CiAgICBlcW5zWzUgKyA2ICogMl0gPSAxOyAvLyBDb21wdXRlIHJpZ2h0IHVwcGVyIHRyaWFuZ3VsYXIgdmVyc2lvbiBvZiB0aGUgbWF0cml4IC0gR2F1c3MgZWxpbWluYXRpb24KCiAgICBsZXQgbiA9IDM7CiAgICBjb25zdCBrID0gbjsKICAgIGxldCBucDsKICAgIGNvbnN0IGtwID0gbmM7IC8vIG51bSByb3dzCgogICAgbGV0IHA7CgogICAgZG8gewogICAgICBpID0gayAtIG47CgogICAgICBpZiAoZXFuc1tpICsgbmMgKiBpXSA9PT0gMCkgewogICAgICAgIC8vIHRoZSBwaXZvdCBpcyBudWxsLCBzd2FwIGxpbmVzCiAgICAgICAgZm9yIChqID0gaSArIDE7IGogPCBrOyBqKyspIHsKICAgICAgICAgIGlmIChlcW5zW2kgKyBuYyAqIGpdICE9PSAwKSB7CiAgICAgICAgICAgIG5wID0ga3A7CgogICAgICAgICAgICBkbyB7CiAgICAgICAgICAgICAgLy8gZG8gbGluZSggaSApID0gbGluZSggaSApICsgbGluZSggayApCiAgICAgICAgICAgICAgcCA9IGtwIC0gbnA7CiAgICAgICAgICAgICAgZXFuc1twICsgbmMgKiBpXSArPSBlcW5zW3AgKyBuYyAqIGpdOwogICAgICAgICAgICB9IHdoaWxlICgtLW5wKTsKCiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQoKICAgICAgaWYgKGVxbnNbaSArIG5jICogaV0gIT09IDApIHsKICAgICAgICBmb3IgKGogPSBpICsgMTsgaiA8IGs7IGorKykgewogICAgICAgICAgY29uc3QgbXVsdGlwbGllciA9IGVxbnNbaSArIG5jICogal0gLyBlcW5zW2kgKyBuYyAqIGldOwogICAgICAgICAgbnAgPSBrcDsKCiAgICAgICAgICBkbyB7CiAgICAgICAgICAgIC8vIGRvIGxpbmUoIGsgKSA9IGxpbmUoIGsgKSAtIG11bHRpcGxpZXIgKiBsaW5lKCBpICkKICAgICAgICAgICAgcCA9IGtwIC0gbnA7CiAgICAgICAgICAgIGVxbnNbcCArIG5jICogal0gPSBwIDw9IGkgPyAwIDogZXFuc1twICsgbmMgKiBqXSAtIGVxbnNbcCArIG5jICogaV0gKiBtdWx0aXBsaWVyOwogICAgICAgICAgfSB3aGlsZSAoLS1ucCk7CiAgICAgICAgfQogICAgICB9CiAgICB9IHdoaWxlICgtLW4pOyAvLyBlbGltaW5hdGUgdGhlIHVwcGVyIGxlZnQgdHJpYW5nbGUgb2YgdGhlIG1hdHJpeAoKCiAgICBpID0gMjsKCiAgICBkbyB7CiAgICAgIGogPSBpIC0gMTsKCiAgICAgIGRvIHsKICAgICAgICBjb25zdCBtdWx0aXBsaWVyID0gZXFuc1tpICsgbmMgKiBqXSAvIGVxbnNbaSArIG5jICogaV07CiAgICAgICAgbnAgPSBuYzsKCiAgICAgICAgZG8gewogICAgICAgICAgcCA9IG5jIC0gbnA7CiAgICAgICAgICBlcW5zW3AgKyBuYyAqIGpdID0gZXFuc1twICsgbmMgKiBqXSAtIGVxbnNbcCArIG5jICogaV0gKiBtdWx0aXBsaWVyOwogICAgICAgIH0gd2hpbGUgKC0tbnApOwogICAgICB9IHdoaWxlIChqLS0pOwogICAgfSB3aGlsZSAoLS1pKTsgLy8gb3BlcmF0aW9ucyBvbiB0aGUgZGlhZ29uYWwKCgogICAgaSA9IDI7CgogICAgZG8gewogICAgICBjb25zdCBtdWx0aXBsaWVyID0gMSAvIGVxbnNbaSArIG5jICogaV07CiAgICAgIG5wID0gbmM7CgogICAgICBkbyB7CiAgICAgICAgcCA9IG5jIC0gbnA7CiAgICAgICAgZXFuc1twICsgbmMgKiBpXSA9IGVxbnNbcCArIG5jICogaV0gKiBtdWx0aXBsaWVyOwogICAgICB9IHdoaWxlICgtLW5wKTsKICAgIH0gd2hpbGUgKGktLSk7CgogICAgaSA9IDI7CgogICAgZG8gewogICAgICBqID0gMjsKCiAgICAgIGRvIHsKICAgICAgICBwID0gZXFuc1tuciArIGogKyBuYyAqIGldOwoKICAgICAgICBpZiAoaXNOYU4ocCkgfHwgcCA9PT0gSW5maW5pdHkpIHsKICAgICAgICAgIHRocm93ICJDb3VsZCBub3QgcmV2ZXJzZSEgQT1bIiArIHRoaXMudG9TdHJpbmcoKSArICJdIjsKICAgICAgICB9CgogICAgICAgIHRhcmdldC5lKGksIGosIHApOwogICAgICB9IHdoaWxlIChqLS0pOwogICAgfSB3aGlsZSAoaS0tKTsKCiAgICByZXR1cm4gdGFyZ2V0OwogIH0KICAvKioNCiAgICogU2V0IHRoZSBtYXRyaXggZnJvbSBhIHF1YXRlcmlvbg0KICAgKiBAbWV0aG9kIHNldFJvdGF0aW9uRnJvbVF1YXRlcm5pb24NCiAgICogQHBhcmFtIHtRdWF0ZXJuaW9ufSBxDQogICAqLwoKCiAgc2V0Um90YXRpb25Gcm9tUXVhdGVybmlvbihxKSB7CiAgICBjb25zdCB4ID0gcS54OwogICAgY29uc3QgeSA9IHEueTsKICAgIGNvbnN0IHogPSBxLno7CiAgICBjb25zdCB3ID0gcS53OwogICAgY29uc3QgeDIgPSB4ICsgeDsKICAgIGNvbnN0IHkyID0geSArIHk7CiAgICBjb25zdCB6MiA9IHogKyB6OwogICAgY29uc3QgeHggPSB4ICogeDI7CiAgICBjb25zdCB4eSA9IHggKiB5MjsKICAgIGNvbnN0IHh6ID0geCAqIHoyOwogICAgY29uc3QgeXkgPSB5ICogeTI7CiAgICBjb25zdCB5eiA9IHkgKiB6MjsKICAgIGNvbnN0IHp6ID0geiAqIHoyOwogICAgY29uc3Qgd3ggPSB3ICogeDI7CiAgICBjb25zdCB3eSA9IHcgKiB5MjsKICAgIGNvbnN0IHd6ID0gdyAqIHoyOwogICAgY29uc3QgZSA9IHRoaXMuZWxlbWVudHM7CiAgICBlWzMgKiAwICsgMF0gPSAxIC0gKHl5ICsgenopOwogICAgZVszICogMCArIDFdID0geHkgLSB3ejsKICAgIGVbMyAqIDAgKyAyXSA9IHh6ICsgd3k7CiAgICBlWzMgKiAxICsgMF0gPSB4eSArIHd6OwogICAgZVszICogMSArIDFdID0gMSAtICh4eCArIHp6KTsKICAgIGVbMyAqIDEgKyAyXSA9IHl6IC0gd3g7CiAgICBlWzMgKiAyICsgMF0gPSB4eiAtIHd5OwogICAgZVszICogMiArIDFdID0geXogKyB3eDsKICAgIGVbMyAqIDIgKyAyXSA9IDEgLSAoeHggKyB5eSk7CiAgICByZXR1cm4gdGhpczsKICB9CiAgLyoqDQogICAqIFRyYW5zcG9zZSB0aGUgbWF0cml4DQogICAqIEBtZXRob2QgdHJhbnNwb3NlDQogICAqIEBwYXJhbSAge01hdDN9IHRhcmdldCBPcHRpb25hbC4gV2hlcmUgdG8gc3RvcmUgdGhlIHJlc3VsdC4NCiAgICogQHJldHVybiB7TWF0M30gVGhlIHRhcmdldCBNYXQzLCBvciBhIG5ldyBNYXQzIGlmIHRhcmdldCB3YXMgb21pdHRlZC4NCiAgICovCgoKICB0cmFuc3Bvc2UodGFyZ2V0ID0gbmV3IE1hdDMoKSkgewogICAgY29uc3QgTXQgPSB0YXJnZXQuZWxlbWVudHM7CiAgICBjb25zdCBNID0gdGhpcy5lbGVtZW50czsKCiAgICBmb3IgKGxldCBpID0gMDsgaSAhPT0gMzsgaSsrKSB7CiAgICAgIGZvciAobGV0IGogPSAwOyBqICE9PSAzOyBqKyspIHsKICAgICAgICBNdFszICogaSArIGpdID0gTVszICogaiArIGldOwogICAgICB9CiAgICB9CgogICAgcmV0dXJuIHRhcmdldDsKICB9Cgp9Ci8qKg0KICogMy1kaW1lbnNpb25hbCB2ZWN0b3INCiAqIEBjbGFzcyBWZWMzDQogKiBAY29uc3RydWN0b3INCiAqIEBwYXJhbSB7TnVtYmVyfSB4DQogKiBAcGFyYW0ge051bWJlcn0geQ0KICogQHBhcmFtIHtOdW1iZXJ9IHoNCiAqIEBhdXRob3Igc2NodGVwcGUNCiAqIEBleGFtcGxlDQogKiAgICAgY29uc3QgdiA9IG5ldyBWZWMzKDEsIDIsIDMpOw0KICogICAgIGNvbnNvbGUubG9nKCd4PScgKyB2LngpOyAvLyB4PTENCiAqLwoKCmNsYXNzIFZlYzMgewogIGNvbnN0cnVjdG9yKHggPSAwLjAsIHkgPSAwLjAsIHogPSAwLjApIHsKICAgIHRoaXMueCA9IHg7CiAgICB0aGlzLnkgPSB5OwogICAgdGhpcy56ID0gejsKICB9CiAgLyoqDQogICAqIFZlY3RvciBjcm9zcyBwcm9kdWN0DQogICAqIEBtZXRob2QgY3Jvc3MNCiAgICogQHBhcmFtIHtWZWMzfSB2DQogICAqIEBwYXJhbSB7VmVjM30gdGFyZ2V0IE9wdGlvbmFsLiBUYXJnZXQgdG8gc2F2ZSBpbi4NCiAgICogQHJldHVybiB7VmVjM30NCiAgICovCgoKICBjcm9zcyh2ZWN0b3IsIHRhcmdldCA9IG5ldyBWZWMzKCkpIHsKICAgIGNvbnN0IHZ4ID0gdmVjdG9yLng7CiAgICBjb25zdCB2eSA9IHZlY3Rvci55OwogICAgY29uc3QgdnogPSB2ZWN0b3IuejsKICAgIGNvbnN0IHggPSB0aGlzLng7CiAgICBjb25zdCB5ID0gdGhpcy55OwogICAgY29uc3QgeiA9IHRoaXMuejsKICAgIHRhcmdldC54ID0geSAqIHZ6IC0geiAqIHZ5OwogICAgdGFyZ2V0LnkgPSB6ICogdnggLSB4ICogdno7CiAgICB0YXJnZXQueiA9IHggKiB2eSAtIHkgKiB2eDsKICAgIHJldHVybiB0YXJnZXQ7CiAgfQogIC8qKg0KICAgKiBTZXQgdGhlIHZlY3RvcnMnIDMgZWxlbWVudHMNCiAgICogQG1ldGhvZCBzZXQNCiAgICogQHBhcmFtIHtOdW1iZXJ9IHgNCiAgICogQHBhcmFtIHtOdW1iZXJ9IHkNCiAgICogQHBhcmFtIHtOdW1iZXJ9IHoNCiAgICogQHJldHVybiBWZWMzDQogICAqLwoKCiAgc2V0KHgsIHksIHopIHsKICAgIHRoaXMueCA9IHg7CiAgICB0aGlzLnkgPSB5OwogICAgdGhpcy56ID0gejsKICAgIHJldHVybiB0aGlzOwogIH0KICAvKioNCiAgICogU2V0IGFsbCBjb21wb25lbnRzIG9mIHRoZSB2ZWN0b3IgdG8gemVyby4NCiAgICogQG1ldGhvZCBzZXRaZXJvDQogICAqLwoKCiAgc2V0WmVybygpIHsKICAgIHRoaXMueCA9IHRoaXMueSA9IHRoaXMueiA9IDA7CiAgfQogIC8qKg0KICAgKiBWZWN0b3IgYWRkaXRpb24NCiAgICogQG1ldGhvZCB2YWRkDQogICAqIEBwYXJhbSB7VmVjM30gdg0KICAgKiBAcGFyYW0ge1ZlYzN9IHRhcmdldCBPcHRpb25hbC4NCiAgICogQHJldHVybiB7VmVjM30NCiAgICovCgoKICB2YWRkKHZlY3RvciwgdGFyZ2V0KSB7CiAgICBpZiAodGFyZ2V0KSB7CiAgICAgIHRhcmdldC54ID0gdmVjdG9yLnggKyB0aGlzLng7CiAgICAgIHRhcmdldC55ID0gdmVjdG9yLnkgKyB0aGlzLnk7CiAgICAgIHRhcmdldC56ID0gdmVjdG9yLnogKyB0aGlzLno7CiAgICB9IGVsc2UgewogICAgICByZXR1cm4gbmV3IFZlYzModGhpcy54ICsgdmVjdG9yLngsIHRoaXMueSArIHZlY3Rvci55LCB0aGlzLnogKyB2ZWN0b3Iueik7CiAgICB9CiAgfQogIC8qKg0KICAgKiBWZWN0b3Igc3VidHJhY3Rpb24NCiAgICogQG1ldGhvZCB2c3ViDQogICAqIEBwYXJhbSB7VmVjM30gdg0KICAgKiBAcGFyYW0ge1ZlYzN9IHRhcmdldCBPcHRpb25hbC4gVGFyZ2V0IHRvIHNhdmUgaW4uDQogICAqIEByZXR1cm4ge1ZlYzN9DQogICAqLwoKCiAgdnN1Yih2ZWN0b3IsIHRhcmdldCkgewogICAgaWYgKHRhcmdldCkgewogICAgICB0YXJnZXQueCA9IHRoaXMueCAtIHZlY3Rvci54OwogICAgICB0YXJnZXQueSA9IHRoaXMueSAtIHZlY3Rvci55OwogICAgICB0YXJnZXQueiA9IHRoaXMueiAtIHZlY3Rvci56OwogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuIG5ldyBWZWMzKHRoaXMueCAtIHZlY3Rvci54LCB0aGlzLnkgLSB2ZWN0b3IueSwgdGhpcy56IC0gdmVjdG9yLnopOwogICAgfQogIH0KICAvKioNCiAgICogR2V0IHRoZSBjcm9zcyBwcm9kdWN0IG1hdHJpeCBhX2Nyb3NzIGZyb20gYSB2ZWN0b3IsIHN1Y2ggdGhhdCBhIHggYiA9IGFfY3Jvc3MgKiBiID0gYw0KICAgKiBAbWV0aG9kIGNyb3NzbWF0DQogICAqIEBzZWUgaHR0cDovL3d3dzguY3MudW11LnNlL2t1cnNlci9UREJEMjQvVlQwNi9sZWN0dXJlcy9MZWN0dXJlNi5wZGYNCiAgICogQHJldHVybiB7TWF0M30NCiAgICovCgoKICBjcm9zc21hdCgpIHsKICAgIHJldHVybiBuZXcgTWF0MyhbMCwgLXRoaXMueiwgdGhpcy55LCB0aGlzLnosIDAsIC10aGlzLngsIC10aGlzLnksIHRoaXMueCwgMF0pOwogIH0KICAvKioNCiAgICogTm9ybWFsaXplIHRoZSB2ZWN0b3IuIE5vdGUgdGhhdCB0aGlzIGNoYW5nZXMgdGhlIHZhbHVlcyBpbiB0aGUgdmVjdG9yLg0KICAgKiBAbWV0aG9kIG5vcm1hbGl6ZQ0KICAgKiBAcmV0dXJuIHtOdW1iZXJ9IFJldHVybnMgdGhlIG5vcm0gb2YgdGhlIHZlY3Rvcg0KICAgKi8KCgogIG5vcm1hbGl6ZSgpIHsKICAgIGNvbnN0IHggPSB0aGlzLng7CiAgICBjb25zdCB5ID0gdGhpcy55OwogICAgY29uc3QgeiA9IHRoaXMuejsKICAgIGNvbnN0IG4gPSBNYXRoLnNxcnQoeCAqIHggKyB5ICogeSArIHogKiB6KTsKCiAgICBpZiAobiA+IDAuMCkgewogICAgICBjb25zdCBpbnZOID0gMSAvIG47CiAgICAgIHRoaXMueCAqPSBpbnZOOwogICAgICB0aGlzLnkgKj0gaW52TjsKICAgICAgdGhpcy56ICo9IGludk47CiAgICB9IGVsc2UgewogICAgICAvLyBNYWtlIHNvbWV0aGluZyB1cAogICAgICB0aGlzLnggPSAwOwogICAgICB0aGlzLnkgPSAwOwogICAgICB0aGlzLnogPSAwOwogICAgfQoKICAgIHJldHVybiBuOwogIH0KICAvKioNCiAgICogR2V0IHRoZSB2ZXJzaW9uIG9mIHRoaXMgdmVjdG9yIHRoYXQgaXMgb2YgbGVuZ3RoIDEuDQogICAqIEBtZXRob2QgdW5pdA0KICAgKiBAcGFyYW0ge1ZlYzN9IHRhcmdldCBPcHRpb25hbCB0YXJnZXQgdG8gc2F2ZSBpbg0KICAgKiBAcmV0dXJuIHtWZWMzfSBSZXR1cm5zIHRoZSB1bml0IHZlY3Rvcg0KICAgKi8KCgogIHVuaXQodGFyZ2V0ID0gbmV3IFZlYzMoKSkgewogICAgY29uc3QgeCA9IHRoaXMueDsKICAgIGNvbnN0IHkgPSB0aGlzLnk7CiAgICBjb25zdCB6ID0gdGhpcy56OwogICAgbGV0IG5pbnYgPSBNYXRoLnNxcnQoeCAqIHggKyB5ICogeSArIHogKiB6KTsKCiAgICBpZiAobmludiA+IDAuMCkgewogICAgICBuaW52ID0gMS4wIC8gbmludjsKICAgICAgdGFyZ2V0LnggPSB4ICogbmludjsKICAgICAgdGFyZ2V0LnkgPSB5ICogbmludjsKICAgICAgdGFyZ2V0LnogPSB6ICogbmludjsKICAgIH0gZWxzZSB7CiAgICAgIHRhcmdldC54ID0gMTsKICAgICAgdGFyZ2V0LnkgPSAwOwogICAgICB0YXJnZXQueiA9IDA7CiAgICB9CgogICAgcmV0dXJuIHRhcmdldDsKICB9CiAgLyoqDQogICAqIEdldCB0aGUgbGVuZ3RoIG9mIHRoZSB2ZWN0b3INCiAgICogQG1ldGhvZCBsZW5ndGgNCiAgICogQHJldHVybiB7TnVtYmVyfQ0KICAgKi8KCgogIGxlbmd0aCgpIHsKICAgIGNvbnN0IHggPSB0aGlzLng7CiAgICBjb25zdCB5ID0gdGhpcy55OwogICAgY29uc3QgeiA9IHRoaXMuejsKICAgIHJldHVybiBNYXRoLnNxcnQoeCAqIHggKyB5ICogeSArIHogKiB6KTsKICB9CiAgLyoqDQogICAqIEdldCB0aGUgc3F1YXJlZCBsZW5ndGggb2YgdGhlIHZlY3Rvci4NCiAgICogQG1ldGhvZCBsZW5ndGhTcXVhcmVkDQogICAqIEByZXR1cm4ge051bWJlcn0NCiAgICovCgoKICBsZW5ndGhTcXVhcmVkKCkgewogICAgcmV0dXJuIHRoaXMuZG90KHRoaXMpOwogIH0KICAvKioNCiAgICogR2V0IGRpc3RhbmNlIGZyb20gdGhpcyBwb2ludCB0byBhbm90aGVyIHBvaW50DQogICAqIEBtZXRob2QgZGlzdGFuY2VUbw0KICAgKiBAcGFyYW0gIHtWZWMzfSBwDQogICAqIEByZXR1cm4ge051bWJlcn0NCiAgICovCgoKICBkaXN0YW5jZVRvKHApIHsKICAgIGNvbnN0IHggPSB0aGlzLng7CiAgICBjb25zdCB5ID0gdGhpcy55OwogICAgY29uc3QgeiA9IHRoaXMuejsKICAgIGNvbnN0IHB4ID0gcC54OwogICAgY29uc3QgcHkgPSBwLnk7CiAgICBjb25zdCBweiA9IHAuejsKICAgIHJldHVybiBNYXRoLnNxcnQoKHB4IC0geCkgKiAocHggLSB4KSArIChweSAtIHkpICogKHB5IC0geSkgKyAocHogLSB6KSAqIChweiAtIHopKTsKICB9CiAgLyoqDQogICAqIEdldCBzcXVhcmVkIGRpc3RhbmNlIGZyb20gdGhpcyBwb2ludCB0byBhbm90aGVyIHBvaW50DQogICAqIEBtZXRob2QgZGlzdGFuY2VTcXVhcmVkDQogICAqIEBwYXJhbSAge1ZlYzN9IHANCiAgICogQHJldHVybiB7TnVtYmVyfQ0KICAgKi8KCgogIGRpc3RhbmNlU3F1YXJlZChwKSB7CiAgICBjb25zdCB4ID0gdGhpcy54OwogICAgY29uc3QgeSA9IHRoaXMueTsKICAgIGNvbnN0IHogPSB0aGlzLno7CiAgICBjb25zdCBweCA9IHAueDsKICAgIGNvbnN0IHB5ID0gcC55OwogICAgY29uc3QgcHogPSBwLno7CiAgICByZXR1cm4gKHB4IC0geCkgKiAocHggLSB4KSArIChweSAtIHkpICogKHB5IC0geSkgKyAocHogLSB6KSAqIChweiAtIHopOwogIH0KICAvKioNCiAgICogTXVsdGlwbHkgYWxsIHRoZSBjb21wb25lbnRzIG9mIHRoZSB2ZWN0b3Igd2l0aCBhIHNjYWxhci4NCiAgICogQG1ldGhvZCBzY2FsZQ0KICAgKiBAcGFyYW0ge051bWJlcn0gc2NhbGFyDQogICAqIEBwYXJhbSB7VmVjM30gdGFyZ2V0IFRoZSB2ZWN0b3IgdG8gc2F2ZSB0aGUgcmVzdWx0IGluLg0KICAgKiBAcmV0dXJuIHtWZWMzfQ0KICAgKi8KCgogIHNjYWxlKHNjYWxhciwgdGFyZ2V0ID0gbmV3IFZlYzMoKSkgewogICAgY29uc3QgeCA9IHRoaXMueDsKICAgIGNvbnN0IHkgPSB0aGlzLnk7CiAgICBjb25zdCB6ID0gdGhpcy56OwogICAgdGFyZ2V0LnggPSBzY2FsYXIgKiB4OwogICAgdGFyZ2V0LnkgPSBzY2FsYXIgKiB5OwogICAgdGFyZ2V0LnogPSBzY2FsYXIgKiB6OwogICAgcmV0dXJuIHRhcmdldDsKICB9CiAgLyoqDQogICAqIE11bHRpcGx5IHRoZSB2ZWN0b3Igd2l0aCBhbiBvdGhlciB2ZWN0b3IsIGNvbXBvbmVudC13aXNlLg0KICAgKiBAbWV0aG9kIHZtdWx0DQogICAqIEBwYXJhbSB7TnVtYmVyfSB2ZWN0b3INCiAgICogQHBhcmFtIHtWZWMzfSB0YXJnZXQgVGhlIHZlY3RvciB0byBzYXZlIHRoZSByZXN1bHQgaW4uDQogICAqIEByZXR1cm4ge1ZlYzN9DQogICAqLwoKCiAgdm11bCh2ZWN0b3IsIHRhcmdldCA9IG5ldyBWZWMzKCkpIHsKICAgIHRhcmdldC54ID0gdmVjdG9yLnggKiB0aGlzLng7CiAgICB0YXJnZXQueSA9IHZlY3Rvci55ICogdGhpcy55OwogICAgdGFyZ2V0LnogPSB2ZWN0b3IueiAqIHRoaXMuejsKICAgIHJldHVybiB0YXJnZXQ7CiAgfQogIC8qKg0KICAgKiBTY2FsZSBhIHZlY3RvciBhbmQgYWRkIGl0IHRvIHRoaXMgdmVjdG9yLiBTYXZlIHRoZSByZXN1bHQgaW4gInRhcmdldCIuICh0YXJnZXQgPSB0aGlzICsgdmVjdG9yICogc2NhbGFyKQ0KICAgKiBAbWV0aG9kIGFkZFNjYWxlZFZlY3Rvcg0KICAgKiBAcGFyYW0ge051bWJlcn0gc2NhbGFyDQogICAqIEBwYXJhbSB7VmVjM30gdmVjdG9yDQogICAqIEBwYXJhbSB7VmVjM30gdGFyZ2V0IFRoZSB2ZWN0b3IgdG8gc2F2ZSB0aGUgcmVzdWx0IGluLg0KICAgKiBAcmV0dXJuIHtWZWMzfQ0KICAgKi8KCgogIGFkZFNjYWxlZFZlY3RvcihzY2FsYXIsIHZlY3RvciwgdGFyZ2V0ID0gbmV3IFZlYzMoKSkgewogICAgdGFyZ2V0LnggPSB0aGlzLnggKyBzY2FsYXIgKiB2ZWN0b3IueDsKICAgIHRhcmdldC55ID0gdGhpcy55ICsgc2NhbGFyICogdmVjdG9yLnk7CiAgICB0YXJnZXQueiA9IHRoaXMueiArIHNjYWxhciAqIHZlY3Rvci56OwogICAgcmV0dXJuIHRhcmdldDsKICB9CiAgLyoqDQogICAqIENhbGN1bGF0ZSBkb3QgcHJvZHVjdA0KICAgKiBAbWV0aG9kIGRvdA0KICAgKiBAcGFyYW0ge1ZlYzN9IHYNCiAgICogQHJldHVybiB7TnVtYmVyfQ0KICAgKi8KCgogIGRvdCh2ZWN0b3IpIHsKICAgIHJldHVybiB0aGlzLnggKiB2ZWN0b3IueCArIHRoaXMueSAqIHZlY3Rvci55ICsgdGhpcy56ICogdmVjdG9yLno7CiAgfQogIC8qKg0KICAgKiBAbWV0aG9kIGlzWmVybw0KICAgKiBAcmV0dXJuIGJvb2wNCiAgICovCgoKICBpc1plcm8oKSB7CiAgICByZXR1cm4gdGhpcy54ID09PSAwICYmIHRoaXMueSA9PT0gMCAmJiB0aGlzLnogPT09IDA7CiAgfQogIC8qKg0KICAgKiBNYWtlIHRoZSB2ZWN0b3IgcG9pbnQgaW4gdGhlIG9wcG9zaXRlIGRpcmVjdGlvbi4NCiAgICogQG1ldGhvZCBuZWdhdGUNCiAgICogQHBhcmFtIHtWZWMzfSB0YXJnZXQgT3B0aW9uYWwgdGFyZ2V0IHRvIHNhdmUgaW4NCiAgICogQHJldHVybiB7VmVjM30NCiAgICovCgoKICBuZWdhdGUodGFyZ2V0ID0gbmV3IFZlYzMoKSkgewogICAgdGFyZ2V0LnggPSAtdGhpcy54OwogICAgdGFyZ2V0LnkgPSAtdGhpcy55OwogICAgdGFyZ2V0LnogPSAtdGhpcy56OwogICAgcmV0dXJuIHRhcmdldDsKICB9CiAgLyoqDQogICAqIENvbXB1dGUgdHdvIGFydGlmaWNpYWwgdGFuZ2VudHMgdG8gdGhlIHZlY3Rvcg0KICAgKiBAbWV0aG9kIHRhbmdlbnRzDQogICAqIEBwYXJhbSB7VmVjM30gdDEgVmVjdG9yIG9iamVjdCB0byBzYXZlIHRoZSBmaXJzdCB0YW5nZW50IGluDQogICAqIEBwYXJhbSB7VmVjM30gdDIgVmVjdG9yIG9iamVjdCB0byBzYXZlIHRoZSBzZWNvbmQgdGFuZ2VudCBpbg0KICAgKi8KCgogIHRhbmdlbnRzKHQxLCB0MikgewogICAgY29uc3Qgbm9ybSA9IHRoaXMubGVuZ3RoKCk7CgogICAgaWYgKG5vcm0gPiAwLjApIHsKICAgICAgY29uc3QgbiA9IFZlYzNfdGFuZ2VudHNfbjsKICAgICAgY29uc3QgaW5vcm0gPSAxIC8gbm9ybTsKICAgICAgbi5zZXQodGhpcy54ICogaW5vcm0sIHRoaXMueSAqIGlub3JtLCB0aGlzLnogKiBpbm9ybSk7CiAgICAgIGNvbnN0IHJhbmRWZWMgPSBWZWMzX3RhbmdlbnRzX3JhbmRWZWM7CgogICAgICBpZiAoTWF0aC5hYnMobi54KSA8IDAuOSkgewogICAgICAgIHJhbmRWZWMuc2V0KDEsIDAsIDApOwogICAgICAgIG4uY3Jvc3MocmFuZFZlYywgdDEpOwogICAgICB9IGVsc2UgewogICAgICAgIHJhbmRWZWMuc2V0KDAsIDEsIDApOwogICAgICAgIG4uY3Jvc3MocmFuZFZlYywgdDEpOwogICAgICB9CgogICAgICBuLmNyb3NzKHQxLCB0Mik7CiAgICB9IGVsc2UgewogICAgICAvLyBUaGUgbm9ybWFsIGxlbmd0aCBpcyB6ZXJvLCBtYWtlIHNvbWV0aGluZyB1cAogICAgICB0MS5zZXQoMSwgMCwgMCk7CiAgICAgIHQyLnNldCgwLCAxLCAwKTsKICAgIH0KICB9CiAgLyoqDQogICAqIENvbnZlcnRzIHRvIGEgbW9yZSByZWFkYWJsZSBmb3JtYXQNCiAgICogQG1ldGhvZCB0b1N0cmluZw0KICAgKiBAcmV0dXJuIHN0cmluZw0KICAgKi8KCgogIHRvU3RyaW5nKCkgewogICAgcmV0dXJuIHRoaXMueCArICIsIiArIHRoaXMueSArICIsIiArIHRoaXMuejsKICB9CiAgLyoqDQogICAqIENvbnZlcnRzIHRvIGFuIGFycmF5DQogICAqIEBtZXRob2QgdG9BcnJheQ0KICAgKiBAcmV0dXJuIEFycmF5DQogICAqLwoKCiAgdG9BcnJheSgpIHsKICAgIHJldHVybiBbdGhpcy54LCB0aGlzLnksIHRoaXMuel07CiAgfQogIC8qKg0KICAgKiBDb3BpZXMgdmFsdWUgb2Ygc291cmNlIHRvIHRoaXMgdmVjdG9yLg0KICAgKiBAbWV0aG9kIGNvcHkNCiAgICogQHBhcmFtIHtWZWMzfSBzb3VyY2UNCiAgICogQHJldHVybiB7VmVjM30gdGhpcw0KICAgKi8KCgogIGNvcHkodmVjdG9yKSB7CiAgICB0aGlzLnggPSB2ZWN0b3IueDsKICAgIHRoaXMueSA9IHZlY3Rvci55OwogICAgdGhpcy56ID0gdmVjdG9yLno7CiAgICByZXR1cm4gdGhpczsKICB9CiAgLyoqDQogICAqIERvIGEgbGluZWFyIGludGVycG9sYXRpb24gYmV0d2VlbiB0d28gdmVjdG9ycw0KICAgKiBAbWV0aG9kIGxlcnANCiAgICogQHBhcmFtIHtWZWMzfSB2DQogICAqIEBwYXJhbSB7TnVtYmVyfSB0IEEgbnVtYmVyIGJldHdlZW4gMCBhbmQgMS4gMCB3aWxsIG1ha2UgdGhpcyBmdW5jdGlvbiByZXR1cm4gdSwgYW5kIDEgd2lsbCBtYWtlIGl0IHJldHVybiB2LiBOdW1iZXJzIGluIGJldHdlZW4gd2lsbCBnZW5lcmF0ZSBhIHZlY3RvciBpbiBiZXR3ZWVuIHRoZW0uDQogICAqIEBwYXJhbSB7VmVjM30gdGFyZ2V0DQogICAqLwoKCiAgbGVycCh2ZWN0b3IsIHQsIHRhcmdldCkgewogICAgY29uc3QgeCA9IHRoaXMueDsKICAgIGNvbnN0IHkgPSB0aGlzLnk7CiAgICBjb25zdCB6ID0gdGhpcy56OwogICAgdGFyZ2V0LnggPSB4ICsgKHZlY3Rvci54IC0geCkgKiB0OwogICAgdGFyZ2V0LnkgPSB5ICsgKHZlY3Rvci55IC0geSkgKiB0OwogICAgdGFyZ2V0LnogPSB6ICsgKHZlY3Rvci56IC0geikgKiB0OwogIH0KICAvKioNCiAgICogQ2hlY2sgaWYgYSB2ZWN0b3IgZXF1YWxzIGlzIGFsbW9zdCBlcXVhbCB0byBhbm90aGVyIG9uZS4NCiAgICogQG1ldGhvZCBhbG1vc3RFcXVhbHMNCiAgICogQHBhcmFtIHtWZWMzfSB2DQogICAqIEBwYXJhbSB7TnVtYmVyfSBwcmVjaXNpb24NCiAgICogQHJldHVybiBib29sDQogICAqLwoKCiAgYWxtb3N0RXF1YWxzKHZlY3RvciwgcHJlY2lzaW9uID0gMWUtNikgewogICAgaWYgKE1hdGguYWJzKHRoaXMueCAtIHZlY3Rvci54KSA+IHByZWNpc2lvbiB8fCBNYXRoLmFicyh0aGlzLnkgLSB2ZWN0b3IueSkgPiBwcmVjaXNpb24gfHwgTWF0aC5hYnModGhpcy56IC0gdmVjdG9yLnopID4gcHJlY2lzaW9uKSB7CiAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KCiAgICByZXR1cm4gdHJ1ZTsKICB9CiAgLyoqDQogICAqIENoZWNrIGlmIGEgdmVjdG9yIGlzIGFsbW9zdCB6ZXJvDQogICAqIEBtZXRob2QgYWxtb3N0WmVybw0KICAgKiBAcGFyYW0ge051bWJlcn0gcHJlY2lzaW9uDQogICAqLwoKCiAgYWxtb3N0WmVybyhwcmVjaXNpb24gPSAxZS02KSB7CiAgICBpZiAoTWF0aC5hYnModGhpcy54KSA+IHByZWNpc2lvbiB8fCBNYXRoLmFicyh0aGlzLnkpID4gcHJlY2lzaW9uIHx8IE1hdGguYWJzKHRoaXMueikgPiBwcmVjaXNpb24pIHsKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQoKICAgIHJldHVybiB0cnVlOwogIH0KICAvKioNCiAgICogQ2hlY2sgaWYgdGhlIHZlY3RvciBpcyBhbnRpLXBhcmFsbGVsIHRvIGFub3RoZXIgdmVjdG9yLg0KICAgKiBAbWV0aG9kIGlzQW50aXBhcmFsbGVsVG8NCiAgICogQHBhcmFtICB7VmVjM30gIHYNCiAgICogQHBhcmFtICB7TnVtYmVyfSAgcHJlY2lzaW9uIFNldCB0byB6ZXJvIGZvciBleGFjdCBjb21wYXJpc29ucw0KICAgKiBAcmV0dXJuIHtCb29sZWFufQ0KICAgKi8KCgogIGlzQW50aXBhcmFsbGVsVG8odmVjdG9yLCBwcmVjaXNpb24pIHsKICAgIHRoaXMubmVnYXRlKGFudGlwX25lZyk7CiAgICByZXR1cm4gYW50aXBfbmVnLmFsbW9zdEVxdWFscyh2ZWN0b3IsIHByZWNpc2lvbik7CiAgfQogIC8qKg0KICAgKiBDbG9uZSB0aGUgdmVjdG9yDQogICAqIEBtZXRob2QgY2xvbmUNCiAgICogQHJldHVybiB7VmVjM30NCiAgICovCgoKICBjbG9uZSgpIHsKICAgIHJldHVybiBuZXcgVmVjMyh0aGlzLngsIHRoaXMueSwgdGhpcy56KTsKICB9Cgp9CgpWZWMzLlpFUk8gPSBuZXcgVmVjMygwLCAwLCAwKTsKVmVjMy5VTklUX1ggPSBuZXcgVmVjMygxLCAwLCAwKTsKVmVjMy5VTklUX1kgPSBuZXcgVmVjMygwLCAxLCAwKTsKVmVjMy5VTklUX1ogPSBuZXcgVmVjMygwLCAwLCAxKTsKLyoqDQogKiBDb21wdXRlIHR3byBhcnRpZmljaWFsIHRhbmdlbnRzIHRvIHRoZSB2ZWN0b3INCiAqIEBtZXRob2QgdGFuZ2VudHMNCiAqIEBwYXJhbSB7VmVjM30gdDEgVmVjdG9yIG9iamVjdCB0byBzYXZlIHRoZSBmaXJzdCB0YW5nZW50IGluDQogKiBAcGFyYW0ge1ZlYzN9IHQyIFZlY3RvciBvYmplY3QgdG8gc2F2ZSB0aGUgc2Vjb25kIHRhbmdlbnQgaW4NCiAqLwoKY29uc3QgVmVjM190YW5nZW50c19uID0gbmV3IFZlYzMoKTsKY29uc3QgVmVjM190YW5nZW50c19yYW5kVmVjID0gbmV3IFZlYzMoKTsKY29uc3QgYW50aXBfbmVnID0gbmV3IFZlYzMoKTsKLyoqDQogKiBBeGlzIGFsaWduZWQgYm91bmRpbmcgYm94IGNsYXNzLg0KICogQGNsYXNzIEFBQkINCiAqIEBjb25zdHJ1Y3Rvcg0KICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXQ0KICogQHBhcmFtIHtWZWMzfSAgIFtvcHRpb25zLnVwcGVyQm91bmRdIFRoZSB1cHBlciBib3VuZCBvZiB0aGUgYm91bmRpbmcgYm94Lg0KICogQHBhcmFtIHtWZWMzfSAgIFtvcHRpb25zLmxvd2VyQm91bmRdIFRoZSBsb3dlciBib3VuZCBvZiB0aGUgYm91bmRpbmcgYm94DQogKi8KCmNsYXNzIEFBQkIgewogIC8vIFRoZSBsb3dlciBib3VuZCBvZiB0aGUgYm91bmRpbmcgYm94CiAgLy8gVGhlIHVwcGVyIGJvdW5kIG9mIHRoZSBib3VuZGluZyBib3gKICBjb25zdHJ1Y3RvcihvcHRpb25zID0ge30pIHsKICAgIHRoaXMubG93ZXJCb3VuZCA9IG5ldyBWZWMzKCk7CiAgICB0aGlzLnVwcGVyQm91bmQgPSBuZXcgVmVjMygpOwoKICAgIGlmIChvcHRpb25zLmxvd2VyQm91bmQpIHsKICAgICAgdGhpcy5sb3dlckJvdW5kLmNvcHkob3B0aW9ucy5sb3dlckJvdW5kKTsKICAgIH0KCiAgICBpZiAob3B0aW9ucy51cHBlckJvdW5kKSB7CiAgICAgIHRoaXMudXBwZXJCb3VuZC5jb3B5KG9wdGlvbnMudXBwZXJCb3VuZCk7CiAgICB9CiAgfQogIC8qKg0KICAgKiBTZXQgdGhlIEFBQkIgYm91bmRzIGZyb20gYSBzZXQgb2YgcG9pbnRzLg0KICAgKiBAbWV0aG9kIHNldEZyb21Qb2ludHMNCiAgICogQHBhcmFtIHtBcnJheX0gcG9pbnRzIEFuIGFycmF5IG9mIFZlYzMncy4NCiAgICogQHBhcmFtIHtWZWMzfSBwb3NpdGlvbiBPcHRpb25hbC4NCiAgICogQHBhcmFtIHtRdWF0ZXJuaW9ufSBxdWF0ZXJuaW9uIE9wdGlvbmFsLg0KICAgKiBAcGFyYW0ge251bWJlcn0gc2tpblNpemUgT3B0aW9uYWwuDQogICAqIEByZXR1cm4ge0FBQkJ9IFRoZSBzZWxmIG9iamVjdA0KICAgKi8KCgogIHNldEZyb21Qb2ludHMocG9pbnRzLCBwb3NpdGlvbiwgcXVhdGVybmlvbiwgc2tpblNpemUpIHsKICAgIGNvbnN0IGwgPSB0aGlzLmxvd2VyQm91bmQ7CiAgICBjb25zdCB1ID0gdGhpcy51cHBlckJvdW5kOwogICAgY29uc3QgcSA9IHF1YXRlcm5pb247IC8vIFNldCB0byB0aGUgZmlyc3QgcG9pbnQKCiAgICBsLmNvcHkocG9pbnRzWzBdKTsKCiAgICBpZiAocSkgewogICAgICBxLnZtdWx0KGwsIGwpOwogICAgfQoKICAgIHUuY29weShsKTsKCiAgICBmb3IgKGxldCBpID0gMTsgaSA8IHBvaW50cy5sZW5ndGg7IGkrKykgewogICAgICBsZXQgcCA9IHBvaW50c1tpXTsKCiAgICAgIGlmIChxKSB7CiAgICAgICAgcS52bXVsdChwLCB0bXApOwogICAgICAgIHAgPSB0bXA7CiAgICAgIH0KCiAgICAgIGlmIChwLnggPiB1LngpIHsKICAgICAgICB1LnggPSBwLng7CiAgICAgIH0KCiAgICAgIGlmIChwLnggPCBsLngpIHsKICAgICAgICBsLnggPSBwLng7CiAgICAgIH0KCiAgICAgIGlmIChwLnkgPiB1LnkpIHsKICAgICAgICB1LnkgPSBwLnk7CiAgICAgIH0KCiAgICAgIGlmIChwLnkgPCBsLnkpIHsKICAgICAgICBsLnkgPSBwLnk7CiAgICAgIH0KCiAgICAgIGlmIChwLnogPiB1LnopIHsKICAgICAgICB1LnogPSBwLno7CiAgICAgIH0KCiAgICAgIGlmIChwLnogPCBsLnopIHsKICAgICAgICBsLnogPSBwLno7CiAgICAgIH0KICAgIH0gLy8gQWRkIG9mZnNldAoKCiAgICBpZiAocG9zaXRpb24pIHsKICAgICAgcG9zaXRpb24udmFkZChsLCBsKTsKICAgICAgcG9zaXRpb24udmFkZCh1LCB1KTsKICAgIH0KCiAgICBpZiAoc2tpblNpemUpIHsKICAgICAgbC54IC09IHNraW5TaXplOwogICAgICBsLnkgLT0gc2tpblNpemU7CiAgICAgIGwueiAtPSBza2luU2l6ZTsKICAgICAgdS54ICs9IHNraW5TaXplOwogICAgICB1LnkgKz0gc2tpblNpemU7CiAgICAgIHUueiArPSBza2luU2l6ZTsKICAgIH0KCiAgICByZXR1cm4gdGhpczsKICB9CiAgLyoqDQogICAqIENvcHkgYm91bmRzIGZyb20gYW4gQUFCQiB0byB0aGlzIEFBQkINCiAgICogQG1ldGhvZCBjb3B5DQogICAqIEBwYXJhbSAge0FBQkJ9IGFhYmIgU291cmNlIHRvIGNvcHkgZnJvbQ0KICAgKiBAcmV0dXJuIHtBQUJCfSBUaGUgdGhpcyBvYmplY3QsIGZvciBjaGFpbmFiaWxpdHkNCiAgICovCgoKICBjb3B5KGFhYmIpIHsKICAgIHRoaXMubG93ZXJCb3VuZC5jb3B5KGFhYmIubG93ZXJCb3VuZCk7CiAgICB0aGlzLnVwcGVyQm91bmQuY29weShhYWJiLnVwcGVyQm91bmQpOwogICAgcmV0dXJuIHRoaXM7CiAgfQogIC8qKg0KICAgKiBDbG9uZSBhbiBBQUJCDQogICAqIEBtZXRob2QgY2xvbmUNCiAgICovCgoKICBjbG9uZSgpIHsKICAgIHJldHVybiBuZXcgQUFCQigpLmNvcHkodGhpcyk7CiAgfQogIC8qKg0KICAgKiBFeHRlbmQgdGhpcyBBQUJCIHNvIHRoYXQgaXQgY292ZXJzIHRoZSBnaXZlbiBBQUJCIHRvby4NCiAgICogQG1ldGhvZCBleHRlbmQNCiAgICogQHBhcmFtICB7QUFCQn0gYWFiYg0KICAgKi8KCgogIGV4dGVuZChhYWJiKSB7CiAgICB0aGlzLmxvd2VyQm91bmQueCA9IE1hdGgubWluKHRoaXMubG93ZXJCb3VuZC54LCBhYWJiLmxvd2VyQm91bmQueCk7CiAgICB0aGlzLnVwcGVyQm91bmQueCA9IE1hdGgubWF4KHRoaXMudXBwZXJCb3VuZC54LCBhYWJiLnVwcGVyQm91bmQueCk7CiAgICB0aGlzLmxvd2VyQm91bmQueSA9IE1hdGgubWluKHRoaXMubG93ZXJCb3VuZC55LCBhYWJiLmxvd2VyQm91bmQueSk7CiAgICB0aGlzLnVwcGVyQm91bmQueSA9IE1hdGgubWF4KHRoaXMudXBwZXJCb3VuZC55LCBhYWJiLnVwcGVyQm91bmQueSk7CiAgICB0aGlzLmxvd2VyQm91bmQueiA9IE1hdGgubWluKHRoaXMubG93ZXJCb3VuZC56LCBhYWJiLmxvd2VyQm91bmQueik7CiAgICB0aGlzLnVwcGVyQm91bmQueiA9IE1hdGgubWF4KHRoaXMudXBwZXJCb3VuZC56LCBhYWJiLnVwcGVyQm91bmQueik7CiAgfQogIC8qKg0KICAgKiBSZXR1cm5zIHRydWUgaWYgdGhlIGdpdmVuIEFBQkIgb3ZlcmxhcHMgdGhpcyBBQUJCLg0KICAgKiBAbWV0aG9kIG92ZXJsYXBzDQogICAqIEBwYXJhbSAge0FBQkJ9IGFhYmINCiAgICogQHJldHVybiB7Qm9vbGVhbn0NCiAgICovCgoKICBvdmVybGFwcyhhYWJiKSB7CiAgICBjb25zdCBsMSA9IHRoaXMubG93ZXJCb3VuZDsKICAgIGNvbnN0IHUxID0gdGhpcy51cHBlckJvdW5kOwogICAgY29uc3QgbDIgPSBhYWJiLmxvd2VyQm91bmQ7CiAgICBjb25zdCB1MiA9IGFhYmIudXBwZXJCb3VuZDsgLy8gICAgICBsMiAgICAgICAgdTIKICAgIC8vICAgICAgfC0tLS0tLS0tLXwKICAgIC8vIHwtLS0tLS0tLXwKICAgIC8vIGwxICAgICAgIHUxCgogICAgY29uc3Qgb3ZlcmxhcHNYID0gbDIueCA8PSB1MS54ICYmIHUxLnggPD0gdTIueCB8fCBsMS54IDw9IHUyLnggJiYgdTIueCA8PSB1MS54OwogICAgY29uc3Qgb3ZlcmxhcHNZID0gbDIueSA8PSB1MS55ICYmIHUxLnkgPD0gdTIueSB8fCBsMS55IDw9IHUyLnkgJiYgdTIueSA8PSB1MS55OwogICAgY29uc3Qgb3ZlcmxhcHNaID0gbDIueiA8PSB1MS56ICYmIHUxLnogPD0gdTIueiB8fCBsMS56IDw9IHUyLnogJiYgdTIueiA8PSB1MS56OwogICAgcmV0dXJuIG92ZXJsYXBzWCAmJiBvdmVybGFwc1kgJiYgb3ZlcmxhcHNaOwogIH0gLy8gTW9zdGx5IGZvciBkZWJ1Z2dpbmcKCgogIHZvbHVtZSgpIHsKICAgIGNvbnN0IGwgPSB0aGlzLmxvd2VyQm91bmQ7CiAgICBjb25zdCB1ID0gdGhpcy51cHBlckJvdW5kOwogICAgcmV0dXJuICh1LnggLSBsLngpICogKHUueSAtIGwueSkgKiAodS56IC0gbC56KTsKICB9CiAgLyoqDQogICAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgZ2l2ZW4gQUFCQiBpcyBmdWxseSBjb250YWluZWQgaW4gdGhpcyBBQUJCLg0KICAgKiBAbWV0aG9kIGNvbnRhaW5zDQogICAqIEBwYXJhbSB7QUFCQn0gYWFiYg0KICAgKiBAcmV0dXJuIHtCb29sZWFufQ0KICAgKi8KCgogIGNvbnRhaW5zKGFhYmIpIHsKICAgIGNvbnN0IGwxID0gdGhpcy5sb3dlckJvdW5kOwogICAgY29uc3QgdTEgPSB0aGlzLnVwcGVyQm91bmQ7CiAgICBjb25zdCBsMiA9IGFhYmIubG93ZXJCb3VuZDsKICAgIGNvbnN0IHUyID0gYWFiYi51cHBlckJvdW5kOyAvLyAgICAgIGwyICAgICAgICB1MgogICAgLy8gICAgICB8LS0tLS0tLS0tfAogICAgLy8gfC0tLS0tLS0tLS0tLS0tLXwKICAgIC8vIGwxICAgICAgICAgICAgICB1MQoKICAgIHJldHVybiBsMS54IDw9IGwyLnggJiYgdTEueCA+PSB1Mi54ICYmIGwxLnkgPD0gbDIueSAmJiB1MS55ID49IHUyLnkgJiYgbDEueiA8PSBsMi56ICYmIHUxLnogPj0gdTIuejsKICB9CiAgLyoqDQogICAqIEBtZXRob2QgZ2V0Q29ybmVycw0KICAgKiBAcGFyYW0ge1ZlYzN9IGENCiAgICogQHBhcmFtIHtWZWMzfSBiDQogICAqIEBwYXJhbSB7VmVjM30gYw0KICAgKiBAcGFyYW0ge1ZlYzN9IGQNCiAgICogQHBhcmFtIHtWZWMzfSBlDQogICAqIEBwYXJhbSB7VmVjM30gZg0KICAgKiBAcGFyYW0ge1ZlYzN9IGcNCiAgICogQHBhcmFtIHtWZWMzfSBoDQogICAqLwoKCiAgZ2V0Q29ybmVycyhhLCBiLCBjLCBkLCBlLCBmLCBnLCBoKSB7CiAgICBjb25zdCBsID0gdGhpcy5sb3dlckJvdW5kOwogICAgY29uc3QgdSA9IHRoaXMudXBwZXJCb3VuZDsKICAgIGEuY29weShsKTsKICAgIGIuc2V0KHUueCwgbC55LCBsLnopOwogICAgYy5zZXQodS54LCB1LnksIGwueik7CiAgICBkLnNldChsLngsIHUueSwgdS56KTsKICAgIGUuc2V0KHUueCwgbC55LCB1LnopOwogICAgZi5zZXQobC54LCB1LnksIGwueik7CiAgICBnLnNldChsLngsIGwueSwgdS56KTsKICAgIGguY29weSh1KTsKICB9CiAgLyoqDQogICAqIEdldCB0aGUgcmVwcmVzZW50YXRpb24gb2YgYW4gQUFCQiBpbiBhbm90aGVyIGZyYW1lLg0KICAgKiBAbWV0aG9kIHRvTG9jYWxGcmFtZQ0KICAgKiBAcGFyYW0gIHtUcmFuc2Zvcm19IGZyYW1lDQogICAqIEBwYXJhbSAge0FBQkJ9IHRhcmdldA0KICAgKiBAcmV0dXJuIHtBQUJCfSBUaGUgInRhcmdldCIgQUFCQiBvYmplY3QuDQogICAqLwoKCiAgdG9Mb2NhbEZyYW1lKGZyYW1lLCB0YXJnZXQpIHsKICAgIGNvbnN0IGNvcm5lcnMgPSB0cmFuc2Zvcm1JbnRvRnJhbWVfY29ybmVyczsKICAgIGNvbnN0IGEgPSBjb3JuZXJzWzBdOwogICAgY29uc3QgYiA9IGNvcm5lcnNbMV07CiAgICBjb25zdCBjID0gY29ybmVyc1syXTsKICAgIGNvbnN0IGQgPSBjb3JuZXJzWzNdOwogICAgY29uc3QgZSA9IGNvcm5lcnNbNF07CiAgICBjb25zdCBmID0gY29ybmVyc1s1XTsKICAgIGNvbnN0IGcgPSBjb3JuZXJzWzZdOwogICAgY29uc3QgaCA9IGNvcm5lcnNbN107IC8vIEdldCBjb3JuZXJzIGluIGN1cnJlbnQgZnJhbWUKCiAgICB0aGlzLmdldENvcm5lcnMoYSwgYiwgYywgZCwgZSwgZiwgZywgaCk7IC8vIFRyYW5zZm9ybSB0aGVtIHRvIG5ldyBsb2NhbCBmcmFtZQoKICAgIGZvciAobGV0IGkgPSAwOyBpICE9PSA4OyBpKyspIHsKICAgICAgY29uc3QgY29ybmVyID0gY29ybmVyc1tpXTsKICAgICAgZnJhbWUucG9pbnRUb0xvY2FsKGNvcm5lciwgY29ybmVyKTsKICAgIH0KCiAgICByZXR1cm4gdGFyZ2V0LnNldEZyb21Qb2ludHMoY29ybmVycyk7CiAgfQogIC8qKg0KICAgKiBHZXQgdGhlIHJlcHJlc2VudGF0aW9uIG9mIGFuIEFBQkIgaW4gdGhlIGdsb2JhbCBmcmFtZS4NCiAgICogQG1ldGhvZCB0b1dvcmxkRnJhbWUNCiAgICogQHBhcmFtICB7VHJhbnNmb3JtfSBmcmFtZQ0KICAgKiBAcGFyYW0gIHtBQUJCfSB0YXJnZXQNCiAgICogQHJldHVybiB7QUFCQn0gVGhlICJ0YXJnZXQiIEFBQkIgb2JqZWN0Lg0KICAgKi8KCgogIHRvV29ybGRGcmFtZShmcmFtZSwgdGFyZ2V0KSB7CiAgICBjb25zdCBjb3JuZXJzID0gdHJhbnNmb3JtSW50b0ZyYW1lX2Nvcm5lcnM7CiAgICBjb25zdCBhID0gY29ybmVyc1swXTsKICAgIGNvbnN0IGIgPSBjb3JuZXJzWzFdOwogICAgY29uc3QgYyA9IGNvcm5lcnNbMl07CiAgICBjb25zdCBkID0gY29ybmVyc1szXTsKICAgIGNvbnN0IGUgPSBjb3JuZXJzWzRdOwogICAgY29uc3QgZiA9IGNvcm5lcnNbNV07CiAgICBjb25zdCBnID0gY29ybmVyc1s2XTsKICAgIGNvbnN0IGggPSBjb3JuZXJzWzddOyAvLyBHZXQgY29ybmVycyBpbiBjdXJyZW50IGZyYW1lCgogICAgdGhpcy5nZXRDb3JuZXJzKGEsIGIsIGMsIGQsIGUsIGYsIGcsIGgpOyAvLyBUcmFuc2Zvcm0gdGhlbSB0byBuZXcgbG9jYWwgZnJhbWUKCiAgICBmb3IgKGxldCBpID0gMDsgaSAhPT0gODsgaSsrKSB7CiAgICAgIGNvbnN0IGNvcm5lciA9IGNvcm5lcnNbaV07CiAgICAgIGZyYW1lLnBvaW50VG9Xb3JsZChjb3JuZXIsIGNvcm5lcik7CiAgICB9CgogICAgcmV0dXJuIHRhcmdldC5zZXRGcm9tUG9pbnRzKGNvcm5lcnMpOwogIH0KICAvKioNCiAgICogQ2hlY2sgaWYgdGhlIEFBQkIgaXMgaGl0IGJ5IGEgcmF5Lg0KICAgKiBAcGFyYW0gIHtSYXl9IHJheQ0KICAgKiBAcmV0dXJuIHtCb29sZWFufQ0KICAgKi8KCgogIG92ZXJsYXBzUmF5KHJheSkgewogICAgY29uc3QgewogICAgICBkaXJlY3Rpb24sCiAgICAgIGZyb20KICAgIH0gPSByYXk7CiAgICBjb25zdCBkaXJGcmFjWCA9IDEgLyBkaXJlY3Rpb24ueDsKICAgIGNvbnN0IGRpckZyYWNZID0gMSAvIGRpcmVjdGlvbi55OwogICAgY29uc3QgZGlyRnJhY1ogPSAxIC8gZGlyZWN0aW9uLno7IC8vIHRoaXMubG93ZXJCb3VuZCBpcyB0aGUgY29ybmVyIG9mIEFBQkIgd2l0aCBtaW5pbWFsIGNvb3JkaW5hdGVzIC0gbGVmdCBib3R0b20sIHJ0IGlzIG1heGltYWwgY29ybmVyCgogICAgY29uc3QgdDEgPSAodGhpcy5sb3dlckJvdW5kLnggLSBmcm9tLngpICogZGlyRnJhY1g7CiAgICBjb25zdCB0MiA9ICh0aGlzLnVwcGVyQm91bmQueCAtIGZyb20ueCkgKiBkaXJGcmFjWDsKICAgIGNvbnN0IHQzID0gKHRoaXMubG93ZXJCb3VuZC55IC0gZnJvbS55KSAqIGRpckZyYWNZOwogICAgY29uc3QgdDQgPSAodGhpcy51cHBlckJvdW5kLnkgLSBmcm9tLnkpICogZGlyRnJhY1k7CiAgICBjb25zdCB0NSA9ICh0aGlzLmxvd2VyQm91bmQueiAtIGZyb20ueikgKiBkaXJGcmFjWjsKICAgIGNvbnN0IHQ2ID0gKHRoaXMudXBwZXJCb3VuZC56IC0gZnJvbS56KSAqIGRpckZyYWNaOyAvLyBjb25zdCB0bWluID0gTWF0aC5tYXgoTWF0aC5tYXgoTWF0aC5taW4odDEsIHQyKSwgTWF0aC5taW4odDMsIHQ0KSkpOwogICAgLy8gY29uc3QgdG1heCA9IE1hdGgubWluKE1hdGgubWluKE1hdGgubWF4KHQxLCB0MiksIE1hdGgubWF4KHQzLCB0NCkpKTsKCiAgICBjb25zdCB0bWluID0gTWF0aC5tYXgoTWF0aC5tYXgoTWF0aC5taW4odDEsIHQyKSwgTWF0aC5taW4odDMsIHQ0KSksIE1hdGgubWluKHQ1LCB0NikpOwogICAgY29uc3QgdG1heCA9IE1hdGgubWluKE1hdGgubWluKE1hdGgubWF4KHQxLCB0MiksIE1hdGgubWF4KHQzLCB0NCkpLCBNYXRoLm1heCh0NSwgdDYpKTsgLy8gaWYgdG1heCA8IDAsIHJheSAobGluZSkgaXMgaW50ZXJzZWN0aW5nIEFBQkIsIGJ1dCB3aG9sZSBBQUJCIGlzIGJlaGluZyB1cwoKICAgIGlmICh0bWF4IDwgMCkgewogICAgICAvL3QgPSB0bWF4OwogICAgICByZXR1cm4gZmFsc2U7CiAgICB9IC8vIGlmIHRtaW4gPiB0bWF4LCByYXkgZG9lc24ndCBpbnRlcnNlY3QgQUFCQgoKCiAgICBpZiAodG1pbiA+IHRtYXgpIHsKICAgICAgLy90ID0gdG1heDsKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQoKICAgIHJldHVybiB0cnVlOwogIH0KCn0KCmNvbnN0IHRtcCA9IG5ldyBWZWMzKCk7CmNvbnN0IHRyYW5zZm9ybUludG9GcmFtZV9jb3JuZXJzID0gW25ldyBWZWMzKCksIG5ldyBWZWMzKCksIG5ldyBWZWMzKCksIG5ldyBWZWMzKCksIG5ldyBWZWMzKCksIG5ldyBWZWMzKCksIG5ldyBWZWMzKCksIG5ldyBWZWMzKCldOwovKioNCiAqIENvbGxpc2lvbiAibWF0cml4Ii4gSXQncyBhY3R1YWxseSBhIHRyaWFuZ3VsYXItc2hhcGVkIGFycmF5IG9mIHdoZXRoZXIgdHdvIGJvZGllcyBhcmUgdG91Y2hpbmcgdGhpcyBzdGVwLCBmb3IgcmVmZXJlbmNlIG5leHQgc3RlcA0KICogQGNsYXNzIEFycmF5Q29sbGlzaW9uTWF0cml4DQogKiBAY29uc3RydWN0b3INCiAqLwoKY2xhc3MgQXJyYXlDb2xsaXNpb25NYXRyaXggewogIC8vIFRoZSBtYXRyaXggc3RvcmFnZS4KICBjb25zdHJ1Y3RvcigpIHsKICAgIHRoaXMubWF0cml4ID0gW107CiAgfQogIC8qKg0KICAgKiBHZXQgYW4gZWxlbWVudA0KICAgKiBAbWV0aG9kIGdldA0KICAgKiBAcGFyYW0gIHtCb2R5fSBpDQogICAqIEBwYXJhbSAge0JvZHl9IGoNCiAgICogQHJldHVybiB7TnVtYmVyfQ0KICAgKi8KCgogIGdldChiaSwgYmopIHsKICAgIGxldCB7CiAgICAgIGluZGV4OiBpCiAgICB9ID0gYmk7CiAgICBsZXQgewogICAgICBpbmRleDogagogICAgfSA9IGJqOwoKICAgIGlmIChqID4gaSkgewogICAgICBjb25zdCB0ZW1wID0gajsKICAgICAgaiA9IGk7CiAgICAgIGkgPSB0ZW1wOwogICAgfQoKICAgIHJldHVybiB0aGlzLm1hdHJpeFsoaSAqIChpICsgMSkgPj4gMSkgKyBqIC0gMV07CiAgfQogIC8qKg0KICAgKiBTZXQgYW4gZWxlbWVudA0KICAgKiBAbWV0aG9kIHNldA0KICAgKiBAcGFyYW0ge0JvZHl9IGkNCiAgICogQHBhcmFtIHtCb2R5fSBqDQogICAqIEBwYXJhbSB7Ym9vbGVhbn0gdmFsdWUNCiAgICovCgoKICBzZXQoYmksIGJqLCB2YWx1ZSkgewogICAgbGV0IHsKICAgICAgaW5kZXg6IGkKICAgIH0gPSBiaTsKICAgIGxldCB7CiAgICAgIGluZGV4OiBqCiAgICB9ID0gYmo7CgogICAgaWYgKGogPiBpKSB7CiAgICAgIGNvbnN0IHRlbXAgPSBqOwogICAgICBqID0gaTsKICAgICAgaSA9IHRlbXA7CiAgICB9CgogICAgdGhpcy5tYXRyaXhbKGkgKiAoaSArIDEpID4+IDEpICsgaiAtIDFdID0gdmFsdWUgPyAxIDogMDsKICB9CiAgLyoqDQogICAqIFNldHMgYWxsIGVsZW1lbnRzIHRvIHplcm8NCiAgICogQG1ldGhvZCByZXNldA0KICAgKi8KCgogIHJlc2V0KCkgewogICAgZm9yIChsZXQgaSA9IDAsIGwgPSB0aGlzLm1hdHJpeC5sZW5ndGg7IGkgIT09IGw7IGkrKykgewogICAgICB0aGlzLm1hdHJpeFtpXSA9IDA7CiAgICB9CiAgfQogIC8qKg0KICAgKiBTZXRzIHRoZSBtYXggbnVtYmVyIG9mIG9iamVjdHMNCiAgICogQG1ldGhvZCBzZXROdW1PYmplY3RzDQogICAqIEBwYXJhbSB7TnVtYmVyfSBuDQogICAqLwoKCiAgc2V0TnVtT2JqZWN0cyhuKSB7CiAgICB0aGlzLm1hdHJpeC5sZW5ndGggPSBuICogKG4gLSAxKSA+PiAxOwogIH0KCn0KLyoqDQogKiBCYXNlIGNsYXNzIGZvciBvYmplY3RzIHRoYXQgZGlzcGF0Y2hlcyBldmVudHMuDQogKiBAY2xhc3MgRXZlbnRUYXJnZXQNCiAqIEBjb25zdHJ1Y3Rvcg0KICovCgoKY2xhc3MgRXZlbnRUYXJnZXQgewogIGNvbnN0cnVjdG9yKCkge30KICAvKioNCiAgICogQWRkIGFuIGV2ZW50IGxpc3RlbmVyDQogICAqIEBtZXRob2QgYWRkRXZlbnRMaXN0ZW5lcg0KICAgKiBAcGFyYW0gIHtTdHJpbmd9IHR5cGUNCiAgICogQHBhcmFtICB7RnVuY3Rpb259IGxpc3RlbmVyDQogICAqIEByZXR1cm4ge0V2ZW50VGFyZ2V0fSBUaGUgc2VsZiBvYmplY3QsIGZvciBjaGFpbmFiaWxpdHkuDQogICAqLwoKCiAgYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcikgewogICAgaWYgKHRoaXMuX2xpc3RlbmVycyA9PT0gdW5kZWZpbmVkKSB7CiAgICAgIHRoaXMuX2xpc3RlbmVycyA9IHt9OwogICAgfQoKICAgIGNvbnN0IGxpc3RlbmVycyA9IHRoaXMuX2xpc3RlbmVyczsKCiAgICBpZiAobGlzdGVuZXJzW3R5cGVdID09PSB1bmRlZmluZWQpIHsKICAgICAgbGlzdGVuZXJzW3R5cGVdID0gW107CiAgICB9CgogICAgaWYgKCFsaXN0ZW5lcnNbdHlwZV0uaW5jbHVkZXMobGlzdGVuZXIpKSB7CiAgICAgIGxpc3RlbmVyc1t0eXBlXS5wdXNoKGxpc3RlbmVyKTsKICAgIH0KCiAgICByZXR1cm4gdGhpczsKICB9CiAgLyoqDQogICAqIENoZWNrIGlmIGFuIGV2ZW50IGxpc3RlbmVyIGlzIGFkZGVkDQogICAqIEBtZXRob2QgaGFzRXZlbnRMaXN0ZW5lcg0KICAgKiBAcGFyYW0gIHtTdHJpbmd9IHR5cGUNCiAgICogQHBhcmFtICB7RnVuY3Rpb259IGxpc3RlbmVyDQogICAqIEByZXR1cm4ge0Jvb2xlYW59DQogICAqLwoKCiAgaGFzRXZlbnRMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcikgewogICAgaWYgKHRoaXMuX2xpc3RlbmVycyA9PT0gdW5kZWZpbmVkKSB7CiAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KCiAgICBjb25zdCBsaXN0ZW5lcnMgPSB0aGlzLl9saXN0ZW5lcnM7CgogICAgaWYgKGxpc3RlbmVyc1t0eXBlXSAhPT0gdW5kZWZpbmVkICYmIGxpc3RlbmVyc1t0eXBlXS5pbmNsdWRlcyhsaXN0ZW5lcikpIHsKICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgcmV0dXJuIGZhbHNlOwogIH0KICAvKioNCiAgICogQ2hlY2sgaWYgYW55IGV2ZW50IGxpc3RlbmVyIG9mIHRoZSBnaXZlbiB0eXBlIGlzIGFkZGVkDQogICAqIEBtZXRob2QgaGFzQW55RXZlbnRMaXN0ZW5lcg0KICAgKiBAcGFyYW0gIHtTdHJpbmd9IHR5cGUNCiAgICogQHJldHVybiB7Qm9vbGVhbn0NCiAgICovCgoKICBoYXNBbnlFdmVudExpc3RlbmVyKHR5cGUpIHsKICAgIGlmICh0aGlzLl9saXN0ZW5lcnMgPT09IHVuZGVmaW5lZCkgewogICAgICByZXR1cm4gZmFsc2U7CiAgICB9CgogICAgY29uc3QgbGlzdGVuZXJzID0gdGhpcy5fbGlzdGVuZXJzOwogICAgcmV0dXJuIGxpc3RlbmVyc1t0eXBlXSAhPT0gdW5kZWZpbmVkOwogIH0KICAvKioNCiAgICogUmVtb3ZlIGFuIGV2ZW50IGxpc3RlbmVyDQogICAqIEBtZXRob2QgcmVtb3ZlRXZlbnRMaXN0ZW5lcg0KICAgKiBAcGFyYW0gIHtTdHJpbmd9IHR5cGUNCiAgICogQHBhcmFtICB7RnVuY3Rpb259IGxpc3RlbmVyDQogICAqIEByZXR1cm4ge0V2ZW50VGFyZ2V0fSBUaGUgc2VsZiBvYmplY3QsIGZvciBjaGFpbmFiaWxpdHkuDQogICAqLwoKCiAgcmVtb3ZlRXZlbnRMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcikgewogICAgaWYgKHRoaXMuX2xpc3RlbmVycyA9PT0gdW5kZWZpbmVkKSB7CiAgICAgIHJldHVybiB0aGlzOwogICAgfQoKICAgIGNvbnN0IGxpc3RlbmVycyA9IHRoaXMuX2xpc3RlbmVyczsKCiAgICBpZiAobGlzdGVuZXJzW3R5cGVdID09PSB1bmRlZmluZWQpIHsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CgogICAgY29uc3QgaW5kZXggPSBsaXN0ZW5lcnNbdHlwZV0uaW5kZXhPZihsaXN0ZW5lcik7CgogICAgaWYgKGluZGV4ICE9PSAtMSkgewogICAgICBsaXN0ZW5lcnNbdHlwZV0uc3BsaWNlKGluZGV4LCAxKTsKICAgIH0KCiAgICByZXR1cm4gdGhpczsKICB9CiAgLyoqDQogICAqIEVtaXQgYW4gZXZlbnQuDQogICAqIEBtZXRob2QgZGlzcGF0Y2hFdmVudA0KICAgKiBAcGFyYW0gIHtPYmplY3R9IGV2ZW50DQogICAqIEBwYXJhbSAge1N0cmluZ30gZXZlbnQudHlwZQ0KICAgKiBAcmV0dXJuIHtFdmVudFRhcmdldH0gVGhlIHNlbGYgb2JqZWN0LCBmb3IgY2hhaW5hYmlsaXR5Lg0KICAgKi8KCgogIGRpc3BhdGNoRXZlbnQoZXZlbnQpIHsKICAgIGlmICh0aGlzLl9saXN0ZW5lcnMgPT09IHVuZGVmaW5lZCkgewogICAgICByZXR1cm4gdGhpczsKICAgIH0KCiAgICBjb25zdCBsaXN0ZW5lcnMgPSB0aGlzLl9saXN0ZW5lcnM7CiAgICBjb25zdCBsaXN0ZW5lckFycmF5ID0gbGlzdGVuZXJzW2V2ZW50LnR5cGVdOwoKICAgIGlmIChsaXN0ZW5lckFycmF5ICE9PSB1bmRlZmluZWQpIHsKICAgICAgZXZlbnQudGFyZ2V0ID0gdGhpczsKCiAgICAgIGZvciAobGV0IGkgPSAwLCBsID0gbGlzdGVuZXJBcnJheS5sZW5ndGg7IGkgPCBsOyBpKyspIHsKICAgICAgICBsaXN0ZW5lckFycmF5W2ldLmNhbGwodGhpcywgZXZlbnQpOwogICAgICB9CiAgICB9CgogICAgcmV0dXJuIHRoaXM7CiAgfQoKfQovKioNCiAqIEEgUXVhdGVybmlvbiBkZXNjcmliZXMgYSByb3RhdGlvbiBpbiAzRCBzcGFjZS4gVGhlIFF1YXRlcm5pb24gaXMgbWF0aGVtYXRpY2FsbHkgZGVmaW5lZCBhcyBRID0geCppICsgeSpqICsgeiprICsgdywgd2hlcmUgKGksaixrKSBhcmUgaW1hZ2luYXJ5IGJhc2lzIHZlY3RvcnMuICh4LHkseikgY2FuIGJlIHNlZW4gYXMgYSB2ZWN0b3IgcmVsYXRlZCB0byB0aGUgYXhpcyBvZiByb3RhdGlvbiwgd2hpbGUgdGhlIHJlYWwgbXVsdGlwbGllciwgdywgaXMgcmVsYXRlZCB0byB0aGUgYW1vdW50IG9mIHJvdGF0aW9uLg0KICogQHBhcmFtIHtOdW1iZXJ9IHggTXVsdGlwbGllciBvZiB0aGUgaW1hZ2luYXJ5IGJhc2lzIHZlY3RvciBpLg0KICogQHBhcmFtIHtOdW1iZXJ9IHkgTXVsdGlwbGllciBvZiB0aGUgaW1hZ2luYXJ5IGJhc2lzIHZlY3RvciBqLg0KICogQHBhcmFtIHtOdW1iZXJ9IHogTXVsdGlwbGllciBvZiB0aGUgaW1hZ2luYXJ5IGJhc2lzIHZlY3RvciBrLg0KICogQHBhcmFtIHtOdW1iZXJ9IHcgTXVsdGlwbGllciBvZiB0aGUgcmVhbCBwYXJ0Lg0KICogQHNlZSBodHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1F1YXRlcm5pb24NCiAqLwoKCmNsYXNzIFF1YXRlcm5pb24gewogIGNvbnN0cnVjdG9yKHggPSAwLCB5ID0gMCwgeiA9IDAsIHcgPSAxKSB7CiAgICB0aGlzLnggPSB4OwogICAgdGhpcy55ID0geTsKICAgIHRoaXMueiA9IHo7CiAgICB0aGlzLncgPSB3OwogIH0KICAvKioNCiAgICogU2V0IHRoZSB2YWx1ZSBvZiB0aGUgcXVhdGVybmlvbi4NCiAgICovCgoKICBzZXQoeCwgeSwgeiwgdykgewogICAgdGhpcy54ID0geDsKICAgIHRoaXMueSA9IHk7CiAgICB0aGlzLnogPSB6OwogICAgdGhpcy53ID0gdzsKICAgIHJldHVybiB0aGlzOwogIH0KICAvKioNCiAgICogQ29udmVydCB0byBhIHJlYWRhYmxlIGZvcm1hdA0KICAgKiBAcmV0dXJuIHtTdHJpbmd9ICJ4LHkseix3Ig0KICAgKi8KCgogIHRvU3RyaW5nKCkgewogICAgcmV0dXJuIHRoaXMueCArICIsIiArIHRoaXMueSArICIsIiArIHRoaXMueiArICIsIiArIHRoaXMudzsKICB9CiAgLyoqDQogICAqIENvbnZlcnQgdG8gYW4gQXJyYXkNCiAgICogQHJldHVybiB7QXJyYXl9IFt4LCB5LCB6LCB3XQ0KICAgKi8KCgogIHRvQXJyYXkoKSB7CiAgICByZXR1cm4gW3RoaXMueCwgdGhpcy55LCB0aGlzLnosIHRoaXMud107CiAgfQogIC8qKg0KICAgKiBTZXQgdGhlIHF1YXRlcm5pb24gY29tcG9uZW50cyBnaXZlbiBhbiBheGlzIGFuZCBhbiBhbmdsZSBpbiByYWRpYW5zLg0KICAgKi8KCgogIHNldEZyb21BeGlzQW5nbGUodmVjdG9yLCBhbmdsZSkgewogICAgY29uc3QgcyA9IE1hdGguc2luKGFuZ2xlICogMC41KTsKICAgIHRoaXMueCA9IHZlY3Rvci54ICogczsKICAgIHRoaXMueSA9IHZlY3Rvci55ICogczsKICAgIHRoaXMueiA9IHZlY3Rvci56ICogczsKICAgIHRoaXMudyA9IE1hdGguY29zKGFuZ2xlICogMC41KTsKICAgIHJldHVybiB0aGlzOwogIH0KICAvKioNCiAgICogQ29udmVydHMgdGhlIHF1YXRlcm5pb24gdG8gWyBheGlzLCBhbmdsZSBdIHJlcHJlc2VudGF0aW9uLg0KICAgKiBAcGFyYW0ge1ZlYzN9IFt0YXJnZXRBeGlzXSBBIHZlY3RvciBvYmplY3QgdG8gcmV1c2UgZm9yIHN0b3JpbmcgdGhlIGF4aXMuDQogICAqIEByZXR1cm4ge0FycmF5fSBBbiBhcnJheSwgZmlyc3QgZWxlbWVudCBpcyB0aGUgYXhpcyBhbmQgdGhlIHNlY29uZCBpcyB0aGUgYW5nbGUgaW4gcmFkaWFucy4NCiAgICovCgoKICB0b0F4aXNBbmdsZSh0YXJnZXRBeGlzID0gbmV3IFZlYzMoKSkgewogICAgdGhpcy5ub3JtYWxpemUoKTsgLy8gaWYgdz4xIGFjb3MgYW5kIHNxcnQgd2lsbCBwcm9kdWNlIGVycm9ycywgdGhpcyBjYW50IGhhcHBlbiBpZiBxdWF0ZXJuaW9uIGlzIG5vcm1hbGlzZWQKCiAgICBjb25zdCBhbmdsZSA9IDIgKiBNYXRoLmFjb3ModGhpcy53KTsKICAgIGNvbnN0IHMgPSBNYXRoLnNxcnQoMSAtIHRoaXMudyAqIHRoaXMudyk7IC8vIGFzc3VtaW5nIHF1YXRlcm5pb24gbm9ybWFsaXNlZCB0aGVuIHcgaXMgbGVzcyB0aGFuIDEsIHNvIHRlcm0gYWx3YXlzIHBvc2l0aXZlLgoKICAgIGlmIChzIDwgMC4wMDEpIHsKICAgICAgLy8gdGVzdCB0byBhdm9pZCBkaXZpZGUgYnkgemVybywgcyBpcyBhbHdheXMgcG9zaXRpdmUgZHVlIHRvIHNxcnQKICAgICAgLy8gaWYgcyBjbG9zZSB0byB6ZXJvIHRoZW4gZGlyZWN0aW9uIG9mIGF4aXMgbm90IGltcG9ydGFudAogICAgICB0YXJnZXRBeGlzLnggPSB0aGlzLng7IC8vIGlmIGl0IGlzIGltcG9ydGFudCB0aGF0IGF4aXMgaXMgbm9ybWFsaXNlZCB0aGVuIHJlcGxhY2Ugd2l0aCB4PTE7IHk9ej0wOwoKICAgICAgdGFyZ2V0QXhpcy55ID0gdGhpcy55OwogICAgICB0YXJnZXRBeGlzLnogPSB0aGlzLno7CiAgICB9IGVsc2UgewogICAgICB0YXJnZXRBeGlzLnggPSB0aGlzLnggLyBzOyAvLyBub3JtYWxpc2UgYXhpcwoKICAgICAgdGFyZ2V0QXhpcy55ID0gdGhpcy55IC8gczsKICAgICAgdGFyZ2V0QXhpcy56ID0gdGhpcy56IC8gczsKICAgIH0KCiAgICByZXR1cm4gW3RhcmdldEF4aXMsIGFuZ2xlXTsKICB9CiAgLyoqDQogICAqIFNldCB0aGUgcXVhdGVybmlvbiB2YWx1ZSBnaXZlbiB0d28gdmVjdG9ycy4gVGhlIHJlc3VsdGluZyByb3RhdGlvbiB3aWxsIGJlIHRoZSBuZWVkZWQgcm90YXRpb24gdG8gcm90YXRlIHUgdG8gdi4NCiAgICovCgoKICBzZXRGcm9tVmVjdG9ycyh1LCB2KSB7CiAgICBpZiAodS5pc0FudGlwYXJhbGxlbFRvKHYpKSB7CiAgICAgIGNvbnN0IHQxID0gc2Z2X3QxOwogICAgICBjb25zdCB0MiA9IHNmdl90MjsKICAgICAgdS50YW5nZW50cyh0MSwgdDIpOwogICAgICB0aGlzLnNldEZyb21BeGlzQW5nbGUodDEsIE1hdGguUEkpOwogICAgfSBlbHNlIHsKICAgICAgY29uc3QgYSA9IHUuY3Jvc3Modik7CiAgICAgIHRoaXMueCA9IGEueDsKICAgICAgdGhpcy55ID0gYS55OwogICAgICB0aGlzLnogPSBhLno7CiAgICAgIHRoaXMudyA9IE1hdGguc3FydCh1Lmxlbmd0aCgpICoqIDIgKiB2Lmxlbmd0aCgpICoqIDIpICsgdS5kb3Qodik7CiAgICAgIHRoaXMubm9ybWFsaXplKCk7CiAgICB9CgogICAgcmV0dXJuIHRoaXM7CiAgfQogIC8qKg0KICAgKiBNdWx0aXBseSB0aGUgcXVhdGVybmlvbiB3aXRoIGFuIG90aGVyIHF1YXRlcm5pb24uDQogICAqLwoKCiAgbXVsdChxdWF0LCB0YXJnZXQgPSBuZXcgUXVhdGVybmlvbigpKSB7CiAgICBjb25zdCBheCA9IHRoaXMueDsKICAgIGNvbnN0IGF5ID0gdGhpcy55OwogICAgY29uc3QgYXogPSB0aGlzLno7CiAgICBjb25zdCBhdyA9IHRoaXMudzsKICAgIGNvbnN0IGJ4ID0gcXVhdC54OwogICAgY29uc3QgYnkgPSBxdWF0Lnk7CiAgICBjb25zdCBieiA9IHF1YXQuejsKICAgIGNvbnN0IGJ3ID0gcXVhdC53OwogICAgdGFyZ2V0LnggPSBheCAqIGJ3ICsgYXcgKiBieCArIGF5ICogYnogLSBheiAqIGJ5OwogICAgdGFyZ2V0LnkgPSBheSAqIGJ3ICsgYXcgKiBieSArIGF6ICogYnggLSBheCAqIGJ6OwogICAgdGFyZ2V0LnogPSBheiAqIGJ3ICsgYXcgKiBieiArIGF4ICogYnkgLSBheSAqIGJ4OwogICAgdGFyZ2V0LncgPSBhdyAqIGJ3IC0gYXggKiBieCAtIGF5ICogYnkgLSBheiAqIGJ6OwogICAgcmV0dXJuIHRhcmdldDsKICB9CiAgLyoqDQogICAqIEdldCB0aGUgaW52ZXJzZSBxdWF0ZXJuaW9uIHJvdGF0aW9uLg0KICAgKi8KCgogIGludmVyc2UodGFyZ2V0ID0gbmV3IFF1YXRlcm5pb24oKSkgewogICAgY29uc3QgeCA9IHRoaXMueDsKICAgIGNvbnN0IHkgPSB0aGlzLnk7CiAgICBjb25zdCB6ID0gdGhpcy56OwogICAgY29uc3QgdyA9IHRoaXMudzsKICAgIHRoaXMuY29uanVnYXRlKHRhcmdldCk7CiAgICBjb25zdCBpbm9ybTIgPSAxIC8gKHggKiB4ICsgeSAqIHkgKyB6ICogeiArIHcgKiB3KTsKICAgIHRhcmdldC54ICo9IGlub3JtMjsKICAgIHRhcmdldC55ICo9IGlub3JtMjsKICAgIHRhcmdldC56ICo9IGlub3JtMjsKICAgIHRhcmdldC53ICo9IGlub3JtMjsKICAgIHJldHVybiB0YXJnZXQ7CiAgfQogIC8qKg0KICAgKiBHZXQgdGhlIHF1YXRlcm5pb24gY29uanVnYXRlDQogICAqLwoKCiAgY29uanVnYXRlKHRhcmdldCA9IG5ldyBRdWF0ZXJuaW9uKCkpIHsKICAgIHRhcmdldC54ID0gLXRoaXMueDsKICAgIHRhcmdldC55ID0gLXRoaXMueTsKICAgIHRhcmdldC56ID0gLXRoaXMuejsKICAgIHRhcmdldC53ID0gdGhpcy53OwogICAgcmV0dXJuIHRhcmdldDsKICB9CiAgLyoqDQogICAqIE5vcm1hbGl6ZSB0aGUgcXVhdGVybmlvbi4gTm90ZSB0aGF0IHRoaXMgY2hhbmdlcyB0aGUgdmFsdWVzIG9mIHRoZSBxdWF0ZXJuaW9uLg0KICAgKiBAbWV0aG9kIG5vcm1hbGl6ZQ0KICAgKi8KCgogIG5vcm1hbGl6ZSgpIHsKICAgIGxldCBsID0gTWF0aC5zcXJ0KHRoaXMueCAqIHRoaXMueCArIHRoaXMueSAqIHRoaXMueSArIHRoaXMueiAqIHRoaXMueiArIHRoaXMudyAqIHRoaXMudyk7CgogICAgaWYgKGwgPT09IDApIHsKICAgICAgdGhpcy54ID0gMDsKICAgICAgdGhpcy55ID0gMDsKICAgICAgdGhpcy56ID0gMDsKICAgICAgdGhpcy53ID0gMDsKICAgIH0gZWxzZSB7CiAgICAgIGwgPSAxIC8gbDsKICAgICAgdGhpcy54ICo9IGw7CiAgICAgIHRoaXMueSAqPSBsOwogICAgICB0aGlzLnogKj0gbDsKICAgICAgdGhpcy53ICo9IGw7CiAgICB9CgogICAgcmV0dXJuIHRoaXM7CiAgfQogIC8qKg0KICAgKiBBcHByb3hpbWF0aW9uIG9mIHF1YXRlcm5pb24gbm9ybWFsaXphdGlvbi4gV29ya3MgYmVzdCB3aGVuIHF1YXQgaXMgYWxyZWFkeSBhbG1vc3Qtbm9ybWFsaXplZC4NCiAgICogQHNlZSBodHRwOi8vanNwZXJmLmNvbS9mYXN0LXF1YXRlcm5pb24tbm9ybWFsaXphdGlvbg0KICAgKiBAYXV0aG9yIHVucGhhc2VkLCBodHRwczovL2dpdGh1Yi5jb20vdW5waGFzZWQNCiAgICovCgoKICBub3JtYWxpemVGYXN0KCkgewogICAgY29uc3QgZiA9ICgzLjAgLSAodGhpcy54ICogdGhpcy54ICsgdGhpcy55ICogdGhpcy55ICsgdGhpcy56ICogdGhpcy56ICsgdGhpcy53ICogdGhpcy53KSkgLyAyLjA7CgogICAgaWYgKGYgPT09IDApIHsKICAgICAgdGhpcy54ID0gMDsKICAgICAgdGhpcy55ID0gMDsKICAgICAgdGhpcy56ID0gMDsKICAgICAgdGhpcy53ID0gMDsKICAgIH0gZWxzZSB7CiAgICAgIHRoaXMueCAqPSBmOwogICAgICB0aGlzLnkgKj0gZjsKICAgICAgdGhpcy56ICo9IGY7CiAgICAgIHRoaXMudyAqPSBmOwogICAgfQoKICAgIHJldHVybiB0aGlzOwogIH0KICAvKioNCiAgICogTXVsdGlwbHkgdGhlIHF1YXRlcm5pb24gYnkgYSB2ZWN0b3INCiAgICovCgoKICB2bXVsdCh2LCB0YXJnZXQgPSBuZXcgVmVjMygpKSB7CiAgICBjb25zdCB4ID0gdi54OwogICAgY29uc3QgeSA9IHYueTsKICAgIGNvbnN0IHogPSB2Lno7CiAgICBjb25zdCBxeCA9IHRoaXMueDsKICAgIGNvbnN0IHF5ID0gdGhpcy55OwogICAgY29uc3QgcXogPSB0aGlzLno7CiAgICBjb25zdCBxdyA9IHRoaXMudzsgLy8gcSp2CgogICAgY29uc3QgaXggPSBxdyAqIHggKyBxeSAqIHogLSBxeiAqIHk7CiAgICBjb25zdCBpeSA9IHF3ICogeSArIHF6ICogeCAtIHF4ICogejsKICAgIGNvbnN0IGl6ID0gcXcgKiB6ICsgcXggKiB5IC0gcXkgKiB4OwogICAgY29uc3QgaXcgPSAtcXggKiB4IC0gcXkgKiB5IC0gcXogKiB6OwogICAgdGFyZ2V0LnggPSBpeCAqIHF3ICsgaXcgKiAtcXggKyBpeSAqIC1xeiAtIGl6ICogLXF5OwogICAgdGFyZ2V0LnkgPSBpeSAqIHF3ICsgaXcgKiAtcXkgKyBpeiAqIC1xeCAtIGl4ICogLXF6OwogICAgdGFyZ2V0LnogPSBpeiAqIHF3ICsgaXcgKiAtcXogKyBpeCAqIC1xeSAtIGl5ICogLXF4OwogICAgcmV0dXJuIHRhcmdldDsKICB9CiAgLyoqDQogICAqIENvcGllcyB2YWx1ZSBvZiBzb3VyY2UgdG8gdGhpcyBxdWF0ZXJuaW9uLg0KICAgKiBAbWV0aG9kIGNvcHkNCiAgICogQHBhcmFtIHtRdWF0ZXJuaW9ufSBzb3VyY2UNCiAgICogQHJldHVybiB7UXVhdGVybmlvbn0gdGhpcw0KICAgKi8KCgogIGNvcHkocXVhdCkgewogICAgdGhpcy54ID0gcXVhdC54OwogICAgdGhpcy55ID0gcXVhdC55OwogICAgdGhpcy56ID0gcXVhdC56OwogICAgdGhpcy53ID0gcXVhdC53OwogICAgcmV0dXJuIHRoaXM7CiAgfQogIC8qKg0KICAgKiBDb252ZXJ0IHRoZSBxdWF0ZXJuaW9uIHRvIGV1bGVyIGFuZ2xlIHJlcHJlc2VudGF0aW9uLiBPcmRlcjogWVpYLCBhcyB0aGlzIHBhZ2UgZGVzY3JpYmVzOiBodHRwOi8vd3d3LmV1Y2xpZGVhbnNwYWNlLmNvbS9tYXRocy9zdGFuZGFyZHMvaW5kZXguaHRtDQogICAqIEBtZXRob2QgdG9FdWxlcg0KICAgKiBAcGFyYW0ge1ZlYzN9IHRhcmdldA0KICAgKiBAcGFyYW0ge1N0cmluZ30gb3JkZXIgVGhyZWUtY2hhcmFjdGVyIHN0cmluZywgZGVmYXVsdHMgdG8gIllaWCINCiAgICovCgoKICB0b0V1bGVyKHRhcmdldCwgb3JkZXIgPSAnWVpYJykgewogICAgbGV0IGhlYWRpbmc7CiAgICBsZXQgYXR0aXR1ZGU7CiAgICBsZXQgYmFuazsKICAgIGNvbnN0IHggPSB0aGlzLng7CiAgICBjb25zdCB5ID0gdGhpcy55OwogICAgY29uc3QgeiA9IHRoaXMuejsKICAgIGNvbnN0IHcgPSB0aGlzLnc7CgogICAgc3dpdGNoIChvcmRlcikgewogICAgICBjYXNlICdZWlgnOgogICAgICAgIGNvbnN0IHRlc3QgPSB4ICogeSArIHogKiB3OwoKICAgICAgICBpZiAodGVzdCA+IDAuNDk5KSB7CiAgICAgICAgICAvLyBzaW5ndWxhcml0eSBhdCBub3J0aCBwb2xlCiAgICAgICAgICBoZWFkaW5nID0gMiAqIE1hdGguYXRhbjIoeCwgdyk7CiAgICAgICAgICBhdHRpdHVkZSA9IE1hdGguUEkgLyAyOwogICAgICAgICAgYmFuayA9IDA7CiAgICAgICAgfQoKICAgICAgICBpZiAodGVzdCA8IC0wLjQ5OSkgewogICAgICAgICAgLy8gc2luZ3VsYXJpdHkgYXQgc291dGggcG9sZQogICAgICAgICAgaGVhZGluZyA9IC0yICogTWF0aC5hdGFuMih4LCB3KTsKICAgICAgICAgIGF0dGl0dWRlID0gLU1hdGguUEkgLyAyOwogICAgICAgICAgYmFuayA9IDA7CiAgICAgICAgfQoKICAgICAgICBpZiAoaGVhZGluZyA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICBjb25zdCBzcXggPSB4ICogeDsKICAgICAgICAgIGNvbnN0IHNxeSA9IHkgKiB5OwogICAgICAgICAgY29uc3Qgc3F6ID0geiAqIHo7CiAgICAgICAgICBoZWFkaW5nID0gTWF0aC5hdGFuMigyICogeSAqIHcgLSAyICogeCAqIHosIDEgLSAyICogc3F5IC0gMiAqIHNxeik7IC8vIEhlYWRpbmcKCiAgICAgICAgICBhdHRpdHVkZSA9IE1hdGguYXNpbigyICogdGVzdCk7IC8vIGF0dGl0dWRlCgogICAgICAgICAgYmFuayA9IE1hdGguYXRhbjIoMiAqIHggKiB3IC0gMiAqIHkgKiB6LCAxIC0gMiAqIHNxeCAtIDIgKiBzcXopOyAvLyBiYW5rCiAgICAgICAgfQoKICAgICAgICBicmVhazsKCiAgICAgIGRlZmF1bHQ6CiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCJFdWxlciBvcmRlciAiICsgb3JkZXIgKyAiIG5vdCBzdXBwb3J0ZWQgeWV0LiIpOwogICAgfQoKICAgIHRhcmdldC55ID0gaGVhZGluZzsKICAgIHRhcmdldC56ID0gYXR0aXR1ZGU7CiAgICB0YXJnZXQueCA9IGJhbms7CiAgfQogIC8qKg0KICAgKiBAcGFyYW0ge051bWJlcn0geA0KICAgKiBAcGFyYW0ge051bWJlcn0geQ0KICAgKiBAcGFyYW0ge051bWJlcn0geg0KICAgKiBAcGFyYW0ge1N0cmluZ30gb3JkZXIgVGhlIG9yZGVyIHRvIGFwcGx5IGFuZ2xlczogJ1hZWicgb3IgJ1lYWicgb3IgYW55IG90aGVyIGNvbWJpbmF0aW9uDQogICAqIEBzZWUgaHR0cDovL3d3dy5tYXRod29ya3MuY29tL21hdGxhYmNlbnRyYWwvZmlsZWV4Y2hhbmdlLzIwNjk2LWZ1bmN0aW9uLXRvLWNvbnZlcnQtYmV0d2Vlbi1kY20tZXVsZXItYW5nbGVzLXF1YXRlcm5pb25zLWFuZC1ldWxlci12ZWN0b3JzL2NvbnRlbnQvU3BpbkNhbGMubQ0KICAgKi8KCgogIHNldEZyb21FdWxlcih4LCB5LCB6LCBvcmRlciA9ICdYWVonKSB7CiAgICBjb25zdCBjMSA9IE1hdGguY29zKHggLyAyKTsKICAgIGNvbnN0IGMyID0gTWF0aC5jb3MoeSAvIDIpOwogICAgY29uc3QgYzMgPSBNYXRoLmNvcyh6IC8gMik7CiAgICBjb25zdCBzMSA9IE1hdGguc2luKHggLyAyKTsKICAgIGNvbnN0IHMyID0gTWF0aC5zaW4oeSAvIDIpOwogICAgY29uc3QgczMgPSBNYXRoLnNpbih6IC8gMik7CgogICAgaWYgKG9yZGVyID09PSAnWFlaJykgewogICAgICB0aGlzLnggPSBzMSAqIGMyICogYzMgKyBjMSAqIHMyICogczM7CiAgICAgIHRoaXMueSA9IGMxICogczIgKiBjMyAtIHMxICogYzIgKiBzMzsKICAgICAgdGhpcy56ID0gYzEgKiBjMiAqIHMzICsgczEgKiBzMiAqIGMzOwogICAgICB0aGlzLncgPSBjMSAqIGMyICogYzMgLSBzMSAqIHMyICogczM7CiAgICB9IGVsc2UgaWYgKG9yZGVyID09PSAnWVhaJykgewogICAgICB0aGlzLnggPSBzMSAqIGMyICogYzMgKyBjMSAqIHMyICogczM7CiAgICAgIHRoaXMueSA9IGMxICogczIgKiBjMyAtIHMxICogYzIgKiBzMzsKICAgICAgdGhpcy56ID0gYzEgKiBjMiAqIHMzIC0gczEgKiBzMiAqIGMzOwogICAgICB0aGlzLncgPSBjMSAqIGMyICogYzMgKyBzMSAqIHMyICogczM7CiAgICB9IGVsc2UgaWYgKG9yZGVyID09PSAnWlhZJykgewogICAgICB0aGlzLnggPSBzMSAqIGMyICogYzMgLSBjMSAqIHMyICogczM7CiAgICAgIHRoaXMueSA9IGMxICogczIgKiBjMyArIHMxICogYzIgKiBzMzsKICAgICAgdGhpcy56ID0gYzEgKiBjMiAqIHMzICsgczEgKiBzMiAqIGMzOwogICAgICB0aGlzLncgPSBjMSAqIGMyICogYzMgLSBzMSAqIHMyICogczM7CiAgICB9IGVsc2UgaWYgKG9yZGVyID09PSAnWllYJykgewogICAgICB0aGlzLnggPSBzMSAqIGMyICogYzMgLSBjMSAqIHMyICogczM7CiAgICAgIHRoaXMueSA9IGMxICogczIgKiBjMyArIHMxICogYzIgKiBzMzsKICAgICAgdGhpcy56ID0gYzEgKiBjMiAqIHMzIC0gczEgKiBzMiAqIGMzOwogICAgICB0aGlzLncgPSBjMSAqIGMyICogYzMgKyBzMSAqIHMyICogczM7CiAgICB9IGVsc2UgaWYgKG9yZGVyID09PSAnWVpYJykgewogICAgICB0aGlzLnggPSBzMSAqIGMyICogYzMgKyBjMSAqIHMyICogczM7CiAgICAgIHRoaXMueSA9IGMxICogczIgKiBjMyArIHMxICogYzIgKiBzMzsKICAgICAgdGhpcy56ID0gYzEgKiBjMiAqIHMzIC0gczEgKiBzMiAqIGMzOwogICAgICB0aGlzLncgPSBjMSAqIGMyICogYzMgLSBzMSAqIHMyICogczM7CiAgICB9IGVsc2UgaWYgKG9yZGVyID09PSAnWFpZJykgewogICAgICB0aGlzLnggPSBzMSAqIGMyICogYzMgLSBjMSAqIHMyICogczM7CiAgICAgIHRoaXMueSA9IGMxICogczIgKiBjMyAtIHMxICogYzIgKiBzMzsKICAgICAgdGhpcy56ID0gYzEgKiBjMiAqIHMzICsgczEgKiBzMiAqIGMzOwogICAgICB0aGlzLncgPSBjMSAqIGMyICogYzMgKyBzMSAqIHMyICogczM7CiAgICB9CgogICAgcmV0dXJuIHRoaXM7CiAgfQogIC8qKg0KICAgKiBAbWV0aG9kIGNsb25lDQogICAqIEByZXR1cm4ge1F1YXRlcm5pb259DQogICAqLwoKCiAgY2xvbmUoKSB7CiAgICByZXR1cm4gbmV3IFF1YXRlcm5pb24odGhpcy54LCB0aGlzLnksIHRoaXMueiwgdGhpcy53KTsKICB9CiAgLyoqDQogICAqIFBlcmZvcm1zIGEgc3BoZXJpY2FsIGxpbmVhciBpbnRlcnBvbGF0aW9uIGJldHdlZW4gdHdvIHF1YXQNCiAgICoNCiAgICogQHBhcmFtIHtRdWF0ZXJuaW9ufSB0b1F1YXQgc2Vjb25kIG9wZXJhbmQNCiAgICogQHBhcmFtIHtOdW1iZXJ9IHQgaW50ZXJwb2xhdGlvbiBhbW91bnQgYmV0d2VlbiB0aGUgc2VsZiBxdWF0ZXJuaW9uIGFuZCB0b1F1YXQNCiAgICogQHBhcmFtIHtRdWF0ZXJuaW9ufSBbdGFyZ2V0XSBBIHF1YXRlcm5pb24gdG8gc3RvcmUgdGhlIHJlc3VsdCBpbi4gSWYgbm90IHByb3ZpZGVkLCBhIG5ldyBvbmUgd2lsbCBiZSBjcmVhdGVkLg0KICAgKiBAcmV0dXJucyB7UXVhdGVybmlvbn0gVGhlICJ0YXJnZXQiIG9iamVjdA0KICAgKi8KCgogIHNsZXJwKHRvUXVhdCwgdCwgdGFyZ2V0ID0gbmV3IFF1YXRlcm5pb24oKSkgewogICAgY29uc3QgYXggPSB0aGlzLng7CiAgICBjb25zdCBheSA9IHRoaXMueTsKICAgIGNvbnN0IGF6ID0gdGhpcy56OwogICAgY29uc3QgYXcgPSB0aGlzLnc7CiAgICBsZXQgYnggPSB0b1F1YXQueDsKICAgIGxldCBieSA9IHRvUXVhdC55OwogICAgbGV0IGJ6ID0gdG9RdWF0Lno7CiAgICBsZXQgYncgPSB0b1F1YXQudzsKICAgIGxldCBvbWVnYTsKICAgIGxldCBjb3NvbTsKICAgIGxldCBzaW5vbTsKICAgIGxldCBzY2FsZTA7CiAgICBsZXQgc2NhbGUxOyAvLyBjYWxjIGNvc2luZQoKICAgIGNvc29tID0gYXggKiBieCArIGF5ICogYnkgKyBheiAqIGJ6ICsgYXcgKiBidzsgLy8gYWRqdXN0IHNpZ25zIChpZiBuZWNlc3NhcnkpCgogICAgaWYgKGNvc29tIDwgMC4wKSB7CiAgICAgIGNvc29tID0gLWNvc29tOwogICAgICBieCA9IC1ieDsKICAgICAgYnkgPSAtYnk7CiAgICAgIGJ6ID0gLWJ6OwogICAgICBidyA9IC1idzsKICAgIH0gLy8gY2FsY3VsYXRlIGNvZWZmaWNpZW50cwoKCiAgICBpZiAoMS4wIC0gY29zb20gPiAwLjAwMDAwMSkgewogICAgICAvLyBzdGFuZGFyZCBjYXNlIChzbGVycCkKICAgICAgb21lZ2EgPSBNYXRoLmFjb3MoY29zb20pOwogICAgICBzaW5vbSA9IE1hdGguc2luKG9tZWdhKTsKICAgICAgc2NhbGUwID0gTWF0aC5zaW4oKDEuMCAtIHQpICogb21lZ2EpIC8gc2lub207CiAgICAgIHNjYWxlMSA9IE1hdGguc2luKHQgKiBvbWVnYSkgLyBzaW5vbTsKICAgIH0gZWxzZSB7CiAgICAgIC8vICJmcm9tIiBhbmQgInRvIiBxdWF0ZXJuaW9ucyBhcmUgdmVyeSBjbG9zZQogICAgICAvLyAgLi4uIHNvIHdlIGNhbiBkbyBhIGxpbmVhciBpbnRlcnBvbGF0aW9uCiAgICAgIHNjYWxlMCA9IDEuMCAtIHQ7CiAgICAgIHNjYWxlMSA9IHQ7CiAgICB9IC8vIGNhbGN1bGF0ZSBmaW5hbCB2YWx1ZXMKCgogICAgdGFyZ2V0LnggPSBzY2FsZTAgKiBheCArIHNjYWxlMSAqIGJ4OwogICAgdGFyZ2V0LnkgPSBzY2FsZTAgKiBheSArIHNjYWxlMSAqIGJ5OwogICAgdGFyZ2V0LnogPSBzY2FsZTAgKiBheiArIHNjYWxlMSAqIGJ6OwogICAgdGFyZ2V0LncgPSBzY2FsZTAgKiBhdyArIHNjYWxlMSAqIGJ3OwogICAgcmV0dXJuIHRhcmdldDsKICB9CiAgLyoqDQogICAqIFJvdGF0ZSBhbiBhYnNvbHV0ZSBvcmllbnRhdGlvbiBxdWF0ZXJuaW9uIGdpdmVuIGFuIGFuZ3VsYXIgdmVsb2NpdHkgYW5kIGEgdGltZSBzdGVwLg0KICAgKi8KCgogIGludGVncmF0ZShhbmd1bGFyVmVsb2NpdHksIGR0LCBhbmd1bGFyRmFjdG9yLCB0YXJnZXQgPSBuZXcgUXVhdGVybmlvbigpKSB7CiAgICBjb25zdCBheCA9IGFuZ3VsYXJWZWxvY2l0eS54ICogYW5ndWxhckZhY3Rvci54LAogICAgICAgICAgYXkgPSBhbmd1bGFyVmVsb2NpdHkueSAqIGFuZ3VsYXJGYWN0b3IueSwKICAgICAgICAgIGF6ID0gYW5ndWxhclZlbG9jaXR5LnogKiBhbmd1bGFyRmFjdG9yLnosCiAgICAgICAgICBieCA9IHRoaXMueCwKICAgICAgICAgIGJ5ID0gdGhpcy55LAogICAgICAgICAgYnogPSB0aGlzLnosCiAgICAgICAgICBidyA9IHRoaXMudzsKICAgIGNvbnN0IGhhbGZfZHQgPSBkdCAqIDAuNTsKICAgIHRhcmdldC54ICs9IGhhbGZfZHQgKiAoYXggKiBidyArIGF5ICogYnogLSBheiAqIGJ5KTsKICAgIHRhcmdldC55ICs9IGhhbGZfZHQgKiAoYXkgKiBidyArIGF6ICogYnggLSBheCAqIGJ6KTsKICAgIHRhcmdldC56ICs9IGhhbGZfZHQgKiAoYXogKiBidyArIGF4ICogYnkgLSBheSAqIGJ4KTsKICAgIHRhcmdldC53ICs9IGhhbGZfZHQgKiAoLWF4ICogYnggLSBheSAqIGJ5IC0gYXogKiBieik7CiAgICByZXR1cm4gdGFyZ2V0OwogIH0KCn0KCmNvbnN0IHNmdl90MSA9IG5ldyBWZWMzKCk7CmNvbnN0IHNmdl90MiA9IG5ldyBWZWMzKCk7CmNvbnN0IFNIQVBFX1RZUEVTID0gewogIFNQSEVSRTogMSwKICBQTEFORTogMiwKICBCT1g6IDQsCiAgQ09NUE9VTkQ6IDgsCiAgQ09OVkVYUE9MWUhFRFJPTjogMTYsCiAgSEVJR0hURklFTEQ6IDMyLAogIFBBUlRJQ0xFOiA2NCwKICBDWUxJTkRFUjogMTI4LAogIFRSSU1FU0g6IDI1Ngp9OwovKioNCiAqIEJhc2UgY2xhc3MgZm9yIHNoYXBlcw0KICogQGNsYXNzIFNoYXBlDQogKiBAY29uc3RydWN0b3INCiAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10NCiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5jb2xsaXNpb25GaWx0ZXJHcm91cD0xXQ0KICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmNvbGxpc2lvbkZpbHRlck1hc2s9LTFdDQogKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuY29sbGlzaW9uUmVzcG9uc2U9dHJ1ZV0NCiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5tYXRlcmlhbD1udWxsXQ0KICogQGF1dGhvciBzY2h0ZXBwZQ0KICovCgpjbGFzcyBTaGFwZSB7CiAgLy8gSWRlbnRpZnllciBvZiB0aGUgU2hhcGUuCiAgLy8gVGhlIHR5cGUgb2YgdGhpcyBzaGFwZS4gTXVzdCBiZSBzZXQgdG8gYW4gaW50ID4gMCBieSBzdWJjbGFzc2VzLgogIC8vIFRoZSBsb2NhbCBib3VuZGluZyBzcGhlcmUgcmFkaXVzIG9mIHRoaXMgc2hhcGUuCiAgLy8gV2hldGhlciB0byBwcm9kdWNlIGNvbnRhY3QgZm9yY2VzIHdoZW4gaW4gY29udGFjdCB3aXRoIG90aGVyIGJvZGllcy4gTm90ZSB0aGF0IGNvbnRhY3RzIHdpbGwgYmUgZ2VuZXJhdGVkLCBidXQgdGhleSB3aWxsIGJlIGRpc2FibGVkLgogIGNvbnN0cnVjdG9yKG9wdGlvbnMgPSB7fSkgewogICAgdGhpcy5pZCA9IFNoYXBlLmlkQ291bnRlcisrOwogICAgdGhpcy50eXBlID0gb3B0aW9ucy50eXBlIHx8IDA7CiAgICB0aGlzLmJvdW5kaW5nU3BoZXJlUmFkaXVzID0gMDsKICAgIHRoaXMuY29sbGlzaW9uUmVzcG9uc2UgPSBvcHRpb25zLmNvbGxpc2lvblJlc3BvbnNlID8gb3B0aW9ucy5jb2xsaXNpb25SZXNwb25zZSA6IHRydWU7CiAgICB0aGlzLmNvbGxpc2lvbkZpbHRlckdyb3VwID0gb3B0aW9ucy5jb2xsaXNpb25GaWx0ZXJHcm91cCAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5jb2xsaXNpb25GaWx0ZXJHcm91cCA6IDE7CiAgICB0aGlzLmNvbGxpc2lvbkZpbHRlck1hc2sgPSBvcHRpb25zLmNvbGxpc2lvbkZpbHRlck1hc2sgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuY29sbGlzaW9uRmlsdGVyTWFzayA6IC0xOwogICAgdGhpcy5tYXRlcmlhbCA9IG9wdGlvbnMubWF0ZXJpYWwgPyBvcHRpb25zLm1hdGVyaWFsIDogbnVsbDsKICAgIHRoaXMuYm9keSA9IG51bGw7CiAgfQogIC8qKg0KICAgKiBDb21wdXRlcyB0aGUgYm91bmRpbmcgc3BoZXJlIHJhZGl1cy4gVGhlIHJlc3VsdCBpcyBzdG9yZWQgaW4gdGhlIHByb3BlcnR5IC5ib3VuZGluZ1NwaGVyZVJhZGl1cw0KICAgKiBAbWV0aG9kIHVwZGF0ZUJvdW5kaW5nU3BoZXJlUmFkaXVzDQogICAqLwoKCiAgdXBkYXRlQm91bmRpbmdTcGhlcmVSYWRpdXMoKSB7CiAgICB0aHJvdyAiY29tcHV0ZUJvdW5kaW5nU3BoZXJlUmFkaXVzKCkgbm90IGltcGxlbWVudGVkIGZvciBzaGFwZSB0eXBlICIgKyB0aGlzLnR5cGU7CiAgfQogIC8qKg0KICAgKiBHZXQgdGhlIHZvbHVtZSBvZiB0aGlzIHNoYXBlDQogICAqIEBtZXRob2Qgdm9sdW1lDQogICAqIEByZXR1cm4ge051bWJlcn0NCiAgICovCgoKICB2b2x1bWUoKSB7CiAgICB0aHJvdyAidm9sdW1lKCkgbm90IGltcGxlbWVudGVkIGZvciBzaGFwZSB0eXBlICIgKyB0aGlzLnR5cGU7CiAgfQogIC8qKg0KICAgKiBDYWxjdWxhdGVzIHRoZSBpbmVydGlhIGluIHRoZSBsb2NhbCBmcmFtZSBmb3IgdGhpcyBzaGFwZS4NCiAgICogQG1ldGhvZCBjYWxjdWxhdGVMb2NhbEluZXJ0aWENCiAgICogQHBhcmFtIHtOdW1iZXJ9IG1hc3MNCiAgICogQHBhcmFtIHtWZWMzfSB0YXJnZXQNCiAgICogQHNlZSBodHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0xpc3Rfb2ZfbW9tZW50c19vZl9pbmVydGlhDQogICAqLwoKCiAgY2FsY3VsYXRlTG9jYWxJbmVydGlhKG1hc3MsIHRhcmdldCkgewogICAgdGhyb3cgImNhbGN1bGF0ZUxvY2FsSW5lcnRpYSgpIG5vdCBpbXBsZW1lbnRlZCBmb3Igc2hhcGUgdHlwZSAiICsgdGhpcy50eXBlOwogIH0KCiAgY2FsY3VsYXRlV29ybGRBQUJCKHBvcywgcXVhdCwgbWluLCBtYXgpIHsKICAgIHRocm93ICJjYWxjdWxhdGVXb3JsZEFBQkIoKSBub3QgaW1wbGVtZW50ZWQgZm9yIHNoYXBlIHR5cGUgIiArIHRoaXMudHlwZTsKICB9Cgp9CgpTaGFwZS5pZENvdW50ZXIgPSAwOwovKioNCiAqIFRoZSBhdmFpbGFibGUgc2hhcGUgdHlwZXMuDQogKiBAc3RhdGljDQogKiBAcHJvcGVydHkgdHlwZXMNCiAqIEB0eXBlIHtPYmplY3R9DQogKi8KClNoYXBlLnR5cGVzID0gU0hBUEVfVFlQRVM7CgpjbGFzcyBUcmFuc2Zvcm0gewogIGNvbnN0cnVjdG9yKG9wdGlvbnMgPSB7fSkgewogICAgdGhpcy5wb3NpdGlvbiA9IG5ldyBWZWMzKCk7CiAgICB0aGlzLnF1YXRlcm5pb24gPSBuZXcgUXVhdGVybmlvbigpOwoKICAgIGlmIChvcHRpb25zLnBvc2l0aW9uKSB7CiAgICAgIHRoaXMucG9zaXRpb24uY29weShvcHRpb25zLnBvc2l0aW9uKTsKICAgIH0KCiAgICBpZiAob3B0aW9ucy5xdWF0ZXJuaW9uKSB7CiAgICAgIHRoaXMucXVhdGVybmlvbi5jb3B5KG9wdGlvbnMucXVhdGVybmlvbik7CiAgICB9CiAgfQogIC8qKg0KICAgKiBHZXQgYSBnbG9iYWwgcG9pbnQgaW4gbG9jYWwgdHJhbnNmb3JtIGNvb3JkaW5hdGVzLg0KICAgKi8KCgogIHBvaW50VG9Mb2NhbCh3b3JsZFBvaW50LCByZXN1bHQpIHsKICAgIHJldHVybiBUcmFuc2Zvcm0ucG9pbnRUb0xvY2FsRnJhbWUodGhpcy5wb3NpdGlvbiwgdGhpcy5xdWF0ZXJuaW9uLCB3b3JsZFBvaW50LCByZXN1bHQpOwogIH0KICAvKioNCiAgICogR2V0IGEgbG9jYWwgcG9pbnQgaW4gZ2xvYmFsIHRyYW5zZm9ybSBjb29yZGluYXRlcy4NCiAgICovCgoKICBwb2ludFRvV29ybGQobG9jYWxQb2ludCwgcmVzdWx0KSB7CiAgICByZXR1cm4gVHJhbnNmb3JtLnBvaW50VG9Xb3JsZEZyYW1lKHRoaXMucG9zaXRpb24sIHRoaXMucXVhdGVybmlvbiwgbG9jYWxQb2ludCwgcmVzdWx0KTsKICB9CgogIHZlY3RvclRvV29ybGRGcmFtZShsb2NhbFZlY3RvciwgcmVzdWx0ID0gbmV3IFZlYzMoKSkgewogICAgdGhpcy5xdWF0ZXJuaW9uLnZtdWx0KGxvY2FsVmVjdG9yLCByZXN1bHQpOwogICAgcmV0dXJuIHJlc3VsdDsKICB9CgogIHN0YXRpYyBwb2ludFRvTG9jYWxGcmFtZShwb3NpdGlvbiwgcXVhdGVybmlvbiwgd29ybGRQb2ludCwgcmVzdWx0ID0gbmV3IFZlYzMoKSkgewogICAgd29ybGRQb2ludC52c3ViKHBvc2l0aW9uLCByZXN1bHQpOwogICAgcXVhdGVybmlvbi5jb25qdWdhdGUodG1wUXVhdCk7CiAgICB0bXBRdWF0LnZtdWx0KHJlc3VsdCwgcmVzdWx0KTsKICAgIHJldHVybiByZXN1bHQ7CiAgfQoKICBzdGF0aWMgcG9pbnRUb1dvcmxkRnJhbWUocG9zaXRpb24sIHF1YXRlcm5pb24sIGxvY2FsUG9pbnQsIHJlc3VsdCA9IG5ldyBWZWMzKCkpIHsKICAgIHF1YXRlcm5pb24udm11bHQobG9jYWxQb2ludCwgcmVzdWx0KTsKICAgIHJlc3VsdC52YWRkKHBvc2l0aW9uLCByZXN1bHQpOwogICAgcmV0dXJuIHJlc3VsdDsKICB9CgogIHN0YXRpYyB2ZWN0b3JUb1dvcmxkRnJhbWUocXVhdGVybmlvbiwgbG9jYWxWZWN0b3IsIHJlc3VsdCA9IG5ldyBWZWMzKCkpIHsKICAgIHF1YXRlcm5pb24udm11bHQobG9jYWxWZWN0b3IsIHJlc3VsdCk7CiAgICByZXR1cm4gcmVzdWx0OwogIH0KCiAgc3RhdGljIHZlY3RvclRvTG9jYWxGcmFtZShwb3NpdGlvbiwgcXVhdGVybmlvbiwgd29ybGRWZWN0b3IsIHJlc3VsdCA9IG5ldyBWZWMzKCkpIHsKICAgIHF1YXRlcm5pb24udyAqPSAtMTsKICAgIHF1YXRlcm5pb24udm11bHQod29ybGRWZWN0b3IsIHJlc3VsdCk7CiAgICBxdWF0ZXJuaW9uLncgKj0gLTE7CiAgICByZXR1cm4gcmVzdWx0OwogIH0KCn0KCmNvbnN0IHRtcFF1YXQgPSBuZXcgUXVhdGVybmlvbigpOwovKioNCiAqIEEgc2V0IG9mIHBvbHlnb25zIGRlc2NyaWJpbmcgYSBjb252ZXggc2hhcGUuDQogKiBAY2xhc3MgQ29udmV4UG9seWhlZHJvbg0KICogQGNvbnN0cnVjdG9yDQogKiBAZXh0ZW5kcyBTaGFwZQ0KICogQGRlc2NyaXB0aW9uIFRoZSBzaGFwZSBNVVNUIGJlIGNvbnZleCBmb3IgdGhlIGNvZGUgdG8gd29yayBwcm9wZXJseS4gTm8gcG9seWdvbnMgbWF5IGJlIGNvcGxhbmFyIChjb250YWluZWQNCiAqIGluIHRoZSBzYW1lIDNEIHBsYW5lKSwgaW5zdGVhZCB0aGVzZSBzaG91bGQgYmUgbWVyZ2VkIGludG8gb25lIHBvbHlnb24uDQogKg0KICogQHBhcmFtIHthcnJheX0gcG9pbnRzIEFuIGFycmF5IG9mIFZlYzMncw0KICogQHBhcmFtIHthcnJheX0gZmFjZXMgQXJyYXkgb2YgaW50ZWdlciBhcnJheXMsIGRlc2NyaWJpbmcgd2hpY2ggdmVydGljZXMgdGhhdCBpcyBpbmNsdWRlZCBpbiBlYWNoIGZhY2UuDQogKg0KICogQGF1dGhvciBxaWFvIC8gaHR0cHM6Ly9naXRodWIuY29tL3FpYW8gKG9yaWdpbmFsIGF1dGhvciwgc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9xaWFvL3RocmVlLmpzL2NvbW1pdC84NTAyNmYwYzc2OWU0MDAwMTQ4YTY3ZDQ1YTllOWI5YzUxMDg4MzZmKQ0KICogQGF1dGhvciBzY2h0ZXBwZSAvIGh0dHBzOi8vZ2l0aHViLmNvbS9zY2h0ZXBwZQ0KICogQHNlZSBodHRwOi8vd3d3LmFsdGRldmJsb2dhZGF5LmNvbS8yMDExLzA1LzEzL2NvbnRhY3QtZ2VuZXJhdGlvbi1iZXR3ZWVuLTNkLWNvbnZleC1tZXNoZXMvDQogKg0KICogQHRvZG8gTW92ZSB0aGUgY2xpcHBpbmcgZnVuY3Rpb25zIHRvIENvbnRhY3RHZW5lcmF0b3I/DQogKiBAdG9kbyBBdXRvbWF0aWNhbGx5IG1lcmdlIGNvcGxhbmFyIHBvbHlnb25zIGluIGNvbnN0cnVjdG9yLg0KICovCgpjbGFzcyBDb252ZXhQb2x5aGVkcm9uIGV4dGVuZHMgU2hhcGUgewogIC8vIEFycmF5IG9mIGludGVnZXIgYXJyYXlzLCBpbmRpY2F0aW5nIHdoaWNoIHZlcnRpY2VzIGVhY2ggZmFjZSBjb25zaXN0cyBvZgogIC8vIElmIGdpdmVuLCB0aGVzZSBsb2NhbGx5IGRlZmluZWQsIG5vcm1hbGl6ZWQgYXhlcyBhcmUgdGhlIG9ubHkgb25lcyBiZWluZyBjaGVja2VkIHdoZW4gZG9pbmcgc2VwYXJhdGluZyBheGlzIGNoZWNrLgogIGNvbnN0cnVjdG9yKHByb3BzID0ge30pIHsKICAgIGNvbnN0IHsKICAgICAgdmVydGljZXMgPSBbXSwKICAgICAgZmFjZXMgPSBbXSwKICAgICAgbm9ybWFscyA9IFtdLAogICAgICBheGVzLAogICAgICBib3VuZGluZ1NwaGVyZVJhZGl1cwogICAgfSA9IHByb3BzOwogICAgc3VwZXIoewogICAgICB0eXBlOiBTaGFwZS50eXBlcy5DT05WRVhQT0xZSEVEUk9OCiAgICB9KTsKICAgIHRoaXMudmVydGljZXMgPSB2ZXJ0aWNlczsKICAgIHRoaXMuZmFjZXMgPSBmYWNlczsKICAgIHRoaXMuZmFjZU5vcm1hbHMgPSBub3JtYWxzOwoKICAgIGlmICh0aGlzLmZhY2VOb3JtYWxzLmxlbmd0aCA9PT0gMCkgewogICAgICB0aGlzLmNvbXB1dGVOb3JtYWxzKCk7CiAgICB9CgogICAgaWYgKCFib3VuZGluZ1NwaGVyZVJhZGl1cykgewogICAgICB0aGlzLnVwZGF0ZUJvdW5kaW5nU3BoZXJlUmFkaXVzKCk7CiAgICB9IGVsc2UgewogICAgICB0aGlzLmJvdW5kaW5nU3BoZXJlUmFkaXVzID0gYm91bmRpbmdTcGhlcmVSYWRpdXM7CiAgICB9CgogICAgdGhpcy53b3JsZFZlcnRpY2VzID0gW107IC8vIFdvcmxkIHRyYW5zZm9ybWVkIHZlcnNpb24gb2YgLnZlcnRpY2VzCgogICAgdGhpcy53b3JsZFZlcnRpY2VzTmVlZHNVcGRhdGUgPSB0cnVlOwogICAgdGhpcy53b3JsZEZhY2VOb3JtYWxzID0gW107IC8vIFdvcmxkIHRyYW5zZm9ybWVkIHZlcnNpb24gb2YgLmZhY2VOb3JtYWxzCgogICAgdGhpcy53b3JsZEZhY2VOb3JtYWxzTmVlZHNVcGRhdGUgPSB0cnVlOwogICAgdGhpcy51bmlxdWVBeGVzID0gYXhlcyA/IGF4ZXMuc2xpY2UoKSA6IG51bGw7CiAgICB0aGlzLnVuaXF1ZUVkZ2VzID0gW107CiAgICB0aGlzLmNvbXB1dGVFZGdlcygpOwogIH0KICAvKioNCiAgICogQ29tcHV0ZXMgdW5pcXVlRWRnZXMNCiAgICogQG1ldGhvZCBjb21wdXRlRWRnZXMNCiAgICovCgoKICBjb21wdXRlRWRnZXMoKSB7CiAgICBjb25zdCBmYWNlcyA9IHRoaXMuZmFjZXM7CiAgICBjb25zdCB2ZXJ0aWNlcyA9IHRoaXMudmVydGljZXM7CiAgICBjb25zdCBlZGdlcyA9IHRoaXMudW5pcXVlRWRnZXM7CiAgICBlZGdlcy5sZW5ndGggPSAwOwogICAgY29uc3QgZWRnZSA9IG5ldyBWZWMzKCk7CgogICAgZm9yIChsZXQgaSA9IDA7IGkgIT09IGZhY2VzLmxlbmd0aDsgaSsrKSB7CiAgICAgIGNvbnN0IGZhY2UgPSBmYWNlc1tpXTsKICAgICAgY29uc3QgbnVtVmVydGljZXMgPSBmYWNlLmxlbmd0aDsKCiAgICAgIGZvciAobGV0IGogPSAwOyBqICE9PSBudW1WZXJ0aWNlczsgaisrKSB7CiAgICAgICAgY29uc3QgayA9IChqICsgMSkgJSBudW1WZXJ0aWNlczsKICAgICAgICB2ZXJ0aWNlc1tmYWNlW2pdXS52c3ViKHZlcnRpY2VzW2ZhY2Vba11dLCBlZGdlKTsKICAgICAgICBlZGdlLm5vcm1hbGl6ZSgpOwogICAgICAgIGxldCBmb3VuZCA9IGZhbHNlOwoKICAgICAgICBmb3IgKGxldCBwID0gMDsgcCAhPT0gZWRnZXMubGVuZ3RoOyBwKyspIHsKICAgICAgICAgIGlmIChlZGdlc1twXS5hbG1vc3RFcXVhbHMoZWRnZSkgfHwgZWRnZXNbcF0uYWxtb3N0RXF1YWxzKGVkZ2UpKSB7CiAgICAgICAgICAgIGZvdW5kID0gdHJ1ZTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBpZiAoIWZvdW5kKSB7CiAgICAgICAgICBlZGdlcy5wdXNoKGVkZ2UuY2xvbmUoKSk7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfQogIC8qKg0KICAgKiBDb21wdXRlIHRoZSBub3JtYWxzIG9mIHRoZSBmYWNlcy4gV2lsbCByZXVzZSBleGlzdGluZyBWZWMzIG9iamVjdHMgaW4gdGhlIC5mYWNlTm9ybWFscyBhcnJheSBpZiB0aGV5IGV4aXN0Lg0KICAgKiBAbWV0aG9kIGNvbXB1dGVOb3JtYWxzDQogICAqLwoKCiAgY29tcHV0ZU5vcm1hbHMoKSB7CiAgICB0aGlzLmZhY2VOb3JtYWxzLmxlbmd0aCA9IHRoaXMuZmFjZXMubGVuZ3RoOyAvLyBHZW5lcmF0ZSBub3JtYWxzCgogICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmZhY2VzLmxlbmd0aDsgaSsrKSB7CiAgICAgIC8vIENoZWNrIHNvIGFsbCB2ZXJ0aWNlcyBleGlzdHMgZm9yIHRoaXMgZmFjZQogICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHRoaXMuZmFjZXNbaV0ubGVuZ3RoOyBqKyspIHsKICAgICAgICBpZiAoIXRoaXMudmVydGljZXNbdGhpcy5mYWNlc1tpXVtqXV0pIHsKICAgICAgICAgIHRocm93IG5ldyBFcnJvcigiVmVydGV4ICIgKyB0aGlzLmZhY2VzW2ldW2pdICsgIiBub3QgZm91bmQhIik7CiAgICAgICAgfQogICAgICB9CgogICAgICBjb25zdCBuID0gdGhpcy5mYWNlTm9ybWFsc1tpXSB8fCBuZXcgVmVjMygpOwogICAgICB0aGlzLmdldEZhY2VOb3JtYWwoaSwgbik7CiAgICAgIG4ubmVnYXRlKG4pOwogICAgICB0aGlzLmZhY2VOb3JtYWxzW2ldID0gbjsKICAgICAgY29uc3QgdmVydGV4ID0gdGhpcy52ZXJ0aWNlc1t0aGlzLmZhY2VzW2ldWzBdXTsKCiAgICAgIGlmIChuLmRvdCh2ZXJ0ZXgpIDwgMCkgewogICAgICAgIGNvbnNvbGUuZXJyb3IoIi5mYWNlTm9ybWFsc1siICsgaSArICJdID0gVmVjMygiICsgbi50b1N0cmluZygpICsgIikgbG9va3MgbGlrZSBpdCBwb2ludHMgaW50byB0aGUgc2hhcGU/IFRoZSB2ZXJ0aWNlcyBmb2xsb3cuIE1ha2Ugc3VyZSB0aGV5IGFyZSBvcmRlcmVkIENDVyBhcm91bmQgdGhlIG5vcm1hbCwgdXNpbmcgdGhlIHJpZ2h0IGhhbmQgcnVsZS4iKTsKCiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCB0aGlzLmZhY2VzW2ldLmxlbmd0aDsgaisrKSB7CiAgICAgICAgICBjb25zb2xlLndhcm4oIi52ZXJ0aWNlc1siICsgdGhpcy5mYWNlc1tpXVtqXSArICJdID0gVmVjMygiICsgdGhpcy52ZXJ0aWNlc1t0aGlzLmZhY2VzW2ldW2pdXS50b1N0cmluZygpICsgIikiKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9CiAgLyoqDQogICAqIENvbXB1dGUgdGhlIG5vcm1hbCBvZiBhIGZhY2UgZnJvbSBpdHMgdmVydGljZXMNCiAgICogQG1ldGhvZCBnZXRGYWNlTm9ybWFsDQogICAqIEBwYXJhbSAge051bWJlcn0gaQ0KICAgKiBAcGFyYW0gIHtWZWMzfSB0YXJnZXQNCiAgICovCgoKICBnZXRGYWNlTm9ybWFsKGksIHRhcmdldCkgewogICAgY29uc3QgZiA9IHRoaXMuZmFjZXNbaV07CiAgICBjb25zdCB2YSA9IHRoaXMudmVydGljZXNbZlswXV07CiAgICBjb25zdCB2YiA9IHRoaXMudmVydGljZXNbZlsxXV07CiAgICBjb25zdCB2YyA9IHRoaXMudmVydGljZXNbZlsyXV07CiAgICBDb252ZXhQb2x5aGVkcm9uLmNvbXB1dGVOb3JtYWwodmEsIHZiLCB2YywgdGFyZ2V0KTsKICB9CiAgLyoqDQogICAqIEBtZXRob2QgY2xpcEFnYWluc3RIdWxsDQogICAqIEBwYXJhbSB7VmVjM30gcG9zQQ0KICAgKiBAcGFyYW0ge1F1YXRlcm5pb259IHF1YXRBDQogICAqIEBwYXJhbSB7Q29udmV4UG9seWhlZHJvbn0gaHVsbEINCiAgICogQHBhcmFtIHtWZWMzfSBwb3NCDQogICAqIEBwYXJhbSB7UXVhdGVybmlvbn0gcXVhdEINCiAgICogQHBhcmFtIHtWZWMzfSBzZXBhcmF0aW5nTm9ybWFsDQogICAqIEBwYXJhbSB7TnVtYmVyfSBtaW5EaXN0IENsYW1wIGRpc3RhbmNlDQogICAqIEBwYXJhbSB7TnVtYmVyfSBtYXhEaXN0DQogICAqIEBwYXJhbSB7YXJyYXl9IHJlc3VsdCBUaGUgYW4gYXJyYXkgb2YgY29udGFjdCBwb2ludCBvYmplY3RzLCBzZWUgY2xpcEZhY2VBZ2FpbnN0SHVsbA0KICAgKi8KCgogIGNsaXBBZ2FpbnN0SHVsbChwb3NBLCBxdWF0QSwgaHVsbEIsIHBvc0IsIHF1YXRCLCBzZXBhcmF0aW5nTm9ybWFsLCBtaW5EaXN0LCBtYXhEaXN0LCByZXN1bHQpIHsKICAgIGNvbnN0IFdvcmxkTm9ybWFsID0gbmV3IFZlYzMoKTsKICAgIGxldCBjbG9zZXN0RmFjZUIgPSAtMTsKICAgIGxldCBkbWF4ID0gLU51bWJlci5NQVhfVkFMVUU7CgogICAgZm9yIChsZXQgZmFjZSA9IDA7IGZhY2UgPCBodWxsQi5mYWNlcy5sZW5ndGg7IGZhY2UrKykgewogICAgICBXb3JsZE5vcm1hbC5jb3B5KGh1bGxCLmZhY2VOb3JtYWxzW2ZhY2VdKTsKICAgICAgcXVhdEIudm11bHQoV29ybGROb3JtYWwsIFdvcmxkTm9ybWFsKTsKICAgICAgY29uc3QgZCA9IFdvcmxkTm9ybWFsLmRvdChzZXBhcmF0aW5nTm9ybWFsKTsKCiAgICAgIGlmIChkID4gZG1heCkgewogICAgICAgIGRtYXggPSBkOwogICAgICAgIGNsb3Nlc3RGYWNlQiA9IGZhY2U7CiAgICAgIH0KICAgIH0KCiAgICBjb25zdCB3b3JsZFZlcnRzQjEgPSBbXTsKCiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGh1bGxCLmZhY2VzW2Nsb3Nlc3RGYWNlQl0ubGVuZ3RoOyBpKyspIHsKICAgICAgY29uc3QgYiA9IGh1bGxCLnZlcnRpY2VzW2h1bGxCLmZhY2VzW2Nsb3Nlc3RGYWNlQl1baV1dOwogICAgICBjb25zdCB3b3JsZGIgPSBuZXcgVmVjMygpOwogICAgICB3b3JsZGIuY29weShiKTsKICAgICAgcXVhdEIudm11bHQod29ybGRiLCB3b3JsZGIpOwogICAgICBwb3NCLnZhZGQod29ybGRiLCB3b3JsZGIpOwogICAgICB3b3JsZFZlcnRzQjEucHVzaCh3b3JsZGIpOwogICAgfQoKICAgIGlmIChjbG9zZXN0RmFjZUIgPj0gMCkgewogICAgICB0aGlzLmNsaXBGYWNlQWdhaW5zdEh1bGwoc2VwYXJhdGluZ05vcm1hbCwgcG9zQSwgcXVhdEEsIHdvcmxkVmVydHNCMSwgbWluRGlzdCwgbWF4RGlzdCwgcmVzdWx0KTsKICAgIH0KICB9CiAgLyoqDQogICAqIEZpbmQgdGhlIHNlcGFyYXRpbmcgYXhpcyBiZXR3ZWVuIHRoaXMgaHVsbCBhbmQgYW5vdGhlcg0KICAgKiBAbWV0aG9kIGZpbmRTZXBhcmF0aW5nQXhpcw0KICAgKiBAcGFyYW0ge0NvbnZleFBvbHloZWRyb259IGh1bGxCDQogICAqIEBwYXJhbSB7VmVjM30gcG9zQQ0KICAgKiBAcGFyYW0ge1F1YXRlcm5pb259IHF1YXRBDQogICAqIEBwYXJhbSB7VmVjM30gcG9zQg0KICAgKiBAcGFyYW0ge1F1YXRlcm5pb259IHF1YXRCDQogICAqIEBwYXJhbSB7VmVjM30gdGFyZ2V0IFRoZSB0YXJnZXQgdmVjdG9yIHRvIHNhdmUgdGhlIGF4aXMgaW4NCiAgICogQHJldHVybiB7Ym9vbH0gUmV0dXJucyBmYWxzZSBpZiBhIHNlcGFyYXRpb24gaXMgZm91bmQsIGVsc2UgdHJ1ZQ0KICAgKi8KCgogIGZpbmRTZXBhcmF0aW5nQXhpcyhodWxsQiwgcG9zQSwgcXVhdEEsIHBvc0IsIHF1YXRCLCB0YXJnZXQsIGZhY2VMaXN0QSwgZmFjZUxpc3RCKSB7CiAgICBjb25zdCBmYWNlQU5vcm1hbFdTMyA9IG5ldyBWZWMzKCk7CiAgICBjb25zdCBXb3JsZG5vcm1hbDEgPSBuZXcgVmVjMygpOwogICAgY29uc3QgZGVsdGFDID0gbmV3IFZlYzMoKTsKICAgIGNvbnN0IHdvcmxkRWRnZTAgPSBuZXcgVmVjMygpOwogICAgY29uc3Qgd29ybGRFZGdlMSA9IG5ldyBWZWMzKCk7CiAgICBjb25zdCBDcm9zcyA9IG5ldyBWZWMzKCk7CiAgICBsZXQgZG1pbiA9IE51bWJlci5NQVhfVkFMVUU7CiAgICBjb25zdCBodWxsQSA9IHRoaXM7CgogICAgaWYgKCFodWxsQS51bmlxdWVBeGVzKSB7CiAgICAgIGNvbnN0IG51bUZhY2VzQSA9IGZhY2VMaXN0QSA/IGZhY2VMaXN0QS5sZW5ndGggOiBodWxsQS5mYWNlcy5sZW5ndGg7IC8vIFRlc3QgZmFjZSBub3JtYWxzIGZyb20gaHVsbEEKCiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbnVtRmFjZXNBOyBpKyspIHsKICAgICAgICBjb25zdCBmaSA9IGZhY2VMaXN0QSA/IGZhY2VMaXN0QVtpXSA6IGk7IC8vIEdldCB3b3JsZCBmYWNlIG5vcm1hbAoKICAgICAgICBmYWNlQU5vcm1hbFdTMy5jb3B5KGh1bGxBLmZhY2VOb3JtYWxzW2ZpXSk7CiAgICAgICAgcXVhdEEudm11bHQoZmFjZUFOb3JtYWxXUzMsIGZhY2VBTm9ybWFsV1MzKTsKICAgICAgICBjb25zdCBkID0gaHVsbEEudGVzdFNlcEF4aXMoZmFjZUFOb3JtYWxXUzMsIGh1bGxCLCBwb3NBLCBxdWF0QSwgcG9zQiwgcXVhdEIpOwoKICAgICAgICBpZiAoZCA9PT0gZmFsc2UpIHsKICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CgogICAgICAgIGlmIChkIDwgZG1pbikgewogICAgICAgICAgZG1pbiA9IGQ7CiAgICAgICAgICB0YXJnZXQuY29weShmYWNlQU5vcm1hbFdTMyk7CiAgICAgICAgfQogICAgICB9CiAgICB9IGVsc2UgewogICAgICAvLyBUZXN0IHVuaXF1ZSBheGVzCiAgICAgIGZvciAobGV0IGkgPSAwOyBpICE9PSBodWxsQS51bmlxdWVBeGVzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgLy8gR2V0IHdvcmxkIGF4aXMKICAgICAgICBxdWF0QS52bXVsdChodWxsQS51bmlxdWVBeGVzW2ldLCBmYWNlQU5vcm1hbFdTMyk7CiAgICAgICAgY29uc3QgZCA9IGh1bGxBLnRlc3RTZXBBeGlzKGZhY2VBTm9ybWFsV1MzLCBodWxsQiwgcG9zQSwgcXVhdEEsIHBvc0IsIHF1YXRCKTsKCiAgICAgICAgaWYgKGQgPT09IGZhbHNlKSB7CiAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQoKICAgICAgICBpZiAoZCA8IGRtaW4pIHsKICAgICAgICAgIGRtaW4gPSBkOwogICAgICAgICAgdGFyZ2V0LmNvcHkoZmFjZUFOb3JtYWxXUzMpOwogICAgICAgIH0KICAgICAgfQogICAgfQoKICAgIGlmICghaHVsbEIudW5pcXVlQXhlcykgewogICAgICAvLyBUZXN0IGZhY2Ugbm9ybWFscyBmcm9tIGh1bGxCCiAgICAgIGNvbnN0IG51bUZhY2VzQiA9IGZhY2VMaXN0QiA/IGZhY2VMaXN0Qi5sZW5ndGggOiBodWxsQi5mYWNlcy5sZW5ndGg7CgogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG51bUZhY2VzQjsgaSsrKSB7CiAgICAgICAgY29uc3QgZmkgPSBmYWNlTGlzdEIgPyBmYWNlTGlzdEJbaV0gOiBpOwogICAgICAgIFdvcmxkbm9ybWFsMS5jb3B5KGh1bGxCLmZhY2VOb3JtYWxzW2ZpXSk7CiAgICAgICAgcXVhdEIudm11bHQoV29ybGRub3JtYWwxLCBXb3JsZG5vcm1hbDEpOwogICAgICAgIGNvbnN0IGQgPSBodWxsQS50ZXN0U2VwQXhpcyhXb3JsZG5vcm1hbDEsIGh1bGxCLCBwb3NBLCBxdWF0QSwgcG9zQiwgcXVhdEIpOwoKICAgICAgICBpZiAoZCA9PT0gZmFsc2UpIHsKICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CgogICAgICAgIGlmIChkIDwgZG1pbikgewogICAgICAgICAgZG1pbiA9IGQ7CiAgICAgICAgICB0YXJnZXQuY29weShXb3JsZG5vcm1hbDEpOwogICAgICAgIH0KICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgLy8gVGVzdCB1bmlxdWUgYXhlcyBpbiBCCiAgICAgIGZvciAobGV0IGkgPSAwOyBpICE9PSBodWxsQi51bmlxdWVBeGVzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgcXVhdEIudm11bHQoaHVsbEIudW5pcXVlQXhlc1tpXSwgV29ybGRub3JtYWwxKTsKICAgICAgICBjb25zdCBkID0gaHVsbEEudGVzdFNlcEF4aXMoV29ybGRub3JtYWwxLCBodWxsQiwgcG9zQSwgcXVhdEEsIHBvc0IsIHF1YXRCKTsKCiAgICAgICAgaWYgKGQgPT09IGZhbHNlKSB7CiAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQoKICAgICAgICBpZiAoZCA8IGRtaW4pIHsKICAgICAgICAgIGRtaW4gPSBkOwogICAgICAgICAgdGFyZ2V0LmNvcHkoV29ybGRub3JtYWwxKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0gLy8gVGVzdCBlZGdlcwoKCiAgICBmb3IgKGxldCBlMCA9IDA7IGUwICE9PSBodWxsQS51bmlxdWVFZGdlcy5sZW5ndGg7IGUwKyspIHsKICAgICAgLy8gR2V0IHdvcmxkIGVkZ2UKICAgICAgcXVhdEEudm11bHQoaHVsbEEudW5pcXVlRWRnZXNbZTBdLCB3b3JsZEVkZ2UwKTsKCiAgICAgIGZvciAobGV0IGUxID0gMDsgZTEgIT09IGh1bGxCLnVuaXF1ZUVkZ2VzLmxlbmd0aDsgZTErKykgewogICAgICAgIC8vIEdldCB3b3JsZCBlZGdlIDIKICAgICAgICBxdWF0Qi52bXVsdChodWxsQi51bmlxdWVFZGdlc1tlMV0sIHdvcmxkRWRnZTEpOwogICAgICAgIHdvcmxkRWRnZTAuY3Jvc3Mod29ybGRFZGdlMSwgQ3Jvc3MpOwoKICAgICAgICBpZiAoIUNyb3NzLmFsbW9zdFplcm8oKSkgewogICAgICAgICAgQ3Jvc3Mubm9ybWFsaXplKCk7CiAgICAgICAgICBjb25zdCBkaXN0ID0gaHVsbEEudGVzdFNlcEF4aXMoQ3Jvc3MsIGh1bGxCLCBwb3NBLCBxdWF0QSwgcG9zQiwgcXVhdEIpOwoKICAgICAgICAgIGlmIChkaXN0ID09PSBmYWxzZSkgewogICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKGRpc3QgPCBkbWluKSB7CiAgICAgICAgICAgIGRtaW4gPSBkaXN0OwogICAgICAgICAgICB0YXJnZXQuY29weShDcm9zcyk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9CgogICAgcG9zQi52c3ViKHBvc0EsIGRlbHRhQyk7CgogICAgaWYgKGRlbHRhQy5kb3QodGFyZ2V0KSA+IDAuMCkgewogICAgICB0YXJnZXQubmVnYXRlKHRhcmdldCk7CiAgICB9CgogICAgcmV0dXJuIHRydWU7CiAgfQogIC8qKg0KICAgKiBUZXN0IHNlcGFyYXRpbmcgYXhpcyBhZ2FpbnN0IHR3byBodWxscy4gQm90aCBodWxscyBhcmUgcHJvamVjdGVkIG9udG8gdGhlIGF4aXMgYW5kIHRoZSBvdmVybGFwIHNpemUgaXMgcmV0dXJuZWQgaWYgdGhlcmUgaXMgb25lLg0KICAgKiBAbWV0aG9kIHRlc3RTZXBBeGlzDQogICAqIEBwYXJhbSB7VmVjM30gYXhpcw0KICAgKiBAcGFyYW0ge0NvbnZleFBvbHloZWRyb259IGh1bGxCDQogICAqIEBwYXJhbSB7VmVjM30gcG9zQQ0KICAgKiBAcGFyYW0ge1F1YXRlcm5pb259IHF1YXRBDQogICAqIEBwYXJhbSB7VmVjM30gcG9zQg0KICAgKiBAcGFyYW0ge1F1YXRlcm5pb259IHF1YXRCDQogICAqIEByZXR1cm4ge251bWJlcn0gVGhlIG92ZXJsYXAgZGVwdGgsIG9yIEZBTFNFIGlmIG5vIHBlbmV0cmF0aW9uLg0KICAgKi8KCgogIHRlc3RTZXBBeGlzKGF4aXMsIGh1bGxCLCBwb3NBLCBxdWF0QSwgcG9zQiwgcXVhdEIpIHsKICAgIGNvbnN0IGh1bGxBID0gdGhpczsKICAgIENvbnZleFBvbHloZWRyb24ucHJvamVjdChodWxsQSwgYXhpcywgcG9zQSwgcXVhdEEsIG1heG1pbkEpOwogICAgQ29udmV4UG9seWhlZHJvbi5wcm9qZWN0KGh1bGxCLCBheGlzLCBwb3NCLCBxdWF0QiwgbWF4bWluQik7CiAgICBjb25zdCBtYXhBID0gbWF4bWluQVswXTsKICAgIGNvbnN0IG1pbkEgPSBtYXhtaW5BWzFdOwogICAgY29uc3QgbWF4QiA9IG1heG1pbkJbMF07CiAgICBjb25zdCBtaW5CID0gbWF4bWluQlsxXTsKCiAgICBpZiAobWF4QSA8IG1pbkIgfHwgbWF4QiA8IG1pbkEpIHsKICAgICAgcmV0dXJuIGZhbHNlOyAvLyBTZXBhcmF0ZWQKICAgIH0KCiAgICBjb25zdCBkMCA9IG1heEEgLSBtaW5COwogICAgY29uc3QgZDEgPSBtYXhCIC0gbWluQTsKICAgIGNvbnN0IGRlcHRoID0gZDAgPCBkMSA/IGQwIDogZDE7CiAgICByZXR1cm4gZGVwdGg7CiAgfQogIC8qKg0KICAgKiBAbWV0aG9kIGNhbGN1bGF0ZUxvY2FsSW5lcnRpYQ0KICAgKiBAcGFyYW0gIHtOdW1iZXJ9IG1hc3MNCiAgICogQHBhcmFtICB7VmVjM30gdGFyZ2V0DQogICAqLwoKCiAgY2FsY3VsYXRlTG9jYWxJbmVydGlhKG1hc3MsIHRhcmdldCkgewogICAgLy8gQXBwcm94aW1hdGUgd2l0aCBib3ggaW5lcnRpYQogICAgLy8gRXhhY3QgaW5lcnRpYSBjYWxjdWxhdGlvbiBpcyBvdmVya2lsbCwgYnV0IHNlZSBodHRwOi8vZ2VvbWV0cmljdG9vbHMuY29tL0RvY3VtZW50YXRpb24vUG9seWhlZHJhbE1hc3NQcm9wZXJ0aWVzLnBkZiBmb3IgdGhlIGNvcnJlY3Qgd2F5IHRvIGRvIGl0CiAgICBjb25zdCBhYWJibWF4ID0gbmV3IFZlYzMoKTsKICAgIGNvbnN0IGFhYmJtaW4gPSBuZXcgVmVjMygpOwogICAgdGhpcy5jb21wdXRlTG9jYWxBQUJCKGFhYmJtaW4sIGFhYmJtYXgpOwogICAgY29uc3QgeCA9IGFhYmJtYXgueCAtIGFhYmJtaW4ueDsKICAgIGNvbnN0IHkgPSBhYWJibWF4LnkgLSBhYWJibWluLnk7CiAgICBjb25zdCB6ID0gYWFiYm1heC56IC0gYWFiYm1pbi56OwogICAgdGFyZ2V0LnggPSAxLjAgLyAxMi4wICogbWFzcyAqICgyICogeSAqIDIgKiB5ICsgMiAqIHogKiAyICogeik7CiAgICB0YXJnZXQueSA9IDEuMCAvIDEyLjAgKiBtYXNzICogKDIgKiB4ICogMiAqIHggKyAyICogeiAqIDIgKiB6KTsKICAgIHRhcmdldC56ID0gMS4wIC8gMTIuMCAqIG1hc3MgKiAoMiAqIHkgKiAyICogeSArIDIgKiB4ICogMiAqIHgpOwogIH0KICAvKioNCiAgICogQG1ldGhvZCBnZXRQbGFuZUNvbnN0YW50T2ZGYWNlDQogICAqIEBwYXJhbSAge051bWJlcn0gZmFjZV9pIEluZGV4IG9mIHRoZSBmYWNlDQogICAqIEByZXR1cm4ge051bWJlcn0NCiAgICovCgoKICBnZXRQbGFuZUNvbnN0YW50T2ZGYWNlKGZhY2VfaSkgewogICAgY29uc3QgZiA9IHRoaXMuZmFjZXNbZmFjZV9pXTsKICAgIGNvbnN0IG4gPSB0aGlzLmZhY2VOb3JtYWxzW2ZhY2VfaV07CiAgICBjb25zdCB2ID0gdGhpcy52ZXJ0aWNlc1tmWzBdXTsKICAgIGNvbnN0IGMgPSAtbi5kb3Qodik7CiAgICByZXR1cm4gYzsKICB9CiAgLyoqDQogICAqIENsaXAgYSBmYWNlIGFnYWluc3QgYSBodWxsLg0KICAgKiBAbWV0aG9kIGNsaXBGYWNlQWdhaW5zdEh1bGwNCiAgICogQHBhcmFtIHtWZWMzfSBzZXBhcmF0aW5nTm9ybWFsDQogICAqIEBwYXJhbSB7VmVjM30gcG9zQQ0KICAgKiBAcGFyYW0ge1F1YXRlcm5pb259IHF1YXRBDQogICAqIEBwYXJhbSB7QXJyYXl9IHdvcmxkVmVydHNCMSBBbiBhcnJheSBvZiBWZWMzIHdpdGggdmVydGljZXMgaW4gdGhlIHdvcmxkIGZyYW1lLg0KICAgKiBAcGFyYW0ge051bWJlcn0gbWluRGlzdCBEaXN0YW5jZSBjbGFtcGluZw0KICAgKiBAcGFyYW0ge051bWJlcn0gbWF4RGlzdA0KICAgKiBAcGFyYW0gQXJyYXkgcmVzdWx0IEFycmF5IHRvIHN0b3JlIHJlc3VsdGluZyBjb250YWN0IHBvaW50cyBpbi4gV2lsbCBiZSBvYmplY3RzIHdpdGggcHJvcGVydGllczogcG9pbnQsIGRlcHRoLCBub3JtYWwuIFRoZXNlIGFyZSByZXByZXNlbnRlZCBpbiB3b3JsZCBjb29yZGluYXRlcy4NCiAgICovCgoKICBjbGlwRmFjZUFnYWluc3RIdWxsKHNlcGFyYXRpbmdOb3JtYWwsIHBvc0EsIHF1YXRBLCB3b3JsZFZlcnRzQjEsIG1pbkRpc3QsIG1heERpc3QsIHJlc3VsdCkgewogICAgY29uc3QgZmFjZUFOb3JtYWxXUyA9IG5ldyBWZWMzKCk7CiAgICBjb25zdCBlZGdlMCA9IG5ldyBWZWMzKCk7CiAgICBjb25zdCBXb3JsZEVkZ2UwID0gbmV3IFZlYzMoKTsKICAgIGNvbnN0IHdvcmxkUGxhbmVBbm9ybWFsMSA9IG5ldyBWZWMzKCk7CiAgICBjb25zdCBwbGFuZU5vcm1hbFdTMSA9IG5ldyBWZWMzKCk7CiAgICBjb25zdCB3b3JsZEExID0gbmV3IFZlYzMoKTsKICAgIGNvbnN0IGxvY2FsUGxhbmVOb3JtYWwgPSBuZXcgVmVjMygpOwogICAgY29uc3QgcGxhbmVOb3JtYWxXUyA9IG5ldyBWZWMzKCk7CiAgICBjb25zdCBodWxsQSA9IHRoaXM7CiAgICBjb25zdCB3b3JsZFZlcnRzQjIgPSBbXTsKICAgIGNvbnN0IHBWdHhJbiA9IHdvcmxkVmVydHNCMTsKICAgIGNvbnN0IHBWdHhPdXQgPSB3b3JsZFZlcnRzQjI7CiAgICBsZXQgY2xvc2VzdEZhY2VBID0gLTE7CiAgICBsZXQgZG1pbiA9IE51bWJlci5NQVhfVkFMVUU7IC8vIEZpbmQgdGhlIGZhY2Ugd2l0aCBub3JtYWwgY2xvc2VzdCB0byB0aGUgc2VwYXJhdGluZyBheGlzCgogICAgZm9yIChsZXQgZmFjZSA9IDA7IGZhY2UgPCBodWxsQS5mYWNlcy5sZW5ndGg7IGZhY2UrKykgewogICAgICBmYWNlQU5vcm1hbFdTLmNvcHkoaHVsbEEuZmFjZU5vcm1hbHNbZmFjZV0pOwogICAgICBxdWF0QS52bXVsdChmYWNlQU5vcm1hbFdTLCBmYWNlQU5vcm1hbFdTKTsKICAgICAgY29uc3QgZCA9IGZhY2VBTm9ybWFsV1MuZG90KHNlcGFyYXRpbmdOb3JtYWwpOwoKICAgICAgaWYgKGQgPCBkbWluKSB7CiAgICAgICAgZG1pbiA9IGQ7CiAgICAgICAgY2xvc2VzdEZhY2VBID0gZmFjZTsKICAgICAgfQogICAgfQoKICAgIGlmIChjbG9zZXN0RmFjZUEgPCAwKSB7CiAgICAgIHJldHVybjsKICAgIH0gLy8gR2V0IHRoZSBmYWNlIGFuZCBjb25zdHJ1Y3QgY29ubmVjdGVkIGZhY2VzCgoKICAgIGNvbnN0IHBvbHlBID0gaHVsbEEuZmFjZXNbY2xvc2VzdEZhY2VBXTsKICAgIHBvbHlBLmNvbm5lY3RlZEZhY2VzID0gW107CgogICAgZm9yIChsZXQgaSA9IDA7IGkgPCBodWxsQS5mYWNlcy5sZW5ndGg7IGkrKykgewogICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGh1bGxBLmZhY2VzW2ldLmxlbmd0aDsgaisrKSB7CiAgICAgICAgaWYgKAogICAgICAgIC8qIFNoYXJpbmcgYSB2ZXJ0ZXgqLwogICAgICAgIHBvbHlBLmluZGV4T2YoaHVsbEEuZmFjZXNbaV1bal0pICE9PSAtMSAmJgogICAgICAgIC8qIE5vdCB0aGUgb25lIHdlIGFyZSBsb29raW5nIGZvciBjb25uZWN0aW9ucyBmcm9tICovCiAgICAgICAgaSAhPT0gY2xvc2VzdEZhY2VBICYmCiAgICAgICAgLyogTm90IGFscmVhZHkgYWRkZWQgKi8KICAgICAgICBwb2x5QS5jb25uZWN0ZWRGYWNlcy5pbmRleE9mKGkpID09PSAtMSkgewogICAgICAgICAgcG9seUEuY29ubmVjdGVkRmFjZXMucHVzaChpKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0gLy8gQ2xpcCB0aGUgcG9seWdvbiB0byB0aGUgYmFjayBvZiB0aGUgcGxhbmVzIG9mIGFsbCBmYWNlcyBvZiBodWxsIEEsCiAgICAvLyB0aGF0IGFyZSBhZGphY2VudCB0byB0aGUgd2l0bmVzcyBmYWNlCgoKICAgIGNvbnN0IG51bVZlcnRpY2VzQSA9IHBvbHlBLmxlbmd0aDsKCiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG51bVZlcnRpY2VzQTsgaSsrKSB7CiAgICAgIGNvbnN0IGEgPSBodWxsQS52ZXJ0aWNlc1twb2x5QVtpXV07CiAgICAgIGNvbnN0IGIgPSBodWxsQS52ZXJ0aWNlc1twb2x5QVsoaSArIDEpICUgbnVtVmVydGljZXNBXV07CiAgICAgIGEudnN1YihiLCBlZGdlMCk7CiAgICAgIFdvcmxkRWRnZTAuY29weShlZGdlMCk7CiAgICAgIHF1YXRBLnZtdWx0KFdvcmxkRWRnZTAsIFdvcmxkRWRnZTApOwogICAgICBwb3NBLnZhZGQoV29ybGRFZGdlMCwgV29ybGRFZGdlMCk7CiAgICAgIHdvcmxkUGxhbmVBbm9ybWFsMS5jb3B5KHRoaXMuZmFjZU5vcm1hbHNbY2xvc2VzdEZhY2VBXSk7CiAgICAgIHF1YXRBLnZtdWx0KHdvcmxkUGxhbmVBbm9ybWFsMSwgd29ybGRQbGFuZUFub3JtYWwxKTsKICAgICAgcG9zQS52YWRkKHdvcmxkUGxhbmVBbm9ybWFsMSwgd29ybGRQbGFuZUFub3JtYWwxKTsKICAgICAgV29ybGRFZGdlMC5jcm9zcyh3b3JsZFBsYW5lQW5vcm1hbDEsIHBsYW5lTm9ybWFsV1MxKTsKICAgICAgcGxhbmVOb3JtYWxXUzEubmVnYXRlKHBsYW5lTm9ybWFsV1MxKTsKICAgICAgd29ybGRBMS5jb3B5KGEpOwogICAgICBxdWF0QS52bXVsdCh3b3JsZEExLCB3b3JsZEExKTsKICAgICAgcG9zQS52YWRkKHdvcmxkQTEsIHdvcmxkQTEpOwogICAgICBjb25zdCBvdGhlckZhY2UgPSBwb2x5QS5jb25uZWN0ZWRGYWNlc1tpXTsKICAgICAgbG9jYWxQbGFuZU5vcm1hbC5jb3B5KHRoaXMuZmFjZU5vcm1hbHNbb3RoZXJGYWNlXSk7CiAgICAgIGNvbnN0IGxvY2FsUGxhbmVFcSA9IHRoaXMuZ2V0UGxhbmVDb25zdGFudE9mRmFjZShvdGhlckZhY2UpOwogICAgICBwbGFuZU5vcm1hbFdTLmNvcHkobG9jYWxQbGFuZU5vcm1hbCk7CiAgICAgIHF1YXRBLnZtdWx0KHBsYW5lTm9ybWFsV1MsIHBsYW5lTm9ybWFsV1MpOwogICAgICBjb25zdCBwbGFuZUVxV1MgPSBsb2NhbFBsYW5lRXEgLSBwbGFuZU5vcm1hbFdTLmRvdChwb3NBKTsgLy8gQ2xpcCBmYWNlIGFnYWluc3Qgb3VyIGNvbnN0cnVjdGVkIHBsYW5lCgogICAgICB0aGlzLmNsaXBGYWNlQWdhaW5zdFBsYW5lKHBWdHhJbiwgcFZ0eE91dCwgcGxhbmVOb3JtYWxXUywgcGxhbmVFcVdTKTsgLy8gVGhyb3cgYXdheSBhbGwgY2xpcHBlZCBwb2ludHMsIGJ1dCBzYXZlIHRoZSByZW1haW5pbmcgdW50aWwgbmV4dCBjbGlwCgogICAgICB3aGlsZSAocFZ0eEluLmxlbmd0aCkgewogICAgICAgIHBWdHhJbi5zaGlmdCgpOwogICAgICB9CgogICAgICB3aGlsZSAocFZ0eE91dC5sZW5ndGgpIHsKICAgICAgICBwVnR4SW4ucHVzaChwVnR4T3V0LnNoaWZ0KCkpOwogICAgICB9CiAgICB9IC8vIG9ubHkga2VlcCBjb250YWN0IHBvaW50cyB0aGF0IGFyZSBiZWhpbmQgdGhlIHdpdG5lc3MgZmFjZQoKCiAgICBsb2NhbFBsYW5lTm9ybWFsLmNvcHkodGhpcy5mYWNlTm9ybWFsc1tjbG9zZXN0RmFjZUFdKTsKICAgIGNvbnN0IGxvY2FsUGxhbmVFcSA9IHRoaXMuZ2V0UGxhbmVDb25zdGFudE9mRmFjZShjbG9zZXN0RmFjZUEpOwogICAgcGxhbmVOb3JtYWxXUy5jb3B5KGxvY2FsUGxhbmVOb3JtYWwpOwogICAgcXVhdEEudm11bHQocGxhbmVOb3JtYWxXUywgcGxhbmVOb3JtYWxXUyk7CiAgICBjb25zdCBwbGFuZUVxV1MgPSBsb2NhbFBsYW5lRXEgLSBwbGFuZU5vcm1hbFdTLmRvdChwb3NBKTsKCiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBWdHhJbi5sZW5ndGg7IGkrKykgewogICAgICBsZXQgZGVwdGggPSBwbGFuZU5vcm1hbFdTLmRvdChwVnR4SW5baV0pICsgcGxhbmVFcVdTOyAvLyA/Pz8KCiAgICAgIGlmIChkZXB0aCA8PSBtaW5EaXN0KSB7CiAgICAgICAgY29uc29sZS5sb2coImNsYW1wZWQ6IGRlcHRoPSIgKyBkZXB0aCArICIgdG8gbWluRGlzdD0iICsgbWluRGlzdCk7CiAgICAgICAgZGVwdGggPSBtaW5EaXN0OwogICAgICB9CgogICAgICBpZiAoZGVwdGggPD0gbWF4RGlzdCkgewogICAgICAgIGNvbnN0IHBvaW50ID0gcFZ0eEluW2ldOwoKICAgICAgICBpZiAoZGVwdGggPD0gMWUtNikgewogICAgICAgICAgY29uc3QgcCA9IHsKICAgICAgICAgICAgcG9pbnQsCiAgICAgICAgICAgIG5vcm1hbDogcGxhbmVOb3JtYWxXUywKICAgICAgICAgICAgZGVwdGgKICAgICAgICAgIH07CiAgICAgICAgICByZXN1bHQucHVzaChwKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9CiAgLyoqDQogICAqIENsaXAgYSBmYWNlIGluIGEgaHVsbCBhZ2FpbnN0IHRoZSBiYWNrIG9mIGEgcGxhbmUuDQogICAqIEBtZXRob2QgY2xpcEZhY2VBZ2FpbnN0UGxhbmUNCiAgICogQHBhcmFtIHtBcnJheX0gaW5WZXJ0aWNlcw0KICAgKiBAcGFyYW0ge0FycmF5fSBvdXRWZXJ0aWNlcw0KICAgKiBAcGFyYW0ge1ZlYzN9IHBsYW5lTm9ybWFsDQogICAqIEBwYXJhbSB7TnVtYmVyfSBwbGFuZUNvbnN0YW50IFRoZSBjb25zdGFudCBpbiB0aGUgbWF0aGVtYXRpY2FsIHBsYW5lIGVxdWF0aW9uDQogICAqLwoKCiAgY2xpcEZhY2VBZ2FpbnN0UGxhbmUoaW5WZXJ0aWNlcywgb3V0VmVydGljZXMsIHBsYW5lTm9ybWFsLCBwbGFuZUNvbnN0YW50KSB7CiAgICBsZXQgbl9kb3RfZmlyc3Q7CiAgICBsZXQgbl9kb3RfbGFzdDsKICAgIGNvbnN0IG51bVZlcnRzID0gaW5WZXJ0aWNlcy5sZW5ndGg7CgogICAgaWYgKG51bVZlcnRzIDwgMikgewogICAgICByZXR1cm4gb3V0VmVydGljZXM7CiAgICB9CgogICAgbGV0IGZpcnN0VmVydGV4ID0gaW5WZXJ0aWNlc1tpblZlcnRpY2VzLmxlbmd0aCAtIDFdOwogICAgbGV0IGxhc3RWZXJ0ZXggPSBpblZlcnRpY2VzWzBdOwogICAgbl9kb3RfZmlyc3QgPSBwbGFuZU5vcm1hbC5kb3QoZmlyc3RWZXJ0ZXgpICsgcGxhbmVDb25zdGFudDsKCiAgICBmb3IgKGxldCB2aSA9IDA7IHZpIDwgbnVtVmVydHM7IHZpKyspIHsKICAgICAgbGFzdFZlcnRleCA9IGluVmVydGljZXNbdmldOwogICAgICBuX2RvdF9sYXN0ID0gcGxhbmVOb3JtYWwuZG90KGxhc3RWZXJ0ZXgpICsgcGxhbmVDb25zdGFudDsKCiAgICAgIGlmIChuX2RvdF9maXJzdCA8IDApIHsKICAgICAgICBpZiAobl9kb3RfbGFzdCA8IDApIHsKICAgICAgICAgIC8vIFN0YXJ0IDwgMCwgZW5kIDwgMCwgc28gb3V0cHV0IGxhc3RWZXJ0ZXgKICAgICAgICAgIGNvbnN0IG5ld3YgPSBuZXcgVmVjMygpOwogICAgICAgICAgbmV3di5jb3B5KGxhc3RWZXJ0ZXgpOwogICAgICAgICAgb3V0VmVydGljZXMucHVzaChuZXd2KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgLy8gU3RhcnQgPCAwLCBlbmQgPj0gMCwgc28gb3V0cHV0IGludGVyc2VjdGlvbgogICAgICAgICAgY29uc3QgbmV3diA9IG5ldyBWZWMzKCk7CiAgICAgICAgICBmaXJzdFZlcnRleC5sZXJwKGxhc3RWZXJ0ZXgsIG5fZG90X2ZpcnN0IC8gKG5fZG90X2ZpcnN0IC0gbl9kb3RfbGFzdCksIG5ld3YpOwogICAgICAgICAgb3V0VmVydGljZXMucHVzaChuZXd2KTsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgaWYgKG5fZG90X2xhc3QgPCAwKSB7CiAgICAgICAgICAvLyBTdGFydCA+PSAwLCBlbmQgPCAwIHNvIG91dHB1dCBpbnRlcnNlY3Rpb24gYW5kIGVuZAogICAgICAgICAgY29uc3QgbmV3diA9IG5ldyBWZWMzKCk7CiAgICAgICAgICBmaXJzdFZlcnRleC5sZXJwKGxhc3RWZXJ0ZXgsIG5fZG90X2ZpcnN0IC8gKG5fZG90X2ZpcnN0IC0gbl9kb3RfbGFzdCksIG5ld3YpOwogICAgICAgICAgb3V0VmVydGljZXMucHVzaChuZXd2KTsKICAgICAgICAgIG91dFZlcnRpY2VzLnB1c2gobGFzdFZlcnRleCk7CiAgICAgICAgfQogICAgICB9CgogICAgICBmaXJzdFZlcnRleCA9IGxhc3RWZXJ0ZXg7CiAgICAgIG5fZG90X2ZpcnN0ID0gbl9kb3RfbGFzdDsKICAgIH0KCiAgICByZXR1cm4gb3V0VmVydGljZXM7CiAgfSAvLyBVcGRhdGVzIC53b3JsZFZlcnRpY2VzIGFuZCBzZXRzIC53b3JsZFZlcnRpY2VzTmVlZHNVcGRhdGUgdG8gZmFsc2UuCgoKICBjb21wdXRlV29ybGRWZXJ0aWNlcyhwb3NpdGlvbiwgcXVhdCkgewogICAgd2hpbGUgKHRoaXMud29ybGRWZXJ0aWNlcy5sZW5ndGggPCB0aGlzLnZlcnRpY2VzLmxlbmd0aCkgewogICAgICB0aGlzLndvcmxkVmVydGljZXMucHVzaChuZXcgVmVjMygpKTsKICAgIH0KCiAgICBjb25zdCB2ZXJ0cyA9IHRoaXMudmVydGljZXM7CiAgICBjb25zdCB3b3JsZFZlcnRzID0gdGhpcy53b3JsZFZlcnRpY2VzOwoKICAgIGZvciAobGV0IGkgPSAwOyBpICE9PSB0aGlzLnZlcnRpY2VzLmxlbmd0aDsgaSsrKSB7CiAgICAgIHF1YXQudm11bHQodmVydHNbaV0sIHdvcmxkVmVydHNbaV0pOwogICAgICBwb3NpdGlvbi52YWRkKHdvcmxkVmVydHNbaV0sIHdvcmxkVmVydHNbaV0pOwogICAgfQoKICAgIHRoaXMud29ybGRWZXJ0aWNlc05lZWRzVXBkYXRlID0gZmFsc2U7CiAgfQoKICBjb21wdXRlTG9jYWxBQUJCKGFhYmJtaW4sIGFhYmJtYXgpIHsKICAgIGNvbnN0IHZlcnRpY2VzID0gdGhpcy52ZXJ0aWNlczsKICAgIGFhYmJtaW4uc2V0KE51bWJlci5NQVhfVkFMVUUsIE51bWJlci5NQVhfVkFMVUUsIE51bWJlci5NQVhfVkFMVUUpOwogICAgYWFiYm1heC5zZXQoLU51bWJlci5NQVhfVkFMVUUsIC1OdW1iZXIuTUFYX1ZBTFVFLCAtTnVtYmVyLk1BWF9WQUxVRSk7CgogICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnZlcnRpY2VzLmxlbmd0aDsgaSsrKSB7CiAgICAgIGNvbnN0IHYgPSB2ZXJ0aWNlc1tpXTsKCiAgICAgIGlmICh2LnggPCBhYWJibWluLngpIHsKICAgICAgICBhYWJibWluLnggPSB2Lng7CiAgICAgIH0gZWxzZSBpZiAodi54ID4gYWFiYm1heC54KSB7CiAgICAgICAgYWFiYm1heC54ID0gdi54OwogICAgICB9CgogICAgICBpZiAodi55IDwgYWFiYm1pbi55KSB7CiAgICAgICAgYWFiYm1pbi55ID0gdi55OwogICAgICB9IGVsc2UgaWYgKHYueSA+IGFhYmJtYXgueSkgewogICAgICAgIGFhYmJtYXgueSA9IHYueTsKICAgICAgfQoKICAgICAgaWYgKHYueiA8IGFhYmJtaW4ueikgewogICAgICAgIGFhYmJtaW4ueiA9IHYuejsKICAgICAgfSBlbHNlIGlmICh2LnogPiBhYWJibWF4LnopIHsKICAgICAgICBhYWJibWF4LnogPSB2Lno7CiAgICAgIH0KICAgIH0KICB9CiAgLyoqDQogICAqIFVwZGF0ZXMgLndvcmxkVmVydGljZXMgYW5kIHNldHMgLndvcmxkVmVydGljZXNOZWVkc1VwZGF0ZSB0byBmYWxzZS4NCiAgICogQG1ldGhvZCBjb21wdXRlV29ybGRGYWNlTm9ybWFscw0KICAgKiBAcGFyYW0gIHtRdWF0ZXJuaW9ufSBxdWF0DQogICAqLwoKCiAgY29tcHV0ZVdvcmxkRmFjZU5vcm1hbHMocXVhdCkgewogICAgY29uc3QgTiA9IHRoaXMuZmFjZU5vcm1hbHMubGVuZ3RoOwoKICAgIHdoaWxlICh0aGlzLndvcmxkRmFjZU5vcm1hbHMubGVuZ3RoIDwgTikgewogICAgICB0aGlzLndvcmxkRmFjZU5vcm1hbHMucHVzaChuZXcgVmVjMygpKTsKICAgIH0KCiAgICBjb25zdCBub3JtYWxzID0gdGhpcy5mYWNlTm9ybWFsczsKICAgIGNvbnN0IHdvcmxkTm9ybWFscyA9IHRoaXMud29ybGRGYWNlTm9ybWFsczsKCiAgICBmb3IgKGxldCBpID0gMDsgaSAhPT0gTjsgaSsrKSB7CiAgICAgIHF1YXQudm11bHQobm9ybWFsc1tpXSwgd29ybGROb3JtYWxzW2ldKTsKICAgIH0KCiAgICB0aGlzLndvcmxkRmFjZU5vcm1hbHNOZWVkc1VwZGF0ZSA9IGZhbHNlOwogIH0KICAvKioNCiAgICogQG1ldGhvZCB1cGRhdGVCb3VuZGluZ1NwaGVyZVJhZGl1cw0KICAgKi8KCgogIHVwZGF0ZUJvdW5kaW5nU3BoZXJlUmFkaXVzKCkgewogICAgLy8gQXNzdW1lIHBvaW50cyBhcmUgZGlzdHJpYnV0ZWQgd2l0aCBsb2NhbCAoMCwwLDApIGFzIGNlbnRlcgogICAgbGV0IG1heDIgPSAwOwogICAgY29uc3QgdmVydHMgPSB0aGlzLnZlcnRpY2VzOwoKICAgIGZvciAobGV0IGkgPSAwOyBpICE9PSB2ZXJ0cy5sZW5ndGg7IGkrKykgewogICAgICBjb25zdCBub3JtMiA9IHZlcnRzW2ldLmxlbmd0aFNxdWFyZWQoKTsKCiAgICAgIGlmIChub3JtMiA+IG1heDIpIHsKICAgICAgICBtYXgyID0gbm9ybTI7CiAgICAgIH0KICAgIH0KCiAgICB0aGlzLmJvdW5kaW5nU3BoZXJlUmFkaXVzID0gTWF0aC5zcXJ0KG1heDIpOwogIH0KICAvKioNCiAgICogQG1ldGhvZCBjYWxjdWxhdGVXb3JsZEFBQkINCiAgICogQHBhcmFtIHtWZWMzfSAgICAgICAgcG9zDQogICAqIEBwYXJhbSB7UXVhdGVybmlvbn0gIHF1YXQNCiAgICogQHBhcmFtIHtWZWMzfSAgICAgICAgbWluDQogICAqIEBwYXJhbSB7VmVjM30gICAgICAgIG1heA0KICAgKi8KCgogIGNhbGN1bGF0ZVdvcmxkQUFCQihwb3MsIHF1YXQsIG1pbiwgbWF4KSB7CiAgICBjb25zdCB2ZXJ0cyA9IHRoaXMudmVydGljZXM7CiAgICBsZXQgbWlueDsKICAgIGxldCBtaW55OwogICAgbGV0IG1pbno7CiAgICBsZXQgbWF4eDsKICAgIGxldCBtYXh5OwogICAgbGV0IG1heHo7CiAgICBsZXQgdGVtcFdvcmxkVmVydGV4ID0gbmV3IFZlYzMoKTsKCiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZlcnRzLmxlbmd0aDsgaSsrKSB7CiAgICAgIHRlbXBXb3JsZFZlcnRleC5jb3B5KHZlcnRzW2ldKTsKICAgICAgcXVhdC52bXVsdCh0ZW1wV29ybGRWZXJ0ZXgsIHRlbXBXb3JsZFZlcnRleCk7CiAgICAgIHBvcy52YWRkKHRlbXBXb3JsZFZlcnRleCwgdGVtcFdvcmxkVmVydGV4KTsKICAgICAgY29uc3QgdiA9IHRlbXBXb3JsZFZlcnRleDsKCiAgICAgIGlmIChtaW54ID09PSB1bmRlZmluZWQgfHwgdi54IDwgbWlueCkgewogICAgICAgIG1pbnggPSB2Lng7CiAgICAgIH0KCiAgICAgIGlmIChtYXh4ID09PSB1bmRlZmluZWQgfHwgdi54ID4gbWF4eCkgewogICAgICAgIG1heHggPSB2Lng7CiAgICAgIH0KCiAgICAgIGlmIChtaW55ID09PSB1bmRlZmluZWQgfHwgdi55IDwgbWlueSkgewogICAgICAgIG1pbnkgPSB2Lnk7CiAgICAgIH0KCiAgICAgIGlmIChtYXh5ID09PSB1bmRlZmluZWQgfHwgdi55ID4gbWF4eSkgewogICAgICAgIG1heHkgPSB2Lnk7CiAgICAgIH0KCiAgICAgIGlmIChtaW56ID09PSB1bmRlZmluZWQgfHwgdi56IDwgbWlueikgewogICAgICAgIG1pbnogPSB2Lno7CiAgICAgIH0KCiAgICAgIGlmIChtYXh6ID09PSB1bmRlZmluZWQgfHwgdi56ID4gbWF4eikgewogICAgICAgIG1heHogPSB2Lno7CiAgICAgIH0KICAgIH0KCiAgICBtaW4uc2V0KG1pbngsIG1pbnksIG1pbnopOwogICAgbWF4LnNldChtYXh4LCBtYXh5LCBtYXh6KTsKICB9CiAgLyoqDQogICAqIEdldCBhcHByb3hpbWF0ZSBjb252ZXggdm9sdW1lDQogICAqIEBtZXRob2Qgdm9sdW1lDQogICAqIEByZXR1cm4ge051bWJlcn0NCiAgICovCgoKICB2b2x1bWUoKSB7CiAgICByZXR1cm4gNC4wICogTWF0aC5QSSAqIHRoaXMuYm91bmRpbmdTcGhlcmVSYWRpdXMgLyAzLjA7CiAgfQogIC8qKg0KICAgKiBHZXQgYW4gYXZlcmFnZSBvZiBhbGwgdGhlIHZlcnRpY2VzIHBvc2l0aW9ucw0KICAgKiBAbWV0aG9kIGdldEF2ZXJhZ2VQb2ludExvY2FsDQogICAqIEBwYXJhbSAge1ZlYzN9IHRhcmdldA0KICAgKiBAcmV0dXJuIHtWZWMzfQ0KICAgKi8KCgogIGdldEF2ZXJhZ2VQb2ludExvY2FsKHRhcmdldCA9IG5ldyBWZWMzKCkpIHsKICAgIGNvbnN0IHZlcnRzID0gdGhpcy52ZXJ0aWNlczsKCiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZlcnRzLmxlbmd0aDsgaSsrKSB7CiAgICAgIHRhcmdldC52YWRkKHZlcnRzW2ldLCB0YXJnZXQpOwogICAgfQoKICAgIHRhcmdldC5zY2FsZSgxIC8gdmVydHMubGVuZ3RoLCB0YXJnZXQpOwogICAgcmV0dXJuIHRhcmdldDsKICB9CiAgLyoqDQogICAqIFRyYW5zZm9ybSBhbGwgbG9jYWwgcG9pbnRzLiBXaWxsIGNoYW5nZSB0aGUgLnZlcnRpY2VzDQogICAqIEBtZXRob2QgdHJhbnNmb3JtQWxsUG9pbnRzDQogICAqIEBwYXJhbSAge1ZlYzN9IG9mZnNldA0KICAgKiBAcGFyYW0gIHtRdWF0ZXJuaW9ufSBxdWF0DQogICAqLwoKCiAgdHJhbnNmb3JtQWxsUG9pbnRzKG9mZnNldCwgcXVhdCkgewogICAgY29uc3QgbiA9IHRoaXMudmVydGljZXMubGVuZ3RoOwogICAgY29uc3QgdmVydHMgPSB0aGlzLnZlcnRpY2VzOyAvLyBBcHBseSByb3RhdGlvbgoKICAgIGlmIChxdWF0KSB7CiAgICAgIC8vIFJvdGF0ZSB2ZXJ0aWNlcwogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG47IGkrKykgewogICAgICAgIGNvbnN0IHYgPSB2ZXJ0c1tpXTsKICAgICAgICBxdWF0LnZtdWx0KHYsIHYpOwogICAgICB9IC8vIFJvdGF0ZSBmYWNlIG5vcm1hbHMKCgogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuZmFjZU5vcm1hbHMubGVuZ3RoOyBpKyspIHsKICAgICAgICBjb25zdCB2ID0gdGhpcy5mYWNlTm9ybWFsc1tpXTsKICAgICAgICBxdWF0LnZtdWx0KHYsIHYpOwogICAgICB9CiAgICAgIC8qDQogICAgICAgICAgICAvLyBSb3RhdGUgZWRnZXMNCiAgICAgICAgICAgIGZvcihsZXQgaT0wOyBpPHRoaXMudW5pcXVlRWRnZXMubGVuZ3RoOyBpKyspew0KICAgICAgICAgICAgICAgIGNvbnN0IHYgPSB0aGlzLnVuaXF1ZUVkZ2VzW2ldOw0KICAgICAgICAgICAgICAgIHF1YXQudm11bHQodix2KTsNCiAgICAgICAgICAgIH0qLwoKICAgIH0gLy8gQXBwbHkgb2Zmc2V0CgoKICAgIGlmIChvZmZzZXQpIHsKICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBuOyBpKyspIHsKICAgICAgICBjb25zdCB2ID0gdmVydHNbaV07CiAgICAgICAgdi52YWRkKG9mZnNldCwgdik7CiAgICAgIH0KICAgIH0KICB9CiAgLyoqDQogICAqIENoZWNrcyB3aGV0aGVyIHAgaXMgaW5zaWRlIHRoZSBwb2x5aGVkcmEuIE11c3QgYmUgaW4gbG9jYWwgY29vcmRzLg0KICAgKiBUaGUgcG9pbnQgbGllcyBvdXRzaWRlIG9mIHRoZSBjb252ZXggaHVsbCBvZiB0aGUgb3RoZXIgcG9pbnRzIGlmIGFuZCBvbmx5IGlmIHRoZSBkaXJlY3Rpb24NCiAgICogb2YgYWxsIHRoZSB2ZWN0b3JzIGZyb20gaXQgdG8gdGhvc2Ugb3RoZXIgcG9pbnRzIGFyZSBvbiBsZXNzIHRoYW4gb25lIGhhbGYgb2YgYSBzcGhlcmUgYXJvdW5kIGl0Lg0KICAgKiBAbWV0aG9kIHBvaW50SXNJbnNpZGUNCiAgICogQHBhcmFtICB7VmVjM30gcCAgICAgIEEgcG9pbnQgZ2l2ZW4gaW4gbG9jYWwgY29vcmRpbmF0ZXMNCiAgICogQHJldHVybiB7Qm9vbGVhbn0NCiAgICovCgoKICBwb2ludElzSW5zaWRlKHApIHsKICAgIGNvbnN0IHZlcnRzID0gdGhpcy52ZXJ0aWNlczsKICAgIGNvbnN0IGZhY2VzID0gdGhpcy5mYWNlczsKICAgIGNvbnN0IG5vcm1hbHMgPSB0aGlzLmZhY2VOb3JtYWxzOwogICAgY29uc3QgcG9pbnRJbnNpZGUgPSBuZXcgVmVjMygpOwogICAgdGhpcy5nZXRBdmVyYWdlUG9pbnRMb2NhbChwb2ludEluc2lkZSk7CgogICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmZhY2VzLmxlbmd0aDsgaSsrKSB7CiAgICAgIGxldCBuID0gbm9ybWFsc1tpXTsKICAgICAgY29uc3QgdiA9IHZlcnRzW2ZhY2VzW2ldWzBdXTsgLy8gV2Ugb25seSBuZWVkIG9uZSBwb2ludCBpbiB0aGUgZmFjZQogICAgICAvLyBUaGlzIGRvdCBwcm9kdWN0IGRldGVybWluZXMgd2hpY2ggc2lkZSBvZiB0aGUgZWRnZSB0aGUgcG9pbnQgaXMKCiAgICAgIGNvbnN0IHZUb1AgPSBuZXcgVmVjMygpOwogICAgICBwLnZzdWIodiwgdlRvUCk7CiAgICAgIGNvbnN0IHIxID0gbi5kb3QodlRvUCk7CiAgICAgIGNvbnN0IHZUb1BvaW50SW5zaWRlID0gbmV3IFZlYzMoKTsKICAgICAgcG9pbnRJbnNpZGUudnN1Yih2LCB2VG9Qb2ludEluc2lkZSk7CiAgICAgIGNvbnN0IHIyID0gbi5kb3QodlRvUG9pbnRJbnNpZGUpOwoKICAgICAgaWYgKHIxIDwgMCAmJiByMiA+IDAgfHwgcjEgPiAwICYmIHIyIDwgMCkgewogICAgICAgIHJldHVybiBmYWxzZTsgLy8gRW5jb3VudGVyZWQgc29tZSBvdGhlciBzaWduLiBFeGl0LgogICAgICB9CiAgICB9IC8vIElmIHdlIGdvdCBoZXJlLCBhbGwgZG90IHByb2R1Y3RzIHdlcmUgb2YgdGhlIHNhbWUgc2lnbi4KCgogICAgcmV0dXJuIC0xOwogIH0KCn0KLyoqDQogKiBHZXQgZmFjZSBub3JtYWwgZ2l2ZW4gMyB2ZXJ0aWNlcw0KICogQHN0YXRpYw0KICogQG1ldGhvZCBjb21wdXRlTm9ybWFsDQogKiBAcGFyYW0ge1ZlYzN9IHZhDQogKiBAcGFyYW0ge1ZlYzN9IHZiDQogKiBAcGFyYW0ge1ZlYzN9IHZjDQogKiBAcGFyYW0ge1ZlYzN9IHRhcmdldA0KICovCgoKQ29udmV4UG9seWhlZHJvbi5jb21wdXRlTm9ybWFsID0gKHZhLCB2YiwgdmMsIHRhcmdldCkgPT4gewogIGNvbnN0IGNiID0gbmV3IFZlYzMoKTsKICBjb25zdCBhYiA9IG5ldyBWZWMzKCk7CiAgdmIudnN1Yih2YSwgYWIpOwogIHZjLnZzdWIodmIsIGNiKTsKICBjYi5jcm9zcyhhYiwgdGFyZ2V0KTsKCiAgaWYgKCF0YXJnZXQuaXNaZXJvKCkpIHsKICAgIHRhcmdldC5ub3JtYWxpemUoKTsKICB9Cn07Cgpjb25zdCBtYXhtaW5BID0gW107CmNvbnN0IG1heG1pbkIgPSBbXTsKLyoqDQogKiBHZXQgbWF4IGFuZCBtaW4gZG90IHByb2R1Y3Qgb2YgYSBjb252ZXggaHVsbCBhdCBwb3NpdGlvbiAocG9zLHF1YXQpIHByb2plY3RlZCBvbnRvIGFuIGF4aXMuDQogKiBSZXN1bHRzIGFyZSBzYXZlZCBpbiB0aGUgYXJyYXkgbWF4bWluLg0KICogQHN0YXRpYw0KICogQG1ldGhvZCBwcm9qZWN0DQogKiBAcGFyYW0ge0NvbnZleFBvbHloZWRyb259IGh1bGwNCiAqIEBwYXJhbSB7VmVjM30gYXhpcw0KICogQHBhcmFtIHtWZWMzfSBwb3MNCiAqIEBwYXJhbSB7UXVhdGVybmlvbn0gcXVhdA0KICogQHBhcmFtIHthcnJheX0gcmVzdWx0IHJlc3VsdFswXSBhbmQgcmVzdWx0WzFdIHdpbGwgYmUgc2V0IHRvIG1heGltdW0gYW5kIG1pbmltdW0sIHJlc3BlY3RpdmVseS4NCiAqLwoKQ29udmV4UG9seWhlZHJvbi5wcm9qZWN0ID0gKHNoYXBlLCBheGlzLCBwb3MsIHF1YXQsIHJlc3VsdCkgPT4gewogIGNvbnN0IG4gPSBzaGFwZS52ZXJ0aWNlcy5sZW5ndGg7CiAgY29uc3QgbG9jYWxBeGlzID0gbmV3IFZlYzMoKTsKICBsZXQgbWF4ID0gMDsKICBsZXQgbWluID0gMDsKICBjb25zdCBsb2NhbE9yaWdpbiA9IG5ldyBWZWMzKCk7CiAgY29uc3QgdnMgPSBzaGFwZS52ZXJ0aWNlczsKICBsb2NhbE9yaWdpbi5zZXRaZXJvKCk7IC8vIFRyYW5zZm9ybSB0aGUgYXhpcyB0byBsb2NhbAoKICBUcmFuc2Zvcm0udmVjdG9yVG9Mb2NhbEZyYW1lKHBvcywgcXVhdCwgYXhpcywgbG9jYWxBeGlzKTsKICBUcmFuc2Zvcm0ucG9pbnRUb0xvY2FsRnJhbWUocG9zLCBxdWF0LCBsb2NhbE9yaWdpbiwgbG9jYWxPcmlnaW4pOwogIGNvbnN0IGFkZCA9IGxvY2FsT3JpZ2luLmRvdChsb2NhbEF4aXMpOwogIG1pbiA9IG1heCA9IHZzWzBdLmRvdChsb2NhbEF4aXMpOwoKICBmb3IgKGxldCBpID0gMTsgaSA8IG47IGkrKykgewogICAgY29uc3QgdmFsID0gdnNbaV0uZG90KGxvY2FsQXhpcyk7CgogICAgaWYgKHZhbCA+IG1heCkgewogICAgICBtYXggPSB2YWw7CiAgICB9CgogICAgaWYgKHZhbCA8IG1pbikgewogICAgICBtaW4gPSB2YWw7CiAgICB9CiAgfQoKICBtaW4gLT0gYWRkOwogIG1heCAtPSBhZGQ7CgogIGlmIChtaW4gPiBtYXgpIHsKICAgIC8vIEluY29uc2lzdGVudCAtIHN3YXAKICAgIGNvbnN0IHRlbXAgPSBtaW47CiAgICBtaW4gPSBtYXg7CiAgICBtYXggPSB0ZW1wOwogIH0gLy8gT3V0cHV0CgoKICByZXN1bHRbMF0gPSBtYXg7CiAgcmVzdWx0WzFdID0gbWluOwp9OwovKioNCiAqIEEgM2QgYm94IHNoYXBlLg0KICogQGNsYXNzIEJveA0KICogQGNvbnN0cnVjdG9yDQogKiBAcGFyYW0ge1ZlYzN9IGhhbGZFeHRlbnRzDQogKiBAYXV0aG9yIHNjaHRlcHBlDQogKiBAZXh0ZW5kcyBTaGFwZQ0KICovCgoKY2xhc3MgQm94IGV4dGVuZHMgU2hhcGUgewogIC8vIFVzZWQgYnkgdGhlIGNvbnRhY3QgZ2VuZXJhdG9yIHRvIG1ha2UgY29udGFjdHMgd2l0aCBvdGhlciBjb252ZXggcG9seWhlZHJhIGZvciBleGFtcGxlLgogIGNvbnN0cnVjdG9yKGhhbGZFeHRlbnRzKSB7CiAgICBzdXBlcih7CiAgICAgIHR5cGU6IFNoYXBlLnR5cGVzLkJPWAogICAgfSk7CiAgICB0aGlzLmhhbGZFeHRlbnRzID0gaGFsZkV4dGVudHM7CiAgICB0aGlzLmNvbnZleFBvbHloZWRyb25SZXByZXNlbnRhdGlvbiA9IG51bGw7CiAgICB0aGlzLnVwZGF0ZUNvbnZleFBvbHloZWRyb25SZXByZXNlbnRhdGlvbigpOwogICAgdGhpcy51cGRhdGVCb3VuZGluZ1NwaGVyZVJhZGl1cygpOwogIH0KICAvKioNCiAgICogVXBkYXRlcyB0aGUgbG9jYWwgY29udmV4IHBvbHloZWRyb24gcmVwcmVzZW50YXRpb24gdXNlZCBmb3Igc29tZSBjb2xsaXNpb25zLg0KICAgKiBAbWV0aG9kIHVwZGF0ZUNvbnZleFBvbHloZWRyb25SZXByZXNlbnRhdGlvbg0KICAgKi8KCgogIHVwZGF0ZUNvbnZleFBvbHloZWRyb25SZXByZXNlbnRhdGlvbigpIHsKICAgIGNvbnN0IHN4ID0gdGhpcy5oYWxmRXh0ZW50cy54OwogICAgY29uc3Qgc3kgPSB0aGlzLmhhbGZFeHRlbnRzLnk7CiAgICBjb25zdCBzeiA9IHRoaXMuaGFsZkV4dGVudHMuejsKICAgIGNvbnN0IFYgPSBWZWMzOwogICAgY29uc3QgdmVydGljZXMgPSBbbmV3IFYoLXN4LCAtc3ksIC1zeiksIG5ldyBWKHN4LCAtc3ksIC1zeiksIG5ldyBWKHN4LCBzeSwgLXN6KSwgbmV3IFYoLXN4LCBzeSwgLXN6KSwgbmV3IFYoLXN4LCAtc3ksIHN6KSwgbmV3IFYoc3gsIC1zeSwgc3opLCBuZXcgVihzeCwgc3ksIHN6KSwgbmV3IFYoLXN4LCBzeSwgc3opXTsKICAgIGNvbnN0IGZhY2VzID0gW1szLCAyLCAxLCAwXSwgLy8gLXoKICAgIFs0LCA1LCA2LCA3XSwgLy8gK3oKICAgIFs1LCA0LCAwLCAxXSwgLy8gLXkKICAgIFsyLCAzLCA3LCA2XSwgLy8gK3kKICAgIFswLCA0LCA3LCAzXSwgLy8gLXgKICAgIFsxLCAyLCA2LCA1XSAvLyAreAogICAgXTsKICAgIGNvbnN0IGF4ZXMgPSBbbmV3IFYoMCwgMCwgMSksIG5ldyBWKDAsIDEsIDApLCBuZXcgVigxLCAwLCAwKV07CiAgICBjb25zdCBoID0gbmV3IENvbnZleFBvbHloZWRyb24oewogICAgICB2ZXJ0aWNlcywKICAgICAgZmFjZXMsCiAgICAgIGF4ZXMKICAgIH0pOwogICAgdGhpcy5jb252ZXhQb2x5aGVkcm9uUmVwcmVzZW50YXRpb24gPSBoOwogICAgaC5tYXRlcmlhbCA9IHRoaXMubWF0ZXJpYWw7CiAgfQogIC8qKg0KICAgKiBAbWV0aG9kIGNhbGN1bGF0ZUxvY2FsSW5lcnRpYQ0KICAgKiBAcGFyYW0gIHtOdW1iZXJ9IG1hc3MNCiAgICogQHBhcmFtICB7VmVjM30gdGFyZ2V0DQogICAqIEByZXR1cm4ge1ZlYzN9DQogICAqLwoKCiAgY2FsY3VsYXRlTG9jYWxJbmVydGlhKG1hc3MsIHRhcmdldCA9IG5ldyBWZWMzKCkpIHsKICAgIEJveC5jYWxjdWxhdGVJbmVydGlhKHRoaXMuaGFsZkV4dGVudHMsIG1hc3MsIHRhcmdldCk7CiAgICByZXR1cm4gdGFyZ2V0OwogIH0KICAvKioNCiAgICogR2V0IHRoZSBib3ggNiBzaWRlIG5vcm1hbHMNCiAgICogQG1ldGhvZCBnZXRTaWRlTm9ybWFscw0KICAgKiBAcGFyYW0ge2FycmF5fSAgICAgIHNpeFRhcmdldFZlY3RvcnMgQW4gYXJyYXkgb2YgNiB2ZWN0b3JzLCB0byBzdG9yZSB0aGUgcmVzdWx0aW5nIHNpZGUgbm9ybWFscyBpbi4NCiAgICogQHBhcmFtIHtRdWF0ZXJuaW9ufSBxdWF0ICAgICAgICAgICAgIE9yaWVudGF0aW9uIHRvIGFwcGx5IHRvIHRoZSBub3JtYWwgdmVjdG9ycy4gSWYgbm90IHByb3ZpZGVkLCB0aGUgdmVjdG9ycyB3aWxsIGJlIGluIHJlc3BlY3QgdG8gdGhlIGxvY2FsIGZyYW1lLg0KICAgKiBAcmV0dXJuIHthcnJheX0NCiAgICovCgoKICBnZXRTaWRlTm9ybWFscyhzaXhUYXJnZXRWZWN0b3JzLCBxdWF0KSB7CiAgICBjb25zdCBzaWRlcyA9IHNpeFRhcmdldFZlY3RvcnM7CiAgICBjb25zdCBleCA9IHRoaXMuaGFsZkV4dGVudHM7CiAgICBzaWRlc1swXS5zZXQoZXgueCwgMCwgMCk7CiAgICBzaWRlc1sxXS5zZXQoMCwgZXgueSwgMCk7CiAgICBzaWRlc1syXS5zZXQoMCwgMCwgZXgueik7CiAgICBzaWRlc1szXS5zZXQoLWV4LngsIDAsIDApOwogICAgc2lkZXNbNF0uc2V0KDAsIC1leC55LCAwKTsKICAgIHNpZGVzWzVdLnNldCgwLCAwLCAtZXgueik7CgogICAgaWYgKHF1YXQgIT09IHVuZGVmaW5lZCkgewogICAgICBmb3IgKGxldCBpID0gMDsgaSAhPT0gc2lkZXMubGVuZ3RoOyBpKyspIHsKICAgICAgICBxdWF0LnZtdWx0KHNpZGVzW2ldLCBzaWRlc1tpXSk7CiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gc2lkZXM7CiAgfQoKICB2b2x1bWUoKSB7CiAgICByZXR1cm4gOC4wICogdGhpcy5oYWxmRXh0ZW50cy54ICogdGhpcy5oYWxmRXh0ZW50cy55ICogdGhpcy5oYWxmRXh0ZW50cy56OwogIH0KCiAgdXBkYXRlQm91bmRpbmdTcGhlcmVSYWRpdXMoKSB7CiAgICB0aGlzLmJvdW5kaW5nU3BoZXJlUmFkaXVzID0gdGhpcy5oYWxmRXh0ZW50cy5sZW5ndGgoKTsKICB9CgogIGZvckVhY2hXb3JsZENvcm5lcihwb3MsIHF1YXQsIGNhbGxiYWNrKSB7CiAgICBjb25zdCBlID0gdGhpcy5oYWxmRXh0ZW50czsKICAgIGNvbnN0IGNvcm5lcnMgPSBbW2UueCwgZS55LCBlLnpdLCBbLWUueCwgZS55LCBlLnpdLCBbLWUueCwgLWUueSwgZS56XSwgWy1lLngsIC1lLnksIC1lLnpdLCBbZS54LCAtZS55LCAtZS56XSwgW2UueCwgZS55LCAtZS56XSwgWy1lLngsIGUueSwgLWUuel0sIFtlLngsIC1lLnksIGUuel1dOwoKICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY29ybmVycy5sZW5ndGg7IGkrKykgewogICAgICB3b3JsZENvcm5lclRlbXBQb3Muc2V0KGNvcm5lcnNbaV1bMF0sIGNvcm5lcnNbaV1bMV0sIGNvcm5lcnNbaV1bMl0pOwogICAgICBxdWF0LnZtdWx0KHdvcmxkQ29ybmVyVGVtcFBvcywgd29ybGRDb3JuZXJUZW1wUG9zKTsKICAgICAgcG9zLnZhZGQod29ybGRDb3JuZXJUZW1wUG9zLCB3b3JsZENvcm5lclRlbXBQb3MpOwogICAgICBjYWxsYmFjayh3b3JsZENvcm5lclRlbXBQb3MueCwgd29ybGRDb3JuZXJUZW1wUG9zLnksIHdvcmxkQ29ybmVyVGVtcFBvcy56KTsKICAgIH0KICB9CgogIGNhbGN1bGF0ZVdvcmxkQUFCQihwb3MsIHF1YXQsIG1pbiwgbWF4KSB7CiAgICBjb25zdCBlID0gdGhpcy5oYWxmRXh0ZW50czsKICAgIHdvcmxkQ29ybmVyc1RlbXBbMF0uc2V0KGUueCwgZS55LCBlLnopOwogICAgd29ybGRDb3JuZXJzVGVtcFsxXS5zZXQoLWUueCwgZS55LCBlLnopOwogICAgd29ybGRDb3JuZXJzVGVtcFsyXS5zZXQoLWUueCwgLWUueSwgZS56KTsKICAgIHdvcmxkQ29ybmVyc1RlbXBbM10uc2V0KC1lLngsIC1lLnksIC1lLnopOwogICAgd29ybGRDb3JuZXJzVGVtcFs0XS5zZXQoZS54LCAtZS55LCAtZS56KTsKICAgIHdvcmxkQ29ybmVyc1RlbXBbNV0uc2V0KGUueCwgZS55LCAtZS56KTsKICAgIHdvcmxkQ29ybmVyc1RlbXBbNl0uc2V0KC1lLngsIGUueSwgLWUueik7CiAgICB3b3JsZENvcm5lcnNUZW1wWzddLnNldChlLngsIC1lLnksIGUueik7CiAgICBjb25zdCB3YyA9IHdvcmxkQ29ybmVyc1RlbXBbMF07CiAgICBxdWF0LnZtdWx0KHdjLCB3Yyk7CiAgICBwb3MudmFkZCh3Yywgd2MpOwogICAgbWF4LmNvcHkod2MpOwogICAgbWluLmNvcHkod2MpOwoKICAgIGZvciAobGV0IGkgPSAxOyBpIDwgODsgaSsrKSB7CiAgICAgIGNvbnN0IHdjID0gd29ybGRDb3JuZXJzVGVtcFtpXTsKICAgICAgcXVhdC52bXVsdCh3Yywgd2MpOwogICAgICBwb3MudmFkZCh3Yywgd2MpOwogICAgICBjb25zdCB4ID0gd2MueDsKICAgICAgY29uc3QgeSA9IHdjLnk7CiAgICAgIGNvbnN0IHogPSB3Yy56OwoKICAgICAgaWYgKHggPiBtYXgueCkgewogICAgICAgIG1heC54ID0geDsKICAgICAgfQoKICAgICAgaWYgKHkgPiBtYXgueSkgewogICAgICAgIG1heC55ID0geTsKICAgICAgfQoKICAgICAgaWYgKHogPiBtYXgueikgewogICAgICAgIG1heC56ID0gejsKICAgICAgfQoKICAgICAgaWYgKHggPCBtaW4ueCkgewogICAgICAgIG1pbi54ID0geDsKICAgICAgfQoKICAgICAgaWYgKHkgPCBtaW4ueSkgewogICAgICAgIG1pbi55ID0geTsKICAgICAgfQoKICAgICAgaWYgKHogPCBtaW4ueikgewogICAgICAgIG1pbi56ID0gejsKICAgICAgfQogICAgfSAvLyBHZXQgZWFjaCBheGlzIG1heAogICAgLy8gbWluLnNldChJbmZpbml0eSxJbmZpbml0eSxJbmZpbml0eSk7CiAgICAvLyBtYXguc2V0KC1JbmZpbml0eSwtSW5maW5pdHksLUluZmluaXR5KTsKICAgIC8vIHRoaXMuZm9yRWFjaFdvcmxkQ29ybmVyKHBvcyxxdWF0LGZ1bmN0aW9uKHgseSx6KXsKICAgIC8vICAgICBpZih4ID4gbWF4LngpewogICAgLy8gICAgICAgICBtYXgueCA9IHg7CiAgICAvLyAgICAgfQogICAgLy8gICAgIGlmKHkgPiBtYXgueSl7CiAgICAvLyAgICAgICAgIG1heC55ID0geTsKICAgIC8vICAgICB9CiAgICAvLyAgICAgaWYoeiA+IG1heC56KXsKICAgIC8vICAgICAgICAgbWF4LnogPSB6OwogICAgLy8gICAgIH0KICAgIC8vICAgICBpZih4IDwgbWluLngpewogICAgLy8gICAgICAgICBtaW4ueCA9IHg7CiAgICAvLyAgICAgfQogICAgLy8gICAgIGlmKHkgPCBtaW4ueSl7CiAgICAvLyAgICAgICAgIG1pbi55ID0geTsKICAgIC8vICAgICB9CiAgICAvLyAgICAgaWYoeiA8IG1pbi56KXsKICAgIC8vICAgICAgICAgbWluLnogPSB6OwogICAgLy8gICAgIH0KICAgIC8vIH0pOwoKICB9Cgp9CgpCb3guY2FsY3VsYXRlSW5lcnRpYSA9IChoYWxmRXh0ZW50cywgbWFzcywgdGFyZ2V0KSA9PiB7CiAgY29uc3QgZSA9IGhhbGZFeHRlbnRzOwogIHRhcmdldC54ID0gMS4wIC8gMTIuMCAqIG1hc3MgKiAoMiAqIGUueSAqIDIgKiBlLnkgKyAyICogZS56ICogMiAqIGUueik7CiAgdGFyZ2V0LnkgPSAxLjAgLyAxMi4wICogbWFzcyAqICgyICogZS54ICogMiAqIGUueCArIDIgKiBlLnogKiAyICogZS56KTsKICB0YXJnZXQueiA9IDEuMCAvIDEyLjAgKiBtYXNzICogKDIgKiBlLnkgKiAyICogZS55ICsgMiAqIGUueCAqIDIgKiBlLngpOwp9OwoKY29uc3Qgd29ybGRDb3JuZXJUZW1wUG9zID0gbmV3IFZlYzMoKTsKY29uc3Qgd29ybGRDb3JuZXJzVGVtcCA9IFtuZXcgVmVjMygpLCBuZXcgVmVjMygpLCBuZXcgVmVjMygpLCBuZXcgVmVjMygpLCBuZXcgVmVjMygpLCBuZXcgVmVjMygpLCBuZXcgVmVjMygpLCBuZXcgVmVjMygpXTsKY29uc3QgQk9EWV9TTEVFUF9TVEFURVMgPSB7CiAgQVdBS0U6IDAsCiAgU0xFRVBZOiAxLAogIFNMRUVQSU5HOiAyCn07Ci8qKg0KICogQmFzZSBjbGFzcyBmb3IgYWxsIGJvZHkgdHlwZXMuDQogKiBAY2xhc3MgQm9keQ0KICogQGNvbnN0cnVjdG9yDQogKiBAZXh0ZW5kcyBFdmVudFRhcmdldA0KICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXQ0KICogQHBhcmFtIHtWZWMzfSBbb3B0aW9ucy5wb3NpdGlvbl0NCiAqIEBwYXJhbSB7VmVjM30gW29wdGlvbnMudmVsb2NpdHldDQogKiBAcGFyYW0ge1ZlYzN9IFtvcHRpb25zLmFuZ3VsYXJWZWxvY2l0eV0NCiAqIEBwYXJhbSB7UXVhdGVybmlvbn0gW29wdGlvbnMucXVhdGVybmlvbl0NCiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5tYXNzXQ0KICogQHBhcmFtIHtNYXRlcmlhbH0gW29wdGlvbnMubWF0ZXJpYWxdDQogKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMudHlwZV0NCiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5saW5lYXJEYW1waW5nPTAuMDFdDQogKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuYW5ndWxhckRhbXBpbmc9MC4wMV0NCiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuYWxsb3dTbGVlcD10cnVlXQ0KICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnNsZWVwU3BlZWRMaW1pdD0wLjFdDQogKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuc2xlZXBUaW1lTGltaXQ9MV0NCiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5jb2xsaXNpb25GaWx0ZXJHcm91cD0xXQ0KICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmNvbGxpc2lvbkZpbHRlck1hc2s9LTFdDQogKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmZpeGVkUm90YXRpb249ZmFsc2VdDQogKiBAcGFyYW0ge1ZlYzN9IFtvcHRpb25zLmxpbmVhckZhY3Rvcl0NCiAqIEBwYXJhbSB7VmVjM30gW29wdGlvbnMuYW5ndWxhckZhY3Rvcl0NCiAqIEBwYXJhbSB7U2hhcGV9IFtvcHRpb25zLnNoYXBlXQ0KICogQGV4YW1wbGUNCiAqICAgICBjb25zdCBib2R5ID0gbmV3IEJvZHkoew0KICogICAgICAgICBtYXNzOiAxDQogKiAgICAgfSk7DQogKiAgICAgY29uc3Qgc2hhcGUgPSBuZXcgU3BoZXJlKDEpOw0KICogICAgIGJvZHkuYWRkU2hhcGUoc2hhcGUpOw0KICogICAgIHdvcmxkLmFkZEJvZHkoYm9keSk7DQogKi8KCmNsYXNzIEJvZHkgZXh0ZW5kcyBFdmVudFRhcmdldCB7CiAgLy8gUG9zaXRpb24gb2YgYm9keSBpbiBXb3JsZC5ib2RpZXMuIFVwZGF0ZWQgYnkgV29ybGQgYW5kIHVzZWQgaW4gQXJyYXlDb2xsaXNpb25NYXRyaXguCiAgLy8gUmVmZXJlbmNlIHRvIHRoZSB3b3JsZCB0aGUgYm9keSBpcyBsaXZpbmcgaW4uCiAgLy8gQ2FsbGJhY2sgZnVuY3Rpb24gdGhhdCBpcyB1c2VkIEJFRk9SRSBzdGVwcGluZyB0aGUgc3lzdGVtLiBVc2UgaXQgdG8gYXBwbHkgZm9yY2VzLCBmb3IgZXhhbXBsZS4gSW5zaWRlIHRoZSBmdW5jdGlvbiwgInRoaXMiIHdpbGwgcmVmZXIgdG8gdGhpcyBCb2R5IG9iamVjdC4gRGVwcmVjYXRlZCAtIHVzZSBXb3JsZCBldmVudHMgaW5zdGVhZC4KICAvLyBDYWxsYmFjayBmdW5jdGlvbiB0aGF0IGlzIHVzZWQgQUZURVIgc3RlcHBpbmcgdGhlIHN5c3RlbS4gSW5zaWRlIHRoZSBmdW5jdGlvbiwgInRoaXMiIHdpbGwgcmVmZXIgdG8gdGhpcyBCb2R5IG9iamVjdC4gRGVwcmVjYXRlZCAtIHVzZSBXb3JsZCBldmVudHMgaW5zdGVhZC4KICAvLyBXaGV0aGVyIHRvIHByb2R1Y2UgY29udGFjdCBmb3JjZXMgd2hlbiBpbiBjb250YWN0IHdpdGggb3RoZXIgYm9kaWVzLiBOb3RlIHRoYXQgY29udGFjdHMgd2lsbCBiZSBnZW5lcmF0ZWQsIGJ1dCB0aGV5IHdpbGwgYmUgZGlzYWJsZWQgLSBpLmUuICJjb2xsaWRlIiBldmVudHMgd2lsbCBiZSByYWlzZWQsIGJ1dCBmb3JjZXMgd2lsbCBub3QgYmUgYWx0ZXJlZC4KICAvLyBXb3JsZCBzcGFjZSBwb3NpdGlvbiBvZiB0aGUgYm9keS4KICAvLyBJbnRlcnBvbGF0ZWQgcG9zaXRpb24gb2YgdGhlIGJvZHkuCiAgLy8gSW5pdGlhbCBwb3NpdGlvbiBvZiB0aGUgYm9keS4KICAvLyBXb3JsZCBzcGFjZSB2ZWxvY2l0eSBvZiB0aGUgYm9keS4KICAvLyBMaW5lYXIgZm9yY2Ugb24gdGhlIGJvZHkgaW4gd29ybGQgc3BhY2UuCiAgLy8gT25lIG9mOiBCb2R5LkRZTkFNSUMsIEJvZHkuU1RBVElDIGFuZCBCb2R5LktJTkVNQVRJQy4KICAvLyBJZiB0cnVlLCB0aGUgYm9keSB3aWxsIGF1dG9tYXRpY2FsbHkgZmFsbCB0byBzbGVlcC4KICAvLyBDdXJyZW50IHNsZWVwIHN0YXRlLgogIC8vIElmIHRoZSBzcGVlZCAodGhlIG5vcm0gb2YgdGhlIHZlbG9jaXR5KSBpcyBzbWFsbGVyIHRoYW4gdGhpcyB2YWx1ZSwgdGhlIGJvZHkgaXMgY29uc2lkZXJlZCBzbGVlcHkuCiAgLy8gSWYgdGhlIGJvZHkgaGFzIGJlZW4gc2xlZXB5IGZvciB0aGlzIHNsZWVwVGltZUxpbWl0IHNlY29uZHMsIGl0IGlzIGNvbnNpZGVyZWQgc2xlZXBpbmcuCiAgLy8gV29ybGQgc3BhY2Ugcm90YXRpb25hbCBmb3JjZSBvbiB0aGUgYm9keSwgYXJvdW5kIGNlbnRlciBvZiBtYXNzLgogIC8vIFdvcmxkIHNwYWNlIG9yaWVudGF0aW9uIG9mIHRoZSBib2R5LgogIC8vIEludGVycG9sYXRlZCBvcmllbnRhdGlvbiBvZiB0aGUgYm9keS4KICAvLyBBbmd1bGFyIHZlbG9jaXR5IG9mIHRoZSBib2R5LCBpbiB3b3JsZCBzcGFjZS4gVGhpbmsgb2YgdGhlIGFuZ3VsYXIgdmVsb2NpdHkgYXMgYSB2ZWN0b3IsIHdoaWNoIHRoZSBib2R5IHJvdGF0ZXMgYXJvdW5kLiBUaGUgbGVuZ3RoIG9mIHRoaXMgdmVjdG9yIGRldGVybWluZXMgaG93IGZhc3QgKGluIHJhZGlhbnMgcGVyIHNlY29uZCkgdGhlIGJvZHkgcm90YXRlcy4KICAvLyBQb3NpdGlvbiBvZiBlYWNoIFNoYXBlIGluIHRoZSBib2R5LCBnaXZlbiBpbiBsb2NhbCBCb2R5IHNwYWNlLgogIC8vIE9yaWVudGF0aW9uIG9mIGVhY2ggU2hhcGUsIGdpdmVuIGluIGxvY2FsIEJvZHkgc3BhY2UuCiAgLy8gU2V0IHRvIHRydWUgaWYgeW91IGRvbid0IHdhbnQgdGhlIGJvZHkgdG8gcm90YXRlLiBNYWtlIHN1cmUgdG8gcnVuIC51cGRhdGVNYXNzUHJvcGVydGllcygpIGFmdGVyIGNoYW5naW5nIHRoaXMuCiAgLy8gVXNlIHRoaXMgcHJvcGVydHkgdG8gbGltaXQgdGhlIG1vdGlvbiBhbG9uZyBhbnkgd29ybGQgYXhpcy4gKDEsMSwxKSB3aWxsIGFsbG93IG1vdGlvbiBhbG9uZyBhbGwgYXhlcyB3aGlsZSAoMCwwLDApIGFsbG93cyBub25lLgogIC8vIFVzZSB0aGlzIHByb3BlcnR5IHRvIGxpbWl0IHRoZSByb3RhdGlvbmFsIG1vdGlvbiBhbG9uZyBhbnkgd29ybGQgYXhpcy4gKDEsMSwxKSB3aWxsIGFsbG93IHJvdGF0aW9uIGFsb25nIGFsbCBheGVzIHdoaWxlICgwLDAsMCkgYWxsb3dzIG5vbmUuCiAgLy8gV29ybGQgc3BhY2UgYm91bmRpbmcgYm94IG9mIHRoZSBib2R5IGFuZCBpdHMgc2hhcGVzLgogIC8vIEluZGljYXRlcyBpZiB0aGUgQUFCQiBuZWVkcyB0byBiZSB1cGRhdGVkIGJlZm9yZSB1c2UuCiAgLy8gVG90YWwgYm91bmRpbmcgcmFkaXVzIG9mIHRoZSBCb2R5IGluY2x1ZGluZyBpdHMgc2hhcGVzLCByZWxhdGl2ZSB0byBib2R5LnBvc2l0aW9uLgogIGNvbnN0cnVjdG9yKG9wdGlvbnMgPSB7fSkgewogICAgc3VwZXIoKTsKICAgIHRoaXMuaWQgPSBCb2R5LmlkQ291bnRlcisrOwogICAgdGhpcy5pbmRleCA9IC0xOwogICAgdGhpcy53b3JsZCA9IG51bGw7CiAgICB0aGlzLnByZVN0ZXAgPSBudWxsOwogICAgdGhpcy5wb3N0U3RlcCA9IG51bGw7CiAgICB0aGlzLnZsYW1iZGEgPSBuZXcgVmVjMygpOwogICAgdGhpcy5jb2xsaXNpb25GaWx0ZXJHcm91cCA9IHR5cGVvZiBvcHRpb25zLmNvbGxpc2lvbkZpbHRlckdyb3VwID09PSAnbnVtYmVyJyA/IG9wdGlvbnMuY29sbGlzaW9uRmlsdGVyR3JvdXAgOiAxOwogICAgdGhpcy5jb2xsaXNpb25GaWx0ZXJNYXNrID0gdHlwZW9mIG9wdGlvbnMuY29sbGlzaW9uRmlsdGVyTWFzayA9PT0gJ251bWJlcicgPyBvcHRpb25zLmNvbGxpc2lvbkZpbHRlck1hc2sgOiAtMTsKICAgIHRoaXMuY29sbGlzaW9uUmVzcG9uc2UgPSB0eXBlb2Ygb3B0aW9ucy5jb2xsaXNpb25SZXNwb25zZSA9PT0gJ2Jvb2xlYW4nID8gb3B0aW9ucy5jb2xsaXNpb25SZXNwb25zZSA6IHRydWU7CiAgICB0aGlzLnBvc2l0aW9uID0gbmV3IFZlYzMoKTsKICAgIHRoaXMucHJldmlvdXNQb3NpdGlvbiA9IG5ldyBWZWMzKCk7CiAgICB0aGlzLmludGVycG9sYXRlZFBvc2l0aW9uID0gbmV3IFZlYzMoKTsKICAgIHRoaXMuaW5pdFBvc2l0aW9uID0gbmV3IFZlYzMoKTsKCiAgICBpZiAob3B0aW9ucy5wb3NpdGlvbikgewogICAgICB0aGlzLnBvc2l0aW9uLmNvcHkob3B0aW9ucy5wb3NpdGlvbik7CiAgICAgIHRoaXMucHJldmlvdXNQb3NpdGlvbi5jb3B5KG9wdGlvbnMucG9zaXRpb24pOwogICAgICB0aGlzLmludGVycG9sYXRlZFBvc2l0aW9uLmNvcHkob3B0aW9ucy5wb3NpdGlvbik7CiAgICAgIHRoaXMuaW5pdFBvc2l0aW9uLmNvcHkob3B0aW9ucy5wb3NpdGlvbik7CiAgICB9CgogICAgdGhpcy52ZWxvY2l0eSA9IG5ldyBWZWMzKCk7CgogICAgaWYgKG9wdGlvbnMudmVsb2NpdHkpIHsKICAgICAgdGhpcy52ZWxvY2l0eS5jb3B5KG9wdGlvbnMudmVsb2NpdHkpOwogICAgfQoKICAgIHRoaXMuaW5pdFZlbG9jaXR5ID0gbmV3IFZlYzMoKTsKICAgIHRoaXMuZm9yY2UgPSBuZXcgVmVjMygpOwogICAgY29uc3QgbWFzcyA9IHR5cGVvZiBvcHRpb25zLm1hc3MgPT09ICdudW1iZXInID8gb3B0aW9ucy5tYXNzIDogMDsKICAgIHRoaXMubWFzcyA9IG1hc3M7CiAgICB0aGlzLmludk1hc3MgPSBtYXNzID4gMCA/IDEuMCAvIG1hc3MgOiAwOwogICAgdGhpcy5tYXRlcmlhbCA9IG9wdGlvbnMubWF0ZXJpYWwgfHwgbnVsbDsKICAgIHRoaXMubGluZWFyRGFtcGluZyA9IHR5cGVvZiBvcHRpb25zLmxpbmVhckRhbXBpbmcgPT09ICdudW1iZXInID8gb3B0aW9ucy5saW5lYXJEYW1waW5nIDogMC4wMTsKICAgIHRoaXMudHlwZSA9IG1hc3MgPD0gMC4wID8gQm9keS5TVEFUSUMgOiBCb2R5LkRZTkFNSUM7CgogICAgaWYgKHR5cGVvZiBvcHRpb25zLnR5cGUgPT09IHR5cGVvZiBCb2R5LlNUQVRJQykgewogICAgICB0aGlzLnR5cGUgPSBvcHRpb25zLnR5cGU7CiAgICB9CgogICAgdGhpcy5hbGxvd1NsZWVwID0gdHlwZW9mIG9wdGlvbnMuYWxsb3dTbGVlcCAhPT0gJ3VuZGVmaW5lZCcgPyBvcHRpb25zLmFsbG93U2xlZXAgOiB0cnVlOwogICAgdGhpcy5zbGVlcFN0YXRlID0gMDsKICAgIHRoaXMuc2xlZXBTcGVlZExpbWl0ID0gdHlwZW9mIG9wdGlvbnMuc2xlZXBTcGVlZExpbWl0ICE9PSAndW5kZWZpbmVkJyA/IG9wdGlvbnMuc2xlZXBTcGVlZExpbWl0IDogMC4xOwogICAgdGhpcy5zbGVlcFRpbWVMaW1pdCA9IHR5cGVvZiBvcHRpb25zLnNsZWVwVGltZUxpbWl0ICE9PSAndW5kZWZpbmVkJyA/IG9wdGlvbnMuc2xlZXBUaW1lTGltaXQgOiAxOwogICAgdGhpcy50aW1lTGFzdFNsZWVweSA9IDA7CiAgICB0aGlzLndha2VVcEFmdGVyTmFycm93cGhhc2UgPSBmYWxzZTsKICAgIHRoaXMudG9ycXVlID0gbmV3IFZlYzMoKTsKICAgIHRoaXMucXVhdGVybmlvbiA9IG5ldyBRdWF0ZXJuaW9uKCk7CiAgICB0aGlzLmluaXRRdWF0ZXJuaW9uID0gbmV3IFF1YXRlcm5pb24oKTsKICAgIHRoaXMucHJldmlvdXNRdWF0ZXJuaW9uID0gbmV3IFF1YXRlcm5pb24oKTsKICAgIHRoaXMuaW50ZXJwb2xhdGVkUXVhdGVybmlvbiA9IG5ldyBRdWF0ZXJuaW9uKCk7CgogICAgaWYgKG9wdGlvbnMucXVhdGVybmlvbikgewogICAgICB0aGlzLnF1YXRlcm5pb24uY29weShvcHRpb25zLnF1YXRlcm5pb24pOwogICAgICB0aGlzLmluaXRRdWF0ZXJuaW9uLmNvcHkob3B0aW9ucy5xdWF0ZXJuaW9uKTsKICAgICAgdGhpcy5wcmV2aW91c1F1YXRlcm5pb24uY29weShvcHRpb25zLnF1YXRlcm5pb24pOwogICAgICB0aGlzLmludGVycG9sYXRlZFF1YXRlcm5pb24uY29weShvcHRpb25zLnF1YXRlcm5pb24pOwogICAgfQoKICAgIHRoaXMuYW5ndWxhclZlbG9jaXR5ID0gbmV3IFZlYzMoKTsKCiAgICBpZiAob3B0aW9ucy5hbmd1bGFyVmVsb2NpdHkpIHsKICAgICAgdGhpcy5hbmd1bGFyVmVsb2NpdHkuY29weShvcHRpb25zLmFuZ3VsYXJWZWxvY2l0eSk7CiAgICB9CgogICAgdGhpcy5pbml0QW5ndWxhclZlbG9jaXR5ID0gbmV3IFZlYzMoKTsKICAgIHRoaXMuc2hhcGVzID0gW107CiAgICB0aGlzLnNoYXBlT2Zmc2V0cyA9IFtdOwogICAgdGhpcy5zaGFwZU9yaWVudGF0aW9ucyA9IFtdOwogICAgdGhpcy5pbmVydGlhID0gbmV3IFZlYzMoKTsKICAgIHRoaXMuaW52SW5lcnRpYSA9IG5ldyBWZWMzKCk7CiAgICB0aGlzLmludkluZXJ0aWFXb3JsZCA9IG5ldyBNYXQzKCk7CiAgICB0aGlzLmludk1hc3NTb2x2ZSA9IDA7CiAgICB0aGlzLmludkluZXJ0aWFTb2x2ZSA9IG5ldyBWZWMzKCk7CiAgICB0aGlzLmludkluZXJ0aWFXb3JsZFNvbHZlID0gbmV3IE1hdDMoKTsKICAgIHRoaXMuZml4ZWRSb3RhdGlvbiA9IHR5cGVvZiBvcHRpb25zLmZpeGVkUm90YXRpb24gIT09ICd1bmRlZmluZWQnID8gb3B0aW9ucy5maXhlZFJvdGF0aW9uIDogZmFsc2U7CiAgICB0aGlzLmFuZ3VsYXJEYW1waW5nID0gdHlwZW9mIG9wdGlvbnMuYW5ndWxhckRhbXBpbmcgIT09ICd1bmRlZmluZWQnID8gb3B0aW9ucy5hbmd1bGFyRGFtcGluZyA6IDAuMDE7CiAgICB0aGlzLmxpbmVhckZhY3RvciA9IG5ldyBWZWMzKDEsIDEsIDEpOwoKICAgIGlmIChvcHRpb25zLmxpbmVhckZhY3RvcikgewogICAgICB0aGlzLmxpbmVhckZhY3Rvci5jb3B5KG9wdGlvbnMubGluZWFyRmFjdG9yKTsKICAgIH0KCiAgICB0aGlzLmFuZ3VsYXJGYWN0b3IgPSBuZXcgVmVjMygxLCAxLCAxKTsKCiAgICBpZiAob3B0aW9ucy5hbmd1bGFyRmFjdG9yKSB7CiAgICAgIHRoaXMuYW5ndWxhckZhY3Rvci5jb3B5KG9wdGlvbnMuYW5ndWxhckZhY3Rvcik7CiAgICB9CgogICAgdGhpcy5hYWJiID0gbmV3IEFBQkIoKTsKICAgIHRoaXMuYWFiYk5lZWRzVXBkYXRlID0gdHJ1ZTsKICAgIHRoaXMuYm91bmRpbmdSYWRpdXMgPSAwOwogICAgdGhpcy53bGFtYmRhID0gbmV3IFZlYzMoKTsKCiAgICBpZiAob3B0aW9ucy5zaGFwZSkgewogICAgICB0aGlzLmFkZFNoYXBlKG9wdGlvbnMuc2hhcGUpOwogICAgfQoKICAgIHRoaXMudXBkYXRlTWFzc1Byb3BlcnRpZXMoKTsKICB9CiAgLyoqDQogICAqIFdha2UgdGhlIGJvZHkgdXAuDQogICAqIEBtZXRob2Qgd2FrZVVwDQogICAqLwoKCiAgd2FrZVVwKCkgewogICAgY29uc3QgcHJldlN0YXRlID0gdGhpcy5zbGVlcFN0YXRlOwogICAgdGhpcy5zbGVlcFN0YXRlID0gMDsKICAgIHRoaXMud2FrZVVwQWZ0ZXJOYXJyb3dwaGFzZSA9IGZhbHNlOwoKICAgIGlmIChwcmV2U3RhdGUgPT09IEJvZHkuU0xFRVBJTkcpIHsKICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KEJvZHkud2FrZXVwRXZlbnQpOwogICAgfQogIH0KICAvKioNCiAgICogRm9yY2UgYm9keSBzbGVlcA0KICAgKiBAbWV0aG9kIHNsZWVwDQogICAqLwoKCiAgc2xlZXAoKSB7CiAgICB0aGlzLnNsZWVwU3RhdGUgPSBCb2R5LlNMRUVQSU5HOwogICAgdGhpcy52ZWxvY2l0eS5zZXQoMCwgMCwgMCk7CiAgICB0aGlzLmFuZ3VsYXJWZWxvY2l0eS5zZXQoMCwgMCwgMCk7CiAgICB0aGlzLndha2VVcEFmdGVyTmFycm93cGhhc2UgPSBmYWxzZTsKICB9CiAgLyoqDQogICAqIENhbGxlZCBldmVyeSB0aW1lc3RlcCB0byB1cGRhdGUgaW50ZXJuYWwgc2xlZXAgdGltZXIgYW5kIGNoYW5nZSBzbGVlcCBzdGF0ZSBpZiBuZWVkZWQuDQogICAqIEBtZXRob2Qgc2xlZXBUaWNrDQogICAqIEBwYXJhbSB7TnVtYmVyfSB0aW1lIFRoZSB3b3JsZCB0aW1lIGluIHNlY29uZHMNCiAgICovCgoKICBzbGVlcFRpY2sodGltZSkgewogICAgaWYgKHRoaXMuYWxsb3dTbGVlcCkgewogICAgICBjb25zdCBzbGVlcFN0YXRlID0gdGhpcy5zbGVlcFN0YXRlOwogICAgICBjb25zdCBzcGVlZFNxdWFyZWQgPSB0aGlzLnZlbG9jaXR5Lmxlbmd0aFNxdWFyZWQoKSArIHRoaXMuYW5ndWxhclZlbG9jaXR5Lmxlbmd0aFNxdWFyZWQoKTsKICAgICAgY29uc3Qgc3BlZWRMaW1pdFNxdWFyZWQgPSB0aGlzLnNsZWVwU3BlZWRMaW1pdCAqKiAyOwoKICAgICAgaWYgKHNsZWVwU3RhdGUgPT09IEJvZHkuQVdBS0UgJiYgc3BlZWRTcXVhcmVkIDwgc3BlZWRMaW1pdFNxdWFyZWQpIHsKICAgICAgICB0aGlzLnNsZWVwU3RhdGUgPSBCb2R5LlNMRUVQWTsgLy8gU2xlZXB5CgogICAgICAgIHRoaXMudGltZUxhc3RTbGVlcHkgPSB0aW1lOwogICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChCb2R5LnNsZWVweUV2ZW50KTsKICAgICAgfSBlbHNlIGlmIChzbGVlcFN0YXRlID09PSBCb2R5LlNMRUVQWSAmJiBzcGVlZFNxdWFyZWQgPiBzcGVlZExpbWl0U3F1YXJlZCkgewogICAgICAgIHRoaXMud2FrZVVwKCk7IC8vIFdha2UgdXAKICAgICAgfSBlbHNlIGlmIChzbGVlcFN0YXRlID09PSBCb2R5LlNMRUVQWSAmJiB0aW1lIC0gdGhpcy50aW1lTGFzdFNsZWVweSA+IHRoaXMuc2xlZXBUaW1lTGltaXQpIHsKICAgICAgICB0aGlzLnNsZWVwKCk7IC8vIFNsZWVwaW5nCgogICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChCb2R5LnNsZWVwRXZlbnQpOwogICAgICB9CiAgICB9CiAgfQogIC8qKg0KICAgKiBJZiB0aGUgYm9keSBpcyBzbGVlcGluZywgaXQgc2hvdWxkIGJlIGltbW92YWJsZSAvIGhhdmUgaW5maW5pdGUgbWFzcyBkdXJpbmcgc29sdmUuIFdlIHNvbHZlIGl0IGJ5IGhhdmluZyBhIHNlcGFyYXRlICJzb2x2ZSBtYXNzIi4NCiAgICogQG1ldGhvZCB1cGRhdGVTb2x2ZU1hc3NQcm9wZXJ0aWVzDQogICAqLwoKCiAgdXBkYXRlU29sdmVNYXNzUHJvcGVydGllcygpIHsKICAgIGlmICh0aGlzLnNsZWVwU3RhdGUgPT09IEJvZHkuU0xFRVBJTkcgfHwgdGhpcy50eXBlID09PSBCb2R5LktJTkVNQVRJQykgewogICAgICB0aGlzLmludk1hc3NTb2x2ZSA9IDA7CiAgICAgIHRoaXMuaW52SW5lcnRpYVNvbHZlLnNldFplcm8oKTsKICAgICAgdGhpcy5pbnZJbmVydGlhV29ybGRTb2x2ZS5zZXRaZXJvKCk7CiAgICB9IGVsc2UgewogICAgICB0aGlzLmludk1hc3NTb2x2ZSA9IHRoaXMuaW52TWFzczsKICAgICAgdGhpcy5pbnZJbmVydGlhU29sdmUuY29weSh0aGlzLmludkluZXJ0aWEpOwogICAgICB0aGlzLmludkluZXJ0aWFXb3JsZFNvbHZlLmNvcHkodGhpcy5pbnZJbmVydGlhV29ybGQpOwogICAgfQogIH0KICAvKioNCiAgICogQ29udmVydCBhIHdvcmxkIHBvaW50IHRvIGxvY2FsIGJvZHkgZnJhbWUuDQogICAqIEBtZXRob2QgcG9pbnRUb0xvY2FsRnJhbWUNCiAgICogQHBhcmFtICB7VmVjM30gd29ybGRQb2ludA0KICAgKiBAcGFyYW0gIHtWZWMzfSByZXN1bHQNCiAgICogQHJldHVybiB7VmVjM30NCiAgICovCgoKICBwb2ludFRvTG9jYWxGcmFtZSh3b3JsZFBvaW50LCByZXN1bHQgPSBuZXcgVmVjMygpKSB7CiAgICB3b3JsZFBvaW50LnZzdWIodGhpcy5wb3NpdGlvbiwgcmVzdWx0KTsKICAgIHRoaXMucXVhdGVybmlvbi5jb25qdWdhdGUoKS52bXVsdChyZXN1bHQsIHJlc3VsdCk7CiAgICByZXR1cm4gcmVzdWx0OwogIH0KICAvKioNCiAgICogQ29udmVydCBhIHdvcmxkIHZlY3RvciB0byBsb2NhbCBib2R5IGZyYW1lLg0KICAgKiBAbWV0aG9kIHZlY3RvclRvTG9jYWxGcmFtZQ0KICAgKiBAcGFyYW0gIHtWZWMzfSB3b3JsZFBvaW50DQogICAqIEBwYXJhbSAge1ZlYzN9IHJlc3VsdA0KICAgKiBAcmV0dXJuIHtWZWMzfQ0KICAgKi8KCgogIHZlY3RvclRvTG9jYWxGcmFtZSh3b3JsZFZlY3RvciwgcmVzdWx0ID0gbmV3IFZlYzMoKSkgewogICAgdGhpcy5xdWF0ZXJuaW9uLmNvbmp1Z2F0ZSgpLnZtdWx0KHdvcmxkVmVjdG9yLCByZXN1bHQpOwogICAgcmV0dXJuIHJlc3VsdDsKICB9CiAgLyoqDQogICAqIENvbnZlcnQgYSBsb2NhbCBib2R5IHBvaW50IHRvIHdvcmxkIGZyYW1lLg0KICAgKiBAbWV0aG9kIHBvaW50VG9Xb3JsZEZyYW1lDQogICAqIEBwYXJhbSAge1ZlYzN9IGxvY2FsUG9pbnQNCiAgICogQHBhcmFtICB7VmVjM30gcmVzdWx0DQogICAqIEByZXR1cm4ge1ZlYzN9DQogICAqLwoKCiAgcG9pbnRUb1dvcmxkRnJhbWUobG9jYWxQb2ludCwgcmVzdWx0ID0gbmV3IFZlYzMoKSkgewogICAgdGhpcy5xdWF0ZXJuaW9uLnZtdWx0KGxvY2FsUG9pbnQsIHJlc3VsdCk7CiAgICByZXN1bHQudmFkZCh0aGlzLnBvc2l0aW9uLCByZXN1bHQpOwogICAgcmV0dXJuIHJlc3VsdDsKICB9CiAgLyoqDQogICAqIENvbnZlcnQgYSBsb2NhbCBib2R5IHBvaW50IHRvIHdvcmxkIGZyYW1lLg0KICAgKiBAbWV0aG9kIHZlY3RvclRvV29ybGRGcmFtZQ0KICAgKiBAcGFyYW0gIHtWZWMzfSBsb2NhbFZlY3Rvcg0KICAgKiBAcGFyYW0gIHtWZWMzfSByZXN1bHQNCiAgICogQHJldHVybiB7VmVjM30NCiAgICovCgoKICB2ZWN0b3JUb1dvcmxkRnJhbWUobG9jYWxWZWN0b3IsIHJlc3VsdCA9IG5ldyBWZWMzKCkpIHsKICAgIHRoaXMucXVhdGVybmlvbi52bXVsdChsb2NhbFZlY3RvciwgcmVzdWx0KTsKICAgIHJldHVybiByZXN1bHQ7CiAgfQogIC8qKg0KICAgKiBBZGQgYSBzaGFwZSB0byB0aGUgYm9keSB3aXRoIGEgbG9jYWwgb2Zmc2V0IGFuZCBvcmllbnRhdGlvbi4NCiAgICogQG1ldGhvZCBhZGRTaGFwZQ0KICAgKiBAcGFyYW0ge1NoYXBlfSBzaGFwZQ0KICAgKiBAcGFyYW0ge1ZlYzN9IFtfb2Zmc2V0XQ0KICAgKiBAcGFyYW0ge1F1YXRlcm5pb259IFtfb3JpZW50YXRpb25dDQogICAqIEByZXR1cm4ge0JvZHl9IFRoZSBib2R5IG9iamVjdCwgZm9yIGNoYWluYWJpbGl0eS4NCiAgICovCgoKICBhZGRTaGFwZShzaGFwZSwgX29mZnNldCwgX29yaWVudGF0aW9uKSB7CiAgICBjb25zdCBvZmZzZXQgPSBuZXcgVmVjMygpOwogICAgY29uc3Qgb3JpZW50YXRpb24gPSBuZXcgUXVhdGVybmlvbigpOwoKICAgIGlmIChfb2Zmc2V0KSB7CiAgICAgIG9mZnNldC5jb3B5KF9vZmZzZXQpOwogICAgfQoKICAgIGlmIChfb3JpZW50YXRpb24pIHsKICAgICAgb3JpZW50YXRpb24uY29weShfb3JpZW50YXRpb24pOwogICAgfQoKICAgIHRoaXMuc2hhcGVzLnB1c2goc2hhcGUpOwogICAgdGhpcy5zaGFwZU9mZnNldHMucHVzaChvZmZzZXQpOwogICAgdGhpcy5zaGFwZU9yaWVudGF0aW9ucy5wdXNoKG9yaWVudGF0aW9uKTsKICAgIHRoaXMudXBkYXRlTWFzc1Byb3BlcnRpZXMoKTsKICAgIHRoaXMudXBkYXRlQm91bmRpbmdSYWRpdXMoKTsKICAgIHRoaXMuYWFiYk5lZWRzVXBkYXRlID0gdHJ1ZTsKICAgIHNoYXBlLmJvZHkgPSB0aGlzOwogICAgcmV0dXJuIHRoaXM7CiAgfQogIC8qKg0KICAgKiBVcGRhdGUgdGhlIGJvdW5kaW5nIHJhZGl1cyBvZiB0aGUgYm9keS4gU2hvdWxkIGJlIGRvbmUgaWYgYW55IG9mIHRoZSBzaGFwZXMgYXJlIGNoYW5nZWQuDQogICAqIEBtZXRob2QgdXBkYXRlQm91bmRpbmdSYWRpdXMNCiAgICovCgoKICB1cGRhdGVCb3VuZGluZ1JhZGl1cygpIHsKICAgIGNvbnN0IHNoYXBlcyA9IHRoaXMuc2hhcGVzOwogICAgY29uc3Qgc2hhcGVPZmZzZXRzID0gdGhpcy5zaGFwZU9mZnNldHM7CiAgICBjb25zdCBOID0gc2hhcGVzLmxlbmd0aDsKICAgIGxldCByYWRpdXMgPSAwOwoKICAgIGZvciAobGV0IGkgPSAwOyBpICE9PSBOOyBpKyspIHsKICAgICAgY29uc3Qgc2hhcGUgPSBzaGFwZXNbaV07CiAgICAgIHNoYXBlLnVwZGF0ZUJvdW5kaW5nU3BoZXJlUmFkaXVzKCk7CiAgICAgIGNvbnN0IG9mZnNldCA9IHNoYXBlT2Zmc2V0c1tpXS5sZW5ndGgoKTsKICAgICAgY29uc3QgciA9IHNoYXBlLmJvdW5kaW5nU3BoZXJlUmFkaXVzOwoKICAgICAgaWYgKG9mZnNldCArIHIgPiByYWRpdXMpIHsKICAgICAgICByYWRpdXMgPSBvZmZzZXQgKyByOwogICAgICB9CiAgICB9CgogICAgdGhpcy5ib3VuZGluZ1JhZGl1cyA9IHJhZGl1czsKICB9CiAgLyoqDQogICAqIFVwZGF0ZXMgdGhlIC5hYWJiDQogICAqIEBtZXRob2QgY29tcHV0ZUFBQkINCiAgICogQHRvZG8gcmVuYW1lIHRvIHVwZGF0ZUFBQkIoKQ0KICAgKi8KCgogIGNvbXB1dGVBQUJCKCkgewogICAgY29uc3Qgc2hhcGVzID0gdGhpcy5zaGFwZXM7CiAgICBjb25zdCBzaGFwZU9mZnNldHMgPSB0aGlzLnNoYXBlT2Zmc2V0czsKICAgIGNvbnN0IHNoYXBlT3JpZW50YXRpb25zID0gdGhpcy5zaGFwZU9yaWVudGF0aW9uczsKICAgIGNvbnN0IE4gPSBzaGFwZXMubGVuZ3RoOwogICAgY29uc3Qgb2Zmc2V0ID0gdG1wVmVjOwogICAgY29uc3Qgb3JpZW50YXRpb24gPSB0bXBRdWF0JDE7CiAgICBjb25zdCBib2R5UXVhdCA9IHRoaXMucXVhdGVybmlvbjsKICAgIGNvbnN0IGFhYmIgPSB0aGlzLmFhYmI7CiAgICBjb25zdCBzaGFwZUFBQkIgPSBjb21wdXRlQUFCQl9zaGFwZUFBQkI7CgogICAgZm9yIChsZXQgaSA9IDA7IGkgIT09IE47IGkrKykgewogICAgICBjb25zdCBzaGFwZSA9IHNoYXBlc1tpXTsgLy8gR2V0IHNoYXBlIHdvcmxkIHBvc2l0aW9uCgogICAgICBib2R5UXVhdC52bXVsdChzaGFwZU9mZnNldHNbaV0sIG9mZnNldCk7CiAgICAgIG9mZnNldC52YWRkKHRoaXMucG9zaXRpb24sIG9mZnNldCk7IC8vIEdldCBzaGFwZSB3b3JsZCBxdWF0ZXJuaW9uCgogICAgICBib2R5UXVhdC5tdWx0KHNoYXBlT3JpZW50YXRpb25zW2ldLCBvcmllbnRhdGlvbik7IC8vIEdldCBzaGFwZSBBQUJCCgogICAgICBzaGFwZS5jYWxjdWxhdGVXb3JsZEFBQkIob2Zmc2V0LCBvcmllbnRhdGlvbiwgc2hhcGVBQUJCLmxvd2VyQm91bmQsIHNoYXBlQUFCQi51cHBlckJvdW5kKTsKCiAgICAgIGlmIChpID09PSAwKSB7CiAgICAgICAgYWFiYi5jb3B5KHNoYXBlQUFCQik7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgYWFiYi5leHRlbmQoc2hhcGVBQUJCKTsKICAgICAgfQogICAgfQoKICAgIHRoaXMuYWFiYk5lZWRzVXBkYXRlID0gZmFsc2U7CiAgfQogIC8qKg0KICAgKiBVcGRhdGUgLmluZXJ0aWFXb3JsZCBhbmQgLmludkluZXJ0aWFXb3JsZA0KICAgKiBAbWV0aG9kIHVwZGF0ZUluZXJ0aWFXb3JsZA0KICAgKi8KCgogIHVwZGF0ZUluZXJ0aWFXb3JsZChmb3JjZSkgewogICAgY29uc3QgSSA9IHRoaXMuaW52SW5lcnRpYTsKICAgIGlmIChJLnggPT09IEkueSAmJiBJLnkgPT09IEkueiAmJiAhZm9yY2UpIDtlbHNlIHsKICAgICAgY29uc3QgbTEgPSB1aXdfbTE7CiAgICAgIGNvbnN0IG0yID0gdWl3X20yOwogICAgICBtMS5zZXRSb3RhdGlvbkZyb21RdWF0ZXJuaW9uKHRoaXMucXVhdGVybmlvbik7CiAgICAgIG0xLnRyYW5zcG9zZShtMik7CiAgICAgIG0xLnNjYWxlKEksIG0xKTsKICAgICAgbTEubW11bHQobTIsIHRoaXMuaW52SW5lcnRpYVdvcmxkKTsKICAgIH0KICB9CgogIGFwcGx5Rm9yY2UoZm9yY2UsIHJlbGF0aXZlUG9pbnQpIHsKICAgIGlmICh0aGlzLnR5cGUgIT09IEJvZHkuRFlOQU1JQykgewogICAgICAvLyBOZWVkZWQ/CiAgICAgIHJldHVybjsKICAgIH0gLy8gQ29tcHV0ZSBwcm9kdWNlZCByb3RhdGlvbmFsIGZvcmNlCgoKICAgIGNvbnN0IHJvdEZvcmNlID0gQm9keV9hcHBseUZvcmNlX3JvdEZvcmNlOwogICAgcmVsYXRpdmVQb2ludC5jcm9zcyhmb3JjZSwgcm90Rm9yY2UpOyAvLyBBZGQgbGluZWFyIGZvcmNlCgogICAgdGhpcy5mb3JjZS52YWRkKGZvcmNlLCB0aGlzLmZvcmNlKTsgLy8gQWRkIHJvdGF0aW9uYWwgZm9yY2UKCiAgICB0aGlzLnRvcnF1ZS52YWRkKHJvdEZvcmNlLCB0aGlzLnRvcnF1ZSk7CiAgfQoKICBhcHBseUxvY2FsRm9yY2UobG9jYWxGb3JjZSwgbG9jYWxQb2ludCkgewogICAgaWYgKHRoaXMudHlwZSAhPT0gQm9keS5EWU5BTUlDKSB7CiAgICAgIHJldHVybjsKICAgIH0KCiAgICBjb25zdCB3b3JsZEZvcmNlID0gQm9keV9hcHBseUxvY2FsRm9yY2Vfd29ybGRGb3JjZTsKICAgIGNvbnN0IHJlbGF0aXZlUG9pbnRXb3JsZCA9IEJvZHlfYXBwbHlMb2NhbEZvcmNlX3JlbGF0aXZlUG9pbnRXb3JsZDsgLy8gVHJhbnNmb3JtIHRoZSBmb3JjZSB2ZWN0b3IgdG8gd29ybGQgc3BhY2UKCiAgICB0aGlzLnZlY3RvclRvV29ybGRGcmFtZShsb2NhbEZvcmNlLCB3b3JsZEZvcmNlKTsKICAgIHRoaXMudmVjdG9yVG9Xb3JsZEZyYW1lKGxvY2FsUG9pbnQsIHJlbGF0aXZlUG9pbnRXb3JsZCk7CiAgICB0aGlzLmFwcGx5Rm9yY2Uod29ybGRGb3JjZSwgcmVsYXRpdmVQb2ludFdvcmxkKTsKICB9CgogIGFwcGx5SW1wdWxzZShpbXB1bHNlLCByZWxhdGl2ZVBvaW50KSB7CiAgICBpZiAodGhpcy50eXBlICE9PSBCb2R5LkRZTkFNSUMpIHsKICAgICAgcmV0dXJuOwogICAgfSAvLyBDb21wdXRlIHBvaW50IHBvc2l0aW9uIHJlbGF0aXZlIHRvIHRoZSBib2R5IGNlbnRlcgoKCiAgICBjb25zdCByID0gcmVsYXRpdmVQb2ludDsgLy8gQ29tcHV0ZSBwcm9kdWNlZCBjZW50cmFsIGltcHVsc2UgdmVsb2NpdHkKCiAgICBjb25zdCB2ZWxvID0gQm9keV9hcHBseUltcHVsc2VfdmVsbzsKICAgIHZlbG8uY29weShpbXB1bHNlKTsKICAgIHZlbG8uc2NhbGUodGhpcy5pbnZNYXNzLCB2ZWxvKTsgLy8gQWRkIGxpbmVhciBpbXB1bHNlCgogICAgdGhpcy52ZWxvY2l0eS52YWRkKHZlbG8sIHRoaXMudmVsb2NpdHkpOyAvLyBDb21wdXRlIHByb2R1Y2VkIHJvdGF0aW9uYWwgaW1wdWxzZSB2ZWxvY2l0eQoKICAgIGNvbnN0IHJvdFZlbG8gPSBCb2R5X2FwcGx5SW1wdWxzZV9yb3RWZWxvOwogICAgci5jcm9zcyhpbXB1bHNlLCByb3RWZWxvKTsKICAgIC8qDQogICAgIHJvdFZlbG8ueCAqPSB0aGlzLmludkluZXJ0aWEueDsNCiAgICAgcm90VmVsby55ICo9IHRoaXMuaW52SW5lcnRpYS55Ow0KICAgICByb3RWZWxvLnogKj0gdGhpcy5pbnZJbmVydGlhLno7DQogICAgICovCgogICAgdGhpcy5pbnZJbmVydGlhV29ybGQudm11bHQocm90VmVsbywgcm90VmVsbyk7IC8vIEFkZCByb3RhdGlvbmFsIEltcHVsc2UKCiAgICB0aGlzLmFuZ3VsYXJWZWxvY2l0eS52YWRkKHJvdFZlbG8sIHRoaXMuYW5ndWxhclZlbG9jaXR5KTsKICB9CgogIGFwcGx5TG9jYWxJbXB1bHNlKGxvY2FsSW1wdWxzZSwgbG9jYWxQb2ludCkgewogICAgaWYgKHRoaXMudHlwZSAhPT0gQm9keS5EWU5BTUlDKSB7CiAgICAgIHJldHVybjsKICAgIH0KCiAgICBjb25zdCB3b3JsZEltcHVsc2UgPSBCb2R5X2FwcGx5TG9jYWxJbXB1bHNlX3dvcmxkSW1wdWxzZTsKICAgIGNvbnN0IHJlbGF0aXZlUG9pbnRXb3JsZCA9IEJvZHlfYXBwbHlMb2NhbEltcHVsc2VfcmVsYXRpdmVQb2ludDsgLy8gVHJhbnNmb3JtIHRoZSBmb3JjZSB2ZWN0b3IgdG8gd29ybGQgc3BhY2UKCiAgICB0aGlzLnZlY3RvclRvV29ybGRGcmFtZShsb2NhbEltcHVsc2UsIHdvcmxkSW1wdWxzZSk7CiAgICB0aGlzLnZlY3RvclRvV29ybGRGcmFtZShsb2NhbFBvaW50LCByZWxhdGl2ZVBvaW50V29ybGQpOwogICAgdGhpcy5hcHBseUltcHVsc2Uod29ybGRJbXB1bHNlLCByZWxhdGl2ZVBvaW50V29ybGQpOwogIH0KICAvKioNCiAgICogU2hvdWxkIGJlIGNhbGxlZCB3aGVuZXZlciB5b3UgY2hhbmdlIHRoZSBib2R5IHNoYXBlIG9yIG1hc3MuDQogICAqIEBtZXRob2QgdXBkYXRlTWFzc1Byb3BlcnRpZXMNCiAgICovCgoKICB1cGRhdGVNYXNzUHJvcGVydGllcygpIHsKICAgIGNvbnN0IGhhbGZFeHRlbnRzID0gQm9keV91cGRhdGVNYXNzUHJvcGVydGllc19oYWxmRXh0ZW50czsKICAgIHRoaXMuaW52TWFzcyA9IHRoaXMubWFzcyA+IDAgPyAxLjAgLyB0aGlzLm1hc3MgOiAwOwogICAgY29uc3QgSSA9IHRoaXMuaW5lcnRpYTsKICAgIGNvbnN0IGZpeGVkID0gdGhpcy5maXhlZFJvdGF0aW9uOyAvLyBBcHByb3hpbWF0ZSB3aXRoIEFBQkIgYm94CgogICAgdGhpcy5jb21wdXRlQUFCQigpOwogICAgaGFsZkV4dGVudHMuc2V0KCh0aGlzLmFhYmIudXBwZXJCb3VuZC54IC0gdGhpcy5hYWJiLmxvd2VyQm91bmQueCkgLyAyLCAodGhpcy5hYWJiLnVwcGVyQm91bmQueSAtIHRoaXMuYWFiYi5sb3dlckJvdW5kLnkpIC8gMiwgKHRoaXMuYWFiYi51cHBlckJvdW5kLnogLSB0aGlzLmFhYmIubG93ZXJCb3VuZC56KSAvIDIpOwogICAgQm94LmNhbGN1bGF0ZUluZXJ0aWEoaGFsZkV4dGVudHMsIHRoaXMubWFzcywgSSk7CiAgICB0aGlzLmludkluZXJ0aWEuc2V0KEkueCA+IDAgJiYgIWZpeGVkID8gMS4wIC8gSS54IDogMCwgSS55ID4gMCAmJiAhZml4ZWQgPyAxLjAgLyBJLnkgOiAwLCBJLnogPiAwICYmICFmaXhlZCA/IDEuMCAvIEkueiA6IDApOwogICAgdGhpcy51cGRhdGVJbmVydGlhV29ybGQodHJ1ZSk7CiAgfQogIC8qKg0KICAgKiBHZXQgd29ybGQgdmVsb2NpdHkgb2YgYSBwb2ludCBpbiB0aGUgYm9keS4NCiAgICogQG1ldGhvZCBnZXRWZWxvY2l0eUF0V29ybGRQb2ludA0KICAgKiBAcGFyYW0gIHtWZWMzfSB3b3JsZFBvaW50DQogICAqIEBwYXJhbSAge1ZlYzN9IHJlc3VsdA0KICAgKiBAcmV0dXJuIHtWZWMzfSBUaGUgcmVzdWx0IHZlY3Rvci4NCiAgICovCgoKICBnZXRWZWxvY2l0eUF0V29ybGRQb2ludCh3b3JsZFBvaW50LCByZXN1bHQpIHsKICAgIGNvbnN0IHIgPSBuZXcgVmVjMygpOwogICAgd29ybGRQb2ludC52c3ViKHRoaXMucG9zaXRpb24sIHIpOwogICAgdGhpcy5hbmd1bGFyVmVsb2NpdHkuY3Jvc3MociwgcmVzdWx0KTsKICAgIHRoaXMudmVsb2NpdHkudmFkZChyZXN1bHQsIHJlc3VsdCk7CiAgICByZXR1cm4gcmVzdWx0OwogIH0KICAvKioNCiAgICogTW92ZSB0aGUgYm9keSBmb3J3YXJkIGluIHRpbWUuDQogICAqIEBwYXJhbSB7bnVtYmVyfSBkdCBUaW1lIHN0ZXANCiAgICogQHBhcmFtIHtib29sZWFufSBxdWF0Tm9ybWFsaXplIFNldCB0byB0cnVlIHRvIG5vcm1hbGl6ZSB0aGUgYm9keSBxdWF0ZXJuaW9uDQogICAqIEBwYXJhbSB7Ym9vbGVhbn0gcXVhdE5vcm1hbGl6ZUZhc3QgSWYgdGhlIHF1YXRlcm5pb24gc2hvdWxkIGJlIG5vcm1hbGl6ZWQgdXNpbmcgImZhc3QiIHF1YXRlcm5pb24gbm9ybWFsaXphdGlvbg0KICAgKi8KCgogIGludGVncmF0ZShkdCwgcXVhdE5vcm1hbGl6ZSwgcXVhdE5vcm1hbGl6ZUZhc3QpIHsKICAgIC8vIFNhdmUgcHJldmlvdXMgcG9zaXRpb24KICAgIHRoaXMucHJldmlvdXNQb3NpdGlvbi5jb3B5KHRoaXMucG9zaXRpb24pOwogICAgdGhpcy5wcmV2aW91c1F1YXRlcm5pb24uY29weSh0aGlzLnF1YXRlcm5pb24pOwoKICAgIGlmICghKHRoaXMudHlwZSA9PT0gQm9keS5EWU5BTUlDIHx8IHRoaXMudHlwZSA9PT0gQm9keS5LSU5FTUFUSUMpIHx8IHRoaXMuc2xlZXBTdGF0ZSA9PT0gQm9keS5TTEVFUElORykgewogICAgICAvLyBPbmx5IGZvciBkeW5hbWljCiAgICAgIHJldHVybjsKICAgIH0KCiAgICBjb25zdCB2ZWxvID0gdGhpcy52ZWxvY2l0eTsKICAgIGNvbnN0IGFuZ3VsYXJWZWxvID0gdGhpcy5hbmd1bGFyVmVsb2NpdHk7CiAgICBjb25zdCBwb3MgPSB0aGlzLnBvc2l0aW9uOwogICAgY29uc3QgZm9yY2UgPSB0aGlzLmZvcmNlOwogICAgY29uc3QgdG9ycXVlID0gdGhpcy50b3JxdWU7CiAgICBjb25zdCBxdWF0ID0gdGhpcy5xdWF0ZXJuaW9uOwogICAgY29uc3QgaW52TWFzcyA9IHRoaXMuaW52TWFzczsKICAgIGNvbnN0IGludkluZXJ0aWEgPSB0aGlzLmludkluZXJ0aWFXb3JsZDsKICAgIGNvbnN0IGxpbmVhckZhY3RvciA9IHRoaXMubGluZWFyRmFjdG9yOwogICAgY29uc3QgaU1kdCA9IGludk1hc3MgKiBkdDsKICAgIHZlbG8ueCArPSBmb3JjZS54ICogaU1kdCAqIGxpbmVhckZhY3Rvci54OwogICAgdmVsby55ICs9IGZvcmNlLnkgKiBpTWR0ICogbGluZWFyRmFjdG9yLnk7CiAgICB2ZWxvLnogKz0gZm9yY2UueiAqIGlNZHQgKiBsaW5lYXJGYWN0b3IuejsKICAgIGNvbnN0IGUgPSBpbnZJbmVydGlhLmVsZW1lbnRzOwogICAgY29uc3QgYW5ndWxhckZhY3RvciA9IHRoaXMuYW5ndWxhckZhY3RvcjsKICAgIGNvbnN0IHR4ID0gdG9ycXVlLnggKiBhbmd1bGFyRmFjdG9yLng7CiAgICBjb25zdCB0eSA9IHRvcnF1ZS55ICogYW5ndWxhckZhY3Rvci55OwogICAgY29uc3QgdHogPSB0b3JxdWUueiAqIGFuZ3VsYXJGYWN0b3IuejsKICAgIGFuZ3VsYXJWZWxvLnggKz0gZHQgKiAoZVswXSAqIHR4ICsgZVsxXSAqIHR5ICsgZVsyXSAqIHR6KTsKICAgIGFuZ3VsYXJWZWxvLnkgKz0gZHQgKiAoZVszXSAqIHR4ICsgZVs0XSAqIHR5ICsgZVs1XSAqIHR6KTsKICAgIGFuZ3VsYXJWZWxvLnogKz0gZHQgKiAoZVs2XSAqIHR4ICsgZVs3XSAqIHR5ICsgZVs4XSAqIHR6KTsgLy8gVXNlIG5ldyB2ZWxvY2l0eSAgLSBsZWFwIGZyb2cKCiAgICBwb3MueCArPSB2ZWxvLnggKiBkdDsKICAgIHBvcy55ICs9IHZlbG8ueSAqIGR0OwogICAgcG9zLnogKz0gdmVsby56ICogZHQ7CiAgICBxdWF0LmludGVncmF0ZSh0aGlzLmFuZ3VsYXJWZWxvY2l0eSwgZHQsIHRoaXMuYW5ndWxhckZhY3RvciwgcXVhdCk7CgogICAgaWYgKHF1YXROb3JtYWxpemUpIHsKICAgICAgaWYgKHF1YXROb3JtYWxpemVGYXN0KSB7CiAgICAgICAgcXVhdC5ub3JtYWxpemVGYXN0KCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcXVhdC5ub3JtYWxpemUoKTsKICAgICAgfQogICAgfQoKICAgIHRoaXMuYWFiYk5lZWRzVXBkYXRlID0gdHJ1ZTsgLy8gVXBkYXRlIHdvcmxkIGluZXJ0aWEKCiAgICB0aGlzLnVwZGF0ZUluZXJ0aWFXb3JsZCgpOwogIH0KCn0KLyoqDQogKiBEaXNwYXRjaGVkIGFmdGVyIHR3byBib2RpZXMgY29sbGlkZS4gVGhpcyBldmVudCBpcyBkaXNwYXRjaGVkIG9uIGVhY2gNCiAqIG9mIHRoZSB0d28gYm9kaWVzIGludm9sdmVkIGluIHRoZSBjb2xsaXNpb24uDQogKiBAZXZlbnQgY29sbGlkZQ0KICogQHBhcmFtIHtCb2R5fSBib2R5IFRoZSBib2R5IHRoYXQgd2FzIGludm9sdmVkIGluIHRoZSBjb2xsaXNpb24uDQogKiBAcGFyYW0ge0NvbnRhY3RFcXVhdGlvbn0gY29udGFjdCBUaGUgZGV0YWlscyBvZiB0aGUgY29sbGlzaW9uLg0KICovCgoKQm9keS5DT0xMSURFX0VWRU5UX05BTUUgPSAnY29sbGlkZSc7Ci8qKg0KICogQSBkeW5hbWljIGJvZHkgaXMgZnVsbHkgc2ltdWxhdGVkLiBDYW4gYmUgbW92ZWQgbWFudWFsbHkgYnkgdGhlIHVzZXIsIGJ1dCBub3JtYWxseSB0aGV5IG1vdmUgYWNjb3JkaW5nIHRvIGZvcmNlcy4gQSBkeW5hbWljIGJvZHkgY2FuIGNvbGxpZGUgd2l0aCBhbGwgYm9keSB0eXBlcy4gQSBkeW5hbWljIGJvZHkgYWx3YXlzIGhhcyBmaW5pdGUsIG5vbi16ZXJvIG1hc3MuDQogKiBAc3RhdGljDQogKiBAcHJvcGVydHkgRFlOQU1JQw0KICogQHR5cGUge051bWJlcn0NCiAqLwoKQm9keS5EWU5BTUlDID0gMTsKLyoqDQogKiBBIHN0YXRpYyBib2R5IGRvZXMgbm90IG1vdmUgZHVyaW5nIHNpbXVsYXRpb24gYW5kIGJlaGF2ZXMgYXMgaWYgaXQgaGFzIGluZmluaXRlIG1hc3MuIFN0YXRpYyBib2RpZXMgY2FuIGJlIG1vdmVkIG1hbnVhbGx5IGJ5IHNldHRpbmcgdGhlIHBvc2l0aW9uIG9mIHRoZSBib2R5LiBUaGUgdmVsb2NpdHkgb2YgYSBzdGF0aWMgYm9keSBpcyBhbHdheXMgemVyby4gU3RhdGljIGJvZGllcyBkbyBub3QgY29sbGlkZSB3aXRoIG90aGVyIHN0YXRpYyBvciBraW5lbWF0aWMgYm9kaWVzLg0KICogQHN0YXRpYw0KICogQHByb3BlcnR5IFNUQVRJQw0KICogQHR5cGUge051bWJlcn0NCiAqLwoKQm9keS5TVEFUSUMgPSAyOwovKioNCiAqIEEga2luZW1hdGljIGJvZHkgbW92ZXMgdW5kZXIgc2ltdWxhdGlvbiBhY2NvcmRpbmcgdG8gaXRzIHZlbG9jaXR5LiBUaGV5IGRvIG5vdCByZXNwb25kIHRvIGZvcmNlcy4gVGhleSBjYW4gYmUgbW92ZWQgbWFudWFsbHksIGJ1dCBub3JtYWxseSBhIGtpbmVtYXRpYyBib2R5IGlzIG1vdmVkIGJ5IHNldHRpbmcgaXRzIHZlbG9jaXR5LiBBIGtpbmVtYXRpYyBib2R5IGJlaGF2ZXMgYXMgaWYgaXQgaGFzIGluZmluaXRlIG1hc3MuIEtpbmVtYXRpYyBib2RpZXMgZG8gbm90IGNvbGxpZGUgd2l0aCBvdGhlciBzdGF0aWMgb3Iga2luZW1hdGljIGJvZGllcy4NCiAqIEBzdGF0aWMNCiAqIEBwcm9wZXJ0eSBLSU5FTUFUSUMNCiAqIEB0eXBlIHtOdW1iZXJ9DQogKi8KCkJvZHkuS0lORU1BVElDID0gNDsKLyoqDQogKiBAc3RhdGljDQogKiBAcHJvcGVydHkgQVdBS0UNCiAqIEB0eXBlIHtudW1iZXJ9DQogKi8KCkJvZHkuQVdBS0UgPSBCT0RZX1NMRUVQX1NUQVRFUy5BV0FLRTsKQm9keS5TTEVFUFkgPSBCT0RZX1NMRUVQX1NUQVRFUy5TTEVFUFk7CkJvZHkuU0xFRVBJTkcgPSBCT0RZX1NMRUVQX1NUQVRFUy5TTEVFUElORzsKQm9keS5pZENvdW50ZXIgPSAwOwovKioNCiAqIERpc3BhdGNoZWQgYWZ0ZXIgYSBzbGVlcGluZyBib2R5IGhhcyB3b2tlbiB1cC4NCiAqIEBldmVudCB3YWtldXANCiAqLwoKQm9keS53YWtldXBFdmVudCA9IHsKICB0eXBlOiAnd2FrZXVwJwp9OwovKioNCiAqIERpc3BhdGNoZWQgYWZ0ZXIgYSBib2R5IGhhcyBnb25lIGluIHRvIHRoZSBzbGVlcHkgc3RhdGUuDQogKiBAZXZlbnQgc2xlZXB5DQogKi8KCkJvZHkuc2xlZXB5RXZlbnQgPSB7CiAgdHlwZTogJ3NsZWVweScKfTsKLyoqDQogKiBEaXNwYXRjaGVkIGFmdGVyIGEgYm9keSBoYXMgZmFsbGVuIGFzbGVlcC4NCiAqIEBldmVudCBzbGVlcA0KICovCgpCb2R5LnNsZWVwRXZlbnQgPSB7CiAgdHlwZTogJ3NsZWVwJwp9Owpjb25zdCB0bXBWZWMgPSBuZXcgVmVjMygpOwpjb25zdCB0bXBRdWF0JDEgPSBuZXcgUXVhdGVybmlvbigpOwpjb25zdCBjb21wdXRlQUFCQl9zaGFwZUFBQkIgPSBuZXcgQUFCQigpOwpjb25zdCB1aXdfbTEgPSBuZXcgTWF0MygpOwpjb25zdCB1aXdfbTIgPSBuZXcgTWF0MygpOwovKioNCiAqIEFwcGx5IGZvcmNlIHRvIGEgd29ybGQgcG9pbnQuIFRoaXMgY291bGQgZm9yIGV4YW1wbGUgYmUgYSBwb2ludCBvbiB0aGUgQm9keSBzdXJmYWNlLiBBcHBseWluZyBmb3JjZSB0aGlzIHdheSB3aWxsIGFkZCB0byBCb2R5LmZvcmNlIGFuZCBCb2R5LnRvcnF1ZS4NCiAqIEBtZXRob2QgYXBwbHlGb3JjZQ0KICogQHBhcmFtICB7VmVjM30gZm9yY2UgVGhlIGFtb3VudCBvZiBmb3JjZSB0byBhZGQuDQogKiBAcGFyYW0gIHtWZWMzfSByZWxhdGl2ZVBvaW50IEEgcG9pbnQgcmVsYXRpdmUgdG8gdGhlIGNlbnRlciBvZiBtYXNzIHRvIGFwcGx5IHRoZSBmb3JjZSBvbi4NCiAqLwoKY29uc3QgQm9keV9hcHBseUZvcmNlX3JvdEZvcmNlID0gbmV3IFZlYzMoKTsKLyoqDQogKiBBcHBseSBmb3JjZSB0byBhIGxvY2FsIHBvaW50IGluIHRoZSBib2R5Lg0KICogQG1ldGhvZCBhcHBseUxvY2FsRm9yY2UNCiAqIEBwYXJhbSAge1ZlYzN9IGZvcmNlIFRoZSBmb3JjZSB2ZWN0b3IgdG8gYXBwbHksIGRlZmluZWQgbG9jYWxseSBpbiB0aGUgYm9keSBmcmFtZS4NCiAqIEBwYXJhbSAge1ZlYzN9IGxvY2FsUG9pbnQgQSBsb2NhbCBwb2ludCBpbiB0aGUgYm9keSB0byBhcHBseSB0aGUgZm9yY2Ugb24uDQogKi8KCmNvbnN0IEJvZHlfYXBwbHlMb2NhbEZvcmNlX3dvcmxkRm9yY2UgPSBuZXcgVmVjMygpOwpjb25zdCBCb2R5X2FwcGx5TG9jYWxGb3JjZV9yZWxhdGl2ZVBvaW50V29ybGQgPSBuZXcgVmVjMygpOwovKioNCiAqIEFwcGx5IGltcHVsc2UgdG8gYSB3b3JsZCBwb2ludC4gVGhpcyBjb3VsZCBmb3IgZXhhbXBsZSBiZSBhIHBvaW50IG9uIHRoZSBCb2R5IHN1cmZhY2UuIEFuIGltcHVsc2UgaXMgYSBmb3JjZSBhZGRlZCB0byBhIGJvZHkgZHVyaW5nIGEgc2hvcnQgcGVyaW9kIG9mIHRpbWUgKGltcHVsc2UgPSBmb3JjZSAqIHRpbWUpLiBJbXB1bHNlcyB3aWxsIGJlIGFkZGVkIHRvIEJvZHkudmVsb2NpdHkgYW5kIEJvZHkuYW5ndWxhclZlbG9jaXR5Lg0KICogQG1ldGhvZCBhcHBseUltcHVsc2UNCiAqIEBwYXJhbSAge1ZlYzN9IGltcHVsc2UgVGhlIGFtb3VudCBvZiBpbXB1bHNlIHRvIGFkZC4NCiAqIEBwYXJhbSAge1ZlYzN9IHJlbGF0aXZlUG9pbnQgQSBwb2ludCByZWxhdGl2ZSB0byB0aGUgY2VudGVyIG9mIG1hc3MgdG8gYXBwbHkgdGhlIGZvcmNlIG9uLg0KICovCgpjb25zdCBCb2R5X2FwcGx5SW1wdWxzZV92ZWxvID0gbmV3IFZlYzMoKTsKY29uc3QgQm9keV9hcHBseUltcHVsc2Vfcm90VmVsbyA9IG5ldyBWZWMzKCk7Ci8qKg0KICogQXBwbHkgbG9jYWxseS1kZWZpbmVkIGltcHVsc2UgdG8gYSBsb2NhbCBwb2ludCBpbiB0aGUgYm9keS4NCiAqIEBtZXRob2QgYXBwbHlMb2NhbEltcHVsc2UNCiAqIEBwYXJhbSAge1ZlYzN9IGZvcmNlIFRoZSBmb3JjZSB2ZWN0b3IgdG8gYXBwbHksIGRlZmluZWQgbG9jYWxseSBpbiB0aGUgYm9keSBmcmFtZS4NCiAqIEBwYXJhbSAge1ZlYzN9IGxvY2FsUG9pbnQgQSBsb2NhbCBwb2ludCBpbiB0aGUgYm9keSB0byBhcHBseSB0aGUgZm9yY2Ugb24uDQogKi8KCmNvbnN0IEJvZHlfYXBwbHlMb2NhbEltcHVsc2Vfd29ybGRJbXB1bHNlID0gbmV3IFZlYzMoKTsKY29uc3QgQm9keV9hcHBseUxvY2FsSW1wdWxzZV9yZWxhdGl2ZVBvaW50ID0gbmV3IFZlYzMoKTsKY29uc3QgQm9keV91cGRhdGVNYXNzUHJvcGVydGllc19oYWxmRXh0ZW50cyA9IG5ldyBWZWMzKCk7Ci8qKg0KICogQmFzZSBjbGFzcyBmb3IgYnJvYWRwaGFzZSBpbXBsZW1lbnRhdGlvbnMNCiAqIEBjbGFzcyBCcm9hZHBoYXNlDQogKiBAY29uc3RydWN0b3INCiAqIEBhdXRob3Igc2NodGVwcGUNCiAqLwoKY2xhc3MgQnJvYWRwaGFzZSB7CiAgLy8gVGhlIHdvcmxkIHRvIHNlYXJjaCBmb3IgY29sbGlzaW9ucyBpbi4KICAvLyBJZiBzZXQgdG8gdHJ1ZSwgdGhlIGJyb2FkcGhhc2UgdXNlcyBib3VuZGluZyBib3hlcyBmb3IgaW50ZXJzZWN0aW9uIHRlc3QsIGVsc2UgaXQgdXNlcyBib3VuZGluZyBzcGhlcmVzLgogIC8vIFNldCB0byB0cnVlIGlmIHRoZSBvYmplY3RzIGluIHRoZSB3b3JsZCBtb3ZlZC4KICBjb25zdHJ1Y3RvcigpIHsKICAgIHRoaXMud29ybGQgPSBudWxsOwogICAgdGhpcy51c2VCb3VuZGluZ0JveGVzID0gZmFsc2U7CiAgICB0aGlzLmRpcnR5ID0gdHJ1ZTsKICB9CiAgLyoqDQogICAqIEdldCB0aGUgY29sbGlzaW9uIHBhaXJzIGZyb20gdGhlIHdvcmxkDQogICAqIEBtZXRob2QgY29sbGlzaW9uUGFpcnMNCiAgICogQHBhcmFtIHtXb3JsZH0gd29ybGQgVGhlIHdvcmxkIHRvIHNlYXJjaCBpbg0KICAgKiBAcGFyYW0ge0FycmF5fSBwMSBFbXB0eSBhcnJheSB0byBiZSBmaWxsZWQgd2l0aCBib2R5IG9iamVjdHMNCiAgICogQHBhcmFtIHtBcnJheX0gcDIgRW1wdHkgYXJyYXkgdG8gYmUgZmlsbGVkIHdpdGggYm9keSBvYmplY3RzDQogICAqLwoKCiAgY29sbGlzaW9uUGFpcnMod29ybGQsIHAxLCBwMikgewogICAgdGhyb3cgbmV3IEVycm9yKCdjb2xsaXNpb25QYWlycyBub3QgaW1wbGVtZW50ZWQgZm9yIHRoaXMgQnJvYWRQaGFzZSBjbGFzcyEnKTsKICB9CiAgLyoqDQogICAqIENoZWNrIGlmIGEgYm9keSBwYWlyIG5lZWRzIHRvIGJlIGludGVyc2VjdGlvbiB0ZXN0ZWQgYXQgYWxsLg0KICAgKiBAbWV0aG9kIG5lZWRCcm9hZHBoYXNlQ29sbGlzaW9uDQogICAqIEBwYXJhbSB7Qm9keX0gYm9keUENCiAgICogQHBhcmFtIHtCb2R5fSBib2R5Qg0KICAgKiBAcmV0dXJuIHtib29sfQ0KICAgKi8KCgogIG5lZWRCcm9hZHBoYXNlQ29sbGlzaW9uKGJvZHlBLCBib2R5QikgewogICAgLy8gQ2hlY2sgY29sbGlzaW9uIGZpbHRlciBtYXNrcwogICAgaWYgKChib2R5QS5jb2xsaXNpb25GaWx0ZXJHcm91cCAmIGJvZHlCLmNvbGxpc2lvbkZpbHRlck1hc2spID09PSAwIHx8IChib2R5Qi5jb2xsaXNpb25GaWx0ZXJHcm91cCAmIGJvZHlBLmNvbGxpc2lvbkZpbHRlck1hc2spID09PSAwKSB7CiAgICAgIHJldHVybiBmYWxzZTsKICAgIH0gLy8gQ2hlY2sgdHlwZXMKCgogICAgaWYgKCgoYm9keUEudHlwZSAmIEJvZHkuU1RBVElDKSAhPT0gMCB8fCBib2R5QS5zbGVlcFN0YXRlID09PSBCb2R5LlNMRUVQSU5HKSAmJiAoKGJvZHlCLnR5cGUgJiBCb2R5LlNUQVRJQykgIT09IDAgfHwgYm9keUIuc2xlZXBTdGF0ZSA9PT0gQm9keS5TTEVFUElORykpIHsKICAgICAgLy8gQm90aCBib2RpZXMgYXJlIHN0YXRpYyBvciBzbGVlcGluZy4gU2tpcC4KICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQoKICAgIHJldHVybiB0cnVlOwogIH0KICAvKioNCiAgICogQ2hlY2sgaWYgdGhlIGJvdW5kaW5nIHZvbHVtZXMgb2YgdHdvIGJvZGllcyBpbnRlcnNlY3QuDQogICAqIEBtZXRob2QgaW50ZXJzZWN0aW9uVGVzdA0KICAgKiBAcGFyYW0ge0JvZHl9IGJvZHlBDQogICAqIEBwYXJhbSB7Qm9keX0gYm9keUINCiAgICogQHBhcmFtIHthcnJheX0gcGFpcnMxDQogICAqIEBwYXJhbSB7YXJyYXl9IHBhaXJzMg0KICAgKi8KCgogIGludGVyc2VjdGlvblRlc3QoYm9keUEsIGJvZHlCLCBwYWlyczEsIHBhaXJzMikgewogICAgaWYgKHRoaXMudXNlQm91bmRpbmdCb3hlcykgewogICAgICB0aGlzLmRvQm91bmRpbmdCb3hCcm9hZHBoYXNlKGJvZHlBLCBib2R5QiwgcGFpcnMxLCBwYWlyczIpOwogICAgfSBlbHNlIHsKICAgICAgdGhpcy5kb0JvdW5kaW5nU3BoZXJlQnJvYWRwaGFzZShib2R5QSwgYm9keUIsIHBhaXJzMSwgcGFpcnMyKTsKICAgIH0KICB9CgogIGRvQm91bmRpbmdTcGhlcmVCcm9hZHBoYXNlKGJvZHlBLCBib2R5QiwgcGFpcnMxLCBwYWlyczIpIHsKICAgIGNvbnN0IHIgPSBCcm9hZHBoYXNlX2NvbGxpc2lvblBhaXJzX3I7CiAgICBib2R5Qi5wb3NpdGlvbi52c3ViKGJvZHlBLnBvc2l0aW9uLCByKTsKICAgIGNvbnN0IGJvdW5kaW5nUmFkaXVzU3VtMiA9IChib2R5QS5ib3VuZGluZ1JhZGl1cyArIGJvZHlCLmJvdW5kaW5nUmFkaXVzKSAqKiAyOwogICAgY29uc3Qgbm9ybTIgPSByLmxlbmd0aFNxdWFyZWQoKTsKCiAgICBpZiAobm9ybTIgPCBib3VuZGluZ1JhZGl1c1N1bTIpIHsKICAgICAgcGFpcnMxLnB1c2goYm9keUEpOwogICAgICBwYWlyczIucHVzaChib2R5Qik7CiAgICB9CiAgfQogIC8qKg0KICAgKiBDaGVjayBpZiB0aGUgYm91bmRpbmcgYm94ZXMgb2YgdHdvIGJvZGllcyBhcmUgaW50ZXJzZWN0aW5nLg0KICAgKiBAbWV0aG9kIGRvQm91bmRpbmdCb3hCcm9hZHBoYXNlDQogICAqIEBwYXJhbSB7Qm9keX0gYm9keUENCiAgICogQHBhcmFtIHtCb2R5fSBib2R5Qg0KICAgKiBAcGFyYW0ge0FycmF5fSBwYWlyczENCiAgICogQHBhcmFtIHtBcnJheX0gcGFpcnMyDQogICAqLwoKCiAgZG9Cb3VuZGluZ0JveEJyb2FkcGhhc2UoYm9keUEsIGJvZHlCLCBwYWlyczEsIHBhaXJzMikgewogICAgaWYgKGJvZHlBLmFhYmJOZWVkc1VwZGF0ZSkgewogICAgICBib2R5QS5jb21wdXRlQUFCQigpOwogICAgfQoKICAgIGlmIChib2R5Qi5hYWJiTmVlZHNVcGRhdGUpIHsKICAgICAgYm9keUIuY29tcHV0ZUFBQkIoKTsKICAgIH0gLy8gQ2hlY2sgQUFCQiAvIEFBQkIKCgogICAgaWYgKGJvZHlBLmFhYmIub3ZlcmxhcHMoYm9keUIuYWFiYikpIHsKICAgICAgcGFpcnMxLnB1c2goYm9keUEpOwogICAgICBwYWlyczIucHVzaChib2R5Qik7CiAgICB9CiAgfQoKICBtYWtlUGFpcnNVbmlxdWUocGFpcnMxLCBwYWlyczIpIHsKICAgIGNvbnN0IHQgPSBCcm9hZHBoYXNlX21ha2VQYWlyc1VuaXF1ZV90ZW1wOwogICAgY29uc3QgcDEgPSBCcm9hZHBoYXNlX21ha2VQYWlyc1VuaXF1ZV9wMTsKICAgIGNvbnN0IHAyID0gQnJvYWRwaGFzZV9tYWtlUGFpcnNVbmlxdWVfcDI7CiAgICBjb25zdCBOID0gcGFpcnMxLmxlbmd0aDsKCiAgICBmb3IgKGxldCBpID0gMDsgaSAhPT0gTjsgaSsrKSB7CiAgICAgIHAxW2ldID0gcGFpcnMxW2ldOwogICAgICBwMltpXSA9IHBhaXJzMltpXTsKICAgIH0KCiAgICBwYWlyczEubGVuZ3RoID0gMDsKICAgIHBhaXJzMi5sZW5ndGggPSAwOwoKICAgIGZvciAobGV0IGkgPSAwOyBpICE9PSBOOyBpKyspIHsKICAgICAgY29uc3QgaWQxID0gcDFbaV0uaWQ7CiAgICAgIGNvbnN0IGlkMiA9IHAyW2ldLmlkOwogICAgICBjb25zdCBrZXkgPSBpZDEgPCBpZDIgPyBpZDEgKyAiLCIgKyBpZDIgOiBpZDIgKyAiLCIgKyBpZDE7CiAgICAgIHRba2V5XSA9IGk7CiAgICAgIHQua2V5cy5wdXNoKGtleSk7CiAgICB9CgogICAgZm9yIChsZXQgaSA9IDA7IGkgIT09IHQua2V5cy5sZW5ndGg7IGkrKykgewogICAgICBjb25zdCBrZXkgPSB0LmtleXMucG9wKCk7CiAgICAgIGNvbnN0IHBhaXJJbmRleCA9IHRba2V5XTsKICAgICAgcGFpcnMxLnB1c2gocDFbcGFpckluZGV4XSk7CiAgICAgIHBhaXJzMi5wdXNoKHAyW3BhaXJJbmRleF0pOwogICAgICBkZWxldGUgdFtrZXldOwogICAgfQogIH0KICAvKioNCiAgICogVG8gYmUgaW1wbGVtZW50ZWQgYnkgc3ViY2Fzc2VzDQogICAqIEBtZXRob2Qgc2V0V29ybGQNCiAgICogQHBhcmFtIHtXb3JsZH0gd29ybGQNCiAgICovCgoKICBzZXRXb3JsZCh3b3JsZCkge30KICAvKioNCiAgICogUmV0dXJucyBhbGwgdGhlIGJvZGllcyB3aXRoaW4gdGhlIEFBQkIuDQogICAqIEBtZXRob2QgYWFiYlF1ZXJ5DQogICAqIEBwYXJhbSAge1dvcmxkfSB3b3JsZA0KICAgKiBAcGFyYW0gIHtBQUJCfSBhYWJiDQogICAqIEBwYXJhbSAge2FycmF5fSByZXN1bHQgQW4gYXJyYXkgdG8gc3RvcmUgcmVzdWx0aW5nIGJvZGllcyBpbi4NCiAgICogQHJldHVybiB7YXJyYXl9DQogICAqLwoKCiAgYWFiYlF1ZXJ5KHdvcmxkLCBhYWJiLCByZXN1bHQpIHsKICAgIGNvbnNvbGUud2FybignLmFhYmJRdWVyeSBpcyBub3QgaW1wbGVtZW50ZWQgaW4gdGhpcyBCcm9hZHBoYXNlIHN1YmNsYXNzLicpOwogICAgcmV0dXJuIFtdOwogIH0KCn0KLyoqDQogKiBDaGVjayBpZiB0aGUgYm91bmRpbmcgc3BoZXJlcyBvZiB0d28gYm9kaWVzIGFyZSBpbnRlcnNlY3RpbmcuDQogKiBAbWV0aG9kIGRvQm91bmRpbmdTcGhlcmVCcm9hZHBoYXNlDQogKiBAcGFyYW0ge0JvZHl9IGJvZHlBDQogKiBAcGFyYW0ge0JvZHl9IGJvZHlCDQogKiBAcGFyYW0ge0FycmF5fSBwYWlyczEgYm9keUEgaXMgYXBwZW5kZWQgdG8gdGhpcyBhcnJheSBpZiBpbnRlcnNlY3Rpb24NCiAqIEBwYXJhbSB7QXJyYXl9IHBhaXJzMiBib2R5QiBpcyBhcHBlbmRlZCB0byB0aGlzIGFycmF5IGlmIGludGVyc2VjdGlvbg0KICovCgoKY29uc3QgLy8gVGVtcCBvYmplY3RzCkJyb2FkcGhhc2VfY29sbGlzaW9uUGFpcnNfciA9IG5ldyBWZWMzKCk7Ci8qKg0KICogUmVtb3ZlcyBkdXBsaWNhdGUgcGFpcnMgZnJvbSB0aGUgcGFpciBhcnJheXMuDQogKiBAbWV0aG9kIG1ha2VQYWlyc1VuaXF1ZQ0KICogQHBhcmFtIHtBcnJheX0gcGFpcnMxDQogKiBAcGFyYW0ge0FycmF5fSBwYWlyczINCiAqLwoKY29uc3QgQnJvYWRwaGFzZV9tYWtlUGFpcnNVbmlxdWVfdGVtcCA9IHsKICBrZXlzOiBbXQp9Owpjb25zdCBCcm9hZHBoYXNlX21ha2VQYWlyc1VuaXF1ZV9wMSA9IFtdOwpjb25zdCBCcm9hZHBoYXNlX21ha2VQYWlyc1VuaXF1ZV9wMiA9IFtdOwoKQnJvYWRwaGFzZS5ib3VuZGluZ1NwaGVyZUNoZWNrID0gKGJvZHlBLCBib2R5QikgPT4gewogIGNvbnN0IGRpc3QgPSBuZXcgVmVjMygpOyAvLyBic2NfZGlzdDsKCiAgYm9keUEucG9zaXRpb24udnN1Yihib2R5Qi5wb3NpdGlvbiwgZGlzdCk7CiAgY29uc3Qgc2EgPSBib2R5QS5zaGFwZXNbMF07CiAgY29uc3Qgc2IgPSBib2R5Qi5zaGFwZXNbMF07CiAgcmV0dXJuIE1hdGgucG93KHNhLmJvdW5kaW5nU3BoZXJlUmFkaXVzICsgc2IuYm91bmRpbmdTcGhlcmVSYWRpdXMsIDIpID4gZGlzdC5sZW5ndGhTcXVhcmVkKCk7Cn07Ci8qKg0KICogTmFpdmUgYnJvYWRwaGFzZSBpbXBsZW1lbnRhdGlvbiwgdXNlZCBpbiBsYWNrIG9mIGJldHRlciBvbmVzLg0KICogQGNsYXNzIE5haXZlQnJvYWRwaGFzZQ0KICogQGNvbnN0cnVjdG9yDQogKiBAZGVzY3JpcHRpb24gVGhlIG5haXZlIGJyb2FkcGhhc2UgbG9va3MgYXQgYWxsIHBvc3NpYmxlIHBhaXJzIHdpdGhvdXQgcmVzdHJpY3Rpb24sIHRoZXJlZm9yZSBpdCBoYXMgY29tcGxleGl0eSBOXjIgKHdoaWNoIGlzIGJhZCkNCiAqIEBleHRlbmRzIEJyb2FkcGhhc2UNCiAqLwoKY2xhc3MgTmFpdmVCcm9hZHBoYXNlIGV4dGVuZHMgQnJvYWRwaGFzZSB7CiAgY29uc3RydWN0b3IoKSB7CiAgICBzdXBlcigpOwogIH0KICAvKioNCiAgICogR2V0IGFsbCB0aGUgY29sbGlzaW9uIHBhaXJzIGluIHRoZSBwaHlzaWNzIHdvcmxkDQogICAqIEBtZXRob2QgY29sbGlzaW9uUGFpcnMNCiAgICogQHBhcmFtIHtXb3JsZH0gd29ybGQNCiAgICogQHBhcmFtIHtBcnJheX0gcGFpcnMxDQogICAqIEBwYXJhbSB7QXJyYXl9IHBhaXJzMg0KICAgKi8KCgogIGNvbGxpc2lvblBhaXJzKHdvcmxkLCBwYWlyczEsIHBhaXJzMikgewogICAgY29uc3QgYm9kaWVzID0gd29ybGQuYm9kaWVzOwogICAgY29uc3QgbiA9IGJvZGllcy5sZW5ndGg7CiAgICBsZXQgYmk7CiAgICBsZXQgYmo7IC8vIE5haXZlIE5eMiBmdHchCgogICAgZm9yIChsZXQgaSA9IDA7IGkgIT09IG47IGkrKykgewogICAgICBmb3IgKGxldCBqID0gMDsgaiAhPT0gaTsgaisrKSB7CiAgICAgICAgYmkgPSBib2RpZXNbaV07CiAgICAgICAgYmogPSBib2RpZXNbal07CgogICAgICAgIGlmICghdGhpcy5uZWVkQnJvYWRwaGFzZUNvbGxpc2lvbihiaSwgYmopKSB7CiAgICAgICAgICBjb250aW51ZTsKICAgICAgICB9CgogICAgICAgIHRoaXMuaW50ZXJzZWN0aW9uVGVzdChiaSwgYmosIHBhaXJzMSwgcGFpcnMyKTsKICAgICAgfQogICAgfQogIH0KICAvKioNCiAgICogUmV0dXJucyBhbGwgdGhlIGJvZGllcyB3aXRoaW4gYW4gQUFCQi4NCiAgICogQG1ldGhvZCBhYWJiUXVlcnkNCiAgICogQHBhcmFtICB7V29ybGR9IHdvcmxkDQogICAqIEBwYXJhbSAge0FBQkJ9IGFhYmINCiAgICogQHBhcmFtIHthcnJheX0gcmVzdWx0IEFuIGFycmF5IHRvIHN0b3JlIHJlc3VsdGluZyBib2RpZXMgaW4uDQogICAqIEByZXR1cm4ge2FycmF5fQ0KICAgKi8KCgogIGFhYmJRdWVyeSh3b3JsZCwgYWFiYiwgcmVzdWx0ID0gW10pIHsKICAgIGZvciAobGV0IGkgPSAwOyBpIDwgd29ybGQuYm9kaWVzLmxlbmd0aDsgaSsrKSB7CiAgICAgIGNvbnN0IGIgPSB3b3JsZC5ib2RpZXNbaV07CgogICAgICBpZiAoYi5hYWJiTmVlZHNVcGRhdGUpIHsKICAgICAgICBiLmNvbXB1dGVBQUJCKCk7CiAgICAgIH0gLy8gVWdseSBoYWNrIHVudGlsIEJvZHkgZ2V0cyBhYWJiCgoKICAgICAgaWYgKGIuYWFiYi5vdmVybGFwcyhhYWJiKSkgewogICAgICAgIHJlc3VsdC5wdXNoKGIpOwogICAgICB9CiAgICB9CgogICAgcmV0dXJuIHJlc3VsdDsKICB9Cgp9Ci8qKg0KICogU3RvcmFnZSBmb3IgUmF5IGNhc3RpbmcgZGF0YS4NCiAqIEBjbGFzcyBSYXljYXN0UmVzdWx0DQogKiBAY29uc3RydWN0b3INCiAqLwoKCmNsYXNzIFJheWNhc3RSZXN1bHQgewogIC8vIFRoZSBpbmRleCBvZiB0aGUgaGl0IHRyaWFuZ2xlLCBpZiB0aGUgaGl0IHNoYXBlIHdhcyBhIHRyaW1lc2guCiAgLy8gRGlzdGFuY2UgdG8gdGhlIGhpdC4gV2lsbCBiZSBzZXQgdG8gLTEgaWYgdGhlcmUgd2FzIG5vIGhpdC4KICAvLyBJZiB0aGUgcmF5IHNob3VsZCBzdG9wIHRyYXZlcnNpbmcgdGhlIGJvZGllcy4KICBjb25zdHJ1Y3RvcigpIHsKICAgIHRoaXMucmF5RnJvbVdvcmxkID0gbmV3IFZlYzMoKTsKICAgIHRoaXMucmF5VG9Xb3JsZCA9IG5ldyBWZWMzKCk7CiAgICB0aGlzLmhpdE5vcm1hbFdvcmxkID0gbmV3IFZlYzMoKTsKICAgIHRoaXMuaGl0UG9pbnRXb3JsZCA9IG5ldyBWZWMzKCk7CiAgICB0aGlzLmhhc0hpdCA9IGZhbHNlOwogICAgdGhpcy5zaGFwZSA9IG51bGw7CiAgICB0aGlzLmJvZHkgPSBudWxsOwogICAgdGhpcy5oaXRGYWNlSW5kZXggPSAtMTsKICAgIHRoaXMuZGlzdGFuY2UgPSAtMTsKICAgIHRoaXMuc2hvdWxkU3RvcCA9IGZhbHNlOwogIH0KICAvKioNCiAgICogUmVzZXQgYWxsIHJlc3VsdCBkYXRhLg0KICAgKiBAbWV0aG9kIHJlc2V0DQogICAqLwoKCiAgcmVzZXQoKSB7CiAgICB0aGlzLnJheUZyb21Xb3JsZC5zZXRaZXJvKCk7CiAgICB0aGlzLnJheVRvV29ybGQuc2V0WmVybygpOwogICAgdGhpcy5oaXROb3JtYWxXb3JsZC5zZXRaZXJvKCk7CiAgICB0aGlzLmhpdFBvaW50V29ybGQuc2V0WmVybygpOwogICAgdGhpcy5oYXNIaXQgPSBmYWxzZTsKICAgIHRoaXMuc2hhcGUgPSBudWxsOwogICAgdGhpcy5ib2R5ID0gbnVsbDsKICAgIHRoaXMuaGl0RmFjZUluZGV4ID0gLTE7CiAgICB0aGlzLmRpc3RhbmNlID0gLTE7CiAgICB0aGlzLnNob3VsZFN0b3AgPSBmYWxzZTsKICB9CiAgLyoqDQogICAqIEBtZXRob2QgYWJvcnQNCiAgICovCgoKICBhYm9ydCgpIHsKICAgIHRoaXMuc2hvdWxkU3RvcCA9IHRydWU7CiAgfQogIC8qKg0KICAgKiBAbWV0aG9kIHNldA0KICAgKiBAcGFyYW0ge1ZlYzN9IHJheUZyb21Xb3JsZA0KICAgKiBAcGFyYW0ge1ZlYzN9IHJheVRvV29ybGQNCiAgICogQHBhcmFtIHtWZWMzfSBoaXROb3JtYWxXb3JsZA0KICAgKiBAcGFyYW0ge1ZlYzN9IGhpdFBvaW50V29ybGQNCiAgICogQHBhcmFtIHtTaGFwZX0gc2hhcGUNCiAgICogQHBhcmFtIHtCb2R5fSBib2R5DQogICAqIEBwYXJhbSB7bnVtYmVyfSBkaXN0YW5jZQ0KICAgKi8KCgogIHNldChyYXlGcm9tV29ybGQsIHJheVRvV29ybGQsIGhpdE5vcm1hbFdvcmxkLCBoaXRQb2ludFdvcmxkLCBzaGFwZSwgYm9keSwgZGlzdGFuY2UpIHsKICAgIHRoaXMucmF5RnJvbVdvcmxkLmNvcHkocmF5RnJvbVdvcmxkKTsKICAgIHRoaXMucmF5VG9Xb3JsZC5jb3B5KHJheVRvV29ybGQpOwogICAgdGhpcy5oaXROb3JtYWxXb3JsZC5jb3B5KGhpdE5vcm1hbFdvcmxkKTsKICAgIHRoaXMuaGl0UG9pbnRXb3JsZC5jb3B5KGhpdFBvaW50V29ybGQpOwogICAgdGhpcy5zaGFwZSA9IHNoYXBlOwogICAgdGhpcy5ib2R5ID0gYm9keTsKICAgIHRoaXMuZGlzdGFuY2UgPSBkaXN0YW5jZTsKICB9Cgp9Ci8qKg0KICogQSBsaW5lIGluIDNEIHNwYWNlIHRoYXQgaW50ZXJzZWN0cyBib2RpZXMgYW5kIHJldHVybiBwb2ludHMuDQogKiBAY2xhc3MgUmF5DQogKiBAY29uc3RydWN0b3INCiAqIEBwYXJhbSB7VmVjM30gZnJvbQ0KICogQHBhcmFtIHtWZWMzfSB0bw0KICovCgpjbGFzcyBSYXkgewogIC8vIFRoZSBwcmVjaXNpb24gb2YgdGhlIHJheS4gVXNlZCB3aGVuIGNoZWNraW5nIHBhcmFsbGVsaXR5IGV0Yy4KICAvLyBTZXQgdG8gdHJ1ZSBpZiB5b3Ugd2FudCB0aGUgUmF5IHRvIHRha2UgLmNvbGxpc2lvblJlc3BvbnNlIGZsYWdzIGludG8gYWNjb3VudCBvbiBib2RpZXMgYW5kIHNoYXBlcy4KICAvLyBJZiBzZXQgdG8gdHJ1ZSwgdGhlIHJheSBza2lwcyBhbnkgaGl0cyB3aXRoIG5vcm1hbC5kb3QocmF5RGlyZWN0aW9uKSA8IDAuCiAgLy8gVGhlIGludGVyc2VjdGlvbiBtb2RlLiBTaG91bGQgYmUgUmF5LkFOWSwgUmF5LkFMTCBvciBSYXkuQ0xPU0VTVC4KICAvLyBDdXJyZW50IHJlc3VsdCBvYmplY3QuCiAgLy8gV2lsbCBiZSBzZXQgdG8gdHJ1ZSBkdXJpbmcgaW50ZXJzZWN0V29ybGQoKSBpZiB0aGUgcmF5IGhpdCBhbnl0aGluZy4KICAvLyBVc2VyLXByb3ZpZGVkIHJlc3VsdCBjYWxsYmFjay4gV2lsbCBiZSB1c2VkIGlmIG1vZGUgaXMgUmF5LkFMTC4KICBjb25zdHJ1Y3Rvcihmcm9tID0gbmV3IFZlYzMoKSwgdG8gPSBuZXcgVmVjMygpKSB7CiAgICB0aGlzLmZyb20gPSBmcm9tLmNsb25lKCk7CiAgICB0aGlzLnRvID0gdG8uY2xvbmUoKTsKICAgIHRoaXMuZGlyZWN0aW9uID0gbmV3IFZlYzMoKTsKICAgIHRoaXMucHJlY2lzaW9uID0gMC4wMDAxOwogICAgdGhpcy5jaGVja0NvbGxpc2lvblJlc3BvbnNlID0gdHJ1ZTsKICAgIHRoaXMuc2tpcEJhY2tmYWNlcyA9IGZhbHNlOwogICAgdGhpcy5jb2xsaXNpb25GaWx0ZXJNYXNrID0gLTE7CiAgICB0aGlzLmNvbGxpc2lvbkZpbHRlckdyb3VwID0gLTE7CiAgICB0aGlzLm1vZGUgPSBSYXkuQU5ZOwogICAgdGhpcy5yZXN1bHQgPSBuZXcgUmF5Y2FzdFJlc3VsdCgpOwogICAgdGhpcy5oYXNIaXQgPSBmYWxzZTsKCiAgICB0aGlzLmNhbGxiYWNrID0gcmVzdWx0ID0+IHt9OwogIH0KICAvKioNCiAgICogRG8gaXRlcnNlY3Rpb24gYWdhaW5zdCBhbGwgYm9kaWVzIGluIHRoZSBnaXZlbiBXb3JsZC4NCiAgICogQG1ldGhvZCBpbnRlcnNlY3RXb3JsZA0KICAgKiBAcGFyYW0gIHtXb3JsZH0gd29ybGQNCiAgICogQHBhcmFtICB7b2JqZWN0fSBvcHRpb25zDQogICAqIEByZXR1cm4ge0Jvb2xlYW59IFRydWUgaWYgdGhlIHJheSBoaXQgYW55dGhpbmcsIG90aGVyd2lzZSBmYWxzZS4NCiAgICovCgoKICBpbnRlcnNlY3RXb3JsZCh3b3JsZCwgb3B0aW9ucykgewogICAgdGhpcy5tb2RlID0gb3B0aW9ucy5tb2RlIHx8IFJheS5BTlk7CiAgICB0aGlzLnJlc3VsdCA9IG9wdGlvbnMucmVzdWx0IHx8IG5ldyBSYXljYXN0UmVzdWx0KCk7CiAgICB0aGlzLnNraXBCYWNrZmFjZXMgPSAhIW9wdGlvbnMuc2tpcEJhY2tmYWNlczsKICAgIHRoaXMuY29sbGlzaW9uRmlsdGVyTWFzayA9IHR5cGVvZiBvcHRpb25zLmNvbGxpc2lvbkZpbHRlck1hc2sgIT09ICd1bmRlZmluZWQnID8gb3B0aW9ucy5jb2xsaXNpb25GaWx0ZXJNYXNrIDogLTE7CiAgICB0aGlzLmNvbGxpc2lvbkZpbHRlckdyb3VwID0gdHlwZW9mIG9wdGlvbnMuY29sbGlzaW9uRmlsdGVyR3JvdXAgIT09ICd1bmRlZmluZWQnID8gb3B0aW9ucy5jb2xsaXNpb25GaWx0ZXJHcm91cCA6IC0xOwogICAgdGhpcy5jaGVja0NvbGxpc2lvblJlc3BvbnNlID0gdHlwZW9mIG9wdGlvbnMuY2hlY2tDb2xsaXNpb25SZXNwb25zZSAhPT0gJ3VuZGVmaW5lZCcgPyBvcHRpb25zLmNoZWNrQ29sbGlzaW9uUmVzcG9uc2UgOiB0cnVlOwoKICAgIGlmIChvcHRpb25zLmZyb20pIHsKICAgICAgdGhpcy5mcm9tLmNvcHkob3B0aW9ucy5mcm9tKTsKICAgIH0KCiAgICBpZiAob3B0aW9ucy50bykgewogICAgICB0aGlzLnRvLmNvcHkob3B0aW9ucy50byk7CiAgICB9CgogICAgdGhpcy5jYWxsYmFjayA9IG9wdGlvbnMuY2FsbGJhY2sgfHwgKCgpID0+IHt9KTsKCiAgICB0aGlzLmhhc0hpdCA9IGZhbHNlOwogICAgdGhpcy5yZXN1bHQucmVzZXQoKTsKICAgIHRoaXMudXBkYXRlRGlyZWN0aW9uKCk7CiAgICB0aGlzLmdldEFBQkIodG1wQUFCQik7CiAgICB0bXBBcnJheS5sZW5ndGggPSAwOwogICAgd29ybGQuYnJvYWRwaGFzZS5hYWJiUXVlcnkod29ybGQsIHRtcEFBQkIsIHRtcEFycmF5KTsKICAgIHRoaXMuaW50ZXJzZWN0Qm9kaWVzKHRtcEFycmF5KTsKICAgIHJldHVybiB0aGlzLmhhc0hpdDsKICB9CiAgLyoqDQogICAqIFNob290IGEgcmF5IGF0IGEgYm9keSwgZ2V0IGJhY2sgaW5mb3JtYXRpb24gYWJvdXQgdGhlIGhpdC4NCiAgICogQHBhcmFtIHtCb2R5fSBib2R5DQogICAqIEBwYXJhbSB7UmF5Y2FzdFJlc3VsdH0gW3Jlc3VsdF0gRGVwcmVjYXRlZCAtIHNldCB0aGUgcmVzdWx0IHByb3BlcnR5IG9mIHRoZSBSYXkgaW5zdGVhZC4NCiAgICovCgoKICBpbnRlcnNlY3RCb2R5KGJvZHksIHJlc3VsdCkgewogICAgaWYgKHJlc3VsdCkgewogICAgICB0aGlzLnJlc3VsdCA9IHJlc3VsdDsKICAgICAgdGhpcy51cGRhdGVEaXJlY3Rpb24oKTsKICAgIH0KCiAgICBjb25zdCBjaGVja0NvbGxpc2lvblJlc3BvbnNlID0gdGhpcy5jaGVja0NvbGxpc2lvblJlc3BvbnNlOwoKICAgIGlmIChjaGVja0NvbGxpc2lvblJlc3BvbnNlICYmICFib2R5LmNvbGxpc2lvblJlc3BvbnNlKSB7CiAgICAgIHJldHVybjsKICAgIH0KCiAgICBpZiAoKHRoaXMuY29sbGlzaW9uRmlsdGVyR3JvdXAgJiBib2R5LmNvbGxpc2lvbkZpbHRlck1hc2spID09PSAwIHx8IChib2R5LmNvbGxpc2lvbkZpbHRlckdyb3VwICYgdGhpcy5jb2xsaXNpb25GaWx0ZXJNYXNrKSA9PT0gMCkgewogICAgICByZXR1cm47CiAgICB9CgogICAgY29uc3QgeGkgPSBpbnRlcnNlY3RCb2R5X3hpOwogICAgY29uc3QgcWkgPSBpbnRlcnNlY3RCb2R5X3FpOwoKICAgIGZvciAobGV0IGkgPSAwLCBOID0gYm9keS5zaGFwZXMubGVuZ3RoOyBpIDwgTjsgaSsrKSB7CiAgICAgIGNvbnN0IHNoYXBlID0gYm9keS5zaGFwZXNbaV07CgogICAgICBpZiAoY2hlY2tDb2xsaXNpb25SZXNwb25zZSAmJiAhc2hhcGUuY29sbGlzaW9uUmVzcG9uc2UpIHsKICAgICAgICBjb250aW51ZTsgLy8gU2tpcAogICAgICB9CgogICAgICBib2R5LnF1YXRlcm5pb24ubXVsdChib2R5LnNoYXBlT3JpZW50YXRpb25zW2ldLCBxaSk7CiAgICAgIGJvZHkucXVhdGVybmlvbi52bXVsdChib2R5LnNoYXBlT2Zmc2V0c1tpXSwgeGkpOwogICAgICB4aS52YWRkKGJvZHkucG9zaXRpb24sIHhpKTsKICAgICAgdGhpcy5pbnRlcnNlY3RTaGFwZShzaGFwZSwgcWksIHhpLCBib2R5KTsKCiAgICAgIGlmICh0aGlzLnJlc3VsdC5zaG91bGRTdG9wKSB7CiAgICAgICAgYnJlYWs7CiAgICAgIH0KICAgIH0KICB9CiAgLyoqDQogICAqIEBtZXRob2QgaW50ZXJzZWN0Qm9kaWVzDQogICAqIEBwYXJhbSB7QXJyYXl9IGJvZGllcyBBbiBhcnJheSBvZiBCb2R5IG9iamVjdHMuDQogICAqIEBwYXJhbSB7UmF5Y2FzdFJlc3VsdH0gW3Jlc3VsdF0gRGVwcmVjYXRlZA0KICAgKi8KCgogIGludGVyc2VjdEJvZGllcyhib2RpZXMsIHJlc3VsdCkgewogICAgaWYgKHJlc3VsdCkgewogICAgICB0aGlzLnJlc3VsdCA9IHJlc3VsdDsKICAgICAgdGhpcy51cGRhdGVEaXJlY3Rpb24oKTsKICAgIH0KCiAgICBmb3IgKGxldCBpID0gMCwgbCA9IGJvZGllcy5sZW5ndGg7ICF0aGlzLnJlc3VsdC5zaG91bGRTdG9wICYmIGkgPCBsOyBpKyspIHsKICAgICAgdGhpcy5pbnRlcnNlY3RCb2R5KGJvZGllc1tpXSk7CiAgICB9CiAgfQogIC8qKg0KICAgKiBVcGRhdGVzIHRoZSBkaXJlY3Rpb24gdmVjdG9yLg0KICAgKi8KCgogIHVwZGF0ZURpcmVjdGlvbigpIHsKICAgIHRoaXMudG8udnN1Yih0aGlzLmZyb20sIHRoaXMuZGlyZWN0aW9uKTsKICAgIHRoaXMuZGlyZWN0aW9uLm5vcm1hbGl6ZSgpOwogIH0KCiAgaW50ZXJzZWN0U2hhcGUoc2hhcGUsIHF1YXQsIHBvc2l0aW9uLCBib2R5KSB7CiAgICBjb25zdCBmcm9tID0gdGhpcy5mcm9tOyAvLyBDaGVja2luZyBib3VuZGluZ1NwaGVyZQoKICAgIGNvbnN0IGRpc3RhbmNlID0gZGlzdGFuY2VGcm9tSW50ZXJzZWN0aW9uKGZyb20sIHRoaXMuZGlyZWN0aW9uLCBwb3NpdGlvbik7CgogICAgaWYgKGRpc3RhbmNlID4gc2hhcGUuYm91bmRpbmdTcGhlcmVSYWRpdXMpIHsKICAgICAgcmV0dXJuOwogICAgfQoKICAgIGNvbnN0IGludGVyc2VjdE1ldGhvZCA9IHRoaXNbc2hhcGUudHlwZV07CgogICAgaWYgKGludGVyc2VjdE1ldGhvZCkgewogICAgICBpbnRlcnNlY3RNZXRob2QuY2FsbCh0aGlzLCBzaGFwZSwgcXVhdCwgcG9zaXRpb24sIGJvZHksIHNoYXBlKTsKICAgIH0KICB9CgogIF9pbnRlcnNlY3RCb3goYm94LCBxdWF0LCBwb3NpdGlvbiwgYm9keSwgcmVwb3J0ZWRTaGFwZSkgewogICAgcmV0dXJuIHRoaXMuX2ludGVyc2VjdENvbnZleChib3guY29udmV4UG9seWhlZHJvblJlcHJlc2VudGF0aW9uLCBxdWF0LCBwb3NpdGlvbiwgYm9keSwgcmVwb3J0ZWRTaGFwZSk7CiAgfQoKICBfaW50ZXJzZWN0UGxhbmUoc2hhcGUsIHF1YXQsIHBvc2l0aW9uLCBib2R5LCByZXBvcnRlZFNoYXBlKSB7CiAgICBjb25zdCBmcm9tID0gdGhpcy5mcm9tOwogICAgY29uc3QgdG8gPSB0aGlzLnRvOwogICAgY29uc3QgZGlyZWN0aW9uID0gdGhpcy5kaXJlY3Rpb247IC8vIEdldCBwbGFuZSBub3JtYWwKCiAgICBjb25zdCB3b3JsZE5vcm1hbCA9IG5ldyBWZWMzKDAsIDAsIDEpOwogICAgcXVhdC52bXVsdCh3b3JsZE5vcm1hbCwgd29ybGROb3JtYWwpOwogICAgY29uc3QgbGVuID0gbmV3IFZlYzMoKTsKICAgIGZyb20udnN1Yihwb3NpdGlvbiwgbGVuKTsKICAgIGNvbnN0IHBsYW5lVG9Gcm9tID0gbGVuLmRvdCh3b3JsZE5vcm1hbCk7CiAgICB0by52c3ViKHBvc2l0aW9uLCBsZW4pOwogICAgY29uc3QgcGxhbmVUb1RvID0gbGVuLmRvdCh3b3JsZE5vcm1hbCk7CgogICAgaWYgKHBsYW5lVG9Gcm9tICogcGxhbmVUb1RvID4gMCkgewogICAgICAvLyAiZnJvbSIgYW5kICJ0byIgYXJlIG9uIHRoZSBzYW1lIHNpZGUgb2YgdGhlIHBsYW5lLi4uIGJhaWwgb3V0CiAgICAgIHJldHVybjsKICAgIH0KCiAgICBpZiAoZnJvbS5kaXN0YW5jZVRvKHRvKSA8IHBsYW5lVG9Gcm9tKSB7CiAgICAgIHJldHVybjsKICAgIH0KCiAgICBjb25zdCBuX2RvdF9kaXIgPSB3b3JsZE5vcm1hbC5kb3QoZGlyZWN0aW9uKTsKCiAgICBpZiAoTWF0aC5hYnMobl9kb3RfZGlyKSA8IHRoaXMucHJlY2lzaW9uKSB7CiAgICAgIC8vIE5vIGludGVyc2VjdGlvbgogICAgICByZXR1cm47CiAgICB9CgogICAgY29uc3QgcGxhbmVQb2ludFRvRnJvbSA9IG5ldyBWZWMzKCk7CiAgICBjb25zdCBkaXJfc2NhbGVkX3dpdGhfdCA9IG5ldyBWZWMzKCk7CiAgICBjb25zdCBoaXRQb2ludFdvcmxkID0gbmV3IFZlYzMoKTsKICAgIGZyb20udnN1Yihwb3NpdGlvbiwgcGxhbmVQb2ludFRvRnJvbSk7CiAgICBjb25zdCB0ID0gLXdvcmxkTm9ybWFsLmRvdChwbGFuZVBvaW50VG9Gcm9tKSAvIG5fZG90X2RpcjsKICAgIGRpcmVjdGlvbi5zY2FsZSh0LCBkaXJfc2NhbGVkX3dpdGhfdCk7CiAgICBmcm9tLnZhZGQoZGlyX3NjYWxlZF93aXRoX3QsIGhpdFBvaW50V29ybGQpOwogICAgdGhpcy5yZXBvcnRJbnRlcnNlY3Rpb24od29ybGROb3JtYWwsIGhpdFBvaW50V29ybGQsIHJlcG9ydGVkU2hhcGUsIGJvZHksIC0xKTsKICB9CiAgLyoqDQogICAqIEdldCB0aGUgd29ybGQgQUFCQiBvZiB0aGUgcmF5Lg0KICAgKi8KCgogIGdldEFBQkIoYWFiYikgewogICAgY29uc3QgewogICAgICBsb3dlckJvdW5kLAogICAgICB1cHBlckJvdW5kCiAgICB9ID0gYWFiYjsKICAgIGNvbnN0IHRvID0gdGhpcy50bzsKICAgIGNvbnN0IGZyb20gPSB0aGlzLmZyb207CiAgICBsb3dlckJvdW5kLnggPSBNYXRoLm1pbih0by54LCBmcm9tLngpOwogICAgbG93ZXJCb3VuZC55ID0gTWF0aC5taW4odG8ueSwgZnJvbS55KTsKICAgIGxvd2VyQm91bmQueiA9IE1hdGgubWluKHRvLnosIGZyb20ueik7CiAgICB1cHBlckJvdW5kLnggPSBNYXRoLm1heCh0by54LCBmcm9tLngpOwogICAgdXBwZXJCb3VuZC55ID0gTWF0aC5tYXgodG8ueSwgZnJvbS55KTsKICAgIHVwcGVyQm91bmQueiA9IE1hdGgubWF4KHRvLnosIGZyb20ueik7CiAgfQoKICBfaW50ZXJzZWN0SGVpZ2h0ZmllbGQoc2hhcGUsIHF1YXQsIHBvc2l0aW9uLCBib2R5LCByZXBvcnRlZFNoYXBlKSB7CiAgICBjb25zdCBkYXRhID0gc2hhcGUuZGF0YTsKICAgIGNvbnN0IHcgPSBzaGFwZS5lbGVtZW50U2l6ZTsgLy8gQ29udmVydCB0aGUgcmF5IHRvIGxvY2FsIGhlaWdodGZpZWxkIGNvb3JkaW5hdGVzCgogICAgY29uc3QgbG9jYWxSYXkgPSBpbnRlcnNlY3RIZWlnaHRmaWVsZF9sb2NhbFJheTsgLy9uZXcgUmF5KHRoaXMuZnJvbSwgdGhpcy50byk7CgogICAgbG9jYWxSYXkuZnJvbS5jb3B5KHRoaXMuZnJvbSk7CiAgICBsb2NhbFJheS50by5jb3B5KHRoaXMudG8pOwogICAgVHJhbnNmb3JtLnBvaW50VG9Mb2NhbEZyYW1lKHBvc2l0aW9uLCBxdWF0LCBsb2NhbFJheS5mcm9tLCBsb2NhbFJheS5mcm9tKTsKICAgIFRyYW5zZm9ybS5wb2ludFRvTG9jYWxGcmFtZShwb3NpdGlvbiwgcXVhdCwgbG9jYWxSYXkudG8sIGxvY2FsUmF5LnRvKTsKICAgIGxvY2FsUmF5LnVwZGF0ZURpcmVjdGlvbigpOyAvLyBHZXQgdGhlIGluZGV4IG9mIHRoZSBkYXRhIHBvaW50cyB0byB0ZXN0IGFnYWluc3QKCiAgICBjb25zdCBpbmRleCA9IGludGVyc2VjdEhlaWdodGZpZWxkX2luZGV4OwogICAgbGV0IGlNaW5YOwogICAgbGV0IGlNaW5ZOwogICAgbGV0IGlNYXhYOwogICAgbGV0IGlNYXhZOyAvLyBTZXQgdG8gbWF4CgogICAgaU1pblggPSBpTWluWSA9IDA7CiAgICBpTWF4WCA9IGlNYXhZID0gc2hhcGUuZGF0YS5sZW5ndGggLSAxOwogICAgY29uc3QgYWFiYiA9IG5ldyBBQUJCKCk7CiAgICBsb2NhbFJheS5nZXRBQUJCKGFhYmIpOwogICAgc2hhcGUuZ2V0SW5kZXhPZlBvc2l0aW9uKGFhYmIubG93ZXJCb3VuZC54LCBhYWJiLmxvd2VyQm91bmQueSwgaW5kZXgsIHRydWUpOwogICAgaU1pblggPSBNYXRoLm1heChpTWluWCwgaW5kZXhbMF0pOwogICAgaU1pblkgPSBNYXRoLm1heChpTWluWSwgaW5kZXhbMV0pOwogICAgc2hhcGUuZ2V0SW5kZXhPZlBvc2l0aW9uKGFhYmIudXBwZXJCb3VuZC54LCBhYWJiLnVwcGVyQm91bmQueSwgaW5kZXgsIHRydWUpOwogICAgaU1heFggPSBNYXRoLm1pbihpTWF4WCwgaW5kZXhbMF0gKyAxKTsKICAgIGlNYXhZID0gTWF0aC5taW4oaU1heFksIGluZGV4WzFdICsgMSk7CgogICAgZm9yIChsZXQgaSA9IGlNaW5YOyBpIDwgaU1heFg7IGkrKykgewogICAgICBmb3IgKGxldCBqID0gaU1pblk7IGogPCBpTWF4WTsgaisrKSB7CiAgICAgICAgaWYgKHRoaXMucmVzdWx0LnNob3VsZFN0b3ApIHsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CgogICAgICAgIHNoYXBlLmdldEFhYmJBdEluZGV4KGksIGosIGFhYmIpOwoKICAgICAgICBpZiAoIWFhYmIub3ZlcmxhcHNSYXkobG9jYWxSYXkpKSB7CiAgICAgICAgICBjb250aW51ZTsKICAgICAgICB9IC8vIExvd2VyIHRyaWFuZ2xlCgoKICAgICAgICBzaGFwZS5nZXRDb252ZXhUcmlhbmdsZVBpbGxhcihpLCBqLCBmYWxzZSk7CiAgICAgICAgVHJhbnNmb3JtLnBvaW50VG9Xb3JsZEZyYW1lKHBvc2l0aW9uLCBxdWF0LCBzaGFwZS5waWxsYXJPZmZzZXQsIHdvcmxkUGlsbGFyT2Zmc2V0KTsKCiAgICAgICAgdGhpcy5faW50ZXJzZWN0Q29udmV4KHNoYXBlLnBpbGxhckNvbnZleCwgcXVhdCwgd29ybGRQaWxsYXJPZmZzZXQsIGJvZHksIHJlcG9ydGVkU2hhcGUsIGludGVyc2VjdENvbnZleE9wdGlvbnMpOwoKICAgICAgICBpZiAodGhpcy5yZXN1bHQuc2hvdWxkU3RvcCkgewogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0gLy8gVXBwZXIgdHJpYW5nbGUKCgogICAgICAgIHNoYXBlLmdldENvbnZleFRyaWFuZ2xlUGlsbGFyKGksIGosIHRydWUpOwogICAgICAgIFRyYW5zZm9ybS5wb2ludFRvV29ybGRGcmFtZShwb3NpdGlvbiwgcXVhdCwgc2hhcGUucGlsbGFyT2Zmc2V0LCB3b3JsZFBpbGxhck9mZnNldCk7CgogICAgICAgIHRoaXMuX2ludGVyc2VjdENvbnZleChzaGFwZS5waWxsYXJDb252ZXgsIHF1YXQsIHdvcmxkUGlsbGFyT2Zmc2V0LCBib2R5LCByZXBvcnRlZFNoYXBlLCBpbnRlcnNlY3RDb252ZXhPcHRpb25zKTsKICAgICAgfQogICAgfQogIH0KCiAgX2ludGVyc2VjdFNwaGVyZShzcGhlcmUsIHF1YXQsIHBvc2l0aW9uLCBib2R5LCByZXBvcnRlZFNoYXBlKSB7CiAgICBjb25zdCBmcm9tID0gdGhpcy5mcm9tOwogICAgY29uc3QgdG8gPSB0aGlzLnRvOwogICAgY29uc3QgciA9IHNwaGVyZS5yYWRpdXM7CiAgICBjb25zdCBhID0gKHRvLnggLSBmcm9tLngpICoqIDIgKyAodG8ueSAtIGZyb20ueSkgKiogMiArICh0by56IC0gZnJvbS56KSAqKiAyOwogICAgY29uc3QgYiA9IDIgKiAoKHRvLnggLSBmcm9tLngpICogKGZyb20ueCAtIHBvc2l0aW9uLngpICsgKHRvLnkgLSBmcm9tLnkpICogKGZyb20ueSAtIHBvc2l0aW9uLnkpICsgKHRvLnogLSBmcm9tLnopICogKGZyb20ueiAtIHBvc2l0aW9uLnopKTsKICAgIGNvbnN0IGMgPSAoZnJvbS54IC0gcG9zaXRpb24ueCkgKiogMiArIChmcm9tLnkgLSBwb3NpdGlvbi55KSAqKiAyICsgKGZyb20ueiAtIHBvc2l0aW9uLnopICoqIDIgLSByICoqIDI7CiAgICBjb25zdCBkZWx0YSA9IGIgKiogMiAtIDQgKiBhICogYzsKICAgIGNvbnN0IGludGVyc2VjdGlvblBvaW50ID0gUmF5X2ludGVyc2VjdFNwaGVyZV9pbnRlcnNlY3Rpb25Qb2ludDsKICAgIGNvbnN0IG5vcm1hbCA9IFJheV9pbnRlcnNlY3RTcGhlcmVfbm9ybWFsOwoKICAgIGlmIChkZWx0YSA8IDApIHsKICAgICAgLy8gTm8gaW50ZXJzZWN0aW9uCiAgICAgIHJldHVybjsKICAgIH0gZWxzZSBpZiAoZGVsdGEgPT09IDApIHsKICAgICAgLy8gc2luZ2xlIGludGVyc2VjdGlvbiBwb2ludAogICAgICBmcm9tLmxlcnAodG8sIGRlbHRhLCBpbnRlcnNlY3Rpb25Qb2ludCk7CiAgICAgIGludGVyc2VjdGlvblBvaW50LnZzdWIocG9zaXRpb24sIG5vcm1hbCk7CiAgICAgIG5vcm1hbC5ub3JtYWxpemUoKTsKICAgICAgdGhpcy5yZXBvcnRJbnRlcnNlY3Rpb24obm9ybWFsLCBpbnRlcnNlY3Rpb25Qb2ludCwgcmVwb3J0ZWRTaGFwZSwgYm9keSwgLTEpOwogICAgfSBlbHNlIHsKICAgICAgY29uc3QgZDEgPSAoLWIgLSBNYXRoLnNxcnQoZGVsdGEpKSAvICgyICogYSk7CiAgICAgIGNvbnN0IGQyID0gKC1iICsgTWF0aC5zcXJ0KGRlbHRhKSkgLyAoMiAqIGEpOwoKICAgICAgaWYgKGQxID49IDAgJiYgZDEgPD0gMSkgewogICAgICAgIGZyb20ubGVycCh0bywgZDEsIGludGVyc2VjdGlvblBvaW50KTsKICAgICAgICBpbnRlcnNlY3Rpb25Qb2ludC52c3ViKHBvc2l0aW9uLCBub3JtYWwpOwogICAgICAgIG5vcm1hbC5ub3JtYWxpemUoKTsKICAgICAgICB0aGlzLnJlcG9ydEludGVyc2VjdGlvbihub3JtYWwsIGludGVyc2VjdGlvblBvaW50LCByZXBvcnRlZFNoYXBlLCBib2R5LCAtMSk7CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLnJlc3VsdC5zaG91bGRTdG9wKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICBpZiAoZDIgPj0gMCAmJiBkMiA8PSAxKSB7CiAgICAgICAgZnJvbS5sZXJwKHRvLCBkMiwgaW50ZXJzZWN0aW9uUG9pbnQpOwogICAgICAgIGludGVyc2VjdGlvblBvaW50LnZzdWIocG9zaXRpb24sIG5vcm1hbCk7CiAgICAgICAgbm9ybWFsLm5vcm1hbGl6ZSgpOwogICAgICAgIHRoaXMucmVwb3J0SW50ZXJzZWN0aW9uKG5vcm1hbCwgaW50ZXJzZWN0aW9uUG9pbnQsIHJlcG9ydGVkU2hhcGUsIGJvZHksIC0xKTsKICAgICAgfQogICAgfQogIH0KCiAgX2ludGVyc2VjdENvbnZleChzaGFwZSwgcXVhdCwgcG9zaXRpb24sIGJvZHksIHJlcG9ydGVkU2hhcGUsIG9wdGlvbnMpIHsKICAgIGNvbnN0IG5vcm1hbCA9IGludGVyc2VjdENvbnZleF9ub3JtYWw7CiAgICBjb25zdCB2ZWN0b3IgPSBpbnRlcnNlY3RDb252ZXhfdmVjdG9yOwogICAgY29uc3QgZmFjZUxpc3QgPSBvcHRpb25zICYmIG9wdGlvbnMuZmFjZUxpc3QgfHwgbnVsbDsgLy8gQ2hlY2tpbmcgZmFjZXMKCiAgICBjb25zdCBmYWNlcyA9IHNoYXBlLmZhY2VzOwogICAgY29uc3QgdmVydGljZXMgPSBzaGFwZS52ZXJ0aWNlczsKICAgIGNvbnN0IG5vcm1hbHMgPSBzaGFwZS5mYWNlTm9ybWFsczsKICAgIGNvbnN0IGRpcmVjdGlvbiA9IHRoaXMuZGlyZWN0aW9uOwogICAgY29uc3QgZnJvbSA9IHRoaXMuZnJvbTsKICAgIGNvbnN0IHRvID0gdGhpcy50bzsKICAgIGNvbnN0IGZyb21Ub0Rpc3RhbmNlID0gZnJvbS5kaXN0YW5jZVRvKHRvKTsKICAgIGNvbnN0IE5mYWNlcyA9IGZhY2VMaXN0ID8gZmFjZUxpc3QubGVuZ3RoIDogZmFjZXMubGVuZ3RoOwogICAgY29uc3QgcmVzdWx0ID0gdGhpcy5yZXN1bHQ7CgogICAgZm9yIChsZXQgaiA9IDA7ICFyZXN1bHQuc2hvdWxkU3RvcCAmJiBqIDwgTmZhY2VzOyBqKyspIHsKICAgICAgY29uc3QgZmkgPSBmYWNlTGlzdCA/IGZhY2VMaXN0W2pdIDogajsKICAgICAgY29uc3QgZmFjZSA9IGZhY2VzW2ZpXTsKICAgICAgY29uc3QgZmFjZU5vcm1hbCA9IG5vcm1hbHNbZmldOwogICAgICBjb25zdCBxID0gcXVhdDsKICAgICAgY29uc3QgeCA9IHBvc2l0aW9uOyAvLyBkZXRlcm1pbmUgaWYgcmF5IGludGVyc2VjdHMgdGhlIHBsYW5lIG9mIHRoZSBmYWNlCiAgICAgIC8vIG5vdGU6IHRoaXMgd29ya3MgcmVnYXJkbGVzcyBvZiB0aGUgZGlyZWN0aW9uIG9mIHRoZSBmYWNlIG5vcm1hbAogICAgICAvLyBHZXQgcGxhbmUgcG9pbnQgaW4gd29ybGQgY29vcmRpbmF0ZXMuLi4KCiAgICAgIHZlY3Rvci5jb3B5KHZlcnRpY2VzW2ZhY2VbMF1dKTsKICAgICAgcS52bXVsdCh2ZWN0b3IsIHZlY3Rvcik7CiAgICAgIHZlY3Rvci52YWRkKHgsIHZlY3Rvcik7IC8vIC4uLmJ1dCBtYWtlIGl0IHJlbGF0aXZlIHRvIHRoZSByYXkgZnJvbS4gV2UnbGwgZml4IHRoaXMgbGF0ZXIuCgogICAgICB2ZWN0b3IudnN1Yihmcm9tLCB2ZWN0b3IpOyAvLyBHZXQgcGxhbmUgbm9ybWFsCgogICAgICBxLnZtdWx0KGZhY2VOb3JtYWwsIG5vcm1hbCk7IC8vIElmIHRoaXMgZG90IHByb2R1Y3QgaXMgbmVnYXRpdmUsIHdlIGhhdmUgc29tZXRoaW5nIGludGVyZXN0aW5nCgogICAgICBjb25zdCBkb3QgPSBkaXJlY3Rpb24uZG90KG5vcm1hbCk7IC8vIEJhaWwgb3V0IGlmIHJheSBhbmQgcGxhbmUgYXJlIHBhcmFsbGVsCgogICAgICBpZiAoTWF0aC5hYnMoZG90KSA8IHRoaXMucHJlY2lzaW9uKSB7CiAgICAgICAgY29udGludWU7CiAgICAgIH0gLy8gY2FsYyBkaXN0YW5jZSB0byBwbGFuZQoKCiAgICAgIGNvbnN0IHNjYWxhciA9IG5vcm1hbC5kb3QodmVjdG9yKSAvIGRvdDsgLy8gaWYgbmVnYXRpdmUgZGlzdGFuY2UsIHRoZW4gcGxhbmUgaXMgYmVoaW5kIHJheQoKICAgICAgaWYgKHNjYWxhciA8IDApIHsKICAgICAgICBjb250aW51ZTsKICAgICAgfSAvLyBpZiAoZG90IDwgMCkgewogICAgICAvLyBJbnRlcnNlY3Rpb24gcG9pbnQgaXMgZnJvbSArIGRpcmVjdGlvbiAqIHNjYWxhcgoKCiAgICAgIGRpcmVjdGlvbi5zY2FsZShzY2FsYXIsIGludGVyc2VjdFBvaW50KTsKICAgICAgaW50ZXJzZWN0UG9pbnQudmFkZChmcm9tLCBpbnRlcnNlY3RQb2ludCk7IC8vIGEgaXMgdGhlIHBvaW50IHdlIGNvbXBhcmUgcG9pbnRzIGIgYW5kIGMgd2l0aC4KCiAgICAgIGEuY29weSh2ZXJ0aWNlc1tmYWNlWzBdXSk7CiAgICAgIHEudm11bHQoYSwgYSk7CiAgICAgIHgudmFkZChhLCBhKTsKCiAgICAgIGZvciAobGV0IGkgPSAxOyAhcmVzdWx0LnNob3VsZFN0b3AgJiYgaSA8IGZhY2UubGVuZ3RoIC0gMTsgaSsrKSB7CiAgICAgICAgLy8gVHJhbnNmb3JtIDMgdmVydGljZXMgdG8gd29ybGQgY29vcmRzCiAgICAgICAgYi5jb3B5KHZlcnRpY2VzW2ZhY2VbaV1dKTsKICAgICAgICBjLmNvcHkodmVydGljZXNbZmFjZVtpICsgMV1dKTsKICAgICAgICBxLnZtdWx0KGIsIGIpOwogICAgICAgIHEudm11bHQoYywgYyk7CiAgICAgICAgeC52YWRkKGIsIGIpOwogICAgICAgIHgudmFkZChjLCBjKTsKICAgICAgICBjb25zdCBkaXN0YW5jZSA9IGludGVyc2VjdFBvaW50LmRpc3RhbmNlVG8oZnJvbSk7CgogICAgICAgIGlmICghKHBvaW50SW5UcmlhbmdsZShpbnRlcnNlY3RQb2ludCwgYSwgYiwgYykgfHwgcG9pbnRJblRyaWFuZ2xlKGludGVyc2VjdFBvaW50LCBiLCBhLCBjKSkgfHwgZGlzdGFuY2UgPiBmcm9tVG9EaXN0YW5jZSkgewogICAgICAgICAgY29udGludWU7CiAgICAgICAgfQoKICAgICAgICB0aGlzLnJlcG9ydEludGVyc2VjdGlvbihub3JtYWwsIGludGVyc2VjdFBvaW50LCByZXBvcnRlZFNoYXBlLCBib2R5LCBmaSk7CiAgICAgIH0gLy8gfQoKICAgIH0KICB9CiAgLyoqDQogICAqIEB0b2RvIE9wdGltaXplIGJ5IHRyYW5zZm9ybWluZyB0aGUgd29ybGQgdG8gbG9jYWwgc3BhY2UgZmlyc3QuDQogICAqIEB0b2RvIFVzZSBPY3RyZWUgbG9va3VwDQogICAqLwoKCiAgX2ludGVyc2VjdFRyaW1lc2gobWVzaCwgcXVhdCwgcG9zaXRpb24sIGJvZHksIHJlcG9ydGVkU2hhcGUsIG9wdGlvbnMpIHsKICAgIGNvbnN0IG5vcm1hbCA9IGludGVyc2VjdFRyaW1lc2hfbm9ybWFsOwogICAgY29uc3QgdHJpYW5nbGVzID0gaW50ZXJzZWN0VHJpbWVzaF90cmlhbmdsZXM7CiAgICBjb25zdCB0cmVlVHJhbnNmb3JtID0gaW50ZXJzZWN0VHJpbWVzaF90cmVlVHJhbnNmb3JtOwogICAgY29uc3QgdmVjdG9yID0gaW50ZXJzZWN0Q29udmV4X3ZlY3RvcjsKICAgIGNvbnN0IGxvY2FsRGlyZWN0aW9uID0gaW50ZXJzZWN0VHJpbWVzaF9sb2NhbERpcmVjdGlvbjsKICAgIGNvbnN0IGxvY2FsRnJvbSA9IGludGVyc2VjdFRyaW1lc2hfbG9jYWxGcm9tOwogICAgY29uc3QgbG9jYWxUbyA9IGludGVyc2VjdFRyaW1lc2hfbG9jYWxUbzsKICAgIGNvbnN0IHdvcmxkSW50ZXJzZWN0UG9pbnQgPSBpbnRlcnNlY3RUcmltZXNoX3dvcmxkSW50ZXJzZWN0UG9pbnQ7CiAgICBjb25zdCB3b3JsZE5vcm1hbCA9IGludGVyc2VjdFRyaW1lc2hfd29ybGROb3JtYWw7CiAgICBjb25zdCBmYWNlTGlzdCA9IG9wdGlvbnMgJiYgb3B0aW9ucy5mYWNlTGlzdCB8fCBudWxsOyAvLyBDaGVja2luZyBmYWNlcwoKICAgIGNvbnN0IGluZGljZXMgPSBtZXNoLmluZGljZXM7CiAgICBjb25zdCB2ZXJ0aWNlcyA9IG1lc2gudmVydGljZXM7IC8vIGNvbnN0IG5vcm1hbHMgPSBtZXNoLmZhY2VOb3JtYWxzCgogICAgY29uc3QgZnJvbSA9IHRoaXMuZnJvbTsKICAgIGNvbnN0IHRvID0gdGhpcy50bzsKICAgIGNvbnN0IGRpcmVjdGlvbiA9IHRoaXMuZGlyZWN0aW9uOwogICAgdHJlZVRyYW5zZm9ybS5wb3NpdGlvbi5jb3B5KHBvc2l0aW9uKTsKICAgIHRyZWVUcmFuc2Zvcm0ucXVhdGVybmlvbi5jb3B5KHF1YXQpOyAvLyBUcmFuc2Zvcm0gcmF5IHRvIGxvY2FsIHNwYWNlIQoKICAgIFRyYW5zZm9ybS52ZWN0b3JUb0xvY2FsRnJhbWUocG9zaXRpb24sIHF1YXQsIGRpcmVjdGlvbiwgbG9jYWxEaXJlY3Rpb24pOwogICAgVHJhbnNmb3JtLnBvaW50VG9Mb2NhbEZyYW1lKHBvc2l0aW9uLCBxdWF0LCBmcm9tLCBsb2NhbEZyb20pOwogICAgVHJhbnNmb3JtLnBvaW50VG9Mb2NhbEZyYW1lKHBvc2l0aW9uLCBxdWF0LCB0bywgbG9jYWxUbyk7CiAgICBsb2NhbFRvLnggKj0gbWVzaC5zY2FsZS54OwogICAgbG9jYWxUby55ICo9IG1lc2guc2NhbGUueTsKICAgIGxvY2FsVG8ueiAqPSBtZXNoLnNjYWxlLno7CiAgICBsb2NhbEZyb20ueCAqPSBtZXNoLnNjYWxlLng7CiAgICBsb2NhbEZyb20ueSAqPSBtZXNoLnNjYWxlLnk7CiAgICBsb2NhbEZyb20ueiAqPSBtZXNoLnNjYWxlLno7CiAgICBsb2NhbFRvLnZzdWIobG9jYWxGcm9tLCBsb2NhbERpcmVjdGlvbik7CiAgICBsb2NhbERpcmVjdGlvbi5ub3JtYWxpemUoKTsKICAgIGNvbnN0IGZyb21Ub0Rpc3RhbmNlU3F1YXJlZCA9IGxvY2FsRnJvbS5kaXN0YW5jZVNxdWFyZWQobG9jYWxUbyk7CiAgICBtZXNoLnRyZWUucmF5UXVlcnkodGhpcywgdHJlZVRyYW5zZm9ybSwgdHJpYW5nbGVzKTsKCiAgICBmb3IgKGxldCBpID0gMCwgTiA9IHRyaWFuZ2xlcy5sZW5ndGg7ICF0aGlzLnJlc3VsdC5zaG91bGRTdG9wICYmIGkgIT09IE47IGkrKykgewogICAgICBjb25zdCB0cmlhbmdsZXNJbmRleCA9IHRyaWFuZ2xlc1tpXTsKICAgICAgbWVzaC5nZXROb3JtYWwodHJpYW5nbGVzSW5kZXgsIG5vcm1hbCk7IC8vIGRldGVybWluZSBpZiByYXkgaW50ZXJzZWN0cyB0aGUgcGxhbmUgb2YgdGhlIGZhY2UKICAgICAgLy8gbm90ZTogdGhpcyB3b3JrcyByZWdhcmRsZXNzIG9mIHRoZSBkaXJlY3Rpb24gb2YgdGhlIGZhY2Ugbm9ybWFsCiAgICAgIC8vIEdldCBwbGFuZSBwb2ludCBpbiB3b3JsZCBjb29yZGluYXRlcy4uLgoKICAgICAgbWVzaC5nZXRWZXJ0ZXgoaW5kaWNlc1t0cmlhbmdsZXNJbmRleCAqIDNdLCBhKTsgLy8gLi4uYnV0IG1ha2UgaXQgcmVsYXRpdmUgdG8gdGhlIHJheSBmcm9tLiBXZSdsbCBmaXggdGhpcyBsYXRlci4KCiAgICAgIGEudnN1Yihsb2NhbEZyb20sIHZlY3Rvcik7IC8vIElmIHRoaXMgZG90IHByb2R1Y3QgaXMgbmVnYXRpdmUsIHdlIGhhdmUgc29tZXRoaW5nIGludGVyZXN0aW5nCgogICAgICBjb25zdCBkb3QgPSBsb2NhbERpcmVjdGlvbi5kb3Qobm9ybWFsKTsgLy8gQmFpbCBvdXQgaWYgcmF5IGFuZCBwbGFuZSBhcmUgcGFyYWxsZWwKICAgICAgLy8gaWYgKE1hdGguYWJzKCBkb3QgKSA8IHRoaXMucHJlY2lzaW9uKXsKICAgICAgLy8gICAgIGNvbnRpbnVlOwogICAgICAvLyB9CiAgICAgIC8vIGNhbGMgZGlzdGFuY2UgdG8gcGxhbmUKCiAgICAgIGNvbnN0IHNjYWxhciA9IG5vcm1hbC5kb3QodmVjdG9yKSAvIGRvdDsgLy8gaWYgbmVnYXRpdmUgZGlzdGFuY2UsIHRoZW4gcGxhbmUgaXMgYmVoaW5kIHJheQoKICAgICAgaWYgKHNjYWxhciA8IDApIHsKICAgICAgICBjb250aW51ZTsKICAgICAgfSAvLyBJbnRlcnNlY3Rpb24gcG9pbnQgaXMgZnJvbSArIGRpcmVjdGlvbiAqIHNjYWxhcgoKCiAgICAgIGxvY2FsRGlyZWN0aW9uLnNjYWxlKHNjYWxhciwgaW50ZXJzZWN0UG9pbnQpOwogICAgICBpbnRlcnNlY3RQb2ludC52YWRkKGxvY2FsRnJvbSwgaW50ZXJzZWN0UG9pbnQpOyAvLyBHZXQgdHJpYW5nbGUgdmVydGljZXMKCiAgICAgIG1lc2guZ2V0VmVydGV4KGluZGljZXNbdHJpYW5nbGVzSW5kZXggKiAzICsgMV0sIGIpOwogICAgICBtZXNoLmdldFZlcnRleChpbmRpY2VzW3RyaWFuZ2xlc0luZGV4ICogMyArIDJdLCBjKTsKICAgICAgY29uc3Qgc3F1YXJlZERpc3RhbmNlID0gaW50ZXJzZWN0UG9pbnQuZGlzdGFuY2VTcXVhcmVkKGxvY2FsRnJvbSk7CgogICAgICBpZiAoIShwb2ludEluVHJpYW5nbGUoaW50ZXJzZWN0UG9pbnQsIGIsIGEsIGMpIHx8IHBvaW50SW5UcmlhbmdsZShpbnRlcnNlY3RQb2ludCwgYSwgYiwgYykpIHx8IHNxdWFyZWREaXN0YW5jZSA+IGZyb21Ub0Rpc3RhbmNlU3F1YXJlZCkgewogICAgICAgIGNvbnRpbnVlOwogICAgICB9IC8vIHRyYW5zZm9ybSBpbnRlcnNlY3Rwb2ludCBhbmQgbm9ybWFsIHRvIHdvcmxkCgoKICAgICAgVHJhbnNmb3JtLnZlY3RvclRvV29ybGRGcmFtZShxdWF0LCBub3JtYWwsIHdvcmxkTm9ybWFsKTsKICAgICAgVHJhbnNmb3JtLnBvaW50VG9Xb3JsZEZyYW1lKHBvc2l0aW9uLCBxdWF0LCBpbnRlcnNlY3RQb2ludCwgd29ybGRJbnRlcnNlY3RQb2ludCk7CiAgICAgIHRoaXMucmVwb3J0SW50ZXJzZWN0aW9uKHdvcmxkTm9ybWFsLCB3b3JsZEludGVyc2VjdFBvaW50LCByZXBvcnRlZFNoYXBlLCBib2R5LCB0cmlhbmdsZXNJbmRleCk7CiAgICB9CgogICAgdHJpYW5nbGVzLmxlbmd0aCA9IDA7CiAgfQogIC8qKg0KICAgKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIHRoZSBpbnRlcnNlY3Rpb25zIHNob3VsZCBjb250aW51ZQ0KICAgKi8KCgogIHJlcG9ydEludGVyc2VjdGlvbihub3JtYWwsIGhpdFBvaW50V29ybGQsIHNoYXBlLCBib2R5LCBoaXRGYWNlSW5kZXgpIHsKICAgIGNvbnN0IGZyb20gPSB0aGlzLmZyb207CiAgICBjb25zdCB0byA9IHRoaXMudG87CiAgICBjb25zdCBkaXN0YW5jZSA9IGZyb20uZGlzdGFuY2VUbyhoaXRQb2ludFdvcmxkKTsKICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMucmVzdWx0OyAvLyBTa2lwIGJhY2sgZmFjZXM/CgogICAgaWYgKHRoaXMuc2tpcEJhY2tmYWNlcyAmJiBub3JtYWwuZG90KHRoaXMuZGlyZWN0aW9uKSA+IDApIHsKICAgICAgcmV0dXJuOwogICAgfQoKICAgIHJlc3VsdC5oaXRGYWNlSW5kZXggPSB0eXBlb2YgaGl0RmFjZUluZGV4ICE9PSAndW5kZWZpbmVkJyA/IGhpdEZhY2VJbmRleCA6IC0xOwoKICAgIHN3aXRjaCAodGhpcy5tb2RlKSB7CiAgICAgIGNhc2UgUmF5LkFMTDoKICAgICAgICB0aGlzLmhhc0hpdCA9IHRydWU7CiAgICAgICAgcmVzdWx0LnNldChmcm9tLCB0bywgbm9ybWFsLCBoaXRQb2ludFdvcmxkLCBzaGFwZSwgYm9keSwgZGlzdGFuY2UpOwogICAgICAgIHJlc3VsdC5oYXNIaXQgPSB0cnVlOwogICAgICAgIHRoaXMuY2FsbGJhY2socmVzdWx0KTsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgUmF5LkNMT1NFU1Q6CiAgICAgICAgLy8gU3RvcmUgaWYgY2xvc2VyIHRoYW4gY3VycmVudCBjbG9zZXN0CiAgICAgICAgaWYgKGRpc3RhbmNlIDwgcmVzdWx0LmRpc3RhbmNlIHx8ICFyZXN1bHQuaGFzSGl0KSB7CiAgICAgICAgICB0aGlzLmhhc0hpdCA9IHRydWU7CiAgICAgICAgICByZXN1bHQuaGFzSGl0ID0gdHJ1ZTsKICAgICAgICAgIHJlc3VsdC5zZXQoZnJvbSwgdG8sIG5vcm1hbCwgaGl0UG9pbnRXb3JsZCwgc2hhcGUsIGJvZHksIGRpc3RhbmNlKTsKICAgICAgICB9CgogICAgICAgIGJyZWFrOwoKICAgICAgY2FzZSBSYXkuQU5ZOgogICAgICAgIC8vIFJlcG9ydCBhbmQgc3RvcC4KICAgICAgICB0aGlzLmhhc0hpdCA9IHRydWU7CiAgICAgICAgcmVzdWx0Lmhhc0hpdCA9IHRydWU7CiAgICAgICAgcmVzdWx0LnNldChmcm9tLCB0bywgbm9ybWFsLCBoaXRQb2ludFdvcmxkLCBzaGFwZSwgYm9keSwgZGlzdGFuY2UpOwogICAgICAgIHJlc3VsdC5zaG91bGRTdG9wID0gdHJ1ZTsKICAgICAgICBicmVhazsKICAgIH0KICB9Cgp9CgpSYXkuQ0xPU0VTVCA9IDE7ClJheS5BTlkgPSAyOwpSYXkuQUxMID0gNDsKY29uc3QgdG1wQUFCQiA9IG5ldyBBQUJCKCk7CmNvbnN0IHRtcEFycmF5ID0gW107CmNvbnN0IHYxID0gbmV3IFZlYzMoKTsKY29uc3QgdjIgPSBuZXcgVmVjMygpOwovKg0KICogQXMgcGVyICJCYXJ5Y2VudHJpYyBUZWNobmlxdWUiIGFzIG5hbWVkIGhlcmUgaHR0cDovL3d3dy5ibGFja3Bhd24uY29tL3RleHRzL3BvaW50aW5wb2x5L2RlZmF1bHQuaHRtbCBCdXQgd2l0aG91dCB0aGUgZGl2aXNpb24NCiAqLwoKUmF5LnBvaW50SW5UcmlhbmdsZSA9IHBvaW50SW5UcmlhbmdsZTsKCmZ1bmN0aW9uIHBvaW50SW5UcmlhbmdsZShwLCBhLCBiLCBjKSB7CiAgYy52c3ViKGEsIHYwKTsKICBiLnZzdWIoYSwgdjEpOwogIHAudnN1YihhLCB2Mik7CiAgY29uc3QgZG90MDAgPSB2MC5kb3QodjApOwogIGNvbnN0IGRvdDAxID0gdjAuZG90KHYxKTsKICBjb25zdCBkb3QwMiA9IHYwLmRvdCh2Mik7CiAgY29uc3QgZG90MTEgPSB2MS5kb3QodjEpOwogIGNvbnN0IGRvdDEyID0gdjEuZG90KHYyKTsKICBsZXQgdTsKICBsZXQgdjsKICByZXR1cm4gKHUgPSBkb3QxMSAqIGRvdDAyIC0gZG90MDEgKiBkb3QxMikgPj0gMCAmJiAodiA9IGRvdDAwICogZG90MTIgLSBkb3QwMSAqIGRvdDAyKSA+PSAwICYmIHUgKyB2IDwgZG90MDAgKiBkb3QxMSAtIGRvdDAxICogZG90MDE7Cn0KCmNvbnN0IGludGVyc2VjdEJvZHlfeGkgPSBuZXcgVmVjMygpOwpjb25zdCBpbnRlcnNlY3RCb2R5X3FpID0gbmV3IFF1YXRlcm5pb24oKTsKY29uc3QgaW50ZXJzZWN0UG9pbnQgPSBuZXcgVmVjMygpOwpjb25zdCBhID0gbmV3IFZlYzMoKTsKY29uc3QgYiA9IG5ldyBWZWMzKCk7CmNvbnN0IGMgPSBuZXcgVmVjMygpOwpSYXkucHJvdG90eXBlW1NoYXBlLnR5cGVzLkJPWF0gPSBSYXkucHJvdG90eXBlLl9pbnRlcnNlY3RCb3g7ClJheS5wcm90b3R5cGVbU2hhcGUudHlwZXMuUExBTkVdID0gUmF5LnByb3RvdHlwZS5faW50ZXJzZWN0UGxhbmU7CmNvbnN0IGludGVyc2VjdENvbnZleE9wdGlvbnMgPSB7CiAgZmFjZUxpc3Q6IFswXQp9Owpjb25zdCB3b3JsZFBpbGxhck9mZnNldCA9IG5ldyBWZWMzKCk7CmNvbnN0IGludGVyc2VjdEhlaWdodGZpZWxkX2xvY2FsUmF5ID0gbmV3IFJheSgpOwpjb25zdCBpbnRlcnNlY3RIZWlnaHRmaWVsZF9pbmRleCA9IFtdOwpSYXkucHJvdG90eXBlW1NoYXBlLnR5cGVzLkhFSUdIVEZJRUxEXSA9IFJheS5wcm90b3R5cGUuX2ludGVyc2VjdEhlaWdodGZpZWxkOwpjb25zdCBSYXlfaW50ZXJzZWN0U3BoZXJlX2ludGVyc2VjdGlvblBvaW50ID0gbmV3IFZlYzMoKTsKY29uc3QgUmF5X2ludGVyc2VjdFNwaGVyZV9ub3JtYWwgPSBuZXcgVmVjMygpOwpSYXkucHJvdG90eXBlW1NoYXBlLnR5cGVzLlNQSEVSRV0gPSBSYXkucHJvdG90eXBlLl9pbnRlcnNlY3RTcGhlcmU7CmNvbnN0IGludGVyc2VjdENvbnZleF9ub3JtYWwgPSBuZXcgVmVjMygpOwpjb25zdCBpbnRlcnNlY3RDb252ZXhfdmVjdG9yID0gbmV3IFZlYzMoKTsKUmF5LnByb3RvdHlwZVtTaGFwZS50eXBlcy5DT05WRVhQT0xZSEVEUk9OXSA9IFJheS5wcm90b3R5cGUuX2ludGVyc2VjdENvbnZleDsKY29uc3QgaW50ZXJzZWN0VHJpbWVzaF9ub3JtYWwgPSBuZXcgVmVjMygpOwpjb25zdCBpbnRlcnNlY3RUcmltZXNoX2xvY2FsRGlyZWN0aW9uID0gbmV3IFZlYzMoKTsKY29uc3QgaW50ZXJzZWN0VHJpbWVzaF9sb2NhbEZyb20gPSBuZXcgVmVjMygpOwpjb25zdCBpbnRlcnNlY3RUcmltZXNoX2xvY2FsVG8gPSBuZXcgVmVjMygpOwpjb25zdCBpbnRlcnNlY3RUcmltZXNoX3dvcmxkTm9ybWFsID0gbmV3IFZlYzMoKTsKY29uc3QgaW50ZXJzZWN0VHJpbWVzaF93b3JsZEludGVyc2VjdFBvaW50ID0gbmV3IFZlYzMoKTsKY29uc3QgaW50ZXJzZWN0VHJpbWVzaF9sb2NhbEFBQkIgPSBuZXcgQUFCQigpOwpjb25zdCBpbnRlcnNlY3RUcmltZXNoX3RyaWFuZ2xlcyA9IFtdOwpjb25zdCBpbnRlcnNlY3RUcmltZXNoX3RyZWVUcmFuc2Zvcm0gPSBuZXcgVHJhbnNmb3JtKCk7ClJheS5wcm90b3R5cGVbU2hhcGUudHlwZXMuVFJJTUVTSF0gPSBSYXkucHJvdG90eXBlLl9pbnRlcnNlY3RUcmltZXNoOwpjb25zdCB2MCA9IG5ldyBWZWMzKCk7CmNvbnN0IGludGVyc2VjdCA9IG5ldyBWZWMzKCk7CgpmdW5jdGlvbiBkaXN0YW5jZUZyb21JbnRlcnNlY3Rpb24oZnJvbSwgZGlyZWN0aW9uLCBwb3NpdGlvbikgewogIC8vIHYwIGlzIHZlY3RvciBmcm9tIGZyb20gdG8gcG9zaXRpb24KICBwb3NpdGlvbi52c3ViKGZyb20sIHYwKTsKICBjb25zdCBkb3QgPSB2MC5kb3QoZGlyZWN0aW9uKTsgLy8gaW50ZXJzZWN0ID0gZGlyZWN0aW9uKmRvdCArIGZyb20KCiAgZGlyZWN0aW9uLnNjYWxlKGRvdCwgaW50ZXJzZWN0KTsKICBpbnRlcnNlY3QudmFkZChmcm9tLCBpbnRlcnNlY3QpOwogIGNvbnN0IGRpc3RhbmNlID0gcG9zaXRpb24uZGlzdGFuY2VUbyhpbnRlcnNlY3QpOwogIHJldHVybiBkaXN0YW5jZTsKfQovKioNCiAqIFN3ZWVwIGFuZCBwcnVuZSBicm9hZHBoYXNlIGFsb25nIG9uZSBheGlzLg0KICoNCiAqIEBjbGFzcyBTQVBCcm9hZHBoYXNlDQogKiBAY29uc3RydWN0b3INCiAqIEBwYXJhbSB7V29ybGR9IFt3b3JsZF0NCiAqIEBleHRlbmRzIEJyb2FkcGhhc2UNCiAqLwoKCmNsYXNzIFNBUEJyb2FkcGhhc2UgZXh0ZW5kcyBCcm9hZHBoYXNlIHsKICAvLyBMaXN0IG9mIGJvZGllcyBjdXJyZW50bHkgaW4gdGhlIGJyb2FkcGhhc2UuCiAgLy8gVGhlIHdvcmxkIHRvIHNlYXJjaCBpbi4KICAvLyBBeGlzIHRvIHNvcnQgdGhlIGJvZGllcyBhbG9uZy4gU2V0IHRvIDAgZm9yIHggYXhpcywgYW5kIDEgZm9yIHkgYXhpcy4gRm9yIGJlc3QgcGVyZm9ybWFuY2UsIGNob29zZSBhbiBheGlzIHRoYXQgdGhlIGJvZGllcyBhcmUgc3ByZWFkIG91dCBtb3JlIG9uLgogIGNvbnN0cnVjdG9yKHdvcmxkKSB7CiAgICBzdXBlcigpOwogICAgdGhpcy5heGlzTGlzdCA9IFtdOwogICAgdGhpcy53b3JsZCA9IG51bGw7CiAgICB0aGlzLmF4aXNJbmRleCA9IDA7CiAgICBjb25zdCBheGlzTGlzdCA9IHRoaXMuYXhpc0xpc3Q7CgogICAgdGhpcy5fYWRkQm9keUhhbmRsZXIgPSBldmVudCA9PiB7CiAgICAgIGF4aXNMaXN0LnB1c2goZXZlbnQuYm9keSk7CiAgICB9OwoKICAgIHRoaXMuX3JlbW92ZUJvZHlIYW5kbGVyID0gZXZlbnQgPT4gewogICAgICBjb25zdCBpZHggPSBheGlzTGlzdC5pbmRleE9mKGV2ZW50LmJvZHkpOwoKICAgICAgaWYgKGlkeCAhPT0gLTEpIHsKICAgICAgICBheGlzTGlzdC5zcGxpY2UoaWR4LCAxKTsKICAgICAgfQogICAgfTsKCiAgICBpZiAod29ybGQpIHsKICAgICAgdGhpcy5zZXRXb3JsZCh3b3JsZCk7CiAgICB9CiAgfQogIC8qKg0KICAgKiBDaGFuZ2UgdGhlIHdvcmxkDQogICAqIEBtZXRob2Qgc2V0V29ybGQNCiAgICogQHBhcmFtICB7V29ybGR9IHdvcmxkDQogICAqLwoKCiAgc2V0V29ybGQod29ybGQpIHsKICAgIC8vIENsZWFyIHRoZSBvbGQgYXhpcyBhcnJheQogICAgdGhpcy5heGlzTGlzdC5sZW5ndGggPSAwOyAvLyBBZGQgYWxsIGJvZGllcyBmcm9tIHRoZSBuZXcgd29ybGQKCiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHdvcmxkLmJvZGllcy5sZW5ndGg7IGkrKykgewogICAgICB0aGlzLmF4aXNMaXN0LnB1c2god29ybGQuYm9kaWVzW2ldKTsKICAgIH0gLy8gUmVtb3ZlIG9sZCBoYW5kbGVycywgaWYgYW55CgoKICAgIHdvcmxkLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2FkZEJvZHknLCB0aGlzLl9hZGRCb2R5SGFuZGxlcik7CiAgICB3b3JsZC5yZW1vdmVFdmVudExpc3RlbmVyKCdyZW1vdmVCb2R5JywgdGhpcy5fcmVtb3ZlQm9keUhhbmRsZXIpOyAvLyBBZGQgaGFuZGxlcnMgdG8gdXBkYXRlIHRoZSBsaXN0IG9mIGJvZGllcy4KCiAgICB3b3JsZC5hZGRFdmVudExpc3RlbmVyKCdhZGRCb2R5JywgdGhpcy5fYWRkQm9keUhhbmRsZXIpOwogICAgd29ybGQuYWRkRXZlbnRMaXN0ZW5lcigncmVtb3ZlQm9keScsIHRoaXMuX3JlbW92ZUJvZHlIYW5kbGVyKTsKICAgIHRoaXMud29ybGQgPSB3b3JsZDsKICAgIHRoaXMuZGlydHkgPSB0cnVlOwogIH0KICAvKioNCiAgICogQ29sbGVjdCBhbGwgY29sbGlzaW9uIHBhaXJzDQogICAqIEBtZXRob2QgY29sbGlzaW9uUGFpcnMNCiAgICogQHBhcmFtICB7V29ybGR9IHdvcmxkDQogICAqIEBwYXJhbSAge0FycmF5fSBwMQ0KICAgKiBAcGFyYW0gIHtBcnJheX0gcDINCiAgICovCgoKICBjb2xsaXNpb25QYWlycyh3b3JsZCwgcDEsIHAyKSB7CiAgICBjb25zdCBib2RpZXMgPSB0aGlzLmF4aXNMaXN0OwogICAgY29uc3QgTiA9IGJvZGllcy5sZW5ndGg7CiAgICBjb25zdCBheGlzSW5kZXggPSB0aGlzLmF4aXNJbmRleDsKICAgIGxldCBpOwogICAgbGV0IGo7CgogICAgaWYgKHRoaXMuZGlydHkpIHsKICAgICAgdGhpcy5zb3J0TGlzdCgpOwogICAgICB0aGlzLmRpcnR5ID0gZmFsc2U7CiAgICB9IC8vIExvb2sgdGhyb3VnaCB0aGUgbGlzdAoKCiAgICBmb3IgKGkgPSAwOyBpICE9PSBOOyBpKyspIHsKICAgICAgY29uc3QgYmkgPSBib2RpZXNbaV07CgogICAgICBmb3IgKGogPSBpICsgMTsgaiA8IE47IGorKykgewogICAgICAgIGNvbnN0IGJqID0gYm9kaWVzW2pdOwoKICAgICAgICBpZiAoIXRoaXMubmVlZEJyb2FkcGhhc2VDb2xsaXNpb24oYmksIGJqKSkgewogICAgICAgICAgY29udGludWU7CiAgICAgICAgfQoKICAgICAgICBpZiAoIVNBUEJyb2FkcGhhc2UuY2hlY2tCb3VuZHMoYmksIGJqLCBheGlzSW5kZXgpKSB7CiAgICAgICAgICBicmVhazsKICAgICAgICB9CgogICAgICAgIHRoaXMuaW50ZXJzZWN0aW9uVGVzdChiaSwgYmosIHAxLCBwMik7CiAgICAgIH0KICAgIH0KICB9CgogIHNvcnRMaXN0KCkgewogICAgY29uc3QgYXhpc0xpc3QgPSB0aGlzLmF4aXNMaXN0OwogICAgY29uc3QgYXhpc0luZGV4ID0gdGhpcy5heGlzSW5kZXg7CiAgICBjb25zdCBOID0gYXhpc0xpc3QubGVuZ3RoOyAvLyBVcGRhdGUgQUFCQnMKCiAgICBmb3IgKGxldCBpID0gMDsgaSAhPT0gTjsgaSsrKSB7CiAgICAgIGNvbnN0IGJpID0gYXhpc0xpc3RbaV07CgogICAgICBpZiAoYmkuYWFiYk5lZWRzVXBkYXRlKSB7CiAgICAgICAgYmkuY29tcHV0ZUFBQkIoKTsKICAgICAgfQogICAgfSAvLyBTb3J0IHRoZSBsaXN0CgoKICAgIGlmIChheGlzSW5kZXggPT09IDApIHsKICAgICAgU0FQQnJvYWRwaGFzZS5pbnNlcnRpb25Tb3J0WChheGlzTGlzdCk7CiAgICB9IGVsc2UgaWYgKGF4aXNJbmRleCA9PT0gMSkgewogICAgICBTQVBCcm9hZHBoYXNlLmluc2VydGlvblNvcnRZKGF4aXNMaXN0KTsKICAgIH0gZWxzZSBpZiAoYXhpc0luZGV4ID09PSAyKSB7CiAgICAgIFNBUEJyb2FkcGhhc2UuaW5zZXJ0aW9uU29ydFooYXhpc0xpc3QpOwogICAgfQogIH0KICAvKioNCiAgICogQ29tcHV0ZXMgdGhlIHZhcmlhbmNlIG9mIHRoZSBib2R5IHBvc2l0aW9ucyBhbmQgZXN0aW1hdGVzIHRoZSBiZXN0DQogICAqIGF4aXMgdG8gdXNlLiBXaWxsIGF1dG9tYXRpY2FsbHkgc2V0IHByb3BlcnR5IC5heGlzSW5kZXguDQogICAqIEBtZXRob2QgYXV0b0RldGVjdEF4aXMNCiAgICovCgoKICBhdXRvRGV0ZWN0QXhpcygpIHsKICAgIGxldCBzdW1YID0gMDsKICAgIGxldCBzdW1YMiA9IDA7CiAgICBsZXQgc3VtWSA9IDA7CiAgICBsZXQgc3VtWTIgPSAwOwogICAgbGV0IHN1bVogPSAwOwogICAgbGV0IHN1bVoyID0gMDsKICAgIGNvbnN0IGJvZGllcyA9IHRoaXMuYXhpc0xpc3Q7CiAgICBjb25zdCBOID0gYm9kaWVzLmxlbmd0aDsKICAgIGNvbnN0IGludk4gPSAxIC8gTjsKCiAgICBmb3IgKGxldCBpID0gMDsgaSAhPT0gTjsgaSsrKSB7CiAgICAgIGNvbnN0IGIgPSBib2RpZXNbaV07CiAgICAgIGNvbnN0IGNlbnRlclggPSBiLnBvc2l0aW9uLng7CiAgICAgIHN1bVggKz0gY2VudGVyWDsKICAgICAgc3VtWDIgKz0gY2VudGVyWCAqIGNlbnRlclg7CiAgICAgIGNvbnN0IGNlbnRlclkgPSBiLnBvc2l0aW9uLnk7CiAgICAgIHN1bVkgKz0gY2VudGVyWTsKICAgICAgc3VtWTIgKz0gY2VudGVyWSAqIGNlbnRlclk7CiAgICAgIGNvbnN0IGNlbnRlclogPSBiLnBvc2l0aW9uLno7CiAgICAgIHN1bVogKz0gY2VudGVyWjsKICAgICAgc3VtWjIgKz0gY2VudGVyWiAqIGNlbnRlclo7CiAgICB9CgogICAgY29uc3QgdmFyaWFuY2VYID0gc3VtWDIgLSBzdW1YICogc3VtWCAqIGludk47CiAgICBjb25zdCB2YXJpYW5jZVkgPSBzdW1ZMiAtIHN1bVkgKiBzdW1ZICogaW52TjsKICAgIGNvbnN0IHZhcmlhbmNlWiA9IHN1bVoyIC0gc3VtWiAqIHN1bVogKiBpbnZOOwoKICAgIGlmICh2YXJpYW5jZVggPiB2YXJpYW5jZVkpIHsKICAgICAgaWYgKHZhcmlhbmNlWCA+IHZhcmlhbmNlWikgewogICAgICAgIHRoaXMuYXhpc0luZGV4ID0gMDsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmF4aXNJbmRleCA9IDI7CiAgICAgIH0KICAgIH0gZWxzZSBpZiAodmFyaWFuY2VZID4gdmFyaWFuY2VaKSB7CiAgICAgIHRoaXMuYXhpc0luZGV4ID0gMTsKICAgIH0gZWxzZSB7CiAgICAgIHRoaXMuYXhpc0luZGV4ID0gMjsKICAgIH0KICB9CiAgLyoqDQogICAqIFJldHVybnMgYWxsIHRoZSBib2RpZXMgd2l0aGluIGFuIEFBQkIuDQogICAqIEBtZXRob2QgYWFiYlF1ZXJ5DQogICAqIEBwYXJhbSAge1dvcmxkfSB3b3JsZA0KICAgKiBAcGFyYW0gIHtBQUJCfSBhYWJiDQogICAqIEBwYXJhbSB7YXJyYXl9IHJlc3VsdCBBbiBhcnJheSB0byBzdG9yZSByZXN1bHRpbmcgYm9kaWVzIGluLg0KICAgKiBAcmV0dXJuIHthcnJheX0NCiAgICovCgoKICBhYWJiUXVlcnkod29ybGQsIGFhYmIsIHJlc3VsdCA9IFtdKSB7CiAgICBpZiAodGhpcy5kaXJ0eSkgewogICAgICB0aGlzLnNvcnRMaXN0KCk7CiAgICAgIHRoaXMuZGlydHkgPSBmYWxzZTsKICAgIH0KCiAgICBjb25zdCBheGlzSW5kZXggPSB0aGlzLmF4aXNJbmRleDsKICAgIGxldCBheGlzID0gJ3gnOwoKICAgIGlmIChheGlzSW5kZXggPT09IDEpIHsKICAgICAgYXhpcyA9ICd5JzsKICAgIH0KCiAgICBpZiAoYXhpc0luZGV4ID09PSAyKSB7CiAgICAgIGF4aXMgPSAneic7CiAgICB9CgogICAgY29uc3QgYXhpc0xpc3QgPSB0aGlzLmF4aXNMaXN0OwogICAgY29uc3QgbG93ZXIgPSBhYWJiLmxvd2VyQm91bmRbYXhpc107CiAgICBjb25zdCB1cHBlciA9IGFhYmIudXBwZXJCb3VuZFtheGlzXTsKCiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGF4aXNMaXN0Lmxlbmd0aDsgaSsrKSB7CiAgICAgIGNvbnN0IGIgPSBheGlzTGlzdFtpXTsKCiAgICAgIGlmIChiLmFhYmJOZWVkc1VwZGF0ZSkgewogICAgICAgIGIuY29tcHV0ZUFBQkIoKTsKICAgICAgfQoKICAgICAgaWYgKGIuYWFiYi5vdmVybGFwcyhhYWJiKSkgewogICAgICAgIHJlc3VsdC5wdXNoKGIpOwogICAgICB9CiAgICB9CgogICAgcmV0dXJuIHJlc3VsdDsKICB9Cgp9Ci8qKg0KICogQHN0YXRpYw0KICogQG1ldGhvZCBpbnNlcnRpb25Tb3J0WA0KICogQHBhcmFtICB7QXJyYXl9IGENCiAqIEByZXR1cm4ge0FycmF5fQ0KICovCgoKU0FQQnJvYWRwaGFzZS5pbnNlcnRpb25Tb3J0WCA9IGEgPT4gewogIGZvciAobGV0IGkgPSAxLCBsID0gYS5sZW5ndGg7IGkgPCBsOyBpKyspIHsKICAgIGNvbnN0IHYgPSBhW2ldOwogICAgbGV0IGo7CgogICAgZm9yIChqID0gaSAtIDE7IGogPj0gMDsgai0tKSB7CiAgICAgIGlmIChhW2pdLmFhYmIubG93ZXJCb3VuZC54IDw9IHYuYWFiYi5sb3dlckJvdW5kLngpIHsKICAgICAgICBicmVhazsKICAgICAgfQoKICAgICAgYVtqICsgMV0gPSBhW2pdOwogICAgfQoKICAgIGFbaiArIDFdID0gdjsKICB9CgogIHJldHVybiBhOwp9OwovKioNCiAqIEBzdGF0aWMNCiAqIEBtZXRob2QgaW5zZXJ0aW9uU29ydFkNCiAqIEBwYXJhbSAge0FycmF5fSBhDQogKiBAcmV0dXJuIHtBcnJheX0NCiAqLwoKClNBUEJyb2FkcGhhc2UuaW5zZXJ0aW9uU29ydFkgPSBhID0+IHsKICBmb3IgKGxldCBpID0gMSwgbCA9IGEubGVuZ3RoOyBpIDwgbDsgaSsrKSB7CiAgICBjb25zdCB2ID0gYVtpXTsKICAgIGxldCBqOwoKICAgIGZvciAoaiA9IGkgLSAxOyBqID49IDA7IGotLSkgewogICAgICBpZiAoYVtqXS5hYWJiLmxvd2VyQm91bmQueSA8PSB2LmFhYmIubG93ZXJCb3VuZC55KSB7CiAgICAgICAgYnJlYWs7CiAgICAgIH0KCiAgICAgIGFbaiArIDFdID0gYVtqXTsKICAgIH0KCiAgICBhW2ogKyAxXSA9IHY7CiAgfQoKICByZXR1cm4gYTsKfTsKLyoqDQogKiBAc3RhdGljDQogKiBAbWV0aG9kIGluc2VydGlvblNvcnRaDQogKiBAcGFyYW0gIHtBcnJheX0gYQ0KICogQHJldHVybiB7QXJyYXl9DQogKi8KCgpTQVBCcm9hZHBoYXNlLmluc2VydGlvblNvcnRaID0gYSA9PiB7CiAgZm9yIChsZXQgaSA9IDEsIGwgPSBhLmxlbmd0aDsgaSA8IGw7IGkrKykgewogICAgY29uc3QgdiA9IGFbaV07CiAgICBsZXQgajsKCiAgICBmb3IgKGogPSBpIC0gMTsgaiA+PSAwOyBqLS0pIHsKICAgICAgaWYgKGFbal0uYWFiYi5sb3dlckJvdW5kLnogPD0gdi5hYWJiLmxvd2VyQm91bmQueikgewogICAgICAgIGJyZWFrOwogICAgICB9CgogICAgICBhW2ogKyAxXSA9IGFbal07CiAgICB9CgogICAgYVtqICsgMV0gPSB2OwogIH0KCiAgcmV0dXJuIGE7Cn07Ci8qKg0KICogQ2hlY2sgaWYgdGhlIGJvdW5kcyBvZiB0d28gYm9kaWVzIG92ZXJsYXAsIGFsb25nIHRoZSBnaXZlbiBTQVAgYXhpcy4NCiAqIEBzdGF0aWMNCiAqIEBtZXRob2QgY2hlY2tCb3VuZHMNCiAqIEBwYXJhbSAge0JvZHl9IGJpDQogKiBAcGFyYW0gIHtCb2R5fSBiag0KICogQHBhcmFtICB7TnVtYmVyfSBheGlzSW5kZXgNCiAqIEByZXR1cm4ge0Jvb2xlYW59DQogKi8KCgpTQVBCcm9hZHBoYXNlLmNoZWNrQm91bmRzID0gKGJpLCBiaiwgYXhpc0luZGV4KSA9PiB7CiAgbGV0IGJpUG9zOwogIGxldCBialBvczsKCiAgaWYgKGF4aXNJbmRleCA9PT0gMCkgewogICAgYmlQb3MgPSBiaS5wb3NpdGlvbi54OwogICAgYmpQb3MgPSBiai5wb3NpdGlvbi54OwogIH0gZWxzZSBpZiAoYXhpc0luZGV4ID09PSAxKSB7CiAgICBiaVBvcyA9IGJpLnBvc2l0aW9uLnk7CiAgICBialBvcyA9IGJqLnBvc2l0aW9uLnk7CiAgfSBlbHNlIGlmIChheGlzSW5kZXggPT09IDIpIHsKICAgIGJpUG9zID0gYmkucG9zaXRpb24uejsKICAgIGJqUG9zID0gYmoucG9zaXRpb24uejsKICB9CgogIGNvbnN0IHJpID0gYmkuYm91bmRpbmdSYWRpdXMsCiAgICAgICAgcmogPSBiai5ib3VuZGluZ1JhZGl1cywKICAgICAgICAvLyBib3VuZEExID0gYmlQb3MgLSByaSwKICBib3VuZEEyID0gYmlQb3MgKyByaSwKICAgICAgICBib3VuZEIxID0gYmpQb3MgLSByajsgLy8gYm91bmRCMiA9IGJqUG9zICsgcmo7CgogIHJldHVybiBib3VuZEIxIDwgYm91bmRBMjsKfTsKCmZ1bmN0aW9uIFV0aWxzKCkge30KLyoqDQogKiBFeHRlbmQgYW4gb3B0aW9ucyBvYmplY3Qgd2l0aCBkZWZhdWx0IHZhbHVlcy4NCiAqIEBzdGF0aWMNCiAqIEBtZXRob2QgZGVmYXVsdHMNCiAqIEBwYXJhbSAge29iamVjdH0gb3B0aW9ucyBUaGUgb3B0aW9ucyBvYmplY3QuIE1heSBiZSBmYWxzeTogaW4gdGhpcyBjYXNlLCBhIG5ldyBvYmplY3QgaXMgY3JlYXRlZCBhbmQgcmV0dXJuZWQuDQogKiBAcGFyYW0gIHtvYmplY3R9IGRlZmF1bHRzIEFuIG9iamVjdCBjb250YWluaW5nIGRlZmF1bHQgdmFsdWVzLg0KICogQHJldHVybiB7b2JqZWN0fSBUaGUgbW9kaWZpZWQgb3B0aW9ucyBvYmplY3QuDQogKi8KCgpVdGlscy5kZWZhdWx0cyA9IChvcHRpb25zID0ge30sIGRlZmF1bHRzKSA9PiB7CiAgZm9yIChsZXQga2V5IGluIGRlZmF1bHRzKSB7CiAgICBpZiAoIShrZXkgaW4gb3B0aW9ucykpIHsKICAgICAgb3B0aW9uc1trZXldID0gZGVmYXVsdHNba2V5XTsKICAgIH0KICB9CgogIHJldHVybiBvcHRpb25zOwp9OwovKioNCiAqIENvbnN0cmFpbnQgYmFzZSBjbGFzcw0KICogQGNsYXNzIENvbnN0cmFpbnQNCiAqIEBhdXRob3Igc2NodGVwcGUNCiAqIEBjb25zdHJ1Y3Rvcg0KICogQHBhcmFtIHtCb2R5fSBib2R5QQ0KICogQHBhcmFtIHtCb2R5fSBib2R5Qg0KICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXQ0KICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5jb2xsaWRlQ29ubmVjdGVkPXRydWVdDQogKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLndha2VVcEJvZGllcz10cnVlXQ0KICovCgoKY2xhc3MgQ29uc3RyYWludCB7CiAgLy8gRXF1YXRpb25zIHRvIGJlIHNvbHZlZCBpbiB0aGlzIGNvbnN0cmFpbnQuCiAgLy8gU2V0IHRvIHRydWUgaWYgeW91IHdhbnQgdGhlIGJvZGllcyB0byBjb2xsaWRlIHdoZW4gdGhleSBhcmUgY29ubmVjdGVkLgogIGNvbnN0cnVjdG9yKGJvZHlBLCBib2R5Qiwgb3B0aW9ucyA9IHt9KSB7CiAgICBvcHRpb25zID0gVXRpbHMuZGVmYXVsdHMob3B0aW9ucywgewogICAgICBjb2xsaWRlQ29ubmVjdGVkOiB0cnVlLAogICAgICB3YWtlVXBCb2RpZXM6IHRydWUKICAgIH0pOwogICAgdGhpcy5lcXVhdGlvbnMgPSBbXTsKICAgIHRoaXMuYm9keUEgPSBib2R5QTsKICAgIHRoaXMuYm9keUIgPSBib2R5QjsKICAgIHRoaXMuaWQgPSBDb25zdHJhaW50LmlkQ291bnRlcisrOwogICAgdGhpcy5jb2xsaWRlQ29ubmVjdGVkID0gb3B0aW9ucy5jb2xsaWRlQ29ubmVjdGVkOwoKICAgIGlmIChvcHRpb25zLndha2VVcEJvZGllcykgewogICAgICBpZiAoYm9keUEpIHsKICAgICAgICBib2R5QS53YWtlVXAoKTsKICAgICAgfQoKICAgICAgaWYgKGJvZHlCKSB7CiAgICAgICAgYm9keUIud2FrZVVwKCk7CiAgICAgIH0KICAgIH0KICB9CiAgLyoqDQogICAqIFVwZGF0ZSBhbGwgdGhlIGVxdWF0aW9ucyB3aXRoIGRhdGEuDQogICAqIEBtZXRob2QgdXBkYXRlDQogICAqLwoKCiAgdXBkYXRlKCkgewogICAgdGhyb3cgbmV3IEVycm9yKCdtZXRob2QgdXBkYXRlKCkgbm90IGltcGxtZW1lbnRlZCBpbiB0aGlzIENvbnN0cmFpbnQgc3ViY2xhc3MhJyk7CiAgfQogIC8qKg0KICAgKiBFbmFibGVzIGFsbCBlcXVhdGlvbnMgaW4gdGhlIGNvbnN0cmFpbnQuDQogICAqIEBtZXRob2QgZW5hYmxlDQogICAqLwoKCiAgZW5hYmxlKCkgewogICAgY29uc3QgZXFzID0gdGhpcy5lcXVhdGlvbnM7CgogICAgZm9yIChsZXQgaSA9IDA7IGkgPCBlcXMubGVuZ3RoOyBpKyspIHsKICAgICAgZXFzW2ldLmVuYWJsZWQgPSB0cnVlOwogICAgfQogIH0KICAvKioNCiAgICogRGlzYWJsZXMgYWxsIGVxdWF0aW9ucyBpbiB0aGUgY29uc3RyYWludC4NCiAgICogQG1ldGhvZCBkaXNhYmxlDQogICAqLwoKCiAgZGlzYWJsZSgpIHsKICAgIGNvbnN0IGVxcyA9IHRoaXMuZXF1YXRpb25zOwoKICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZXFzLmxlbmd0aDsgaSsrKSB7CiAgICAgIGVxc1tpXS5lbmFibGVkID0gZmFsc2U7CiAgICB9CiAgfQoKfQoKQ29uc3RyYWludC5pZENvdW50ZXIgPSAwOwovKioNCiAqIEFuIGVsZW1lbnQgY29udGFpbmluZyA2IGVudHJpZXMsIDMgc3BhdGlhbCBhbmQgMyByb3RhdGlvbmFsIGRlZ3JlZXMgb2YgZnJlZWRvbS4NCiAqLwoKY2xhc3MgSmFjb2JpYW5FbGVtZW50IHsKICBjb25zdHJ1Y3RvcigpIHsKICAgIHRoaXMuc3BhdGlhbCA9IG5ldyBWZWMzKCk7CiAgICB0aGlzLnJvdGF0aW9uYWwgPSBuZXcgVmVjMygpOwogIH0KICAvKioNCiAgICogTXVsdGlwbHkgd2l0aCBvdGhlciBKYWNvYmlhbkVsZW1lbnQNCiAgICovCgoKICBtdWx0aXBseUVsZW1lbnQoZWxlbWVudCkgewogICAgcmV0dXJuIGVsZW1lbnQuc3BhdGlhbC5kb3QodGhpcy5zcGF0aWFsKSArIGVsZW1lbnQucm90YXRpb25hbC5kb3QodGhpcy5yb3RhdGlvbmFsKTsKICB9CiAgLyoqDQogICAqIE11bHRpcGx5IHdpdGggdHdvIHZlY3RvcnMNCiAgICovCgoKICBtdWx0aXBseVZlY3RvcnMoc3BhdGlhbCwgcm90YXRpb25hbCkgewogICAgcmV0dXJuIHNwYXRpYWwuZG90KHRoaXMuc3BhdGlhbCkgKyByb3RhdGlvbmFsLmRvdCh0aGlzLnJvdGF0aW9uYWwpOwogIH0KCn0KLyoqDQogKiBFcXVhdGlvbiBiYXNlIGNsYXNzDQogKiBAY2xhc3MgRXF1YXRpb24NCiAqIEBjb25zdHJ1Y3Rvcg0KICogQGF1dGhvciBzY2h0ZXBwZQ0KICogQHBhcmFtIHtCb2R5fSBiaQ0KICogQHBhcmFtIHtCb2R5fSBiag0KICogQHBhcmFtIHtOdW1iZXJ9IG1pbkZvcmNlIE1pbmltdW0gKHJlYWQ6IG5lZ2F0aXZlIG1heCkgZm9yY2UgdG8gYmUgYXBwbGllZCBieSB0aGUgY29uc3RyYWludC4NCiAqIEBwYXJhbSB7TnVtYmVyfSBtYXhGb3JjZSBNYXhpbXVtIChyZWFkOiBwb3NpdGl2ZSBtYXgpIGZvcmNlIHRvIGJlIGFwcGxpZWQgYnkgdGhlIGNvbnN0cmFpbnQuDQogKi8KCgpjbGFzcyBFcXVhdGlvbiB7CiAgLy8gU1BPT0sgcGFyYW1ldGVyCiAgLy8gU1BPT0sgcGFyYW1ldGVyCiAgLy8gU1BPT0sgcGFyYW1ldGVyCiAgLy8gQSBudW1iZXIsIHByb3BvcnRpb25hbCB0byB0aGUgZm9yY2UgYWRkZWQgdG8gdGhlIGJvZGllcy4KICBjb25zdHJ1Y3RvcihiaSwgYmosIG1pbkZvcmNlID0gLTFlNiwgbWF4Rm9yY2UgPSAxZTYpIHsKICAgIHRoaXMuaWQgPSBFcXVhdGlvbi5pZCsrOwogICAgdGhpcy5taW5Gb3JjZSA9IG1pbkZvcmNlOwogICAgdGhpcy5tYXhGb3JjZSA9IG1heEZvcmNlOwogICAgdGhpcy5iaSA9IGJpOwogICAgdGhpcy5iaiA9IGJqOwogICAgdGhpcy5hID0gMC4wOyAvLyBTUE9PSyBwYXJhbWV0ZXIKCiAgICB0aGlzLmIgPSAwLjA7IC8vIFNQT09LIHBhcmFtZXRlcgoKICAgIHRoaXMuZXBzID0gMC4wOyAvLyBTUE9PSyBwYXJhbWV0ZXIKCiAgICB0aGlzLmphY29iaWFuRWxlbWVudEEgPSBuZXcgSmFjb2JpYW5FbGVtZW50KCk7CiAgICB0aGlzLmphY29iaWFuRWxlbWVudEIgPSBuZXcgSmFjb2JpYW5FbGVtZW50KCk7CiAgICB0aGlzLmVuYWJsZWQgPSB0cnVlOwogICAgdGhpcy5tdWx0aXBsaWVyID0gMDsKICAgIHRoaXMuc2V0U3Bvb2tQYXJhbXMoMWU3LCA0LCAxIC8gNjApOyAvLyBTZXQgdHlwaWNhbCBzcG9vayBwYXJhbXMKICB9CiAgLyoqDQogICAqIFJlY2FsY3VsYXRlcyBhLGIsZXBzLg0KICAgKiBAbWV0aG9kIHNldFNwb29rUGFyYW1zDQogICAqLwoKCiAgc2V0U3Bvb2tQYXJhbXMoc3RpZmZuZXNzLCByZWxheGF0aW9uLCB0aW1lU3RlcCkgewogICAgY29uc3QgZCA9IHJlbGF4YXRpb247CiAgICBjb25zdCBrID0gc3RpZmZuZXNzOwogICAgY29uc3QgaCA9IHRpbWVTdGVwOwogICAgdGhpcy5hID0gNC4wIC8gKGggKiAoMSArIDQgKiBkKSk7CiAgICB0aGlzLmIgPSA0LjAgKiBkIC8gKDEgKyA0ICogZCk7CiAgICB0aGlzLmVwcyA9IDQuMCAvIChoICogaCAqIGsgKiAoMSArIDQgKiBkKSk7CiAgfQogIC8qKg0KICAgKiBDb21wdXRlcyB0aGUgcmlnaHQgaGFuZCBzaWRlIG9mIHRoZSBTUE9PSyBlcXVhdGlvbg0KICAgKiBAbWV0aG9kIGNvbXB1dGVCDQogICAqIEByZXR1cm4ge051bWJlcn0NCiAgICovCgoKICBjb21wdXRlQihhLCBiLCBoKSB7CiAgICBjb25zdCBHVyA9IHRoaXMuY29tcHV0ZUdXKCk7CiAgICBjb25zdCBHcSA9IHRoaXMuY29tcHV0ZUdxKCk7CiAgICBjb25zdCBHaU1mID0gdGhpcy5jb21wdXRlR2lNZigpOwogICAgcmV0dXJuIC1HcSAqIGEgLSBHVyAqIGIgLSBHaU1mICogaDsKICB9CiAgLyoqDQogICAqIENvbXB1dGVzIEcqcSwgd2hlcmUgcSBhcmUgdGhlIGdlbmVyYWxpemVkIGJvZHkgY29vcmRpbmF0ZXMNCiAgICogQG1ldGhvZCBjb21wdXRlR3ENCiAgICogQHJldHVybiB7TnVtYmVyfQ0KICAgKi8KCgogIGNvbXB1dGVHcSgpIHsKICAgIGNvbnN0IEdBID0gdGhpcy5qYWNvYmlhbkVsZW1lbnRBOwogICAgY29uc3QgR0IgPSB0aGlzLmphY29iaWFuRWxlbWVudEI7CiAgICBjb25zdCBiaSA9IHRoaXMuYmk7CiAgICBjb25zdCBiaiA9IHRoaXMuYmo7CiAgICBjb25zdCB4aSA9IGJpLnBvc2l0aW9uOwogICAgY29uc3QgeGogPSBiai5wb3NpdGlvbjsKICAgIHJldHVybiBHQS5zcGF0aWFsLmRvdCh4aSkgKyBHQi5zcGF0aWFsLmRvdCh4aik7CiAgfQogIC8qKg0KICAgKiBDb21wdXRlcyBHKlcsIHdoZXJlIFcgYXJlIHRoZSBib2R5IHZlbG9jaXRpZXMNCiAgICogQG1ldGhvZCBjb21wdXRlR1cNCiAgICogQHJldHVybiB7TnVtYmVyfQ0KICAgKi8KCgogIGNvbXB1dGVHVygpIHsKICAgIGNvbnN0IEdBID0gdGhpcy5qYWNvYmlhbkVsZW1lbnRBOwogICAgY29uc3QgR0IgPSB0aGlzLmphY29iaWFuRWxlbWVudEI7CiAgICBjb25zdCBiaSA9IHRoaXMuYmk7CiAgICBjb25zdCBiaiA9IHRoaXMuYmo7CiAgICBjb25zdCB2aSA9IGJpLnZlbG9jaXR5OwogICAgY29uc3QgdmogPSBiai52ZWxvY2l0eTsKICAgIGNvbnN0IHdpID0gYmkuYW5ndWxhclZlbG9jaXR5OwogICAgY29uc3Qgd2ogPSBiai5hbmd1bGFyVmVsb2NpdHk7CiAgICByZXR1cm4gR0EubXVsdGlwbHlWZWN0b3JzKHZpLCB3aSkgKyBHQi5tdWx0aXBseVZlY3RvcnModmosIHdqKTsKICB9CiAgLyoqDQogICAqIENvbXB1dGVzIEcqV2xhbWJkYSwgd2hlcmUgVyBhcmUgdGhlIGJvZHkgdmVsb2NpdGllcw0KICAgKiBAbWV0aG9kIGNvbXB1dGVHV2xhbWJkYQ0KICAgKiBAcmV0dXJuIHtOdW1iZXJ9DQogICAqLwoKCiAgY29tcHV0ZUdXbGFtYmRhKCkgewogICAgY29uc3QgR0EgPSB0aGlzLmphY29iaWFuRWxlbWVudEE7CiAgICBjb25zdCBHQiA9IHRoaXMuamFjb2JpYW5FbGVtZW50QjsKICAgIGNvbnN0IGJpID0gdGhpcy5iaTsKICAgIGNvbnN0IGJqID0gdGhpcy5iajsKICAgIGNvbnN0IHZpID0gYmkudmxhbWJkYTsKICAgIGNvbnN0IHZqID0gYmoudmxhbWJkYTsKICAgIGNvbnN0IHdpID0gYmkud2xhbWJkYTsKICAgIGNvbnN0IHdqID0gYmoud2xhbWJkYTsKICAgIHJldHVybiBHQS5tdWx0aXBseVZlY3RvcnModmksIHdpKSArIEdCLm11bHRpcGx5VmVjdG9ycyh2aiwgd2opOwogIH0KCiAgY29tcHV0ZUdpTWYoKSB7CiAgICBjb25zdCBHQSA9IHRoaXMuamFjb2JpYW5FbGVtZW50QTsKICAgIGNvbnN0IEdCID0gdGhpcy5qYWNvYmlhbkVsZW1lbnRCOwogICAgY29uc3QgYmkgPSB0aGlzLmJpOwogICAgY29uc3QgYmogPSB0aGlzLmJqOwogICAgY29uc3QgZmkgPSBiaS5mb3JjZTsKICAgIGNvbnN0IHRpID0gYmkudG9ycXVlOwogICAgY29uc3QgZmogPSBiai5mb3JjZTsKICAgIGNvbnN0IHRqID0gYmoudG9ycXVlOwogICAgY29uc3QgaW52TWFzc2kgPSBiaS5pbnZNYXNzU29sdmU7CiAgICBjb25zdCBpbnZNYXNzaiA9IGJqLmludk1hc3NTb2x2ZTsKICAgIGZpLnNjYWxlKGludk1hc3NpLCBpTWZpKTsKICAgIGZqLnNjYWxlKGludk1hc3NqLCBpTWZqKTsKICAgIGJpLmludkluZXJ0aWFXb3JsZFNvbHZlLnZtdWx0KHRpLCBpbnZJaV92bXVsdF90YXVpKTsKICAgIGJqLmludkluZXJ0aWFXb3JsZFNvbHZlLnZtdWx0KHRqLCBpbnZJal92bXVsdF90YXVqKTsKICAgIHJldHVybiBHQS5tdWx0aXBseVZlY3RvcnMoaU1maSwgaW52SWlfdm11bHRfdGF1aSkgKyBHQi5tdWx0aXBseVZlY3RvcnMoaU1maiwgaW52SWpfdm11bHRfdGF1aik7CiAgfQoKICBjb21wdXRlR2lNR3QoKSB7CiAgICBjb25zdCBHQSA9IHRoaXMuamFjb2JpYW5FbGVtZW50QTsKICAgIGNvbnN0IEdCID0gdGhpcy5qYWNvYmlhbkVsZW1lbnRCOwogICAgY29uc3QgYmkgPSB0aGlzLmJpOwogICAgY29uc3QgYmogPSB0aGlzLmJqOwogICAgY29uc3QgaW52TWFzc2kgPSBiaS5pbnZNYXNzU29sdmU7CiAgICBjb25zdCBpbnZNYXNzaiA9IGJqLmludk1hc3NTb2x2ZTsKICAgIGNvbnN0IGludklpID0gYmkuaW52SW5lcnRpYVdvcmxkU29sdmU7CiAgICBjb25zdCBpbnZJaiA9IGJqLmludkluZXJ0aWFXb3JsZFNvbHZlOwogICAgbGV0IHJlc3VsdCA9IGludk1hc3NpICsgaW52TWFzc2o7CiAgICBpbnZJaS52bXVsdChHQS5yb3RhdGlvbmFsLCB0bXAkMSk7CiAgICByZXN1bHQgKz0gdG1wJDEuZG90KEdBLnJvdGF0aW9uYWwpOwogICAgaW52SWoudm11bHQoR0Iucm90YXRpb25hbCwgdG1wJDEpOwogICAgcmVzdWx0ICs9IHRtcCQxLmRvdChHQi5yb3RhdGlvbmFsKTsKICAgIHJldHVybiByZXN1bHQ7CiAgfQogIC8qKg0KICAgKiBBZGQgY29uc3RyYWludCB2ZWxvY2l0eSB0byB0aGUgYm9kaWVzLg0KICAgKiBAbWV0aG9kIGFkZFRvV2xhbWJkYQ0KICAgKiBAcGFyYW0ge051bWJlcn0gZGVsdGFsYW1iZGENCiAgICovCgoKICBhZGRUb1dsYW1iZGEoZGVsdGFsYW1iZGEpIHsKICAgIGNvbnN0IEdBID0gdGhpcy5qYWNvYmlhbkVsZW1lbnRBOwogICAgY29uc3QgR0IgPSB0aGlzLmphY29iaWFuRWxlbWVudEI7CiAgICBjb25zdCBiaSA9IHRoaXMuYmk7CiAgICBjb25zdCBiaiA9IHRoaXMuYmo7CiAgICBjb25zdCB0ZW1wID0gYWRkVG9XbGFtYmRhX3RlbXA7IC8vIEFkZCB0byBsaW5lYXIgdmVsb2NpdHkKICAgIC8vIHZfbGFtYmRhICs9IGludihNKSAqIGRlbHRhX2xhbWJhICogRwoKICAgIGJpLnZsYW1iZGEuYWRkU2NhbGVkVmVjdG9yKGJpLmludk1hc3NTb2x2ZSAqIGRlbHRhbGFtYmRhLCBHQS5zcGF0aWFsLCBiaS52bGFtYmRhKTsKICAgIGJqLnZsYW1iZGEuYWRkU2NhbGVkVmVjdG9yKGJqLmludk1hc3NTb2x2ZSAqIGRlbHRhbGFtYmRhLCBHQi5zcGF0aWFsLCBiai52bGFtYmRhKTsgLy8gQWRkIHRvIGFuZ3VsYXIgdmVsb2NpdHkKCiAgICBiaS5pbnZJbmVydGlhV29ybGRTb2x2ZS52bXVsdChHQS5yb3RhdGlvbmFsLCB0ZW1wKTsKICAgIGJpLndsYW1iZGEuYWRkU2NhbGVkVmVjdG9yKGRlbHRhbGFtYmRhLCB0ZW1wLCBiaS53bGFtYmRhKTsKICAgIGJqLmludkluZXJ0aWFXb3JsZFNvbHZlLnZtdWx0KEdCLnJvdGF0aW9uYWwsIHRlbXApOwogICAgYmoud2xhbWJkYS5hZGRTY2FsZWRWZWN0b3IoZGVsdGFsYW1iZGEsIHRlbXAsIGJqLndsYW1iZGEpOwogIH0KICAvKioNCiAgICogQ29tcHV0ZSB0aGUgZGVub21pbmF0b3IgcGFydCBvZiB0aGUgU1BPT0sgZXF1YXRpb246IEMgPSBHKmludihNKSpHJyArIGVwcw0KICAgKiBAbWV0aG9kIGNvbXB1dGVJbnZDDQogICAqIEBwYXJhbSAge051bWJlcn0gZXBzDQogICAqIEByZXR1cm4ge051bWJlcn0NCiAgICovCgoKICBjb21wdXRlQygpIHsKICAgIHJldHVybiB0aGlzLmNvbXB1dGVHaU1HdCgpICsgdGhpcy5lcHM7CiAgfQoKfQoKRXF1YXRpb24uaWQgPSAwOwovKioNCiAqIENvbXB1dGVzIEcqaW52KE0pKmYsIHdoZXJlIE0gaXMgdGhlIG1hc3MgbWF0cml4IHdpdGggZGlhZ29uYWwgYmxvY2tzIGZvciBlYWNoIGJvZHksIGFuZCBmIGFyZSB0aGUgZm9yY2VzIG9uIHRoZSBib2RpZXMuDQogKiBAbWV0aG9kIGNvbXB1dGVHaU1mDQogKiBAcmV0dXJuIHtOdW1iZXJ9DQogKi8KCmNvbnN0IGlNZmkgPSBuZXcgVmVjMygpOwpjb25zdCBpTWZqID0gbmV3IFZlYzMoKTsKY29uc3QgaW52SWlfdm11bHRfdGF1aSA9IG5ldyBWZWMzKCk7CmNvbnN0IGludklqX3ZtdWx0X3RhdWogPSBuZXcgVmVjMygpOwovKioNCiAqIENvbXB1dGVzIEcqaW52KE0pKkcnDQogKiBAbWV0aG9kIGNvbXB1dGVHaU1HdA0KICogQHJldHVybiB7TnVtYmVyfQ0KICovCgpjb25zdCB0bXAkMSA9IG5ldyBWZWMzKCk7CmNvbnN0IGFkZFRvV2xhbWJkYV90ZW1wID0gbmV3IFZlYzMoKTsKLyoqDQogKiBDb250YWN0L25vbi1wZW5ldHJhdGlvbiBjb25zdHJhaW50IGVxdWF0aW9uDQogKiBAY2xhc3MgQ29udGFjdEVxdWF0aW9uDQogKiBAY29uc3RydWN0b3INCiAqIEBhdXRob3Igc2NodGVwcGUNCiAqIEBwYXJhbSB7Qm9keX0gYm9keUENCiAqIEBwYXJhbSB7Qm9keX0gYm9keUINCiAqIEBleHRlbmRzIEVxdWF0aW9uDQogKi8KCmNsYXNzIENvbnRhY3RFcXVhdGlvbiBleHRlbmRzIEVxdWF0aW9uIHsKICAvLyAiYm91bmNpbmVzcyI6IHUxID0gLWUqdTAKICAvLyBXb3JsZC1vcmllbnRlZCB2ZWN0b3IgdGhhdCBnb2VzIGZyb20gdGhlIGNlbnRlciBvZiBiaSB0byB0aGUgY29udGFjdCBwb2ludC4KICAvLyBXb3JsZC1vcmllbnRlZCB2ZWN0b3IgdGhhdCBzdGFydHMgaW4gYm9keSBqIHBvc2l0aW9uIGFuZCBnb2VzIHRvIHRoZSBjb250YWN0IHBvaW50LgogIC8vIENvbnRhY3Qgbm9ybWFsLCBwb2ludGluZyBvdXQgb2YgYm9keSBpLgogIGNvbnN0cnVjdG9yKGJvZHlBLCBib2R5QiwgbWF4Rm9yY2UgPSAxZTYpIHsKICAgIHN1cGVyKGJvZHlBLCBib2R5QiwgMCwgbWF4Rm9yY2UpOwogICAgdGhpcy5yZXN0aXR1dGlvbiA9IDAuMDsKICAgIHRoaXMucmkgPSBuZXcgVmVjMygpOwogICAgdGhpcy5yaiA9IG5ldyBWZWMzKCk7CiAgICB0aGlzLm5pID0gbmV3IFZlYzMoKTsKICB9CgogIGNvbXB1dGVCKGgpIHsKICAgIGNvbnN0IGEgPSB0aGlzLmE7CiAgICBjb25zdCBiID0gdGhpcy5iOwogICAgY29uc3QgYmkgPSB0aGlzLmJpOwogICAgY29uc3QgYmogPSB0aGlzLmJqOwogICAgY29uc3QgcmkgPSB0aGlzLnJpOwogICAgY29uc3QgcmogPSB0aGlzLnJqOwogICAgY29uc3Qgcml4biA9IENvbnRhY3RFcXVhdGlvbl9jb21wdXRlQl90ZW1wMTsKICAgIGNvbnN0IHJqeG4gPSBDb250YWN0RXF1YXRpb25fY29tcHV0ZUJfdGVtcDI7CiAgICBjb25zdCB2aSA9IGJpLnZlbG9jaXR5OwogICAgY29uc3Qgd2kgPSBiaS5hbmd1bGFyVmVsb2NpdHk7CiAgICBjb25zdCBmaSA9IGJpLmZvcmNlOwogICAgY29uc3QgdGF1aSA9IGJpLnRvcnF1ZTsKICAgIGNvbnN0IHZqID0gYmoudmVsb2NpdHk7CiAgICBjb25zdCB3aiA9IGJqLmFuZ3VsYXJWZWxvY2l0eTsKICAgIGNvbnN0IGZqID0gYmouZm9yY2U7CiAgICBjb25zdCB0YXVqID0gYmoudG9ycXVlOwogICAgY29uc3QgcGVuZXRyYXRpb25WZWMgPSBDb250YWN0RXF1YXRpb25fY29tcHV0ZUJfdGVtcDM7CiAgICBjb25zdCBHQSA9IHRoaXMuamFjb2JpYW5FbGVtZW50QTsKICAgIGNvbnN0IEdCID0gdGhpcy5qYWNvYmlhbkVsZW1lbnRCOwogICAgY29uc3QgbiA9IHRoaXMubmk7IC8vIENhbHVjbGF0ZSBjcm9zcyBwcm9kdWN0cwoKICAgIHJpLmNyb3NzKG4sIHJpeG4pOwogICAgcmouY3Jvc3Mobiwgcmp4bik7IC8vIGcgPSB4aityaiAtKHhpK3JpKQogICAgLy8gRyA9IFsgLW5pICAtcml4biAgbmkgIHJqeG4gXQoKICAgIG4ubmVnYXRlKEdBLnNwYXRpYWwpOwogICAgcml4bi5uZWdhdGUoR0Eucm90YXRpb25hbCk7CiAgICBHQi5zcGF0aWFsLmNvcHkobik7CiAgICBHQi5yb3RhdGlvbmFsLmNvcHkocmp4bik7IC8vIENhbGN1bGF0ZSB0aGUgcGVuZXRyYXRpb24gdmVjdG9yCgogICAgcGVuZXRyYXRpb25WZWMuY29weShiai5wb3NpdGlvbik7CiAgICBwZW5ldHJhdGlvblZlYy52YWRkKHJqLCBwZW5ldHJhdGlvblZlYyk7CiAgICBwZW5ldHJhdGlvblZlYy52c3ViKGJpLnBvc2l0aW9uLCBwZW5ldHJhdGlvblZlYyk7CiAgICBwZW5ldHJhdGlvblZlYy52c3ViKHJpLCBwZW5ldHJhdGlvblZlYyk7CiAgICBjb25zdCBnID0gbi5kb3QocGVuZXRyYXRpb25WZWMpOyAvLyBDb21wdXRlIGl0ZXJhdGlvbgoKICAgIGNvbnN0IGVQbHVzT25lID0gdGhpcy5yZXN0aXR1dGlvbiArIDE7CiAgICBjb25zdCBHVyA9IGVQbHVzT25lICogdmouZG90KG4pIC0gZVBsdXNPbmUgKiB2aS5kb3QobikgKyB3ai5kb3Qocmp4bikgLSB3aS5kb3Qocml4bik7CiAgICBjb25zdCBHaU1mID0gdGhpcy5jb21wdXRlR2lNZigpOwogICAgY29uc3QgQiA9IC1nICogYSAtIEdXICogYiAtIGggKiBHaU1mOwogICAgcmV0dXJuIEI7CiAgfQogIC8qKg0KICAgKiBHZXQgdGhlIGN1cnJlbnQgcmVsYXRpdmUgdmVsb2NpdHkgaW4gdGhlIGNvbnRhY3QgcG9pbnQuDQogICAqIEBtZXRob2QgZ2V0SW1wYWN0VmVsb2NpdHlBbG9uZ05vcm1hbA0KICAgKiBAcmV0dXJuIHtudW1iZXJ9DQogICAqLwoKCiAgZ2V0SW1wYWN0VmVsb2NpdHlBbG9uZ05vcm1hbCgpIHsKICAgIGNvbnN0IHZpID0gQ29udGFjdEVxdWF0aW9uX2dldEltcGFjdFZlbG9jaXR5QWxvbmdOb3JtYWxfdmk7CiAgICBjb25zdCB2aiA9IENvbnRhY3RFcXVhdGlvbl9nZXRJbXBhY3RWZWxvY2l0eUFsb25nTm9ybWFsX3ZqOwogICAgY29uc3QgeGkgPSBDb250YWN0RXF1YXRpb25fZ2V0SW1wYWN0VmVsb2NpdHlBbG9uZ05vcm1hbF94aTsKICAgIGNvbnN0IHhqID0gQ29udGFjdEVxdWF0aW9uX2dldEltcGFjdFZlbG9jaXR5QWxvbmdOb3JtYWxfeGo7CiAgICBjb25zdCByZWxWZWwgPSBDb250YWN0RXF1YXRpb25fZ2V0SW1wYWN0VmVsb2NpdHlBbG9uZ05vcm1hbF9yZWxWZWw7CiAgICB0aGlzLmJpLnBvc2l0aW9uLnZhZGQodGhpcy5yaSwgeGkpOwogICAgdGhpcy5iai5wb3NpdGlvbi52YWRkKHRoaXMucmosIHhqKTsKICAgIHRoaXMuYmkuZ2V0VmVsb2NpdHlBdFdvcmxkUG9pbnQoeGksIHZpKTsKICAgIHRoaXMuYmouZ2V0VmVsb2NpdHlBdFdvcmxkUG9pbnQoeGosIHZqKTsKICAgIHZpLnZzdWIodmosIHJlbFZlbCk7CiAgICByZXR1cm4gdGhpcy5uaS5kb3QocmVsVmVsKTsKICB9Cgp9Cgpjb25zdCBDb250YWN0RXF1YXRpb25fY29tcHV0ZUJfdGVtcDEgPSBuZXcgVmVjMygpOyAvLyBUZW1wIHZlY3RvcnMKCmNvbnN0IENvbnRhY3RFcXVhdGlvbl9jb21wdXRlQl90ZW1wMiA9IG5ldyBWZWMzKCk7CmNvbnN0IENvbnRhY3RFcXVhdGlvbl9jb21wdXRlQl90ZW1wMyA9IG5ldyBWZWMzKCk7CmNvbnN0IENvbnRhY3RFcXVhdGlvbl9nZXRJbXBhY3RWZWxvY2l0eUFsb25nTm9ybWFsX3ZpID0gbmV3IFZlYzMoKTsKY29uc3QgQ29udGFjdEVxdWF0aW9uX2dldEltcGFjdFZlbG9jaXR5QWxvbmdOb3JtYWxfdmogPSBuZXcgVmVjMygpOwpjb25zdCBDb250YWN0RXF1YXRpb25fZ2V0SW1wYWN0VmVsb2NpdHlBbG9uZ05vcm1hbF94aSA9IG5ldyBWZWMzKCk7CmNvbnN0IENvbnRhY3RFcXVhdGlvbl9nZXRJbXBhY3RWZWxvY2l0eUFsb25nTm9ybWFsX3hqID0gbmV3IFZlYzMoKTsKY29uc3QgQ29udGFjdEVxdWF0aW9uX2dldEltcGFjdFZlbG9jaXR5QWxvbmdOb3JtYWxfcmVsVmVsID0gbmV3IFZlYzMoKTsKLyoqDQogKiBDb25uZWN0cyB0d28gYm9kaWVzIGF0IGdpdmVuIG9mZnNldCBwb2ludHMuDQogKiBAY2xhc3MgUG9pbnRUb1BvaW50Q29uc3RyYWludA0KICogQGV4dGVuZHMgQ29uc3RyYWludA0KICogQGNvbnN0cnVjdG9yDQogKiBAcGFyYW0ge0JvZHl9IGJvZHlBDQogKiBAcGFyYW0ge1ZlYzN9IHBpdm90QSBUaGUgcG9pbnQgcmVsYXRpdmUgdG8gdGhlIGNlbnRlciBvZiBtYXNzIG9mIGJvZHlBIHdoaWNoIGJvZHlBIGlzIGNvbnN0cmFpbmVkIHRvLg0KICogQHBhcmFtIHtCb2R5fSBib2R5QiBCb2R5IHRoYXQgd2lsbCBiZSBjb25zdHJhaW5lZCBpbiBhIHNpbWlsYXIgd2F5IHRvIHRoZSBzYW1lIHBvaW50IGFzIGJvZHlBLiBXZSB3aWxsIHRoZXJlZm9yZSBnZXQgYSBsaW5rIGJldHdlZW4gYm9keUEgYW5kIGJvZHlCLiBJZiBub3Qgc3BlY2lmaWVkLCBib2R5QSB3aWxsIGJlIGNvbnN0cmFpbmVkIHRvIGEgc3RhdGljIHBvaW50Lg0KICogQHBhcmFtIHtWZWMzfSBwaXZvdEIgU2VlIHBpdm90QS4NCiAqIEBwYXJhbSB7TnVtYmVyfSBtYXhGb3JjZSBUaGUgbWF4aW11bSBmb3JjZSB0aGF0IHNob3VsZCBiZSBhcHBsaWVkIHRvIGNvbnN0cmFpbiB0aGUgYm9kaWVzLg0KICoNCiAqIEBleGFtcGxlDQogKiAgICAgY29uc3QgYm9keUEgPSBuZXcgQm9keSh7IG1hc3M6IDEgfSk7DQogKiAgICAgY29uc3QgYm9keUIgPSBuZXcgQm9keSh7IG1hc3M6IDEgfSk7DQogKiAgICAgYm9keUEucG9zaXRpb24uc2V0KC0xLCAwLCAwKTsNCiAqICAgICBib2R5Qi5wb3NpdGlvbi5zZXQoMSwgMCwgMCk7DQogKiAgICAgYm9keUEuYWRkU2hhcGUoc2hhcGVBKTsNCiAqICAgICBib2R5Qi5hZGRTaGFwZShzaGFwZUIpOw0KICogICAgIHdvcmxkLmFkZEJvZHkoYm9keUEpOw0KICogICAgIHdvcmxkLmFkZEJvZHkoYm9keUIpOw0KICogICAgIGNvbnN0IGxvY2FsUGl2b3RBID0gbmV3IFZlYzMoMSwgMCwgMCk7DQogKiAgICAgY29uc3QgbG9jYWxQaXZvdEIgPSBuZXcgVmVjMygtMSwgMCwgMCk7DQogKiAgICAgY29uc3QgY29uc3RyYWludCA9IG5ldyBQb2ludFRvUG9pbnRDb25zdHJhaW50KGJvZHlBLCBsb2NhbFBpdm90QSwgYm9keUIsIGxvY2FsUGl2b3RCKTsNCiAqICAgICB3b3JsZC5hZGRDb25zdHJhaW50KGNvbnN0cmFpbnQpOw0KICovCgpjbGFzcyBQb2ludFRvUG9pbnRDb25zdHJhaW50IGV4dGVuZHMgQ29uc3RyYWludCB7CiAgLy8gUGl2b3QsIGRlZmluZWQgbG9jYWxseSBpbiBib2R5QS4KICAvLyBQaXZvdCwgZGVmaW5lZCBsb2NhbGx5IGluIGJvZHlCLgogIGNvbnN0cnVjdG9yKGJvZHlBLCBwaXZvdEEgPSBuZXcgVmVjMygpLCBib2R5QiwgcGl2b3RCID0gbmV3IFZlYzMoKSwgbWF4Rm9yY2UgPSAxZTYpIHsKICAgIHN1cGVyKGJvZHlBLCBib2R5Qik7CiAgICB0aGlzLnBpdm90QSA9IHBpdm90QS5jbG9uZSgpOwogICAgdGhpcy5waXZvdEIgPSBwaXZvdEIuY2xvbmUoKTsKICAgIGNvbnN0IHggPSB0aGlzLmVxdWF0aW9uWCA9IG5ldyBDb250YWN0RXF1YXRpb24oYm9keUEsIGJvZHlCKTsKICAgIGNvbnN0IHkgPSB0aGlzLmVxdWF0aW9uWSA9IG5ldyBDb250YWN0RXF1YXRpb24oYm9keUEsIGJvZHlCKTsKICAgIGNvbnN0IHogPSB0aGlzLmVxdWF0aW9uWiA9IG5ldyBDb250YWN0RXF1YXRpb24oYm9keUEsIGJvZHlCKTsgLy8gRXF1YXRpb25zIHRvIGJlIGZlZCB0byB0aGUgc29sdmVyCgogICAgdGhpcy5lcXVhdGlvbnMucHVzaCh4LCB5LCB6KTsgLy8gTWFrZSB0aGUgZXF1YXRpb25zIGJpZGlyZWN0aW9uYWwKCiAgICB4Lm1pbkZvcmNlID0geS5taW5Gb3JjZSA9IHoubWluRm9yY2UgPSAtbWF4Rm9yY2U7CiAgICB4Lm1heEZvcmNlID0geS5tYXhGb3JjZSA9IHoubWF4Rm9yY2UgPSBtYXhGb3JjZTsKICAgIHgubmkuc2V0KDEsIDAsIDApOwogICAgeS5uaS5zZXQoMCwgMSwgMCk7CiAgICB6Lm5pLnNldCgwLCAwLCAxKTsKICB9CgogIHVwZGF0ZSgpIHsKICAgIGNvbnN0IGJvZHlBID0gdGhpcy5ib2R5QTsKICAgIGNvbnN0IGJvZHlCID0gdGhpcy5ib2R5QjsKICAgIGNvbnN0IHggPSB0aGlzLmVxdWF0aW9uWDsKICAgIGNvbnN0IHkgPSB0aGlzLmVxdWF0aW9uWTsKICAgIGNvbnN0IHogPSB0aGlzLmVxdWF0aW9uWjsgLy8gUm90YXRlIHRoZSBwaXZvdHMgdG8gd29ybGQgc3BhY2UKCiAgICBib2R5QS5xdWF0ZXJuaW9uLnZtdWx0KHRoaXMucGl2b3RBLCB4LnJpKTsKICAgIGJvZHlCLnF1YXRlcm5pb24udm11bHQodGhpcy5waXZvdEIsIHgucmopOwogICAgeS5yaS5jb3B5KHgucmkpOwogICAgeS5yai5jb3B5KHgucmopOwogICAgei5yaS5jb3B5KHgucmkpOwogICAgei5yai5jb3B5KHgucmopOwogIH0KCn0KLyoqDQogKiBDb25lIGVxdWF0aW9uLiBXb3JrcyB0byBrZWVwIHRoZSBnaXZlbiBib2R5IHdvcmxkIHZlY3RvcnMgYWxpZ25lZCwgb3IgdGlsdGVkIHdpdGhpbiBhIGdpdmVuIGFuZ2xlIGZyb20gZWFjaCBvdGhlci4NCiAqIEBjbGFzcyBDb25lRXF1YXRpb24NCiAqIEBjb25zdHJ1Y3Rvcg0KICogQGF1dGhvciBzY2h0ZXBwZQ0KICogQHBhcmFtIHtCb2R5fSBib2R5QQ0KICogQHBhcmFtIHtCb2R5fSBib2R5Qg0KICogQHBhcmFtIHtWZWMzfSBbb3B0aW9ucy5heGlzQV0gTG9jYWwgYXhpcyBpbiBBDQogKiBAcGFyYW0ge1ZlYzN9IFtvcHRpb25zLmF4aXNCXSBMb2NhbCBheGlzIGluIEINCiAqIEBwYXJhbSB7VmVjM30gW29wdGlvbnMuYW5nbGVdIFRoZSAiY29uZSBhbmdsZSIgdG8ga2VlcA0KICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLm1heEZvcmNlPTFlNl0NCiAqIEBleHRlbmRzIEVxdWF0aW9uDQogKi8KCgpjbGFzcyBDb25lRXF1YXRpb24gZXh0ZW5kcyBFcXVhdGlvbiB7CiAgLy8gVGhlIGNvbmUgYW5nbGUgdG8ga2VlcC4KICBjb25zdHJ1Y3Rvcihib2R5QSwgYm9keUIsIG9wdGlvbnMgPSB7fSkgewogICAgY29uc3QgbWF4Rm9yY2UgPSB0eXBlb2Ygb3B0aW9ucy5tYXhGb3JjZSAhPT0gJ3VuZGVmaW5lZCcgPyBvcHRpb25zLm1heEZvcmNlIDogMWU2OwogICAgc3VwZXIoYm9keUEsIGJvZHlCLCAtbWF4Rm9yY2UsIG1heEZvcmNlKTsKICAgIHRoaXMuYXhpc0EgPSBvcHRpb25zLmF4aXNBID8gb3B0aW9ucy5heGlzQS5jbG9uZSgpIDogbmV3IFZlYzMoMSwgMCwgMCk7CiAgICB0aGlzLmF4aXNCID0gb3B0aW9ucy5heGlzQiA/IG9wdGlvbnMuYXhpc0IuY2xvbmUoKSA6IG5ldyBWZWMzKDAsIDEsIDApOwogICAgdGhpcy5hbmdsZSA9IHR5cGVvZiBvcHRpb25zLmFuZ2xlICE9PSAndW5kZWZpbmVkJyA/IG9wdGlvbnMuYW5nbGUgOiAwOwogIH0KCiAgY29tcHV0ZUIoaCkgewogICAgY29uc3QgYSA9IHRoaXMuYTsKICAgIGNvbnN0IGIgPSB0aGlzLmI7CiAgICBjb25zdCBuaSA9IHRoaXMuYXhpc0E7CiAgICBjb25zdCBuaiA9IHRoaXMuYXhpc0I7CiAgICBjb25zdCBuaXhuaiA9IHRtcFZlYzE7CiAgICBjb25zdCBuanhuaSA9IHRtcFZlYzI7CiAgICBjb25zdCBHQSA9IHRoaXMuamFjb2JpYW5FbGVtZW50QTsKICAgIGNvbnN0IEdCID0gdGhpcy5qYWNvYmlhbkVsZW1lbnRCOyAvLyBDYWx1Y2xhdGUgY3Jvc3MgcHJvZHVjdHMKCiAgICBuaS5jcm9zcyhuaiwgbml4bmopOwogICAgbmouY3Jvc3MobmksIG5qeG5pKTsgLy8gVGhlIGFuZ2xlIGJldHdlZW4gdHdvIHZlY3RvciBpczoKICAgIC8vIGNvcyh0aGV0YSkgPSBhICogYiAvIChsZW5ndGgoYSkgKiBsZW5ndGgoYikgPSB7IGxlbihhKSA9IGxlbihiKSA9IDEgfSA9IGEgKiBiCiAgICAvLyBnID0gYSAqIGIKICAgIC8vIGdkb3QgPSAoYiB4IGEpICogd2kgKyAoYSB4IGIpICogd2oKICAgIC8vIEcgPSBbMCBieGEgMCBheGJdCiAgICAvLyBXID0gW3ZpIHdpIHZqIHdqXQoKICAgIEdBLnJvdGF0aW9uYWwuY29weShuanhuaSk7CiAgICBHQi5yb3RhdGlvbmFsLmNvcHkobml4bmopOwogICAgY29uc3QgZyA9IE1hdGguY29zKHRoaXMuYW5nbGUpIC0gbmkuZG90KG5qKTsKICAgIGNvbnN0IEdXID0gdGhpcy5jb21wdXRlR1coKTsKICAgIGNvbnN0IEdpTWYgPSB0aGlzLmNvbXB1dGVHaU1mKCk7CiAgICBjb25zdCBCID0gLWcgKiBhIC0gR1cgKiBiIC0gaCAqIEdpTWY7CiAgICByZXR1cm4gQjsKICB9Cgp9Cgpjb25zdCB0bXBWZWMxID0gbmV3IFZlYzMoKTsKY29uc3QgdG1wVmVjMiA9IG5ldyBWZWMzKCk7Ci8qKg0KICogUm90YXRpb25hbCBjb25zdHJhaW50LiBXb3JrcyB0byBrZWVwIHRoZSBsb2NhbCB2ZWN0b3JzIG9ydGhvZ29uYWwgdG8gZWFjaCBvdGhlciBpbiB3b3JsZCBzcGFjZS4NCiAqIEBjbGFzcyBSb3RhdGlvbmFsRXF1YXRpb24NCiAqIEBjb25zdHJ1Y3Rvcg0KICogQGF1dGhvciBzY2h0ZXBwZQ0KICogQHBhcmFtIHtCb2R5fSBib2R5QQ0KICogQHBhcmFtIHtCb2R5fSBib2R5Qg0KICogQHBhcmFtIHtWZWMzfSBbb3B0aW9ucy5heGlzQV0NCiAqIEBwYXJhbSB7VmVjM30gW29wdGlvbnMuYXhpc0JdDQogKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMubWF4Rm9yY2VdDQogKiBAZXh0ZW5kcyBFcXVhdGlvbg0KICovCgpjbGFzcyBSb3RhdGlvbmFsRXF1YXRpb24gZXh0ZW5kcyBFcXVhdGlvbiB7CiAgY29uc3RydWN0b3IoYm9keUEsIGJvZHlCLCBvcHRpb25zID0ge30pIHsKICAgIGNvbnN0IG1heEZvcmNlID0gdHlwZW9mIG9wdGlvbnMubWF4Rm9yY2UgIT09ICd1bmRlZmluZWQnID8gb3B0aW9ucy5tYXhGb3JjZSA6IDFlNjsKICAgIHN1cGVyKGJvZHlBLCBib2R5QiwgLW1heEZvcmNlLCBtYXhGb3JjZSk7CiAgICB0aGlzLmF4aXNBID0gb3B0aW9ucy5heGlzQSA/IG9wdGlvbnMuYXhpc0EuY2xvbmUoKSA6IG5ldyBWZWMzKDEsIDAsIDApOwogICAgdGhpcy5heGlzQiA9IG9wdGlvbnMuYXhpc0IgPyBvcHRpb25zLmF4aXNCLmNsb25lKCkgOiBuZXcgVmVjMygwLCAxLCAwKTsKICAgIHRoaXMubWF4QW5nbGUgPSBNYXRoLlBJIC8gMjsKICB9CgogIGNvbXB1dGVCKGgpIHsKICAgIGNvbnN0IGEgPSB0aGlzLmE7CiAgICBjb25zdCBiID0gdGhpcy5iOwogICAgY29uc3QgbmkgPSB0aGlzLmF4aXNBOwogICAgY29uc3QgbmogPSB0aGlzLmF4aXNCOwogICAgY29uc3Qgbml4bmogPSB0bXBWZWMxJDE7CiAgICBjb25zdCBuanhuaSA9IHRtcFZlYzIkMTsKICAgIGNvbnN0IEdBID0gdGhpcy5qYWNvYmlhbkVsZW1lbnRBOwogICAgY29uc3QgR0IgPSB0aGlzLmphY29iaWFuRWxlbWVudEI7IC8vIENhbHVjbGF0ZSBjcm9zcyBwcm9kdWN0cwoKICAgIG5pLmNyb3NzKG5qLCBuaXhuaik7CiAgICBuai5jcm9zcyhuaSwgbmp4bmkpOyAvLyBnID0gbmkgKiBuagogICAgLy8gZ2RvdCA9IChuaiB4IG5pKSAqIHdpICsgKG5pIHggbmopICogd2oKICAgIC8vIEcgPSBbMCBuanhuaSAwIG5peG5qXQogICAgLy8gVyA9IFt2aSB3aSB2aiB3al0KCiAgICBHQS5yb3RhdGlvbmFsLmNvcHkobmp4bmkpOwogICAgR0Iucm90YXRpb25hbC5jb3B5KG5peG5qKTsKICAgIGNvbnN0IGcgPSBNYXRoLmNvcyh0aGlzLm1heEFuZ2xlKSAtIG5pLmRvdChuaik7CiAgICBjb25zdCBHVyA9IHRoaXMuY29tcHV0ZUdXKCk7CiAgICBjb25zdCBHaU1mID0gdGhpcy5jb21wdXRlR2lNZigpOwogICAgY29uc3QgQiA9IC1nICogYSAtIEdXICogYiAtIGggKiBHaU1mOwogICAgcmV0dXJuIEI7CiAgfQoKfQoKY29uc3QgdG1wVmVjMSQxID0gbmV3IFZlYzMoKTsKY29uc3QgdG1wVmVjMiQxID0gbmV3IFZlYzMoKTsKLyoqDQogKiBAY2xhc3MgQ29uZVR3aXN0Q29uc3RyYWludA0KICogQGNvbnN0cnVjdG9yDQogKiBAYXV0aG9yIHNjaHRlcHBlDQogKiBAcGFyYW0ge0JvZHl9IGJvZHlBDQogKiBAcGFyYW0ge0JvZHl9IGJvZHlCDQogKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdDQogKiBAcGFyYW0ge1ZlYzN9IFtvcHRpb25zLnBpdm90QV0NCiAqIEBwYXJhbSB7VmVjM30gW29wdGlvbnMucGl2b3RCXQ0KICogQHBhcmFtIHtWZWMzfSBbb3B0aW9ucy5heGlzQV0NCiAqIEBwYXJhbSB7VmVjM30gW29wdGlvbnMuYXhpc0JdDQogKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMubWF4Rm9yY2U9MWU2XQ0KICogQGV4dGVuZHMgUG9pbnRUb1BvaW50Q29uc3RyYWludA0KICovCgpjbGFzcyBDb25lVHdpc3RDb25zdHJhaW50IGV4dGVuZHMgUG9pbnRUb1BvaW50Q29uc3RyYWludCB7CiAgY29uc3RydWN0b3IoYm9keUEsIGJvZHlCLCBvcHRpb25zID0ge30pIHsKICAgIGNvbnN0IG1heEZvcmNlID0gdHlwZW9mIG9wdGlvbnMubWF4Rm9yY2UgIT09ICd1bmRlZmluZWQnID8gb3B0aW9ucy5tYXhGb3JjZSA6IDFlNjsgLy8gU2V0IHBpdm90IHBvaW50IGluIGJldHdlZW4KCiAgICBjb25zdCBwaXZvdEEgPSBvcHRpb25zLnBpdm90QSA/IG9wdGlvbnMucGl2b3RBLmNsb25lKCkgOiBuZXcgVmVjMygpOwogICAgY29uc3QgcGl2b3RCID0gb3B0aW9ucy5waXZvdEIgPyBvcHRpb25zLnBpdm90Qi5jbG9uZSgpIDogbmV3IFZlYzMoKTsKICAgIHN1cGVyKGJvZHlBLCBwaXZvdEEsIGJvZHlCLCBwaXZvdEIsIG1heEZvcmNlKTsKICAgIHRoaXMuYXhpc0EgPSBvcHRpb25zLmF4aXNBID8gb3B0aW9ucy5heGlzQS5jbG9uZSgpIDogbmV3IFZlYzMoKTsKICAgIHRoaXMuYXhpc0IgPSBvcHRpb25zLmF4aXNCID8gb3B0aW9ucy5heGlzQi5jbG9uZSgpIDogbmV3IFZlYzMoKTsKICAgIHRoaXMuY29sbGlkZUNvbm5lY3RlZCA9ICEhb3B0aW9ucy5jb2xsaWRlQ29ubmVjdGVkOwogICAgdGhpcy5hbmdsZSA9IHR5cGVvZiBvcHRpb25zLmFuZ2xlICE9PSAndW5kZWZpbmVkJyA/IG9wdGlvbnMuYW5nbGUgOiAwOwogICAgY29uc3QgYyA9IHRoaXMuY29uZUVxdWF0aW9uID0gbmV3IENvbmVFcXVhdGlvbihib2R5QSwgYm9keUIsIG9wdGlvbnMpOwogICAgY29uc3QgdCA9IHRoaXMudHdpc3RFcXVhdGlvbiA9IG5ldyBSb3RhdGlvbmFsRXF1YXRpb24oYm9keUEsIGJvZHlCLCBvcHRpb25zKTsKICAgIHRoaXMudHdpc3RBbmdsZSA9IHR5cGVvZiBvcHRpb25zLnR3aXN0QW5nbGUgIT09ICd1bmRlZmluZWQnID8gb3B0aW9ucy50d2lzdEFuZ2xlIDogMDsgLy8gTWFrZSB0aGUgY29uZSBlcXVhdGlvbiBwdXNoIHRoZSBib2RpZXMgdG93YXJkIHRoZSBjb25lIGF4aXMsIG5vdCBvdXR3YXJkCgogICAgYy5tYXhGb3JjZSA9IDA7CiAgICBjLm1pbkZvcmNlID0gLW1heEZvcmNlOyAvLyBNYWtlIHRoZSB0d2lzdCBlcXVhdGlvbiBhZGQgdG9ycXVlIHRvd2FyZCB0aGUgaW5pdGlhbCBwb3NpdGlvbgoKICAgIHQubWF4Rm9yY2UgPSAwOwogICAgdC5taW5Gb3JjZSA9IC1tYXhGb3JjZTsKICAgIHRoaXMuZXF1YXRpb25zLnB1c2goYywgdCk7CiAgfQoKICB1cGRhdGUoKSB7CiAgICBjb25zdCBib2R5QSA9IHRoaXMuYm9keUE7CiAgICBjb25zdCBib2R5QiA9IHRoaXMuYm9keUI7CiAgICBjb25zdCBjb25lID0gdGhpcy5jb25lRXF1YXRpb247CiAgICBjb25zdCB0d2lzdCA9IHRoaXMudHdpc3RFcXVhdGlvbjsKICAgIHN1cGVyLnVwZGF0ZSgpOyAvLyBVcGRhdGUgdGhlIGF4ZXMgdG8gdGhlIGNvbmUgY29uc3RyYWludAoKICAgIGJvZHlBLnZlY3RvclRvV29ybGRGcmFtZSh0aGlzLmF4aXNBLCBjb25lLmF4aXNBKTsKICAgIGJvZHlCLnZlY3RvclRvV29ybGRGcmFtZSh0aGlzLmF4aXNCLCBjb25lLmF4aXNCKTsgLy8gVXBkYXRlIHRoZSB3b3JsZCBheGVzIGluIHRoZSB0d2lzdCBjb25zdHJhaW50CgogICAgdGhpcy5heGlzQS50YW5nZW50cyh0d2lzdC5heGlzQSwgdHdpc3QuYXhpc0EpOwogICAgYm9keUEudmVjdG9yVG9Xb3JsZEZyYW1lKHR3aXN0LmF4aXNBLCB0d2lzdC5heGlzQSk7CiAgICB0aGlzLmF4aXNCLnRhbmdlbnRzKHR3aXN0LmF4aXNCLCB0d2lzdC5heGlzQik7CiAgICBib2R5Qi52ZWN0b3JUb1dvcmxkRnJhbWUodHdpc3QuYXhpc0IsIHR3aXN0LmF4aXNCKTsKICAgIGNvbmUuYW5nbGUgPSB0aGlzLmFuZ2xlOwogICAgdHdpc3QubWF4QW5nbGUgPSB0aGlzLnR3aXN0QW5nbGU7CiAgfQoKfQovKioNCiAqIENvbnN0cmFpbnMgdHdvIGJvZGllcyB0byBiZSBhdCBhIGNvbnN0YW50IGRpc3RhbmNlIGZyb20gZWFjaCBvdGhlcnMgY2VudGVyIG9mIG1hc3MuDQogKiBAY2xhc3MgRGlzdGFuY2VDb25zdHJhaW50DQogKiBAY29uc3RydWN0b3INCiAqIEBhdXRob3Igc2NodGVwcGUNCiAqIEBwYXJhbSB7Qm9keX0gYm9keUENCiAqIEBwYXJhbSB7Qm9keX0gYm9keUINCiAqIEBwYXJhbSB7TnVtYmVyfSBbZGlzdGFuY2VdIFRoZSBkaXN0YW5jZSB0byBrZWVwLiBJZiB1bmRlZmluZWQsIGl0IHdpbGwgYmUgc2V0IHRvIHRoZSBjdXJyZW50IGRpc3RhbmNlIGJldHdlZW4gYm9keUEgYW5kIGJvZHlCDQogKiBAcGFyYW0ge051bWJlcn0gW21heEZvcmNlPTFlNl0NCiAqIEBleHRlbmRzIENvbnN0cmFpbnQNCiAqLwoKCmNsYXNzIERpc3RhbmNlQ29uc3RyYWludCBleHRlbmRzIENvbnN0cmFpbnQgewogIGNvbnN0cnVjdG9yKGJvZHlBLCBib2R5QiwgZGlzdGFuY2UsIG1heEZvcmNlID0gMWU2KSB7CiAgICBzdXBlcihib2R5QSwgYm9keUIpOwoKICAgIGlmICh0eXBlb2YgZGlzdGFuY2UgPT09ICd1bmRlZmluZWQnKSB7CiAgICAgIGRpc3RhbmNlID0gYm9keUEucG9zaXRpb24uZGlzdGFuY2VUbyhib2R5Qi5wb3NpdGlvbik7CiAgICB9CgogICAgdGhpcy5kaXN0YW5jZSA9IGRpc3RhbmNlOwogICAgY29uc3QgZXEgPSB0aGlzLmRpc3RhbmNlRXF1YXRpb24gPSBuZXcgQ29udGFjdEVxdWF0aW9uKGJvZHlBLCBib2R5Qik7CiAgICB0aGlzLmVxdWF0aW9ucy5wdXNoKGVxKTsgLy8gTWFrZSBpdCBiaWRpcmVjdGlvbmFsCgogICAgZXEubWluRm9yY2UgPSAtbWF4Rm9yY2U7CiAgICBlcS5tYXhGb3JjZSA9IG1heEZvcmNlOwogIH0KCiAgdXBkYXRlKCkgewogICAgY29uc3QgYm9keUEgPSB0aGlzLmJvZHlBOwogICAgY29uc3QgYm9keUIgPSB0aGlzLmJvZHlCOwogICAgY29uc3QgZXEgPSB0aGlzLmRpc3RhbmNlRXF1YXRpb247CiAgICBjb25zdCBoYWxmRGlzdCA9IHRoaXMuZGlzdGFuY2UgKiAwLjU7CiAgICBjb25zdCBub3JtYWwgPSBlcS5uaTsKICAgIGJvZHlCLnBvc2l0aW9uLnZzdWIoYm9keUEucG9zaXRpb24sIG5vcm1hbCk7CiAgICBub3JtYWwubm9ybWFsaXplKCk7CiAgICBub3JtYWwuc2NhbGUoaGFsZkRpc3QsIGVxLnJpKTsKICAgIG5vcm1hbC5zY2FsZSgtaGFsZkRpc3QsIGVxLnJqKTsKICB9Cgp9Ci8qKg0KICogTG9jayBjb25zdHJhaW50LiBXaWxsIHJlbW92ZSBhbGwgZGVncmVlcyBvZiBmcmVlZG9tIGJldHdlZW4gdGhlIGJvZGllcy4NCiAqIEBjbGFzcyBMb2NrQ29uc3RyYWludA0KICogQGNvbnN0cnVjdG9yDQogKiBAYXV0aG9yIHNjaHRlcHBlDQogKiBAcGFyYW0ge0JvZHl9IGJvZHlBDQogKiBAcGFyYW0ge0JvZHl9IGJvZHlCDQogKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdDQogKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMubWF4Rm9yY2U9MWU2XQ0KICogQGV4dGVuZHMgUG9pbnRUb1BvaW50Q29uc3RyYWludA0KICovCgoKY2xhc3MgTG9ja0NvbnN0cmFpbnQgZXh0ZW5kcyBQb2ludFRvUG9pbnRDb25zdHJhaW50IHsKICBjb25zdHJ1Y3Rvcihib2R5QSwgYm9keUIsIG9wdGlvbnMgPSB7fSkgewogICAgY29uc3QgbWF4Rm9yY2UgPSB0eXBlb2Ygb3B0aW9ucy5tYXhGb3JjZSAhPT0gJ3VuZGVmaW5lZCcgPyBvcHRpb25zLm1heEZvcmNlIDogMWU2OyAvLyBTZXQgcGl2b3QgcG9pbnQgaW4gYmV0d2VlbgoKICAgIGNvbnN0IHBpdm90QSA9IG5ldyBWZWMzKCk7CiAgICBjb25zdCBwaXZvdEIgPSBuZXcgVmVjMygpOwogICAgY29uc3QgaGFsZldheSA9IG5ldyBWZWMzKCk7CiAgICBib2R5QS5wb3NpdGlvbi52YWRkKGJvZHlCLnBvc2l0aW9uLCBoYWxmV2F5KTsKICAgIGhhbGZXYXkuc2NhbGUoMC41LCBoYWxmV2F5KTsKICAgIGJvZHlCLnBvaW50VG9Mb2NhbEZyYW1lKGhhbGZXYXksIHBpdm90Qik7CiAgICBib2R5QS5wb2ludFRvTG9jYWxGcmFtZShoYWxmV2F5LCBwaXZvdEEpOyAvLyBUaGUgcG9pbnQtdG8tcG9pbnQgY29uc3RyYWludCB3aWxsIGtlZXAgYSBwb2ludCBzaGFyZWQgYmV0d2VlbiB0aGUgYm9kaWVzCgogICAgc3VwZXIoYm9keUEsIHBpdm90QSwgYm9keUIsIHBpdm90QiwgbWF4Rm9yY2UpOyAvLyBTdG9yZSBpbml0aWFsIHJvdGF0aW9uIG9mIHRoZSBib2RpZXMgYXMgdW5pdCB2ZWN0b3JzIGluIHRoZSBsb2NhbCBib2R5IHNwYWNlcwoKICAgIHRoaXMueEEgPSBib2R5QS52ZWN0b3JUb0xvY2FsRnJhbWUoVmVjMy5VTklUX1gpOwogICAgdGhpcy54QiA9IGJvZHlCLnZlY3RvclRvTG9jYWxGcmFtZShWZWMzLlVOSVRfWCk7CiAgICB0aGlzLnlBID0gYm9keUEudmVjdG9yVG9Mb2NhbEZyYW1lKFZlYzMuVU5JVF9ZKTsKICAgIHRoaXMueUIgPSBib2R5Qi52ZWN0b3JUb0xvY2FsRnJhbWUoVmVjMy5VTklUX1kpOwogICAgdGhpcy56QSA9IGJvZHlBLnZlY3RvclRvTG9jYWxGcmFtZShWZWMzLlVOSVRfWik7CiAgICB0aGlzLnpCID0gYm9keUIudmVjdG9yVG9Mb2NhbEZyYW1lKFZlYzMuVU5JVF9aKTsgLy8gLi4uYW5kIHRoZSBmb2xsb3dpbmcgcm90YXRpb25hbCBlcXVhdGlvbnMgd2lsbCBrZWVwIGFsbCByb3RhdGlvbmFsIERPRidzIGluIHBsYWNlCgogICAgY29uc3QgcjEgPSB0aGlzLnJvdGF0aW9uYWxFcXVhdGlvbjEgPSBuZXcgUm90YXRpb25hbEVxdWF0aW9uKGJvZHlBLCBib2R5Qiwgb3B0aW9ucyk7CiAgICBjb25zdCByMiA9IHRoaXMucm90YXRpb25hbEVxdWF0aW9uMiA9IG5ldyBSb3RhdGlvbmFsRXF1YXRpb24oYm9keUEsIGJvZHlCLCBvcHRpb25zKTsKICAgIGNvbnN0IHIzID0gdGhpcy5yb3RhdGlvbmFsRXF1YXRpb24zID0gbmV3IFJvdGF0aW9uYWxFcXVhdGlvbihib2R5QSwgYm9keUIsIG9wdGlvbnMpOwogICAgdGhpcy5lcXVhdGlvbnMucHVzaChyMSwgcjIsIHIzKTsKICB9CgogIHVwZGF0ZSgpIHsKICAgIGNvbnN0IGJvZHlBID0gdGhpcy5ib2R5QTsKICAgIGNvbnN0IGJvZHlCID0gdGhpcy5ib2R5QjsKICAgIGNvbnN0IG1vdG9yID0gdGhpcy5tb3RvckVxdWF0aW9uOwogICAgY29uc3QgcjEgPSB0aGlzLnJvdGF0aW9uYWxFcXVhdGlvbjE7CiAgICBjb25zdCByMiA9IHRoaXMucm90YXRpb25hbEVxdWF0aW9uMjsKICAgIGNvbnN0IHIzID0gdGhpcy5yb3RhdGlvbmFsRXF1YXRpb24zOwogICAgc3VwZXIudXBkYXRlKCk7IC8vIFRoZXNlIHZlY3RvciBwYWlycyBtdXN0IGJlIG9ydGhvZ29uYWwKCiAgICBib2R5QS52ZWN0b3JUb1dvcmxkRnJhbWUodGhpcy54QSwgcjEuYXhpc0EpOwogICAgYm9keUIudmVjdG9yVG9Xb3JsZEZyYW1lKHRoaXMueUIsIHIxLmF4aXNCKTsKICAgIGJvZHlBLnZlY3RvclRvV29ybGRGcmFtZSh0aGlzLnlBLCByMi5heGlzQSk7CiAgICBib2R5Qi52ZWN0b3JUb1dvcmxkRnJhbWUodGhpcy56QiwgcjIuYXhpc0IpOwogICAgYm9keUEudmVjdG9yVG9Xb3JsZEZyYW1lKHRoaXMuekEsIHIzLmF4aXNBKTsKICAgIGJvZHlCLnZlY3RvclRvV29ybGRGcmFtZSh0aGlzLnhCLCByMy5heGlzQik7CiAgfQoKfQovKioNCiAqIFJvdGF0aW9uYWwgbW90b3IgY29uc3RyYWludC4gVHJpZXMgdG8ga2VlcCB0aGUgcmVsYXRpdmUgYW5ndWxhciB2ZWxvY2l0eSBvZiB0aGUgYm9kaWVzIHRvIGEgZ2l2ZW4gdmFsdWUuDQogKiBAY2xhc3MgUm90YXRpb25hbE1vdG9yRXF1YXRpb24NCiAqIEBjb25zdHJ1Y3Rvcg0KICogQGF1dGhvciBzY2h0ZXBwZQ0KICogQHBhcmFtIHtCb2R5fSBib2R5QQ0KICogQHBhcmFtIHtCb2R5fSBib2R5Qg0KICogQHBhcmFtIHtOdW1iZXJ9IG1heEZvcmNlDQogKiBAZXh0ZW5kcyBFcXVhdGlvbg0KICovCgoKY2xhc3MgUm90YXRpb25hbE1vdG9yRXF1YXRpb24gZXh0ZW5kcyBFcXVhdGlvbiB7CiAgLy8gV29ybGQgb3JpZW50ZWQgcm90YXRpb25hbCBheGlzLgogIC8vIFdvcmxkIG9yaWVudGVkIHJvdGF0aW9uYWwgYXhpcy4KICAvLyBNb3RvciB2ZWxvY2l0eS4KICBjb25zdHJ1Y3Rvcihib2R5QSwgYm9keUIsIG1heEZvcmNlID0gMWU2KSB7CiAgICBzdXBlcihib2R5QSwgYm9keUIsIC1tYXhGb3JjZSwgbWF4Rm9yY2UpOwogICAgdGhpcy5heGlzQSA9IG5ldyBWZWMzKCk7CiAgICB0aGlzLmF4aXNCID0gbmV3IFZlYzMoKTsKICAgIHRoaXMudGFyZ2V0VmVsb2NpdHkgPSAwOwogIH0KCiAgY29tcHV0ZUIoaCkgewogICAgY29uc3QgYSA9IHRoaXMuYTsKICAgIGNvbnN0IGIgPSB0aGlzLmI7CiAgICBjb25zdCBiaSA9IHRoaXMuYmk7CiAgICBjb25zdCBiaiA9IHRoaXMuYmo7CiAgICBjb25zdCBheGlzQSA9IHRoaXMuYXhpc0E7CiAgICBjb25zdCBheGlzQiA9IHRoaXMuYXhpc0I7CiAgICBjb25zdCBHQSA9IHRoaXMuamFjb2JpYW5FbGVtZW50QTsKICAgIGNvbnN0IEdCID0gdGhpcy5qYWNvYmlhbkVsZW1lbnRCOyAvLyBnID0gMAogICAgLy8gZ2RvdCA9IGF4aXNBICogd2kgLSBheGlzQiAqIHdqCiAgICAvLyBnZG90ID0gRyAqIFcgPSBHICogW3ZpIHdpIHZqIHdqXQogICAgLy8gPT4KICAgIC8vIEcgPSBbMCBheGlzQSAwIC1heGlzQl0KCiAgICBHQS5yb3RhdGlvbmFsLmNvcHkoYXhpc0EpOwogICAgYXhpc0IubmVnYXRlKEdCLnJvdGF0aW9uYWwpOwogICAgY29uc3QgR1cgPSB0aGlzLmNvbXB1dGVHVygpIC0gdGhpcy50YXJnZXRWZWxvY2l0eTsKICAgIGNvbnN0IEdpTWYgPSB0aGlzLmNvbXB1dGVHaU1mKCk7CiAgICBjb25zdCBCID0gLUdXICogYiAtIGggKiBHaU1mOwogICAgcmV0dXJuIEI7CiAgfQoKfQovKioNCiAqIEhpbmdlIGNvbnN0cmFpbnQuIFRoaW5rIG9mIGl0IGFzIGEgZG9vciBoaW5nZS4gSXQgdHJpZXMgdG8ga2VlcCB0aGUgZG9vciBpbiB0aGUgY29ycmVjdCBwbGFjZSBhbmQgd2l0aCB0aGUgY29ycmVjdCBvcmllbnRhdGlvbi4NCiAqIEBjbGFzcyBIaW5nZUNvbnN0cmFpbnQNCiAqIEBjb25zdHJ1Y3Rvcg0KICogQGF1dGhvciBzY2h0ZXBwZQ0KICogQHBhcmFtIHtCb2R5fSBib2R5QQ0KICogQHBhcmFtIHtCb2R5fSBib2R5Qg0KICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXQ0KICogQHBhcmFtIHtWZWMzfSBbb3B0aW9ucy5waXZvdEFdIEEgcG9pbnQgZGVmaW5lZCBsb2NhbGx5IGluIGJvZHlBLiBUaGlzIGRlZmluZXMgdGhlIG9mZnNldCBvZiBheGlzQS4NCiAqIEBwYXJhbSB7VmVjM30gW29wdGlvbnMuYXhpc0FdIEFuIGF4aXMgdGhhdCBib2R5QSBjYW4gcm90YXRlIGFyb3VuZCwgZGVmaW5lZCBsb2NhbGx5IGluIGJvZHlBLg0KICogQHBhcmFtIHtWZWMzfSBbb3B0aW9ucy5waXZvdEJdDQogKiBAcGFyYW0ge1ZlYzN9IFtvcHRpb25zLmF4aXNCXQ0KICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLm1heEZvcmNlPTFlNl0NCiAqIEBleHRlbmRzIFBvaW50VG9Qb2ludENvbnN0cmFpbnQNCiAqLwoKCmNsYXNzIEhpbmdlQ29uc3RyYWludCBleHRlbmRzIFBvaW50VG9Qb2ludENvbnN0cmFpbnQgewogIC8vIFJvdGF0aW9uIGF4aXMsIGRlZmluZWQgbG9jYWxseSBpbiBib2R5QS4KICAvLyBSb3RhdGlvbiBheGlzLCBkZWZpbmVkIGxvY2FsbHkgaW4gYm9keUIuCiAgY29uc3RydWN0b3IoYm9keUEsIGJvZHlCLCBvcHRpb25zID0ge30pIHsKICAgIGNvbnN0IG1heEZvcmNlID0gdHlwZW9mIG9wdGlvbnMubWF4Rm9yY2UgIT09ICd1bmRlZmluZWQnID8gb3B0aW9ucy5tYXhGb3JjZSA6IDFlNjsKICAgIGNvbnN0IHBpdm90QSA9IG9wdGlvbnMucGl2b3RBID8gb3B0aW9ucy5waXZvdEEuY2xvbmUoKSA6IG5ldyBWZWMzKCk7CiAgICBjb25zdCBwaXZvdEIgPSBvcHRpb25zLnBpdm90QiA/IG9wdGlvbnMucGl2b3RCLmNsb25lKCkgOiBuZXcgVmVjMygpOwogICAgc3VwZXIoYm9keUEsIHBpdm90QSwgYm9keUIsIHBpdm90QiwgbWF4Rm9yY2UpOwogICAgY29uc3QgYXhpc0EgPSB0aGlzLmF4aXNBID0gb3B0aW9ucy5heGlzQSA/IG9wdGlvbnMuYXhpc0EuY2xvbmUoKSA6IG5ldyBWZWMzKDEsIDAsIDApOwogICAgYXhpc0Eubm9ybWFsaXplKCk7CiAgICBjb25zdCBheGlzQiA9IHRoaXMuYXhpc0IgPSBvcHRpb25zLmF4aXNCID8gb3B0aW9ucy5heGlzQi5jbG9uZSgpIDogbmV3IFZlYzMoMSwgMCwgMCk7CiAgICBheGlzQi5ub3JtYWxpemUoKTsKICAgIHRoaXMuY29sbGlkZUNvbm5lY3RlZCA9ICEhb3B0aW9ucy5jb2xsaWRlQ29ubmVjdGVkOwogICAgY29uc3Qgcm90YXRpb25hbDEgPSB0aGlzLnJvdGF0aW9uYWxFcXVhdGlvbjEgPSBuZXcgUm90YXRpb25hbEVxdWF0aW9uKGJvZHlBLCBib2R5Qiwgb3B0aW9ucyk7CiAgICBjb25zdCByb3RhdGlvbmFsMiA9IHRoaXMucm90YXRpb25hbEVxdWF0aW9uMiA9IG5ldyBSb3RhdGlvbmFsRXF1YXRpb24oYm9keUEsIGJvZHlCLCBvcHRpb25zKTsKICAgIGNvbnN0IG1vdG9yID0gdGhpcy5tb3RvckVxdWF0aW9uID0gbmV3IFJvdGF0aW9uYWxNb3RvckVxdWF0aW9uKGJvZHlBLCBib2R5QiwgbWF4Rm9yY2UpOwogICAgbW90b3IuZW5hYmxlZCA9IGZhbHNlOyAvLyBOb3QgZW5hYmxlZCBieSBkZWZhdWx0CiAgICAvLyBFcXVhdGlvbnMgdG8gYmUgZmVkIHRvIHRoZSBzb2x2ZXIKCiAgICB0aGlzLmVxdWF0aW9ucy5wdXNoKHJvdGF0aW9uYWwxLCByb3RhdGlvbmFsMiwgbW90b3IpOwogIH0KICAvKioNCiAgICogQG1ldGhvZCBlbmFibGVNb3Rvcg0KICAgKi8KCgogIGVuYWJsZU1vdG9yKCkgewogICAgdGhpcy5tb3RvckVxdWF0aW9uLmVuYWJsZWQgPSB0cnVlOwogIH0KICAvKioNCiAgICogQG1ldGhvZCBkaXNhYmxlTW90b3INCiAgICovCgoKICBkaXNhYmxlTW90b3IoKSB7CiAgICB0aGlzLm1vdG9yRXF1YXRpb24uZW5hYmxlZCA9IGZhbHNlOwogIH0KICAvKioNCiAgICogQG1ldGhvZCBzZXRNb3RvclNwZWVkDQogICAqIEBwYXJhbSB7bnVtYmVyfSBzcGVlZA0KICAgKi8KCgogIHNldE1vdG9yU3BlZWQoc3BlZWQpIHsKICAgIHRoaXMubW90b3JFcXVhdGlvbi50YXJnZXRWZWxvY2l0eSA9IHNwZWVkOwogIH0KICAvKioNCiAgICogQG1ldGhvZCBzZXRNb3Rvck1heEZvcmNlDQogICAqIEBwYXJhbSB7bnVtYmVyfSBtYXhGb3JjZQ0KICAgKi8KCgogIHNldE1vdG9yTWF4Rm9yY2UobWF4Rm9yY2UpIHsKICAgIHRoaXMubW90b3JFcXVhdGlvbi5tYXhGb3JjZSA9IG1heEZvcmNlOwogICAgdGhpcy5tb3RvckVxdWF0aW9uLm1pbkZvcmNlID0gLW1heEZvcmNlOwogIH0KCiAgdXBkYXRlKCkgewogICAgY29uc3QgYm9keUEgPSB0aGlzLmJvZHlBOwogICAgY29uc3QgYm9keUIgPSB0aGlzLmJvZHlCOwogICAgY29uc3QgbW90b3IgPSB0aGlzLm1vdG9yRXF1YXRpb247CiAgICBjb25zdCByMSA9IHRoaXMucm90YXRpb25hbEVxdWF0aW9uMTsKICAgIGNvbnN0IHIyID0gdGhpcy5yb3RhdGlvbmFsRXF1YXRpb24yOwogICAgY29uc3Qgd29ybGRBeGlzQSA9IEhpbmdlQ29uc3RyYWludF91cGRhdGVfdG1wVmVjMTsKICAgIGNvbnN0IHdvcmxkQXhpc0IgPSBIaW5nZUNvbnN0cmFpbnRfdXBkYXRlX3RtcFZlYzI7CiAgICBjb25zdCBheGlzQSA9IHRoaXMuYXhpc0E7CiAgICBjb25zdCBheGlzQiA9IHRoaXMuYXhpc0I7CiAgICBzdXBlci51cGRhdGUoKTsgLy8gR2V0IHdvcmxkIGF4ZXMKCiAgICBib2R5QS5xdWF0ZXJuaW9uLnZtdWx0KGF4aXNBLCB3b3JsZEF4aXNBKTsKICAgIGJvZHlCLnF1YXRlcm5pb24udm11bHQoYXhpc0IsIHdvcmxkQXhpc0IpOwogICAgd29ybGRBeGlzQS50YW5nZW50cyhyMS5heGlzQSwgcjIuYXhpc0EpOwogICAgcjEuYXhpc0IuY29weSh3b3JsZEF4aXNCKTsKICAgIHIyLmF4aXNCLmNvcHkod29ybGRBeGlzQik7CgogICAgaWYgKHRoaXMubW90b3JFcXVhdGlvbi5lbmFibGVkKSB7CiAgICAgIGJvZHlBLnF1YXRlcm5pb24udm11bHQodGhpcy5heGlzQSwgbW90b3IuYXhpc0EpOwogICAgICBib2R5Qi5xdWF0ZXJuaW9uLnZtdWx0KHRoaXMuYXhpc0IsIG1vdG9yLmF4aXNCKTsKICAgIH0KICB9Cgp9Cgpjb25zdCBIaW5nZUNvbnN0cmFpbnRfdXBkYXRlX3RtcFZlYzEgPSBuZXcgVmVjMygpOwpjb25zdCBIaW5nZUNvbnN0cmFpbnRfdXBkYXRlX3RtcFZlYzIgPSBuZXcgVmVjMygpOwovKioNCiAqIENvbnN0cmFpbnMgdGhlIHNsaXBwaW5nIGluIGEgY29udGFjdCBhbG9uZyBhIHRhbmdlbnQNCiAqIEBjbGFzcyBGcmljdGlvbkVxdWF0aW9uDQogKiBAY29uc3RydWN0b3INCiAqIEBhdXRob3Igc2NodGVwcGUNCiAqIEBwYXJhbSB7Qm9keX0gYm9keUENCiAqIEBwYXJhbSB7Qm9keX0gYm9keUINCiAqIEBwYXJhbSB7TnVtYmVyfSBzbGlwRm9yY2Ugc2hvdWxkIGJlICstRl9mcmljdGlvbiA9ICstbXUgKiBGX25vcm1hbCA9ICstbXUgKiBtICogZw0KICogQGV4dGVuZHMgRXF1YXRpb24NCiAqLwoKY2xhc3MgRnJpY3Rpb25FcXVhdGlvbiBleHRlbmRzIEVxdWF0aW9uIHsKICAvLyBUYW5nZW50LgogIGNvbnN0cnVjdG9yKGJvZHlBLCBib2R5Qiwgc2xpcEZvcmNlKSB7CiAgICBzdXBlcihib2R5QSwgYm9keUIsIC1zbGlwRm9yY2UsIHNsaXBGb3JjZSk7CiAgICB0aGlzLnJpID0gbmV3IFZlYzMoKTsKICAgIHRoaXMucmogPSBuZXcgVmVjMygpOwogICAgdGhpcy50ID0gbmV3IFZlYzMoKTsKICB9CgogIGNvbXB1dGVCKGgpIHsKICAgIGNvbnN0IGEgPSB0aGlzLmE7CiAgICBjb25zdCBiID0gdGhpcy5iOwogICAgY29uc3QgYmkgPSB0aGlzLmJpOwogICAgY29uc3QgYmogPSB0aGlzLmJqOwogICAgY29uc3QgcmkgPSB0aGlzLnJpOwogICAgY29uc3QgcmogPSB0aGlzLnJqOwogICAgY29uc3Qgcml4dCA9IEZyaWN0aW9uRXF1YXRpb25fY29tcHV0ZUJfdGVtcDE7CiAgICBjb25zdCByanh0ID0gRnJpY3Rpb25FcXVhdGlvbl9jb21wdXRlQl90ZW1wMjsKICAgIGNvbnN0IHQgPSB0aGlzLnQ7IC8vIENhbHVjbGF0ZSBjcm9zcyBwcm9kdWN0cwoKICAgIHJpLmNyb3NzKHQsIHJpeHQpOwogICAgcmouY3Jvc3ModCwgcmp4dCk7IC8vIEcgPSBbLXQgLXJpeHQgdCByanh0XQogICAgLy8gQW5kIHJlbWVtYmVyLCB0aGlzIGlzIGEgcHVyZSB2ZWxvY2l0eSBjb25zdHJhaW50LCBnIGlzIGFsd2F5cyB6ZXJvIQoKICAgIGNvbnN0IEdBID0gdGhpcy5qYWNvYmlhbkVsZW1lbnRBOwogICAgY29uc3QgR0IgPSB0aGlzLmphY29iaWFuRWxlbWVudEI7CiAgICB0Lm5lZ2F0ZShHQS5zcGF0aWFsKTsKICAgIHJpeHQubmVnYXRlKEdBLnJvdGF0aW9uYWwpOwogICAgR0Iuc3BhdGlhbC5jb3B5KHQpOwogICAgR0Iucm90YXRpb25hbC5jb3B5KHJqeHQpOwogICAgY29uc3QgR1cgPSB0aGlzLmNvbXB1dGVHVygpOwogICAgY29uc3QgR2lNZiA9IHRoaXMuY29tcHV0ZUdpTWYoKTsKICAgIGNvbnN0IEIgPSAtR1cgKiBiIC0gaCAqIEdpTWY7CiAgICByZXR1cm4gQjsKICB9Cgp9Cgpjb25zdCBGcmljdGlvbkVxdWF0aW9uX2NvbXB1dGVCX3RlbXAxID0gbmV3IFZlYzMoKTsKY29uc3QgRnJpY3Rpb25FcXVhdGlvbl9jb21wdXRlQl90ZW1wMiA9IG5ldyBWZWMzKCk7Ci8qKg0KICogRGVmaW5lcyB3aGF0IGhhcHBlbnMgd2hlbiB0d28gbWF0ZXJpYWxzIG1lZXQuDQogKiBAY2xhc3MgQ29udGFjdE1hdGVyaWFsDQogKiBAY29uc3RydWN0b3INCiAqIEBwYXJhbSB7TWF0ZXJpYWx9IG0xDQogKiBAcGFyYW0ge01hdGVyaWFsfSBtMg0KICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXQ0KICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLmZyaWN0aW9uPTAuM10NCiAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy5yZXN0aXR1dGlvbj0wLjNdDQogKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuY29udGFjdEVxdWF0aW9uU3RpZmZuZXNzPTFlN10NCiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5jb250YWN0RXF1YXRpb25SZWxheGF0aW9uPTNdDQogKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuZnJpY3Rpb25FcXVhdGlvblN0aWZmbmVzcz0xZTddDQogKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMuZnJpY3Rpb25FcXVhdGlvblJlbGF4YXRpb249M10NCiAqIEB0b2RvIFJlZmFjdG9yIG1hdGVyaWFscyB0byBtYXRlcmlhbEEgYW5kIG1hdGVyaWFsQg0KICovCgpjbGFzcyBDb250YWN0TWF0ZXJpYWwgewogIC8vIElkZW50aWZpZXIgb2YgdGhpcyBtYXRlcmlhbC4KICAvLyBQYXJ0aWNpcGF0aW5nIG1hdGVyaWFscy4KICAvLyBGcmljdGlvbiBjb2VmZmljaWVudC4KICAvLyBSZXN0aXR1dGlvbiBjb2VmZmljaWVudC4KICAvLyBTdGlmZm5lc3Mgb2YgdGhlIHByb2R1Y2VkIGNvbnRhY3QgZXF1YXRpb25zLgogIC8vIFJlbGF4YXRpb24gdGltZSBvZiB0aGUgcHJvZHVjZWQgY29udGFjdCBlcXVhdGlvbnMuCiAgLy8gU3RpZmZuZXNzIG9mIHRoZSBwcm9kdWNlZCBmcmljdGlvbiBlcXVhdGlvbnMuCiAgLy8gUmVsYXhhdGlvbiB0aW1lIG9mIHRoZSBwcm9kdWNlZCBmcmljdGlvbiBlcXVhdGlvbnMKICBjb25zdHJ1Y3RvcihtMSwgbTIsIG9wdGlvbnMpIHsKICAgIG9wdGlvbnMgPSBVdGlscy5kZWZhdWx0cyhvcHRpb25zLCB7CiAgICAgIGZyaWN0aW9uOiAwLjMsCiAgICAgIHJlc3RpdHV0aW9uOiAwLjMsCiAgICAgIGNvbnRhY3RFcXVhdGlvblN0aWZmbmVzczogMWU3LAogICAgICBjb250YWN0RXF1YXRpb25SZWxheGF0aW9uOiAzLAogICAgICBmcmljdGlvbkVxdWF0aW9uU3RpZmZuZXNzOiAxZTcsCiAgICAgIGZyaWN0aW9uRXF1YXRpb25SZWxheGF0aW9uOiAzCiAgICB9KTsKICAgIHRoaXMuaWQgPSBDb250YWN0TWF0ZXJpYWwuaWRDb3VudGVyKys7CiAgICB0aGlzLm1hdGVyaWFscyA9IFttMSwgbTJdOwogICAgdGhpcy5mcmljdGlvbiA9IG9wdGlvbnMuZnJpY3Rpb247CiAgICB0aGlzLnJlc3RpdHV0aW9uID0gb3B0aW9ucy5yZXN0aXR1dGlvbjsKICAgIHRoaXMuY29udGFjdEVxdWF0aW9uU3RpZmZuZXNzID0gb3B0aW9ucy5jb250YWN0RXF1YXRpb25TdGlmZm5lc3M7CiAgICB0aGlzLmNvbnRhY3RFcXVhdGlvblJlbGF4YXRpb24gPSBvcHRpb25zLmNvbnRhY3RFcXVhdGlvblJlbGF4YXRpb247CiAgICB0aGlzLmZyaWN0aW9uRXF1YXRpb25TdGlmZm5lc3MgPSBvcHRpb25zLmZyaWN0aW9uRXF1YXRpb25TdGlmZm5lc3M7CiAgICB0aGlzLmZyaWN0aW9uRXF1YXRpb25SZWxheGF0aW9uID0gb3B0aW9ucy5mcmljdGlvbkVxdWF0aW9uUmVsYXhhdGlvbjsKICB9Cgp9CgpDb250YWN0TWF0ZXJpYWwuaWRDb3VudGVyID0gMDsKLyoqDQogKiBEZWZpbmVzIGEgcGh5c2ljcyBtYXRlcmlhbC4NCiAqIEBjbGFzcyBNYXRlcmlhbA0KICogQGNvbnN0cnVjdG9yDQogKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdDQogKiBAYXV0aG9yIHNjaHRlcHBlDQogKi8KCmNsYXNzIE1hdGVyaWFsIHsKICAvLyBNYXRlcmlhbCBuYW1lLgogIC8vIE1hdGVyaWFsIGlkLgogIC8vIEZyaWN0aW9uIGZvciB0aGlzIG1hdGVyaWFsLiBJZiBub24tbmVnYXRpdmUsIGl0IHdpbGwgYmUgdXNlZCBpbnN0ZWFkIG9mIHRoZSBmcmljdGlvbiBnaXZlbiBieSBDb250YWN0TWF0ZXJpYWxzLiBJZiB0aGVyZSdzIG5vIG1hdGNoaW5nIENvbnRhY3RNYXRlcmlhbCwgdGhlIHZhbHVlIGZyb20gLmRlZmF1bHRDb250YWN0TWF0ZXJpYWwgaW4gdGhlIFdvcmxkIHdpbGwgYmUgdXNlZC4KICAvLyBSZXN0aXR1dGlvbiBmb3IgdGhpcyBtYXRlcmlhbC4gSWYgbm9uLW5lZ2F0aXZlLCBpdCB3aWxsIGJlIHVzZWQgaW5zdGVhZCBvZiB0aGUgcmVzdGl0dXRpb24gZ2l2ZW4gYnkgQ29udGFjdE1hdGVyaWFscy4gSWYgdGhlcmUncyBubyBtYXRjaGluZyBDb250YWN0TWF0ZXJpYWwsIHRoZSB2YWx1ZSBmcm9tIC5kZWZhdWx0Q29udGFjdE1hdGVyaWFsIGluIHRoZSBXb3JsZCB3aWxsIGJlIHVzZWQuCiAgY29uc3RydWN0b3Iob3B0aW9ucyA9IHt9KSB7CiAgICBsZXQgbmFtZSA9ICcnOyAvLyBCYWNrd2FyZHMgY29tcGF0aWJpbGl0eSBmaXgKCiAgICBpZiAodHlwZW9mIG9wdGlvbnMgPT09ICdzdHJpbmcnKSB7CiAgICAgIG5hbWUgPSBvcHRpb25zOwogICAgICBvcHRpb25zID0ge307CiAgICB9CgogICAgdGhpcy5uYW1lID0gbmFtZTsKICAgIHRoaXMuaWQgPSBNYXRlcmlhbC5pZENvdW50ZXIrKzsKICAgIHRoaXMuZnJpY3Rpb24gPSB0eXBlb2Ygb3B0aW9ucy5mcmljdGlvbiAhPT0gJ3VuZGVmaW5lZCcgPyBvcHRpb25zLmZyaWN0aW9uIDogLTE7CiAgICB0aGlzLnJlc3RpdHV0aW9uID0gdHlwZW9mIG9wdGlvbnMucmVzdGl0dXRpb24gIT09ICd1bmRlZmluZWQnID8gb3B0aW9ucy5yZXN0aXR1dGlvbiA6IC0xOwogIH0KCn0KCk1hdGVyaWFsLmlkQ291bnRlciA9IDA7Ci8qKg0KICogQSBzcHJpbmcsIGNvbm5lY3RpbmcgdHdvIGJvZGllcy4NCiAqDQogKiBAY2xhc3MgU3ByaW5nDQogKiBAY29uc3RydWN0b3INCiAqIEBwYXJhbSB7Qm9keX0gYm9keUENCiAqIEBwYXJhbSB7Qm9keX0gYm9keUINCiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10NCiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5yZXN0TGVuZ3RoXSAgIEEgbnVtYmVyID4gMC4gRGVmYXVsdDogMQ0KICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnN0aWZmbmVzc10gICAgQSBudW1iZXIgPj0gMC4gRGVmYXVsdDogMTAwDQogKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuZGFtcGluZ10gICAgICBBIG51bWJlciA+PSAwLiBEZWZhdWx0OiAxDQogKiBAcGFyYW0ge1ZlYzN9ICBbb3B0aW9ucy53b3JsZEFuY2hvckFdIFdoZXJlIHRvIGhvb2sgdGhlIHNwcmluZyB0byBib2R5IEEsIGluIHdvcmxkIGNvb3JkaW5hdGVzLg0KICogQHBhcmFtIHtWZWMzfSAgW29wdGlvbnMud29ybGRBbmNob3JCXQ0KICogQHBhcmFtIHtWZWMzfSAgW29wdGlvbnMubG9jYWxBbmNob3JBXSBXaGVyZSB0byBob29rIHRoZSBzcHJpbmcgdG8gYm9keSBBLCBpbiBsb2NhbCBib2R5IGNvb3JkaW5hdGVzLg0KICogQHBhcmFtIHtWZWMzfSAgW29wdGlvbnMubG9jYWxBbmNob3JCXQ0KICovCgpjbGFzcyBTcHJpbmcgewogIC8vIFJlc3QgbGVuZ3RoIG9mIHRoZSBzcHJpbmcuCiAgLy8gU3RpZmZuZXNzIG9mIHRoZSBzcHJpbmcuCiAgLy8gRGFtcGluZyBvZiB0aGUgc3ByaW5nLgogIC8vIEZpcnN0IGNvbm5lY3RlZCBib2R5LgogIC8vIFNlY29uZCBjb25uZWN0ZWQgYm9keS4KICAvLyBBbmNob3IgZm9yIGJvZHlBIGluIGxvY2FsIGJvZHlBIGNvb3JkaW5hdGVzLgogIC8vIEFuY2hvciBmb3IgYm9keUIgaW4gbG9jYWwgYm9keUIgY29vcmRpbmF0ZXMuCiAgY29uc3RydWN0b3IoYm9keUEsIGJvZHlCLCBvcHRpb25zID0ge30pIHsKICAgIHRoaXMucmVzdExlbmd0aCA9IHR5cGVvZiBvcHRpb25zLnJlc3RMZW5ndGggPT09ICdudW1iZXInID8gb3B0aW9ucy5yZXN0TGVuZ3RoIDogMTsKICAgIHRoaXMuc3RpZmZuZXNzID0gb3B0aW9ucy5zdGlmZm5lc3MgfHwgMTAwOwogICAgdGhpcy5kYW1waW5nID0gb3B0aW9ucy5kYW1waW5nIHx8IDE7CiAgICB0aGlzLmJvZHlBID0gYm9keUE7CiAgICB0aGlzLmJvZHlCID0gYm9keUI7CiAgICB0aGlzLmxvY2FsQW5jaG9yQSA9IG5ldyBWZWMzKCk7CiAgICB0aGlzLmxvY2FsQW5jaG9yQiA9IG5ldyBWZWMzKCk7CgogICAgaWYgKG9wdGlvbnMubG9jYWxBbmNob3JBKSB7CiAgICAgIHRoaXMubG9jYWxBbmNob3JBLmNvcHkob3B0aW9ucy5sb2NhbEFuY2hvckEpOwogICAgfQoKICAgIGlmIChvcHRpb25zLmxvY2FsQW5jaG9yQikgewogICAgICB0aGlzLmxvY2FsQW5jaG9yQi5jb3B5KG9wdGlvbnMubG9jYWxBbmNob3JCKTsKICAgIH0KCiAgICBpZiAob3B0aW9ucy53b3JsZEFuY2hvckEpIHsKICAgICAgdGhpcy5zZXRXb3JsZEFuY2hvckEob3B0aW9ucy53b3JsZEFuY2hvckEpOwogICAgfQoKICAgIGlmIChvcHRpb25zLndvcmxkQW5jaG9yQikgewogICAgICB0aGlzLnNldFdvcmxkQW5jaG9yQihvcHRpb25zLndvcmxkQW5jaG9yQik7CiAgICB9CiAgfQogIC8qKg0KICAgKiBTZXQgdGhlIGFuY2hvciBwb2ludCBvbiBib2R5IEEsIHVzaW5nIHdvcmxkIGNvb3JkaW5hdGVzLg0KICAgKiBAbWV0aG9kIHNldFdvcmxkQW5jaG9yQQ0KICAgKiBAcGFyYW0ge1ZlYzN9IHdvcmxkQW5jaG9yQQ0KICAgKi8KCgogIHNldFdvcmxkQW5jaG9yQSh3b3JsZEFuY2hvckEpIHsKICAgIHRoaXMuYm9keUEucG9pbnRUb0xvY2FsRnJhbWUod29ybGRBbmNob3JBLCB0aGlzLmxvY2FsQW5jaG9yQSk7CiAgfQogIC8qKg0KICAgKiBTZXQgdGhlIGFuY2hvciBwb2ludCBvbiBib2R5IEIsIHVzaW5nIHdvcmxkIGNvb3JkaW5hdGVzLg0KICAgKiBAbWV0aG9kIHNldFdvcmxkQW5jaG9yQg0KICAgKiBAcGFyYW0ge1ZlYzN9IHdvcmxkQW5jaG9yQg0KICAgKi8KCgogIHNldFdvcmxkQW5jaG9yQih3b3JsZEFuY2hvckIpIHsKICAgIHRoaXMuYm9keUIucG9pbnRUb0xvY2FsRnJhbWUod29ybGRBbmNob3JCLCB0aGlzLmxvY2FsQW5jaG9yQik7CiAgfQogIC8qKg0KICAgKiBHZXQgdGhlIGFuY2hvciBwb2ludCBvbiBib2R5IEEsIGluIHdvcmxkIGNvb3JkaW5hdGVzLg0KICAgKiBAbWV0aG9kIGdldFdvcmxkQW5jaG9yQQ0KICAgKiBAcGFyYW0ge1ZlYzN9IHJlc3VsdCBUaGUgdmVjdG9yIHRvIHN0b3JlIHRoZSByZXN1bHQgaW4uDQogICAqLwoKCiAgZ2V0V29ybGRBbmNob3JBKHJlc3VsdCkgewogICAgdGhpcy5ib2R5QS5wb2ludFRvV29ybGRGcmFtZSh0aGlzLmxvY2FsQW5jaG9yQSwgcmVzdWx0KTsKICB9CiAgLyoqDQogICAqIEdldCB0aGUgYW5jaG9yIHBvaW50IG9uIGJvZHkgQiwgaW4gd29ybGQgY29vcmRpbmF0ZXMuDQogICAqIEBtZXRob2QgZ2V0V29ybGRBbmNob3JCDQogICAqIEBwYXJhbSB7VmVjM30gcmVzdWx0IFRoZSB2ZWN0b3IgdG8gc3RvcmUgdGhlIHJlc3VsdCBpbi4NCiAgICovCgoKICBnZXRXb3JsZEFuY2hvckIocmVzdWx0KSB7CiAgICB0aGlzLmJvZHlCLnBvaW50VG9Xb3JsZEZyYW1lKHRoaXMubG9jYWxBbmNob3JCLCByZXN1bHQpOwogIH0KICAvKioNCiAgICogQXBwbHkgdGhlIHNwcmluZyBmb3JjZSB0byB0aGUgY29ubmVjdGVkIGJvZGllcy4NCiAgICogQG1ldGhvZCBhcHBseUZvcmNlDQogICAqLwoKCiAgYXBwbHlGb3JjZSgpIHsKICAgIGNvbnN0IGsgPSB0aGlzLnN0aWZmbmVzczsKICAgIGNvbnN0IGQgPSB0aGlzLmRhbXBpbmc7CiAgICBjb25zdCBsID0gdGhpcy5yZXN0TGVuZ3RoOwogICAgY29uc3QgYm9keUEgPSB0aGlzLmJvZHlBOwogICAgY29uc3QgYm9keUIgPSB0aGlzLmJvZHlCOwogICAgY29uc3QgciA9IGFwcGx5Rm9yY2VfcjsKICAgIGNvbnN0IHJfdW5pdCA9IGFwcGx5Rm9yY2Vfcl91bml0OwogICAgY29uc3QgdSA9IGFwcGx5Rm9yY2VfdTsKICAgIGNvbnN0IGYgPSBhcHBseUZvcmNlX2Y7CiAgICBjb25zdCB0bXAgPSBhcHBseUZvcmNlX3RtcDsKICAgIGNvbnN0IHdvcmxkQW5jaG9yQSA9IGFwcGx5Rm9yY2Vfd29ybGRBbmNob3JBOwogICAgY29uc3Qgd29ybGRBbmNob3JCID0gYXBwbHlGb3JjZV93b3JsZEFuY2hvckI7CiAgICBjb25zdCByaSA9IGFwcGx5Rm9yY2Vfcmk7CiAgICBjb25zdCByaiA9IGFwcGx5Rm9yY2Vfcmo7CiAgICBjb25zdCByaV94X2YgPSBhcHBseUZvcmNlX3JpX3hfZjsKICAgIGNvbnN0IHJqX3hfZiA9IGFwcGx5Rm9yY2VfcmpfeF9mOyAvLyBHZXQgd29ybGQgYW5jaG9ycwoKICAgIHRoaXMuZ2V0V29ybGRBbmNob3JBKHdvcmxkQW5jaG9yQSk7CiAgICB0aGlzLmdldFdvcmxkQW5jaG9yQih3b3JsZEFuY2hvckIpOyAvLyBHZXQgb2Zmc2V0IHBvaW50cwoKICAgIHdvcmxkQW5jaG9yQS52c3ViKGJvZHlBLnBvc2l0aW9uLCByaSk7CiAgICB3b3JsZEFuY2hvckIudnN1Yihib2R5Qi5wb3NpdGlvbiwgcmopOyAvLyBDb21wdXRlIGRpc3RhbmNlIHZlY3RvciBiZXR3ZWVuIHdvcmxkIGFuY2hvciBwb2ludHMKCiAgICB3b3JsZEFuY2hvckIudnN1Yih3b3JsZEFuY2hvckEsIHIpOwogICAgY29uc3QgcmxlbiA9IHIubGVuZ3RoKCk7CiAgICByX3VuaXQuY29weShyKTsKICAgIHJfdW5pdC5ub3JtYWxpemUoKTsgLy8gQ29tcHV0ZSByZWxhdGl2ZSB2ZWxvY2l0eSBvZiB0aGUgYW5jaG9yIHBvaW50cywgdQoKICAgIGJvZHlCLnZlbG9jaXR5LnZzdWIoYm9keUEudmVsb2NpdHksIHUpOyAvLyBBZGQgcm90YXRpb25hbCB2ZWxvY2l0eQoKICAgIGJvZHlCLmFuZ3VsYXJWZWxvY2l0eS5jcm9zcyhyaiwgdG1wKTsKICAgIHUudmFkZCh0bXAsIHUpOwogICAgYm9keUEuYW5ndWxhclZlbG9jaXR5LmNyb3NzKHJpLCB0bXApOwogICAgdS52c3ViKHRtcCwgdSk7IC8vIEYgPSAtIGsgKiAoIHggLSBMICkgLSBEICogKCB1ICkKCiAgICByX3VuaXQuc2NhbGUoLWsgKiAocmxlbiAtIGwpIC0gZCAqIHUuZG90KHJfdW5pdCksIGYpOyAvLyBBZGQgZm9yY2VzIHRvIGJvZGllcwoKICAgIGJvZHlBLmZvcmNlLnZzdWIoZiwgYm9keUEuZm9yY2UpOwogICAgYm9keUIuZm9yY2UudmFkZChmLCBib2R5Qi5mb3JjZSk7IC8vIEFuZ3VsYXIgZm9yY2UKCiAgICByaS5jcm9zcyhmLCByaV94X2YpOwogICAgcmouY3Jvc3MoZiwgcmpfeF9mKTsKICAgIGJvZHlBLnRvcnF1ZS52c3ViKHJpX3hfZiwgYm9keUEudG9ycXVlKTsKICAgIGJvZHlCLnRvcnF1ZS52YWRkKHJqX3hfZiwgYm9keUIudG9ycXVlKTsKICB9Cgp9Cgpjb25zdCBhcHBseUZvcmNlX3IgPSBuZXcgVmVjMygpOwpjb25zdCBhcHBseUZvcmNlX3JfdW5pdCA9IG5ldyBWZWMzKCk7CmNvbnN0IGFwcGx5Rm9yY2VfdSA9IG5ldyBWZWMzKCk7CmNvbnN0IGFwcGx5Rm9yY2VfZiA9IG5ldyBWZWMzKCk7CmNvbnN0IGFwcGx5Rm9yY2Vfd29ybGRBbmNob3JBID0gbmV3IFZlYzMoKTsKY29uc3QgYXBwbHlGb3JjZV93b3JsZEFuY2hvckIgPSBuZXcgVmVjMygpOwpjb25zdCBhcHBseUZvcmNlX3JpID0gbmV3IFZlYzMoKTsKY29uc3QgYXBwbHlGb3JjZV9yaiA9IG5ldyBWZWMzKCk7CmNvbnN0IGFwcGx5Rm9yY2VfcmlfeF9mID0gbmV3IFZlYzMoKTsKY29uc3QgYXBwbHlGb3JjZV9yal94X2YgPSBuZXcgVmVjMygpOwpjb25zdCBhcHBseUZvcmNlX3RtcCA9IG5ldyBWZWMzKCk7CmNvbnN0IHRtcFJheSA9IG5ldyBSYXkoKTsKLyoqDQogKiBTcGhlcmljYWwgc2hhcGUNCiAqIEBjbGFzcyBTcGhlcmUNCiAqIEBjb25zdHJ1Y3Rvcg0KICogQGV4dGVuZHMgU2hhcGUNCiAqIEBwYXJhbSB7TnVtYmVyfSByYWRpdXMgVGhlIHJhZGl1cyBvZiB0aGUgc3BoZXJlLCBhIG5vbi1uZWdhdGl2ZSBudW1iZXIuDQogKiBAYXV0aG9yIHNjaHRlcHBlIC8gaHR0cDovL2dpdGh1Yi5jb20vc2NodGVwcGUNCiAqLwoKCmNsYXNzIFNwaGVyZSBleHRlbmRzIFNoYXBlIHsKICBjb25zdHJ1Y3RvcihyYWRpdXMpIHsKICAgIHN1cGVyKHsKICAgICAgdHlwZTogU2hhcGUudHlwZXMuU1BIRVJFCiAgICB9KTsKICAgIHRoaXMucmFkaXVzID0gcmFkaXVzICE9PSB1bmRlZmluZWQgPyByYWRpdXMgOiAxLjA7CgogICAgaWYgKHRoaXMucmFkaXVzIDwgMCkgewogICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoZSBzcGhlcmUgcmFkaXVzIGNhbm5vdCBiZSBuZWdhdGl2ZS4nKTsKICAgIH0KCiAgICB0aGlzLnVwZGF0ZUJvdW5kaW5nU3BoZXJlUmFkaXVzKCk7CiAgfQoKICBjYWxjdWxhdGVMb2NhbEluZXJ0aWEobWFzcywgdGFyZ2V0ID0gbmV3IFZlYzMoKSkgewogICAgY29uc3QgSSA9IDIuMCAqIG1hc3MgKiB0aGlzLnJhZGl1cyAqIHRoaXMucmFkaXVzIC8gNS4wOwogICAgdGFyZ2V0LnggPSBJOwogICAgdGFyZ2V0LnkgPSBJOwogICAgdGFyZ2V0LnogPSBJOwogICAgcmV0dXJuIHRhcmdldDsKICB9CgogIHZvbHVtZSgpIHsKICAgIHJldHVybiA0LjAgKiBNYXRoLlBJICogTWF0aC5wb3codGhpcy5yYWRpdXMsIDMpIC8gMy4wOwogIH0KCiAgdXBkYXRlQm91bmRpbmdTcGhlcmVSYWRpdXMoKSB7CiAgICB0aGlzLmJvdW5kaW5nU3BoZXJlUmFkaXVzID0gdGhpcy5yYWRpdXM7CiAgfQoKICBjYWxjdWxhdGVXb3JsZEFBQkIocG9zLCBxdWF0LCBtaW4sIG1heCkgewogICAgY29uc3QgciA9IHRoaXMucmFkaXVzOwogICAgY29uc3QgYXhlcyA9IFsneCcsICd5JywgJ3onXTsKCiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGF4ZXMubGVuZ3RoOyBpKyspIHsKICAgICAgY29uc3QgYXggPSBheGVzW2ldOwogICAgICBtaW5bYXhdID0gcG9zW2F4XSAtIHI7CiAgICAgIG1heFtheF0gPSBwb3NbYXhdICsgcjsKICAgIH0KICB9Cgp9Ci8qKg0KICogQGNsYXNzIEN5bGluZGVyDQogKiBAY29uc3RydWN0b3INCiAqIEBleHRlbmRzIENvbnZleFBvbHloZWRyb24NCiAqIEBhdXRob3Igc2NodGVwcGUgLyBodHRwczovL2dpdGh1Yi5jb20vc2NodGVwcGUNCiAqIEBwYXJhbSB7TnVtYmVyfSByYWRpdXNUb3ANCiAqIEBwYXJhbSB7TnVtYmVyfSByYWRpdXNCb3R0b20NCiAqIEBwYXJhbSB7TnVtYmVyfSBoZWlnaHQNCiAqIEBwYXJhbSB7TnVtYmVyfSBudW1TZWdtZW50cyBUaGUgbnVtYmVyIG9mIHNlZ21lbnRzIHRvIGJ1aWxkIHRoZSBjeWxpbmRlciBvdXQgb2YNCiAqLwoKY2xhc3MgQ3lsaW5kZXIgZXh0ZW5kcyBDb252ZXhQb2x5aGVkcm9uIHsKICBjb25zdHJ1Y3RvcihyYWRpdXNUb3AsIHJhZGl1c0JvdHRvbSwgaGVpZ2h0LCBudW1TZWdtZW50cykgewogICAgY29uc3QgTiA9IG51bVNlZ21lbnRzOwogICAgY29uc3QgdmVydGljZXMgPSBbXTsKICAgIGNvbnN0IGF4ZXMgPSBbXTsKICAgIGNvbnN0IGZhY2VzID0gW107CiAgICBjb25zdCBib3R0b21mYWNlID0gW107CiAgICBjb25zdCB0b3BmYWNlID0gW107CiAgICBjb25zdCBjb3MgPSBNYXRoLmNvczsKICAgIGNvbnN0IHNpbiA9IE1hdGguc2luOyAvLyBGaXJzdCBib3R0b20gcG9pbnQKCiAgICB2ZXJ0aWNlcy5wdXNoKG5ldyBWZWMzKC1yYWRpdXNCb3R0b20gKiBzaW4oMCksIC1oZWlnaHQgKiAwLjUsIHJhZGl1c0JvdHRvbSAqIGNvcygwKSkpOwogICAgYm90dG9tZmFjZS5wdXNoKDApOyAvLyBGaXJzdCB0b3AgcG9pbnQKCiAgICB2ZXJ0aWNlcy5wdXNoKG5ldyBWZWMzKC1yYWRpdXNUb3AgKiBzaW4oMCksIGhlaWdodCAqIDAuNSwgcmFkaXVzVG9wICogY29zKDApKSk7CiAgICB0b3BmYWNlLnB1c2goMSk7CgogICAgZm9yIChsZXQgaSA9IDA7IGkgPCBOOyBpKyspIHsKICAgICAgY29uc3QgdGhldGEgPSAyICogTWF0aC5QSSAvIE4gKiAoaSArIDEpOwogICAgICBjb25zdCB0aGV0YU4gPSAyICogTWF0aC5QSSAvIE4gKiAoaSArIDAuNSk7CgogICAgICBpZiAoaSA8IE4gLSAxKSB7CiAgICAgICAgLy8gQm90dG9tCiAgICAgICAgdmVydGljZXMucHVzaChuZXcgVmVjMygtcmFkaXVzQm90dG9tICogc2luKHRoZXRhKSwgLWhlaWdodCAqIDAuNSwgcmFkaXVzQm90dG9tICogY29zKHRoZXRhKSkpOwogICAgICAgIGJvdHRvbWZhY2UucHVzaCgyICogaSArIDIpOyAvLyBUb3AKCiAgICAgICAgdmVydGljZXMucHVzaChuZXcgVmVjMygtcmFkaXVzVG9wICogc2luKHRoZXRhKSwgaGVpZ2h0ICogMC41LCByYWRpdXNUb3AgKiBjb3ModGhldGEpKSk7CiAgICAgICAgdG9wZmFjZS5wdXNoKDIgKiBpICsgMyk7IC8vIEZhY2UKCiAgICAgICAgZmFjZXMucHVzaChbMiAqIGksIDIgKiBpICsgMSwgMiAqIGkgKyAzLCAyICogaSArIDJdKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBmYWNlcy5wdXNoKFsyICogaSwgMiAqIGkgKyAxLCAxLCAwXSk7IC8vIENvbm5lY3QKICAgICAgfSAvLyBBeGlzOiB3ZSBjYW4gY3V0IG9mZiBoYWxmIG9mIHRoZW0gaWYgd2UgaGF2ZSBldmVuIG51bWJlciBvZiBzZWdtZW50cwoKCiAgICAgIGlmIChOICUgMiA9PT0gMSB8fCBpIDwgTiAvIDIpIHsKICAgICAgICBheGVzLnB1c2gobmV3IFZlYzMoLXNpbih0aGV0YU4pLCAwLCBjb3ModGhldGFOKSkpOwogICAgICB9CiAgICB9CgogICAgZmFjZXMucHVzaChib3R0b21mYWNlKTsKICAgIGF4ZXMucHVzaChuZXcgVmVjMygwLCAxLCAwKSk7IC8vIFJlb3JkZXIgdG9wIGZhY2UKCiAgICBjb25zdCB0ZW1wID0gW107CgogICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0b3BmYWNlLmxlbmd0aDsgaSsrKSB7CiAgICAgIHRlbXAucHVzaCh0b3BmYWNlW3RvcGZhY2UubGVuZ3RoIC0gaSAtIDFdKTsKICAgIH0KCiAgICBmYWNlcy5wdXNoKHRlbXApOwogICAgc3VwZXIoewogICAgICB2ZXJ0aWNlcywKICAgICAgZmFjZXMsCiAgICAgIGF4ZXMKICAgIH0pOwogIH0KCn0KLyoqDQogKiBQYXJ0aWNsZSBzaGFwZS4NCiAqIEBjbGFzcyBQYXJ0aWNsZQ0KICogQGNvbnN0cnVjdG9yDQogKiBAYXV0aG9yIHNjaHRlcHBlDQogKiBAZXh0ZW5kcyBTaGFwZQ0KICovCgoKY2xhc3MgUGFydGljbGUgZXh0ZW5kcyBTaGFwZSB7CiAgY29uc3RydWN0b3IoKSB7CiAgICBzdXBlcih7CiAgICAgIHR5cGU6IFNoYXBlLnR5cGVzLlBBUlRJQ0xFCiAgICB9KTsKICB9CiAgLyoqDQogICAqIEBtZXRob2QgY2FsY3VsYXRlTG9jYWxJbmVydGlhDQogICAqIEBwYXJhbSAge051bWJlcn0gbWFzcw0KICAgKiBAcGFyYW0gIHtWZWMzfSB0YXJnZXQNCiAgICogQHJldHVybiB7VmVjM30NCiAgICovCgoKICBjYWxjdWxhdGVMb2NhbEluZXJ0aWEobWFzcywgdGFyZ2V0ID0gbmV3IFZlYzMoKSkgewogICAgdGFyZ2V0LnNldCgwLCAwLCAwKTsKICAgIHJldHVybiB0YXJnZXQ7CiAgfQoKICB2b2x1bWUoKSB7CiAgICByZXR1cm4gMDsKICB9CgogIHVwZGF0ZUJvdW5kaW5nU3BoZXJlUmFkaXVzKCkgewogICAgdGhpcy5ib3VuZGluZ1NwaGVyZVJhZGl1cyA9IDA7CiAgfQoKICBjYWxjdWxhdGVXb3JsZEFBQkIocG9zLCBxdWF0LCBtaW4sIG1heCkgewogICAgLy8gR2V0IGVhY2ggYXhpcyBtYXgKICAgIG1pbi5jb3B5KHBvcyk7CiAgICBtYXguY29weShwb3MpOwogIH0KCn0KLyoqDQogKiBBIHBsYW5lLCBmYWNpbmcgaW4gdGhlIFogZGlyZWN0aW9uLiBUaGUgcGxhbmUgaGFzIGl0cyBzdXJmYWNlIGF0IHo9MCBhbmQgZXZlcnl0aGluZyBiZWxvdyB6PTAgaXMgYXNzdW1lZCB0byBiZSBzb2xpZCBwbGFuZS4gVG8gbWFrZSB0aGUgcGxhbmUgZmFjZSBpbiBzb21lIG90aGVyIGRpcmVjdGlvbiB0aGFuIHosIHlvdSBtdXN0IHB1dCBpdCBpbnNpZGUgYSBCb2R5IGFuZCByb3RhdGUgdGhhdCBib2R5LiBTZWUgdGhlIGRlbW9zLg0KICogQGNsYXNzIFBsYW5lDQogKiBAY29uc3RydWN0b3INCiAqIEBleHRlbmRzIFNoYXBlDQogKiBAYXV0aG9yIHNjaHRlcHBlDQogKi8KCgpjbGFzcyBQbGFuZSBleHRlbmRzIFNoYXBlIHsKICBjb25zdHJ1Y3RvcigpIHsKICAgIHN1cGVyKHsKICAgICAgdHlwZTogU2hhcGUudHlwZXMuUExBTkUKICAgIH0pOyAvLyBXb3JsZCBvcmllbnRlZCBub3JtYWwKCiAgICB0aGlzLndvcmxkTm9ybWFsID0gbmV3IFZlYzMoKTsKICAgIHRoaXMud29ybGROb3JtYWxOZWVkc1VwZGF0ZSA9IHRydWU7CiAgICB0aGlzLmJvdW5kaW5nU3BoZXJlUmFkaXVzID0gTnVtYmVyLk1BWF9WQUxVRTsKICB9CgogIGNvbXB1dGVXb3JsZE5vcm1hbChxdWF0KSB7CiAgICBjb25zdCBuID0gdGhpcy53b3JsZE5vcm1hbDsKICAgIG4uc2V0KDAsIDAsIDEpOwogICAgcXVhdC52bXVsdChuLCBuKTsKICAgIHRoaXMud29ybGROb3JtYWxOZWVkc1VwZGF0ZSA9IGZhbHNlOwogIH0KCiAgY2FsY3VsYXRlTG9jYWxJbmVydGlhKG1hc3MsIHRhcmdldCA9IG5ldyBWZWMzKCkpIHsKICAgIHJldHVybiB0YXJnZXQ7CiAgfQoKICB2b2x1bWUoKSB7CiAgICByZXR1cm4gKC8vIFRoZSBwbGFuZSBpcyBpbmZpbml0ZS4uLgogICAgICBOdW1iZXIuTUFYX1ZBTFVFCiAgICApOwogIH0KCiAgY2FsY3VsYXRlV29ybGRBQUJCKHBvcywgcXVhdCwgbWluLCBtYXgpIHsKICAgIC8vIFRoZSBwbGFuZSBBQUJCIGlzIGluZmluaXRlLCBleGNlcHQgaWYgdGhlIG5vcm1hbCBpcyBwb2ludGluZyBhbG9uZyBhbnkgYXhpcwogICAgdGVtcE5vcm1hbC5zZXQoMCwgMCwgMSk7IC8vIERlZmF1bHQgcGxhbmUgbm9ybWFsIGlzIHoKCiAgICBxdWF0LnZtdWx0KHRlbXBOb3JtYWwsIHRlbXBOb3JtYWwpOwogICAgY29uc3QgbWF4VmFsID0gTnVtYmVyLk1BWF9WQUxVRTsKICAgIG1pbi5zZXQoLW1heFZhbCwgLW1heFZhbCwgLW1heFZhbCk7CiAgICBtYXguc2V0KG1heFZhbCwgbWF4VmFsLCBtYXhWYWwpOwoKICAgIGlmICh0ZW1wTm9ybWFsLnggPT09IDEpIHsKICAgICAgbWF4LnggPSBwb3MueDsKICAgIH0gZWxzZSBpZiAodGVtcE5vcm1hbC54ID09PSAtMSkgewogICAgICBtaW4ueCA9IHBvcy54OwogICAgfQoKICAgIGlmICh0ZW1wTm9ybWFsLnkgPT09IDEpIHsKICAgICAgbWF4LnkgPSBwb3MueTsKICAgIH0gZWxzZSBpZiAodGVtcE5vcm1hbC55ID09PSAtMSkgewogICAgICBtaW4ueSA9IHBvcy55OwogICAgfQoKICAgIGlmICh0ZW1wTm9ybWFsLnogPT09IDEpIHsKICAgICAgbWF4LnogPSBwb3MuejsKICAgIH0gZWxzZSBpZiAodGVtcE5vcm1hbC56ID09PSAtMSkgewogICAgICBtaW4ueiA9IHBvcy56OwogICAgfQogIH0KCiAgdXBkYXRlQm91bmRpbmdTcGhlcmVSYWRpdXMoKSB7CiAgICB0aGlzLmJvdW5kaW5nU3BoZXJlUmFkaXVzID0gTnVtYmVyLk1BWF9WQUxVRTsKICB9Cgp9Cgpjb25zdCB0ZW1wTm9ybWFsID0gbmV3IFZlYzMoKTsKLyoqDQogKiBIZWlnaHRmaWVsZCBzaGFwZSBjbGFzcy4gSGVpZ2h0IGRhdGEgaXMgZ2l2ZW4gYXMgYW4gYXJyYXkuIFRoZXNlIGRhdGEgcG9pbnRzIGFyZSBzcHJlYWQgb3V0IGV2ZW5seSB3aXRoIGEgZ2l2ZW4gZGlzdGFuY2UuDQogKiBAY2xhc3MgSGVpZ2h0ZmllbGQNCiAqIEBleHRlbmRzIFNoYXBlDQogKiBAY29uc3RydWN0b3INCiAqIEBwYXJhbSB7QXJyYXl9IGRhdGEgQW4gYXJyYXkgb2YgWSB2YWx1ZXMgdGhhdCB3aWxsIGJlIHVzZWQgdG8gY29uc3RydWN0IHRoZSB0ZXJyYWluLg0KICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbnMNCiAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy5taW5WYWx1ZV0gTWluaW11bSB2YWx1ZSBvZiB0aGUgZGF0YSBwb2ludHMgaW4gdGhlIGRhdGEgYXJyYXkuIFdpbGwgYmUgY29tcHV0ZWQgYXV0b21hdGljYWxseSBpZiBub3QgZ2l2ZW4uDQogKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMubWF4VmFsdWVdIE1heGltdW0gdmFsdWUuDQogKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMuZWxlbWVudFNpemU9MC4xXSBXb3JsZCBzcGFjaW5nIGJldHdlZW4gdGhlIGRhdGEgcG9pbnRzIGluIFggZGlyZWN0aW9uLg0KICogQHRvZG8gU2hvdWxkIGJlIHBvc3NpYmxlIHRvIHVzZSBhbG9uZyBhbGwgYXhlcywgbm90IGp1c3QgeQ0KICogQHRvZG8gc2hvdWxkIGJlIHBvc3NpYmxlIHRvIHNjYWxlIGFsb25nIGFsbCBheGVzDQogKiBAdG9kbyBSZWZhY3RvciBlbGVtZW50U2l6ZSB0byBlbGVtZW50U2l6ZVggYW5kIGVsZW1lbnRTaXplWQ0KICoNCiAqIEBleGFtcGxlDQogKiAgICAgLy8gR2VuZXJhdGUgc29tZSBoZWlnaHQgZGF0YSAoeS12YWx1ZXMpLg0KICogICAgIGNvbnN0IGRhdGEgPSBbXTsNCiAqICAgICBmb3IobGV0IGkgPSAwOyBpIDwgMTAwMDsgaSsrKXsNCiAqICAgICAgICAgY29uc3QgeSA9IDAuNSAqIE1hdGguY29zKDAuMiAqIGkpOw0KICogICAgICAgICBkYXRhLnB1c2goeSk7DQogKiAgICAgfQ0KICoNCiAqICAgICAvLyBDcmVhdGUgdGhlIGhlaWdodGZpZWxkIHNoYXBlDQogKiAgICAgY29uc3QgaGVpZ2h0ZmllbGRTaGFwZSA9IG5ldyBIZWlnaHRmaWVsZChkYXRhLCB7DQogKiAgICAgICAgIGVsZW1lbnRTaXplOiAxIC8vIERpc3RhbmNlIGJldHdlZW4gdGhlIGRhdGEgcG9pbnRzIGluIFggYW5kIFkgZGlyZWN0aW9ucw0KICogICAgIH0pOw0KICogICAgIGNvbnN0IGhlaWdodGZpZWxkQm9keSA9IG5ldyBCb2R5KCk7DQogKiAgICAgaGVpZ2h0ZmllbGRCb2R5LmFkZFNoYXBlKGhlaWdodGZpZWxkU2hhcGUpOw0KICogICAgIHdvcmxkLmFkZEJvZHkoaGVpZ2h0ZmllbGRCb2R5KTsNCiAqLwoKY2xhc3MgSGVpZ2h0ZmllbGQgZXh0ZW5kcyBTaGFwZSB7CiAgLy8gQW4gYXJyYXkgb2YgbnVtYmVycywgb3IgaGVpZ2h0IHZhbHVlcywgdGhhdCBhcmUgc3ByZWFkIG91dCBhbG9uZyB0aGUgeCBheGlzLgogIC8vIE1heCB2YWx1ZSBvZiB0aGUgZGF0YS4KICAvLyBNYXggdmFsdWUgb2YgdGhlIGRhdGEuCiAgLy8gVGhlIHdpZHRoIG9mIGVhY2ggZWxlbWVudC4gVG8gZG86IGVsZW1lbnRTaXplWCBhbmQgWQogIGNvbnN0cnVjdG9yKGRhdGEsIG9wdGlvbnMgPSB7fSkgewogICAgb3B0aW9ucyA9IFV0aWxzLmRlZmF1bHRzKG9wdGlvbnMsIHsKICAgICAgbWF4VmFsdWU6IG51bGwsCiAgICAgIG1pblZhbHVlOiBudWxsLAogICAgICBlbGVtZW50U2l6ZTogMQogICAgfSk7CiAgICBzdXBlcih7CiAgICAgIHR5cGU6IFNoYXBlLnR5cGVzLkhFSUdIVEZJRUxECiAgICB9KTsKICAgIHRoaXMuZGF0YSA9IGRhdGE7CiAgICB0aGlzLm1heFZhbHVlID0gb3B0aW9ucy5tYXhWYWx1ZTsKICAgIHRoaXMubWluVmFsdWUgPSBvcHRpb25zLm1pblZhbHVlOwogICAgdGhpcy5lbGVtZW50U2l6ZSA9IG9wdGlvbnMuZWxlbWVudFNpemU7CgogICAgaWYgKG9wdGlvbnMubWluVmFsdWUgPT09IG51bGwpIHsKICAgICAgdGhpcy51cGRhdGVNaW5WYWx1ZSgpOwogICAgfQoKICAgIGlmIChvcHRpb25zLm1heFZhbHVlID09PSBudWxsKSB7CiAgICAgIHRoaXMudXBkYXRlTWF4VmFsdWUoKTsKICAgIH0KCiAgICB0aGlzLmNhY2hlRW5hYmxlZCA9IHRydWU7CiAgICB0aGlzLnBpbGxhckNvbnZleCA9IG5ldyBDb252ZXhQb2x5aGVkcm9uKCk7CiAgICB0aGlzLnBpbGxhck9mZnNldCA9IG5ldyBWZWMzKCk7CiAgICB0aGlzLnVwZGF0ZUJvdW5kaW5nU3BoZXJlUmFkaXVzKCk7IC8vICJpX2pfaXNVcHBlciIgPT4geyBjb252ZXg6IC4uLiwgb2Zmc2V0OiAuLi4gfQogICAgLy8gZm9yIGV4YW1wbGU6CiAgICAvLyBfY2FjaGVkUGlsbGFyc1siMF8yXzEiXQoKICAgIHRoaXMuX2NhY2hlZFBpbGxhcnMgPSB7fTsKICB9CiAgLyoqDQogICAqIENhbGwgd2hlbmV2ZXIgeW91IGNoYW5nZSB0aGUgZGF0YSBhcnJheS4NCiAgICogQG1ldGhvZCB1cGRhdGUNCiAgICovCgoKICB1cGRhdGUoKSB7CiAgICB0aGlzLl9jYWNoZWRQaWxsYXJzID0ge307CiAgfQogIC8qKg0KICAgKiBVcGRhdGUgdGhlIC5taW5WYWx1ZSBwcm9wZXJ0eQ0KICAgKiBAbWV0aG9kIHVwZGF0ZU1pblZhbHVlDQogICAqLwoKCiAgdXBkYXRlTWluVmFsdWUoKSB7CiAgICBjb25zdCBkYXRhID0gdGhpcy5kYXRhOwogICAgbGV0IG1pblZhbHVlID0gZGF0YVswXVswXTsKCiAgICBmb3IgKGxldCBpID0gMDsgaSAhPT0gZGF0YS5sZW5ndGg7IGkrKykgewogICAgICBmb3IgKGxldCBqID0gMDsgaiAhPT0gZGF0YVtpXS5sZW5ndGg7IGorKykgewogICAgICAgIGNvbnN0IHYgPSBkYXRhW2ldW2pdOwoKICAgICAgICBpZiAodiA8IG1pblZhbHVlKSB7CiAgICAgICAgICBtaW5WYWx1ZSA9IHY7CiAgICAgICAgfQogICAgICB9CiAgICB9CgogICAgdGhpcy5taW5WYWx1ZSA9IG1pblZhbHVlOwogIH0KICAvKioNCiAgICogVXBkYXRlIHRoZSAubWF4VmFsdWUgcHJvcGVydHkNCiAgICogQG1ldGhvZCB1cGRhdGVNYXhWYWx1ZQ0KICAgKi8KCgogIHVwZGF0ZU1heFZhbHVlKCkgewogICAgY29uc3QgZGF0YSA9IHRoaXMuZGF0YTsKICAgIGxldCBtYXhWYWx1ZSA9IGRhdGFbMF1bMF07CgogICAgZm9yIChsZXQgaSA9IDA7IGkgIT09IGRhdGEubGVuZ3RoOyBpKyspIHsKICAgICAgZm9yIChsZXQgaiA9IDA7IGogIT09IGRhdGFbaV0ubGVuZ3RoOyBqKyspIHsKICAgICAgICBjb25zdCB2ID0gZGF0YVtpXVtqXTsKCiAgICAgICAgaWYgKHYgPiBtYXhWYWx1ZSkgewogICAgICAgICAgbWF4VmFsdWUgPSB2OwogICAgICAgIH0KICAgICAgfQogICAgfQoKICAgIHRoaXMubWF4VmFsdWUgPSBtYXhWYWx1ZTsKICB9CiAgLyoqDQogICAqIFNldCB0aGUgaGVpZ2h0IHZhbHVlIGF0IGFuIGluZGV4LiBEb24ndCBmb3JnZXQgdG8gdXBkYXRlIG1heFZhbHVlIGFuZCBtaW5WYWx1ZSBhZnRlciB5b3UncmUgZG9uZS4NCiAgICogQG1ldGhvZCBzZXRIZWlnaHRWYWx1ZUF0SW5kZXgNCiAgICogQHBhcmFtIHtpbnRlZ2VyfSB4aQ0KICAgKiBAcGFyYW0ge2ludGVnZXJ9IHlpDQogICAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZQ0KICAgKi8KCgogIHNldEhlaWdodFZhbHVlQXRJbmRleCh4aSwgeWksIHZhbHVlKSB7CiAgICBjb25zdCBkYXRhID0gdGhpcy5kYXRhOwogICAgZGF0YVt4aV1beWldID0gdmFsdWU7IC8vIEludmFsaWRhdGUgY2FjaGUKCiAgICB0aGlzLmNsZWFyQ2FjaGVkQ29udmV4VHJpYW5nbGVQaWxsYXIoeGksIHlpLCBmYWxzZSk7CgogICAgaWYgKHhpID4gMCkgewogICAgICB0aGlzLmNsZWFyQ2FjaGVkQ29udmV4VHJpYW5nbGVQaWxsYXIoeGkgLSAxLCB5aSwgdHJ1ZSk7CiAgICAgIHRoaXMuY2xlYXJDYWNoZWRDb252ZXhUcmlhbmdsZVBpbGxhcih4aSAtIDEsIHlpLCBmYWxzZSk7CiAgICB9CgogICAgaWYgKHlpID4gMCkgewogICAgICB0aGlzLmNsZWFyQ2FjaGVkQ29udmV4VHJpYW5nbGVQaWxsYXIoeGksIHlpIC0gMSwgdHJ1ZSk7CiAgICAgIHRoaXMuY2xlYXJDYWNoZWRDb252ZXhUcmlhbmdsZVBpbGxhcih4aSwgeWkgLSAxLCBmYWxzZSk7CiAgICB9CgogICAgaWYgKHlpID4gMCAmJiB4aSA+IDApIHsKICAgICAgdGhpcy5jbGVhckNhY2hlZENvbnZleFRyaWFuZ2xlUGlsbGFyKHhpIC0gMSwgeWkgLSAxLCB0cnVlKTsKICAgIH0KICB9CiAgLyoqDQogICAqIEdldCBtYXgvbWluIGluIGEgcmVjdGFuZ2xlIGluIHRoZSBtYXRyaXggZGF0YQ0KICAgKiBAbWV0aG9kIGdldFJlY3RNaW5NYXgNCiAgICogQHBhcmFtICB7aW50ZWdlcn0gaU1pblgNCiAgICogQHBhcmFtICB7aW50ZWdlcn0gaU1pblkNCiAgICogQHBhcmFtICB7aW50ZWdlcn0gaU1heFgNCiAgICogQHBhcmFtICB7aW50ZWdlcn0gaU1heFkNCiAgICogQHBhcmFtICB7YXJyYXl9IFtyZXN1bHRdIEFuIGFycmF5IHRvIHN0b3JlIHRoZSByZXN1bHRzIGluLg0KICAgKiBAcmV0dXJuIHthcnJheX0gVGhlIHJlc3VsdCBhcnJheSwgaWYgaXQgd2FzIHBhc3NlZCBpbi4gTWluaW11bSB3aWxsIGJlIGF0IHBvc2l0aW9uIDAgYW5kIG1heCBhdCAxLg0KICAgKi8KCgogIGdldFJlY3RNaW5NYXgoaU1pblgsIGlNaW5ZLCBpTWF4WCwgaU1heFksIHJlc3VsdCA9IFtdKSB7CiAgICAvLyBHZXQgbWF4IGFuZCBtaW4gb2YgdGhlIGRhdGEKICAgIGNvbnN0IGRhdGEgPSB0aGlzLmRhdGE7IC8vIFNldCBmaXJzdCB2YWx1ZQoKICAgIGxldCBtYXggPSB0aGlzLm1pblZhbHVlOwoKICAgIGZvciAobGV0IGkgPSBpTWluWDsgaSA8PSBpTWF4WDsgaSsrKSB7CiAgICAgIGZvciAobGV0IGogPSBpTWluWTsgaiA8PSBpTWF4WTsgaisrKSB7CiAgICAgICAgY29uc3QgaGVpZ2h0ID0gZGF0YVtpXVtqXTsKCiAgICAgICAgaWYgKGhlaWdodCA+IG1heCkgewogICAgICAgICAgbWF4ID0gaGVpZ2h0OwogICAgICAgIH0KICAgICAgfQogICAgfQoKICAgIHJlc3VsdFswXSA9IHRoaXMubWluVmFsdWU7CiAgICByZXN1bHRbMV0gPSBtYXg7CiAgfQogIC8qKg0KICAgKiBHZXQgdGhlIGluZGV4IG9mIGEgbG9jYWwgcG9zaXRpb24gb24gdGhlIGhlaWdodGZpZWxkLiBUaGUgaW5kZXhlcyBpbmRpY2F0ZSB0aGUgcmVjdGFuZ2xlcywgc28gaWYgeW91ciB0ZXJyYWluIGlzIG1hZGUgb2YgTiB4IE4gaGVpZ2h0IGRhdGEgcG9pbnRzLCB5b3Ugd2lsbCBoYXZlIHJlY3RhbmdsZSBpbmRleGVzIHJhbmdpbmcgZnJvbSAwIHRvIE4tMS4NCiAgICogQG1ldGhvZCBnZXRJbmRleE9mUG9zaXRpb24NCiAgICogQHBhcmFtICB7bnVtYmVyfSB4DQogICAqIEBwYXJhbSAge251bWJlcn0geQ0KICAgKiBAcGFyYW0gIHthcnJheX0gcmVzdWx0IFR3by1lbGVtZW50IGFycmF5DQogICAqIEBwYXJhbSAge2Jvb2xlYW59IGNsYW1wIElmIHRoZSBwb3NpdGlvbiBzaG91bGQgYmUgY2xhbXBlZCB0byB0aGUgaGVpZ2h0ZmllbGQgZWRnZS4NCiAgICogQHJldHVybiB7Ym9vbGVhbn0NCiAgICovCgoKICBnZXRJbmRleE9mUG9zaXRpb24oeCwgeSwgcmVzdWx0LCBjbGFtcCkgewogICAgLy8gR2V0IHRoZSBpbmRleCBvZiB0aGUgZGF0YSBwb2ludHMgdG8gdGVzdCBhZ2FpbnN0CiAgICBjb25zdCB3ID0gdGhpcy5lbGVtZW50U2l6ZTsKICAgIGNvbnN0IGRhdGEgPSB0aGlzLmRhdGE7CiAgICBsZXQgeGkgPSBNYXRoLmZsb29yKHggLyB3KTsKICAgIGxldCB5aSA9IE1hdGguZmxvb3IoeSAvIHcpOwogICAgcmVzdWx0WzBdID0geGk7CiAgICByZXN1bHRbMV0gPSB5aTsKCiAgICBpZiAoY2xhbXApIHsKICAgICAgLy8gQ2xhbXAgaW5kZXggdG8gZWRnZXMKICAgICAgaWYgKHhpIDwgMCkgewogICAgICAgIHhpID0gMDsKICAgICAgfQoKICAgICAgaWYgKHlpIDwgMCkgewogICAgICAgIHlpID0gMDsKICAgICAgfQoKICAgICAgaWYgKHhpID49IGRhdGEubGVuZ3RoIC0gMSkgewogICAgICAgIHhpID0gZGF0YS5sZW5ndGggLSAxOwogICAgICB9CgogICAgICBpZiAoeWkgPj0gZGF0YVswXS5sZW5ndGggLSAxKSB7CiAgICAgICAgeWkgPSBkYXRhWzBdLmxlbmd0aCAtIDE7CiAgICAgIH0KICAgIH0gLy8gQmFpbCBvdXQgaWYgd2UgYXJlIG91dCBvZiB0aGUgdGVycmFpbgoKCiAgICBpZiAoeGkgPCAwIHx8IHlpIDwgMCB8fCB4aSA+PSBkYXRhLmxlbmd0aCAtIDEgfHwgeWkgPj0gZGF0YVswXS5sZW5ndGggLSAxKSB7CiAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KCiAgICByZXR1cm4gdHJ1ZTsKICB9CgogIGdldFRyaWFuZ2xlQXQoeCwgeSwgZWRnZUNsYW1wLCBhLCBiLCBjKSB7CiAgICBjb25zdCBpZHggPSBnZXRIZWlnaHRBdF9pZHg7CiAgICB0aGlzLmdldEluZGV4T2ZQb3NpdGlvbih4LCB5LCBpZHgsIGVkZ2VDbGFtcCk7CiAgICBsZXQgeGkgPSBpZHhbMF07CiAgICBsZXQgeWkgPSBpZHhbMV07CiAgICBjb25zdCBkYXRhID0gdGhpcy5kYXRhOwoKICAgIGlmIChlZGdlQ2xhbXApIHsKICAgICAgeGkgPSBNYXRoLm1pbihkYXRhLmxlbmd0aCAtIDIsIE1hdGgubWF4KDAsIHhpKSk7CiAgICAgIHlpID0gTWF0aC5taW4oZGF0YVswXS5sZW5ndGggLSAyLCBNYXRoLm1heCgwLCB5aSkpOwogICAgfQoKICAgIGNvbnN0IGVsZW1lbnRTaXplID0gdGhpcy5lbGVtZW50U2l6ZTsKICAgIGNvbnN0IGxvd2VyRGlzdDIgPSAoeCAvIGVsZW1lbnRTaXplIC0geGkpICoqIDIgKyAoeSAvIGVsZW1lbnRTaXplIC0geWkpICoqIDI7CiAgICBjb25zdCB1cHBlckRpc3QyID0gKHggLyBlbGVtZW50U2l6ZSAtICh4aSArIDEpKSAqKiAyICsgKHkgLyBlbGVtZW50U2l6ZSAtICh5aSArIDEpKSAqKiAyOwogICAgY29uc3QgdXBwZXIgPSBsb3dlckRpc3QyID4gdXBwZXJEaXN0MjsKICAgIHRoaXMuZ2V0VHJpYW5nbGUoeGksIHlpLCB1cHBlciwgYSwgYiwgYyk7CiAgICByZXR1cm4gdXBwZXI7CiAgfQoKICBnZXROb3JtYWxBdCh4LCB5LCBlZGdlQ2xhbXAsIHJlc3VsdCkgewogICAgY29uc3QgYSA9IGdldE5vcm1hbEF0X2E7CiAgICBjb25zdCBiID0gZ2V0Tm9ybWFsQXRfYjsKICAgIGNvbnN0IGMgPSBnZXROb3JtYWxBdF9jOwogICAgY29uc3QgZTAgPSBnZXROb3JtYWxBdF9lMDsKICAgIGNvbnN0IGUxID0gZ2V0Tm9ybWFsQXRfZTE7CiAgICB0aGlzLmdldFRyaWFuZ2xlQXQoeCwgeSwgZWRnZUNsYW1wLCBhLCBiLCBjKTsKICAgIGIudnN1YihhLCBlMCk7CiAgICBjLnZzdWIoYSwgZTEpOwogICAgZTAuY3Jvc3MoZTEsIHJlc3VsdCk7CiAgICByZXN1bHQubm9ybWFsaXplKCk7CiAgfQogIC8qKg0KICAgKiBHZXQgYW4gQUFCQiBvZiBhIHNxdWFyZSBpbiB0aGUgaGVpZ2h0ZmllbGQNCiAgICogQHBhcmFtICB7bnVtYmVyfSB4aQ0KICAgKiBAcGFyYW0gIHtudW1iZXJ9IHlpDQogICAqIEBwYXJhbSAge0FBQkJ9IHJlc3VsdA0KICAgKi8KCgogIGdldEFhYmJBdEluZGV4KHhpLCB5aSwgewogICAgbG93ZXJCb3VuZCwKICAgIHVwcGVyQm91bmQKICB9KSB7CiAgICBjb25zdCBkYXRhID0gdGhpcy5kYXRhOwogICAgY29uc3QgZWxlbWVudFNpemUgPSB0aGlzLmVsZW1lbnRTaXplOwogICAgbG93ZXJCb3VuZC5zZXQoeGkgKiBlbGVtZW50U2l6ZSwgeWkgKiBlbGVtZW50U2l6ZSwgZGF0YVt4aV1beWldKTsKICAgIHVwcGVyQm91bmQuc2V0KCh4aSArIDEpICogZWxlbWVudFNpemUsICh5aSArIDEpICogZWxlbWVudFNpemUsIGRhdGFbeGkgKyAxXVt5aSArIDFdKTsKICB9CiAgLyoqDQogICAqIEdldCB0aGUgaGVpZ2h0IGluIHRoZSBoZWlnaHRmaWVsZCBhdCBhIGdpdmVuIHBvc2l0aW9uDQogICAqIEBwYXJhbSAge251bWJlcn0geA0KICAgKiBAcGFyYW0gIHtudW1iZXJ9IHkNCiAgICogQHBhcmFtICB7Ym9vbGVhbn0gZWRnZUNsYW1wDQogICAqIEByZXR1cm4ge251bWJlcn0NCiAgICovCgoKICBnZXRIZWlnaHRBdCh4LCB5LCBlZGdlQ2xhbXApIHsKICAgIGNvbnN0IGRhdGEgPSB0aGlzLmRhdGE7CiAgICBjb25zdCBhID0gZ2V0SGVpZ2h0QXRfYTsKICAgIGNvbnN0IGIgPSBnZXRIZWlnaHRBdF9iOwogICAgY29uc3QgYyA9IGdldEhlaWdodEF0X2M7CiAgICBjb25zdCBpZHggPSBnZXRIZWlnaHRBdF9pZHg7CiAgICB0aGlzLmdldEluZGV4T2ZQb3NpdGlvbih4LCB5LCBpZHgsIGVkZ2VDbGFtcCk7CiAgICBsZXQgeGkgPSBpZHhbMF07CiAgICBsZXQgeWkgPSBpZHhbMV07CgogICAgaWYgKGVkZ2VDbGFtcCkgewogICAgICB4aSA9IE1hdGgubWluKGRhdGEubGVuZ3RoIC0gMiwgTWF0aC5tYXgoMCwgeGkpKTsKICAgICAgeWkgPSBNYXRoLm1pbihkYXRhWzBdLmxlbmd0aCAtIDIsIE1hdGgubWF4KDAsIHlpKSk7CiAgICB9CgogICAgY29uc3QgdXBwZXIgPSB0aGlzLmdldFRyaWFuZ2xlQXQoeCwgeSwgZWRnZUNsYW1wLCBhLCBiLCBjKTsKICAgIGJhcnljZW50cmljV2VpZ2h0cyh4LCB5LCBhLngsIGEueSwgYi54LCBiLnksIGMueCwgYy55LCBnZXRIZWlnaHRBdF93ZWlnaHRzKTsKICAgIGNvbnN0IHcgPSBnZXRIZWlnaHRBdF93ZWlnaHRzOwoKICAgIGlmICh1cHBlcikgewogICAgICAvLyBUb3AgdHJpYW5nbGUgdmVydHMKICAgICAgcmV0dXJuIGRhdGFbeGkgKyAxXVt5aSArIDFdICogdy54ICsgZGF0YVt4aV1beWkgKyAxXSAqIHcueSArIGRhdGFbeGkgKyAxXVt5aV0gKiB3Lno7CiAgICB9IGVsc2UgewogICAgICAvLyBUb3AgdHJpYW5nbGUgdmVydHMKICAgICAgcmV0dXJuIGRhdGFbeGldW3lpXSAqIHcueCArIGRhdGFbeGkgKyAxXVt5aV0gKiB3LnkgKyBkYXRhW3hpXVt5aSArIDFdICogdy56OwogICAgfQogIH0KCiAgZ2V0Q2FjaGVDb252ZXhUcmlhbmdsZVBpbGxhcktleSh4aSwgeWksIGdldFVwcGVyVHJpYW5nbGUpIHsKICAgIHJldHVybiB4aSArICJfIiArIHlpICsgIl8iICsgKGdldFVwcGVyVHJpYW5nbGUgPyAxIDogMCk7CiAgfQoKICBnZXRDYWNoZWRDb252ZXhUcmlhbmdsZVBpbGxhcih4aSwgeWksIGdldFVwcGVyVHJpYW5nbGUpIHsKICAgIHJldHVybiB0aGlzLl9jYWNoZWRQaWxsYXJzW3RoaXMuZ2V0Q2FjaGVDb252ZXhUcmlhbmdsZVBpbGxhcktleSh4aSwgeWksIGdldFVwcGVyVHJpYW5nbGUpXTsKICB9CgogIHNldENhY2hlZENvbnZleFRyaWFuZ2xlUGlsbGFyKHhpLCB5aSwgZ2V0VXBwZXJUcmlhbmdsZSwgY29udmV4LCBvZmZzZXQpIHsKICAgIHRoaXMuX2NhY2hlZFBpbGxhcnNbdGhpcy5nZXRDYWNoZUNvbnZleFRyaWFuZ2xlUGlsbGFyS2V5KHhpLCB5aSwgZ2V0VXBwZXJUcmlhbmdsZSldID0gewogICAgICBjb252ZXgsCiAgICAgIG9mZnNldAogICAgfTsKICB9CgogIGNsZWFyQ2FjaGVkQ29udmV4VHJpYW5nbGVQaWxsYXIoeGksIHlpLCBnZXRVcHBlclRyaWFuZ2xlKSB7CiAgICBkZWxldGUgdGhpcy5fY2FjaGVkUGlsbGFyc1t0aGlzLmdldENhY2hlQ29udmV4VHJpYW5nbGVQaWxsYXJLZXkoeGksIHlpLCBnZXRVcHBlclRyaWFuZ2xlKV07CiAgfQogIC8qKg0KICAgKiBHZXQgYSB0cmlhbmdsZSBmcm9tIHRoZSBoZWlnaHRmaWVsZA0KICAgKiBAcGFyYW0gIHtudW1iZXJ9IHhpDQogICAqIEBwYXJhbSAge251bWJlcn0geWkNCiAgICogQHBhcmFtICB7Ym9vbGVhbn0gdXBwZXINCiAgICogQHBhcmFtICB7VmVjM30gYQ0KICAgKiBAcGFyYW0gIHtWZWMzfSBiDQogICAqIEBwYXJhbSAge1ZlYzN9IGMNCiAgICovCgoKICBnZXRUcmlhbmdsZSh4aSwgeWksIHVwcGVyLCBhLCBiLCBjKSB7CiAgICBjb25zdCBkYXRhID0gdGhpcy5kYXRhOwogICAgY29uc3QgZWxlbWVudFNpemUgPSB0aGlzLmVsZW1lbnRTaXplOwoKICAgIGlmICh1cHBlcikgewogICAgICAvLyBUb3AgdHJpYW5nbGUgdmVydHMKICAgICAgYS5zZXQoKHhpICsgMSkgKiBlbGVtZW50U2l6ZSwgKHlpICsgMSkgKiBlbGVtZW50U2l6ZSwgZGF0YVt4aSArIDFdW3lpICsgMV0pOwogICAgICBiLnNldCh4aSAqIGVsZW1lbnRTaXplLCAoeWkgKyAxKSAqIGVsZW1lbnRTaXplLCBkYXRhW3hpXVt5aSArIDFdKTsKICAgICAgYy5zZXQoKHhpICsgMSkgKiBlbGVtZW50U2l6ZSwgeWkgKiBlbGVtZW50U2l6ZSwgZGF0YVt4aSArIDFdW3lpXSk7CiAgICB9IGVsc2UgewogICAgICAvLyBUb3AgdHJpYW5nbGUgdmVydHMKICAgICAgYS5zZXQoeGkgKiBlbGVtZW50U2l6ZSwgeWkgKiBlbGVtZW50U2l6ZSwgZGF0YVt4aV1beWldKTsKICAgICAgYi5zZXQoKHhpICsgMSkgKiBlbGVtZW50U2l6ZSwgeWkgKiBlbGVtZW50U2l6ZSwgZGF0YVt4aSArIDFdW3lpXSk7CiAgICAgIGMuc2V0KHhpICogZWxlbWVudFNpemUsICh5aSArIDEpICogZWxlbWVudFNpemUsIGRhdGFbeGldW3lpICsgMV0pOwogICAgfQogIH0KICAvKioNCiAgICogR2V0IGEgdHJpYW5nbGUgaW4gdGhlIHRlcnJhaW4gaW4gdGhlIGZvcm0gb2YgYSB0cmlhbmd1bGFyIGNvbnZleCBzaGFwZS4NCiAgICogQG1ldGhvZCBnZXRDb252ZXhUcmlhbmdsZVBpbGxhcg0KICAgKiBAcGFyYW0gIHtpbnRlZ2VyfSBpDQogICAqIEBwYXJhbSAge2ludGVnZXJ9IGoNCiAgICogQHBhcmFtICB7Ym9vbGVhbn0gZ2V0VXBwZXJUcmlhbmdsZQ0KICAgKi8KCgogIGdldENvbnZleFRyaWFuZ2xlUGlsbGFyKHhpLCB5aSwgZ2V0VXBwZXJUcmlhbmdsZSkgewogICAgbGV0IHJlc3VsdCA9IHRoaXMucGlsbGFyQ29udmV4OwogICAgbGV0IG9mZnNldFJlc3VsdCA9IHRoaXMucGlsbGFyT2Zmc2V0OwoKICAgIGlmICh0aGlzLmNhY2hlRW5hYmxlZCkgewogICAgICBjb25zdCBkYXRhID0gdGhpcy5nZXRDYWNoZWRDb252ZXhUcmlhbmdsZVBpbGxhcih4aSwgeWksIGdldFVwcGVyVHJpYW5nbGUpOwoKICAgICAgaWYgKGRhdGEpIHsKICAgICAgICB0aGlzLnBpbGxhckNvbnZleCA9IGRhdGEuY29udmV4OwogICAgICAgIHRoaXMucGlsbGFyT2Zmc2V0ID0gZGF0YS5vZmZzZXQ7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICByZXN1bHQgPSBuZXcgQ29udmV4UG9seWhlZHJvbigpOwogICAgICBvZmZzZXRSZXN1bHQgPSBuZXcgVmVjMygpOwogICAgICB0aGlzLnBpbGxhckNvbnZleCA9IHJlc3VsdDsKICAgICAgdGhpcy5waWxsYXJPZmZzZXQgPSBvZmZzZXRSZXN1bHQ7CiAgICB9CgogICAgY29uc3QgZGF0YSA9IHRoaXMuZGF0YTsKICAgIGNvbnN0IGVsZW1lbnRTaXplID0gdGhpcy5lbGVtZW50U2l6ZTsKICAgIGNvbnN0IGZhY2VzID0gcmVzdWx0LmZhY2VzOyAvLyBSZXVzZSB2ZXJ0cyBpZiBwb3NzaWJsZQoKICAgIHJlc3VsdC52ZXJ0aWNlcy5sZW5ndGggPSA2OwoKICAgIGZvciAobGV0IGkgPSAwOyBpIDwgNjsgaSsrKSB7CiAgICAgIGlmICghcmVzdWx0LnZlcnRpY2VzW2ldKSB7CiAgICAgICAgcmVzdWx0LnZlcnRpY2VzW2ldID0gbmV3IFZlYzMoKTsKICAgICAgfQogICAgfSAvLyBSZXVzZSBmYWNlcyBpZiBwb3NzaWJsZQoKCiAgICBmYWNlcy5sZW5ndGggPSA1OwoKICAgIGZvciAobGV0IGkgPSAwOyBpIDwgNTsgaSsrKSB7CiAgICAgIGlmICghZmFjZXNbaV0pIHsKICAgICAgICBmYWNlc1tpXSA9IFtdOwogICAgICB9CiAgICB9CgogICAgY29uc3QgdmVydHMgPSByZXN1bHQudmVydGljZXM7CiAgICBjb25zdCBoID0gKE1hdGgubWluKGRhdGFbeGldW3lpXSwgZGF0YVt4aSArIDFdW3lpXSwgZGF0YVt4aV1beWkgKyAxXSwgZGF0YVt4aSArIDFdW3lpICsgMV0pIC0gdGhpcy5taW5WYWx1ZSkgLyAyICsgdGhpcy5taW5WYWx1ZTsKCiAgICBpZiAoIWdldFVwcGVyVHJpYW5nbGUpIHsKICAgICAgLy8gQ2VudGVyIG9mIHRoZSB0cmlhbmdsZSBwaWxsYXIgLSBhbGwgcG9seWdvbnMgYXJlIGdpdmVuIHJlbGF0aXZlIHRvIHRoaXMgb25lCiAgICAgIG9mZnNldFJlc3VsdC5zZXQoKHhpICsgMC4yNSkgKiBlbGVtZW50U2l6ZSwgLy8gc29ydCBvZiBjZW50ZXIgb2YgYSB0cmlhbmdsZQogICAgICAoeWkgKyAwLjI1KSAqIGVsZW1lbnRTaXplLCBoIC8vIHZlcnRpY2FsIGNlbnRlcgogICAgICApOyAvLyBUb3AgdHJpYW5nbGUgdmVydHMKCiAgICAgIHZlcnRzWzBdLnNldCgtMC4yNSAqIGVsZW1lbnRTaXplLCAtMC4yNSAqIGVsZW1lbnRTaXplLCBkYXRhW3hpXVt5aV0gLSBoKTsKICAgICAgdmVydHNbMV0uc2V0KDAuNzUgKiBlbGVtZW50U2l6ZSwgLTAuMjUgKiBlbGVtZW50U2l6ZSwgZGF0YVt4aSArIDFdW3lpXSAtIGgpOwogICAgICB2ZXJ0c1syXS5zZXQoLTAuMjUgKiBlbGVtZW50U2l6ZSwgMC43NSAqIGVsZW1lbnRTaXplLCBkYXRhW3hpXVt5aSArIDFdIC0gaCk7IC8vIGJvdHRvbSB0cmlhbmdsZSB2ZXJ0cwoKICAgICAgdmVydHNbM10uc2V0KC0wLjI1ICogZWxlbWVudFNpemUsIC0wLjI1ICogZWxlbWVudFNpemUsIC1oIC0gMSk7CiAgICAgIHZlcnRzWzRdLnNldCgwLjc1ICogZWxlbWVudFNpemUsIC0wLjI1ICogZWxlbWVudFNpemUsIC1oIC0gMSk7CiAgICAgIHZlcnRzWzVdLnNldCgtMC4yNSAqIGVsZW1lbnRTaXplLCAwLjc1ICogZWxlbWVudFNpemUsIC1oIC0gMSk7IC8vIHRvcCB0cmlhbmdsZQoKICAgICAgZmFjZXNbMF1bMF0gPSAwOwogICAgICBmYWNlc1swXVsxXSA9IDE7CiAgICAgIGZhY2VzWzBdWzJdID0gMjsgLy8gYm90dG9tIHRyaWFuZ2xlCgogICAgICBmYWNlc1sxXVswXSA9IDU7CiAgICAgIGZhY2VzWzFdWzFdID0gNDsKICAgICAgZmFjZXNbMV1bMl0gPSAzOyAvLyAteCBmYWNpbmcgcXVhZAoKICAgICAgZmFjZXNbMl1bMF0gPSAwOwogICAgICBmYWNlc1syXVsxXSA9IDI7CiAgICAgIGZhY2VzWzJdWzJdID0gNTsKICAgICAgZmFjZXNbMl1bM10gPSAzOyAvLyAteSBmYWNpbmcgcXVhZAoKICAgICAgZmFjZXNbM11bMF0gPSAxOwogICAgICBmYWNlc1szXVsxXSA9IDA7CiAgICAgIGZhY2VzWzNdWzJdID0gMzsKICAgICAgZmFjZXNbM11bM10gPSA0OyAvLyAreHkgZmFjaW5nIHF1YWQKCiAgICAgIGZhY2VzWzRdWzBdID0gNDsKICAgICAgZmFjZXNbNF1bMV0gPSA1OwogICAgICBmYWNlc1s0XVsyXSA9IDI7CiAgICAgIGZhY2VzWzRdWzNdID0gMTsKICAgIH0gZWxzZSB7CiAgICAgIC8vIENlbnRlciBvZiB0aGUgdHJpYW5nbGUgcGlsbGFyIC0gYWxsIHBvbHlnb25zIGFyZSBnaXZlbiByZWxhdGl2ZSB0byB0aGlzIG9uZQogICAgICBvZmZzZXRSZXN1bHQuc2V0KCh4aSArIDAuNzUpICogZWxlbWVudFNpemUsIC8vIHNvcnQgb2YgY2VudGVyIG9mIGEgdHJpYW5nbGUKICAgICAgKHlpICsgMC43NSkgKiBlbGVtZW50U2l6ZSwgaCAvLyB2ZXJ0aWNhbCBjZW50ZXIKICAgICAgKTsgLy8gVG9wIHRyaWFuZ2xlIHZlcnRzCgogICAgICB2ZXJ0c1swXS5zZXQoMC4yNSAqIGVsZW1lbnRTaXplLCAwLjI1ICogZWxlbWVudFNpemUsIGRhdGFbeGkgKyAxXVt5aSArIDFdIC0gaCk7CiAgICAgIHZlcnRzWzFdLnNldCgtMC43NSAqIGVsZW1lbnRTaXplLCAwLjI1ICogZWxlbWVudFNpemUsIGRhdGFbeGldW3lpICsgMV0gLSBoKTsKICAgICAgdmVydHNbMl0uc2V0KDAuMjUgKiBlbGVtZW50U2l6ZSwgLTAuNzUgKiBlbGVtZW50U2l6ZSwgZGF0YVt4aSArIDFdW3lpXSAtIGgpOyAvLyBib3R0b20gdHJpYW5nbGUgdmVydHMKCiAgICAgIHZlcnRzWzNdLnNldCgwLjI1ICogZWxlbWVudFNpemUsIDAuMjUgKiBlbGVtZW50U2l6ZSwgLWggLSAxKTsKICAgICAgdmVydHNbNF0uc2V0KC0wLjc1ICogZWxlbWVudFNpemUsIDAuMjUgKiBlbGVtZW50U2l6ZSwgLWggLSAxKTsKICAgICAgdmVydHNbNV0uc2V0KDAuMjUgKiBlbGVtZW50U2l6ZSwgLTAuNzUgKiBlbGVtZW50U2l6ZSwgLWggLSAxKTsgLy8gVG9wIHRyaWFuZ2xlCgogICAgICBmYWNlc1swXVswXSA9IDA7CiAgICAgIGZhY2VzWzBdWzFdID0gMTsKICAgICAgZmFjZXNbMF1bMl0gPSAyOyAvLyBib3R0b20gdHJpYW5nbGUKCiAgICAgIGZhY2VzWzFdWzBdID0gNTsKICAgICAgZmFjZXNbMV1bMV0gPSA0OwogICAgICBmYWNlc1sxXVsyXSA9IDM7IC8vICt4IGZhY2luZyBxdWFkCgogICAgICBmYWNlc1syXVswXSA9IDI7CiAgICAgIGZhY2VzWzJdWzFdID0gNTsKICAgICAgZmFjZXNbMl1bMl0gPSAzOwogICAgICBmYWNlc1syXVszXSA9IDA7IC8vICt5IGZhY2luZyBxdWFkCgogICAgICBmYWNlc1szXVswXSA9IDM7CiAgICAgIGZhY2VzWzNdWzFdID0gNDsKICAgICAgZmFjZXNbM11bMl0gPSAxOwogICAgICBmYWNlc1szXVszXSA9IDA7IC8vIC14eSBmYWNpbmcgcXVhZAoKICAgICAgZmFjZXNbNF1bMF0gPSAxOwogICAgICBmYWNlc1s0XVsxXSA9IDQ7CiAgICAgIGZhY2VzWzRdWzJdID0gNTsKICAgICAgZmFjZXNbNF1bM10gPSAyOwogICAgfQoKICAgIHJlc3VsdC5jb21wdXRlTm9ybWFscygpOwogICAgcmVzdWx0LmNvbXB1dGVFZGdlcygpOwogICAgcmVzdWx0LnVwZGF0ZUJvdW5kaW5nU3BoZXJlUmFkaXVzKCk7CiAgICB0aGlzLnNldENhY2hlZENvbnZleFRyaWFuZ2xlUGlsbGFyKHhpLCB5aSwgZ2V0VXBwZXJUcmlhbmdsZSwgcmVzdWx0LCBvZmZzZXRSZXN1bHQpOwogIH0KCiAgY2FsY3VsYXRlTG9jYWxJbmVydGlhKG1hc3MsIHRhcmdldCA9IG5ldyBWZWMzKCkpIHsKICAgIHRhcmdldC5zZXQoMCwgMCwgMCk7CiAgICByZXR1cm4gdGFyZ2V0OwogIH0KCiAgdm9sdW1lKCkgewogICAgcmV0dXJuICgvLyBUaGUgdGVycmFpbiBpcyBpbmZpbml0ZQogICAgICBOdW1iZXIuTUFYX1ZBTFVFCiAgICApOwogIH0KCiAgY2FsY3VsYXRlV29ybGRBQUJCKHBvcywgcXVhdCwgbWluLCBtYXgpIHsKICAgIC8vIFRPRE86IGRvIGl0IHByb3Blcmx5CiAgICBtaW4uc2V0KC1OdW1iZXIuTUFYX1ZBTFVFLCAtTnVtYmVyLk1BWF9WQUxVRSwgLU51bWJlci5NQVhfVkFMVUUpOwogICAgbWF4LnNldChOdW1iZXIuTUFYX1ZBTFVFLCBOdW1iZXIuTUFYX1ZBTFVFLCBOdW1iZXIuTUFYX1ZBTFVFKTsKICB9CgogIHVwZGF0ZUJvdW5kaW5nU3BoZXJlUmFkaXVzKCkgewogICAgLy8gVXNlIHRoZSBib3VuZGluZyBib3ggb2YgdGhlIG1pbi9tYXggdmFsdWVzCiAgICBjb25zdCBkYXRhID0gdGhpcy5kYXRhOwogICAgY29uc3QgcyA9IHRoaXMuZWxlbWVudFNpemU7CiAgICB0aGlzLmJvdW5kaW5nU3BoZXJlUmFkaXVzID0gbmV3IFZlYzMoZGF0YS5sZW5ndGggKiBzLCBkYXRhWzBdLmxlbmd0aCAqIHMsIE1hdGgubWF4KE1hdGguYWJzKHRoaXMubWF4VmFsdWUpLCBNYXRoLmFicyh0aGlzLm1pblZhbHVlKSkpLmxlbmd0aCgpOwogIH0KICAvKioNCiAgICogU2V0cyB0aGUgaGVpZ2h0IHZhbHVlcyBmcm9tIGFuIGltYWdlLiBDdXJyZW50bHkgb25seSBzdXBwb3J0ZWQgaW4gYnJvd3Nlci4NCiAgICogQG1ldGhvZCBzZXRIZWlnaHRzRnJvbUltYWdlDQogICAqIEBwYXJhbSB7SW1hZ2V9IGltYWdlDQogICAqIEBwYXJhbSB7VmVjM30gc2NhbGUNCiAgICovCgoKICBzZXRIZWlnaHRzRnJvbUltYWdlKGltYWdlLCBzY2FsZSkgewogICAgY29uc3QgewogICAgICB4LAogICAgICB6LAogICAgICB5CiAgICB9ID0gc2NhbGU7CiAgICBjb25zdCBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTsKICAgIGNhbnZhcy53aWR0aCA9IGltYWdlLndpZHRoOwogICAgY2FudmFzLmhlaWdodCA9IGltYWdlLmhlaWdodDsKICAgIGNvbnN0IGNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTsKICAgIGNvbnRleHQuZHJhd0ltYWdlKGltYWdlLCAwLCAwKTsKICAgIGNvbnN0IGltYWdlRGF0YSA9IGNvbnRleHQuZ2V0SW1hZ2VEYXRhKDAsIDAsIGltYWdlLndpZHRoLCBpbWFnZS5oZWlnaHQpOwogICAgY29uc3QgbWF0cml4ID0gdGhpcy5kYXRhOwogICAgbWF0cml4Lmxlbmd0aCA9IDA7CiAgICB0aGlzLmVsZW1lbnRTaXplID0gTWF0aC5hYnMoeCkgLyBpbWFnZURhdGEud2lkdGg7CgogICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpbWFnZURhdGEuaGVpZ2h0OyBpKyspIHsKICAgICAgY29uc3Qgcm93ID0gW107CgogICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGltYWdlRGF0YS53aWR0aDsgaisrKSB7CiAgICAgICAgY29uc3QgYSA9IGltYWdlRGF0YS5kYXRhWyhpICogaW1hZ2VEYXRhLmhlaWdodCArIGopICogNF07CiAgICAgICAgY29uc3QgYiA9IGltYWdlRGF0YS5kYXRhWyhpICogaW1hZ2VEYXRhLmhlaWdodCArIGopICogNCArIDFdOwogICAgICAgIGNvbnN0IGMgPSBpbWFnZURhdGEuZGF0YVsoaSAqIGltYWdlRGF0YS5oZWlnaHQgKyBqKSAqIDQgKyAyXTsKICAgICAgICBjb25zdCBoZWlnaHQgPSAoYSArIGIgKyBjKSAvIDQgLyAyNTUgKiB6OwoKICAgICAgICBpZiAoeCA8IDApIHsKICAgICAgICAgIHJvdy5wdXNoKGhlaWdodCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHJvdy51bnNoaWZ0KGhlaWdodCk7CiAgICAgICAgfQogICAgICB9CgogICAgICBpZiAoeSA8IDApIHsKICAgICAgICBtYXRyaXgudW5zaGlmdChyb3cpOwogICAgICB9IGVsc2UgewogICAgICAgIG1hdHJpeC5wdXNoKHJvdyk7CiAgICAgIH0KICAgIH0KCiAgICB0aGlzLnVwZGF0ZU1heFZhbHVlKCk7CiAgICB0aGlzLnVwZGF0ZU1pblZhbHVlKCk7CiAgICB0aGlzLnVwZGF0ZSgpOwogIH0KCn0KCmNvbnN0IGdldEhlaWdodEF0X2lkeCA9IFtdOwpjb25zdCBnZXRIZWlnaHRBdF93ZWlnaHRzID0gbmV3IFZlYzMoKTsKY29uc3QgZ2V0SGVpZ2h0QXRfYSA9IG5ldyBWZWMzKCk7CmNvbnN0IGdldEhlaWdodEF0X2IgPSBuZXcgVmVjMygpOwpjb25zdCBnZXRIZWlnaHRBdF9jID0gbmV3IFZlYzMoKTsKY29uc3QgZ2V0Tm9ybWFsQXRfYSA9IG5ldyBWZWMzKCk7CmNvbnN0IGdldE5vcm1hbEF0X2IgPSBuZXcgVmVjMygpOwpjb25zdCBnZXROb3JtYWxBdF9jID0gbmV3IFZlYzMoKTsKY29uc3QgZ2V0Tm9ybWFsQXRfZTAgPSBuZXcgVmVjMygpOwpjb25zdCBnZXROb3JtYWxBdF9lMSA9IG5ldyBWZWMzKCk7IC8vIGZyb20gaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQmFyeWNlbnRyaWNfY29vcmRpbmF0ZV9zeXN0ZW0KCmZ1bmN0aW9uIGJhcnljZW50cmljV2VpZ2h0cyh4LCB5LCBheCwgYXksIGJ4LCBieSwgY3gsIGN5LCByZXN1bHQpIHsKICByZXN1bHQueCA9ICgoYnkgLSBjeSkgKiAoeCAtIGN4KSArIChjeCAtIGJ4KSAqICh5IC0gY3kpKSAvICgoYnkgLSBjeSkgKiAoYXggLSBjeCkgKyAoY3ggLSBieCkgKiAoYXkgLSBjeSkpOwogIHJlc3VsdC55ID0gKChjeSAtIGF5KSAqICh4IC0gY3gpICsgKGF4IC0gY3gpICogKHkgLSBjeSkpIC8gKChieSAtIGN5KSAqIChheCAtIGN4KSArIChjeCAtIGJ4KSAqIChheSAtIGN5KSk7CiAgcmVzdWx0LnogPSAxIC0gcmVzdWx0LnggLSByZXN1bHQueTsKfQovKioNCiAqIEBjbGFzcyBPY3RyZWVOb2RlDQogKiBAY29uc3RydWN0b3INCiAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10NCiAqIEBwYXJhbSB7T2N0cmVlfSBbb3B0aW9ucy5yb290XQ0KICogQHBhcmFtIHtBQUJCfSBbb3B0aW9ucy5hYWJiXQ0KICovCgoKY2xhc3MgT2N0cmVlTm9kZSB7CiAgLy8gVGhlIHJvb3Qgbm9kZQogIC8vIEJvdW5kYXJ5IG9mIHRoaXMgbm9kZQogIC8vIENvbnRhaW5lZCBkYXRhIGF0IHRoZSBjdXJyZW50IG5vZGUgbGV2ZWwKICAvLyBDaGlsZHJlbiB0byB0aGlzIG5vZGUKICBjb25zdHJ1Y3RvcihvcHRpb25zID0ge30pIHsKICAgIHRoaXMucm9vdCA9IG9wdGlvbnMucm9vdCB8fCBudWxsOwogICAgdGhpcy5hYWJiID0gb3B0aW9ucy5hYWJiID8gb3B0aW9ucy5hYWJiLmNsb25lKCkgOiBuZXcgQUFCQigpOwogICAgdGhpcy5kYXRhID0gW107CiAgICB0aGlzLmNoaWxkcmVuID0gW107CiAgfQoKICByZXNldCgpIHsKICAgIHRoaXMuY2hpbGRyZW4ubGVuZ3RoID0gdGhpcy5kYXRhLmxlbmd0aCA9IDA7CiAgfQogIC8qKg0KICAgKiBJbnNlcnQgZGF0YSBpbnRvIHRoaXMgbm9kZQ0KICAgKiBAbWV0aG9kIGluc2VydA0KICAgKiBAcGFyYW0gIHtBQUJCfSBhYWJiDQogICAqIEBwYXJhbSAge29iamVjdH0gZWxlbWVudERhdGENCiAgICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiBzdWNjZXNzZnVsLCBvdGhlcndpc2UgZmFsc2UNCiAgICovCgoKICBpbnNlcnQoYWFiYiwgZWxlbWVudERhdGEsIGxldmVsID0gMCkgewogICAgY29uc3Qgbm9kZURhdGEgPSB0aGlzLmRhdGE7IC8vIElnbm9yZSBvYmplY3RzIHRoYXQgZG8gbm90IGJlbG9uZyBpbiB0aGlzIG5vZGUKCiAgICBpZiAoIXRoaXMuYWFiYi5jb250YWlucyhhYWJiKSkgewogICAgICByZXR1cm4gZmFsc2U7IC8vIG9iamVjdCBjYW5ub3QgYmUgYWRkZWQKICAgIH0KCiAgICBjb25zdCBjaGlsZHJlbiA9IHRoaXMuY2hpbGRyZW47CiAgICBjb25zdCBtYXhEZXB0aCA9IHRoaXMubWF4RGVwdGggfHwgdGhpcy5yb290Lm1heERlcHRoOwoKICAgIGlmIChsZXZlbCA8IG1heERlcHRoKSB7CiAgICAgIC8vIFN1YmRpdmlkZSBpZiB0aGVyZSBhcmUgbm8gY2hpbGRyZW4geWV0CiAgICAgIGxldCBzdWJkaXZpZGVkID0gZmFsc2U7CgogICAgICBpZiAoIWNoaWxkcmVuLmxlbmd0aCkgewogICAgICAgIHRoaXMuc3ViZGl2aWRlKCk7CiAgICAgICAgc3ViZGl2aWRlZCA9IHRydWU7CiAgICAgIH0gLy8gYWRkIHRvIHdoaWNoZXZlciBub2RlIHdpbGwgYWNjZXB0IGl0CgoKICAgICAgZm9yIChsZXQgaSA9IDA7IGkgIT09IDg7IGkrKykgewogICAgICAgIGlmIChjaGlsZHJlbltpXS5pbnNlcnQoYWFiYiwgZWxlbWVudERhdGEsIGxldmVsICsgMSkpIHsKICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0KICAgICAgfQoKICAgICAgaWYgKHN1YmRpdmlkZWQpIHsKICAgICAgICAvLyBObyBjaGlsZHJlbiBhY2NlcHRlZCEgTWlnaHQgYXMgd2VsbCBqdXN0IHJlbW92ZSBlbSBzaW5jZSB0aGV5IGNvbnRhaW4gbm9uZQogICAgICAgIGNoaWxkcmVuLmxlbmd0aCA9IDA7CiAgICAgIH0KICAgIH0gLy8gVG9vIGRlZXAsIG9yIGNoaWxkcmVuIGRpZG50IHdhbnQgaXQuIGFkZCBpdCBpbiBjdXJyZW50IG5vZGUKCgogICAgbm9kZURhdGEucHVzaChlbGVtZW50RGF0YSk7CiAgICByZXR1cm4gdHJ1ZTsKICB9CiAgLyoqDQogICAqIENyZWF0ZSA4IGVxdWFsbHkgc2l6ZWQgY2hpbGRyZW4gbm9kZXMgYW5kIHB1dCB0aGVtIGluIHRoZSAuY2hpbGRyZW4gYXJyYXkuDQogICAqIEBtZXRob2Qgc3ViZGl2aWRlDQogICAqLwoKCiAgc3ViZGl2aWRlKCkgewogICAgY29uc3QgYWFiYiA9IHRoaXMuYWFiYjsKICAgIGNvbnN0IGwgPSBhYWJiLmxvd2VyQm91bmQ7CiAgICBjb25zdCB1ID0gYWFiYi51cHBlckJvdW5kOwogICAgY29uc3QgY2hpbGRyZW4gPSB0aGlzLmNoaWxkcmVuOwogICAgY2hpbGRyZW4ucHVzaChuZXcgT2N0cmVlTm9kZSh7CiAgICAgIGFhYmI6IG5ldyBBQUJCKHsKICAgICAgICBsb3dlckJvdW5kOiBuZXcgVmVjMygwLCAwLCAwKQogICAgICB9KQogICAgfSksIG5ldyBPY3RyZWVOb2RlKHsKICAgICAgYWFiYjogbmV3IEFBQkIoewogICAgICAgIGxvd2VyQm91bmQ6IG5ldyBWZWMzKDEsIDAsIDApCiAgICAgIH0pCiAgICB9KSwgbmV3IE9jdHJlZU5vZGUoewogICAgICBhYWJiOiBuZXcgQUFCQih7CiAgICAgICAgbG93ZXJCb3VuZDogbmV3IFZlYzMoMSwgMSwgMCkKICAgICAgfSkKICAgIH0pLCBuZXcgT2N0cmVlTm9kZSh7CiAgICAgIGFhYmI6IG5ldyBBQUJCKHsKICAgICAgICBsb3dlckJvdW5kOiBuZXcgVmVjMygxLCAxLCAxKQogICAgICB9KQogICAgfSksIG5ldyBPY3RyZWVOb2RlKHsKICAgICAgYWFiYjogbmV3IEFBQkIoewogICAgICAgIGxvd2VyQm91bmQ6IG5ldyBWZWMzKDAsIDEsIDEpCiAgICAgIH0pCiAgICB9KSwgbmV3IE9jdHJlZU5vZGUoewogICAgICBhYWJiOiBuZXcgQUFCQih7CiAgICAgICAgbG93ZXJCb3VuZDogbmV3IFZlYzMoMCwgMCwgMSkKICAgICAgfSkKICAgIH0pLCBuZXcgT2N0cmVlTm9kZSh7CiAgICAgIGFhYmI6IG5ldyBBQUJCKHsKICAgICAgICBsb3dlckJvdW5kOiBuZXcgVmVjMygxLCAwLCAxKQogICAgICB9KQogICAgfSksIG5ldyBPY3RyZWVOb2RlKHsKICAgICAgYWFiYjogbmV3IEFBQkIoewogICAgICAgIGxvd2VyQm91bmQ6IG5ldyBWZWMzKDAsIDEsIDApCiAgICAgIH0pCiAgICB9KSk7CiAgICB1LnZzdWIobCwgaGFsZkRpYWdvbmFsKTsKICAgIGhhbGZEaWFnb25hbC5zY2FsZSgwLjUsIGhhbGZEaWFnb25hbCk7CiAgICBjb25zdCByb290ID0gdGhpcy5yb290IHx8IHRoaXM7CgogICAgZm9yIChsZXQgaSA9IDA7IGkgIT09IDg7IGkrKykgewogICAgICBjb25zdCBjaGlsZCA9IGNoaWxkcmVuW2ldOyAvLyBTZXQgY3VycmVudCBub2RlIGFzIHJvb3QKCiAgICAgIGNoaWxkLnJvb3QgPSByb290OyAvLyBDb21wdXRlIGJvdW5kcwoKICAgICAgY29uc3QgbG93ZXJCb3VuZCA9IGNoaWxkLmFhYmIubG93ZXJCb3VuZDsKICAgICAgbG93ZXJCb3VuZC54ICo9IGhhbGZEaWFnb25hbC54OwogICAgICBsb3dlckJvdW5kLnkgKj0gaGFsZkRpYWdvbmFsLnk7CiAgICAgIGxvd2VyQm91bmQueiAqPSBoYWxmRGlhZ29uYWwuejsKICAgICAgbG93ZXJCb3VuZC52YWRkKGwsIGxvd2VyQm91bmQpOyAvLyBVcHBlciBib3VuZCBpcyBhbHdheXMgbG93ZXIgYm91bmQgKyBoYWxmRGlhZ29uYWwKCiAgICAgIGxvd2VyQm91bmQudmFkZChoYWxmRGlhZ29uYWwsIGNoaWxkLmFhYmIudXBwZXJCb3VuZCk7CiAgICB9CiAgfQogIC8qKg0KICAgKiBHZXQgYWxsIGRhdGEsIHBvdGVudGlhbGx5IHdpdGhpbiBhbiBBQUJCDQogICAqIEBtZXRob2QgYWFiYlF1ZXJ5DQogICAqIEBwYXJhbSAge0FBQkJ9IGFhYmINCiAgICogQHBhcmFtICB7YXJyYXl9IHJlc3VsdA0KICAgKiBAcmV0dXJuIHthcnJheX0gVGhlICJyZXN1bHQiIG9iamVjdA0KICAgKi8KCgogIGFhYmJRdWVyeShhYWJiLCByZXN1bHQpIHsKICAgIGNvbnN0IG5vZGVEYXRhID0gdGhpcy5kYXRhOyAvLyBhYm9ydCBpZiB0aGUgcmFuZ2UgZG9lcyBub3QgaW50ZXJzZWN0IHRoaXMgbm9kZQogICAgLy8gaWYgKCF0aGlzLmFhYmIub3ZlcmxhcHMoYWFiYikpewogICAgLy8gICAgIHJldHVybiByZXN1bHQ7CiAgICAvLyB9CiAgICAvLyBBZGQgb2JqZWN0cyBhdCB0aGlzIGxldmVsCiAgICAvLyBBcnJheS5wcm90b3R5cGUucHVzaC5hcHBseShyZXN1bHQsIG5vZGVEYXRhKTsKICAgIC8vIEFkZCBjaGlsZCBkYXRhCiAgICAvLyBAdG9kbyB1bndyYXAgcmVjdXJzaW9uIGludG8gYSBxdWV1ZSAvIGxvb3AsIHRoYXQncyBmYXN0ZXIgaW4gSlMKCiAgICBjb25zdCBjaGlsZHJlbiA9IHRoaXMuY2hpbGRyZW47IC8vIGZvciAobGV0IGkgPSAwLCBOID0gdGhpcy5jaGlsZHJlbi5sZW5ndGg7IGkgIT09IE47IGkrKykgewogICAgLy8gICAgIGNoaWxkcmVuW2ldLmFhYmJRdWVyeShhYWJiLCByZXN1bHQpOwogICAgLy8gfQoKICAgIGNvbnN0IHF1ZXVlID0gW3RoaXNdOwoKICAgIHdoaWxlIChxdWV1ZS5sZW5ndGgpIHsKICAgICAgY29uc3Qgbm9kZSA9IHF1ZXVlLnBvcCgpOwoKICAgICAgaWYgKG5vZGUuYWFiYi5vdmVybGFwcyhhYWJiKSkgewogICAgICAgIEFycmF5LnByb3RvdHlwZS5wdXNoLmFwcGx5KHJlc3VsdCwgbm9kZS5kYXRhKTsKICAgICAgfQoKICAgICAgQXJyYXkucHJvdG90eXBlLnB1c2guYXBwbHkocXVldWUsIG5vZGUuY2hpbGRyZW4pOwogICAgfQoKICAgIHJldHVybiByZXN1bHQ7CiAgfQogIC8qKg0KICAgKiBHZXQgYWxsIGRhdGEsIHBvdGVudGlhbGx5IGludGVyc2VjdGVkIGJ5IGEgcmF5Lg0KICAgKiBAbWV0aG9kIHJheVF1ZXJ5DQogICAqIEBwYXJhbSAge1JheX0gcmF5DQogICAqIEBwYXJhbSAge1RyYW5zZm9ybX0gdHJlZVRyYW5zZm9ybQ0KICAgKiBAcGFyYW0gIHthcnJheX0gcmVzdWx0DQogICAqIEByZXR1cm4ge2FycmF5fSBUaGUgInJlc3VsdCIgb2JqZWN0DQogICAqLwoKCiAgcmF5UXVlcnkocmF5LCB0cmVlVHJhbnNmb3JtLCByZXN1bHQpIHsKICAgIC8vIFVzZSBhYWJiIHF1ZXJ5IGZvciBub3cuCiAgICAvLyBAdG9kbyBpbXBsZW1lbnQgcmVhbCByYXkgcXVlcnkgd2hpY2ggbmVlZHMgbGVzcyBsb29rdXBzCiAgICByYXkuZ2V0QUFCQih0bXBBQUJCJDEpOwogICAgdG1wQUFCQiQxLnRvTG9jYWxGcmFtZSh0cmVlVHJhbnNmb3JtLCB0bXBBQUJCJDEpOwogICAgdGhpcy5hYWJiUXVlcnkodG1wQUFCQiQxLCByZXN1bHQpOwogICAgcmV0dXJuIHJlc3VsdDsKICB9CiAgLyoqDQogICAqIEBtZXRob2QgcmVtb3ZlRW1wdHlOb2Rlcw0KICAgKi8KCgogIHJlbW92ZUVtcHR5Tm9kZXMoKSB7CiAgICBmb3IgKGxldCBpID0gdGhpcy5jaGlsZHJlbi5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgewogICAgICB0aGlzLmNoaWxkcmVuW2ldLnJlbW92ZUVtcHR5Tm9kZXMoKTsKCiAgICAgIGlmICghdGhpcy5jaGlsZHJlbltpXS5jaGlsZHJlbi5sZW5ndGggJiYgIXRoaXMuY2hpbGRyZW5baV0uZGF0YS5sZW5ndGgpIHsKICAgICAgICB0aGlzLmNoaWxkcmVuLnNwbGljZShpLCAxKTsKICAgICAgfQogICAgfQogIH0KCn0KLyoqDQogKiBAY2xhc3MgT2N0cmVlDQogKiBAcGFyYW0ge0FBQkJ9IGFhYmIgVGhlIHRvdGFsIEFBQkIgb2YgdGhlIHRyZWUNCiAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10NCiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5tYXhEZXB0aD04XSBNYXhpbXVtIHN1YmRpdmlzaW9uIGRlcHRoDQogKiBAZXh0ZW5kcyBPY3RyZWVOb2RlDQogKi8KCgpjbGFzcyBPY3RyZWUgZXh0ZW5kcyBPY3RyZWVOb2RlIHsKICAvLyBNYXhpbXVtIHN1YmRpdmlzaW9uIGRlcHRoCiAgY29uc3RydWN0b3IoYWFiYiwgb3B0aW9ucyA9IHt9KSB7CiAgICBzdXBlcih7CiAgICAgIHJvb3Q6IG51bGwsCiAgICAgIGFhYmIKICAgIH0pOwogICAgdGhpcy5tYXhEZXB0aCA9IHR5cGVvZiBvcHRpb25zLm1heERlcHRoICE9PSAndW5kZWZpbmVkJyA/IG9wdGlvbnMubWF4RGVwdGggOiA4OwogIH0KCn0KCmNvbnN0IGhhbGZEaWFnb25hbCA9IG5ldyBWZWMzKCk7CmNvbnN0IHRtcEFBQkIkMSA9IG5ldyBBQUJCKCk7Ci8qKg0KICogQGNsYXNzIFRyaW1lc2gNCiAqIEBjb25zdHJ1Y3Rvcg0KICogQHBhcmFtIHthcnJheX0gdmVydGljZXMNCiAqIEBwYXJhbSB7YXJyYXl9IGluZGljZXMNCiAqIEBleHRlbmRzIFNoYXBlDQogKiBAZXhhbXBsZQ0KICogICAgIC8vIEhvdyB0byBtYWtlIGEgbWVzaCB3aXRoIGEgc2luZ2xlIHRyaWFuZ2xlDQogKiAgICAgY29uc3QgdmVydGljZXMgPSBbDQogKiAgICAgICAgIDAsIDAsIDAsIC8vIHZlcnRleCAwDQogKiAgICAgICAgIDEsIDAsIDAsIC8vIHZlcnRleCAxDQogKiAgICAgICAgIDAsIDEsIDAgIC8vIHZlcnRleCAyDQogKiAgICAgXTsNCiAqICAgICBjb25zdCBpbmRpY2VzID0gWw0KICogICAgICAgICAwLCAxLCAyICAvLyB0cmlhbmdsZSAwDQogKiAgICAgXTsNCiAqICAgICBjb25zdCB0cmltZXNoU2hhcGUgPSBuZXcgVHJpbWVzaCh2ZXJ0aWNlcywgaW5kaWNlcyk7DQogKi8KCmNsYXNzIFRyaW1lc2ggZXh0ZW5kcyBTaGFwZSB7CiAgLy8gQXJyYXkgb2YgaW50ZWdlcnMsIGluZGljYXRpbmcgd2hpY2ggdmVydGljZXMgZWFjaCB0cmlhbmdsZSBjb25zaXN0cyBvZi4gVGhlIGxlbmd0aCBvZiB0aGlzIGFycmF5IGlzIHRodXMgMyB0aW1lcyB0aGUgbnVtYmVyIG9mIHRyaWFuZ2xlcy4KICAvLyBUaGUgbm9ybWFscyBkYXRhLgogIC8vIFRoZSBsb2NhbCBBQUJCIG9mIHRoZSBtZXNoLgogIC8vIFJlZmVyZW5jZXMgdG8gdmVydGV4IHBhaXJzLCBtYWtpbmcgdXAgYWxsIHVuaXF1ZSBlZGdlcyBpbiB0aGUgdHJpbWVzaC4KICAvLyBMb2NhbCBzY2FsaW5nIG9mIHRoZSBtZXNoLiBVc2UgLnNldFNjYWxlKCkgdG8gc2V0IGl0LgogIC8vIFRoZSBpbmRleGVkIHRyaWFuZ2xlcy4gVXNlIC51cGRhdGVUcmVlKCkgdG8gdXBkYXRlIGl0LgogIGNvbnN0cnVjdG9yKHZlcnRpY2VzLCBpbmRpY2VzKSB7CiAgICBzdXBlcih7CiAgICAgIHR5cGU6IFNoYXBlLnR5cGVzLlRSSU1FU0gKICAgIH0pOwogICAgdGhpcy52ZXJ0aWNlcyA9IG5ldyBGbG9hdDMyQXJyYXkodmVydGljZXMpOwogICAgdGhpcy5pbmRpY2VzID0gbmV3IEludDE2QXJyYXkoaW5kaWNlcyk7CiAgICB0aGlzLm5vcm1hbHMgPSBuZXcgRmxvYXQzMkFycmF5KGluZGljZXMubGVuZ3RoKTsKICAgIHRoaXMuYWFiYiA9IG5ldyBBQUJCKCk7CiAgICB0aGlzLmVkZ2VzID0gbnVsbDsKICAgIHRoaXMuc2NhbGUgPSBuZXcgVmVjMygxLCAxLCAxKTsKICAgIHRoaXMudHJlZSA9IG5ldyBPY3RyZWUoKTsKICAgIHRoaXMudXBkYXRlRWRnZXMoKTsKICAgIHRoaXMudXBkYXRlTm9ybWFscygpOwogICAgdGhpcy51cGRhdGVBQUJCKCk7CiAgICB0aGlzLnVwZGF0ZUJvdW5kaW5nU3BoZXJlUmFkaXVzKCk7CiAgICB0aGlzLnVwZGF0ZVRyZWUoKTsKICB9CiAgLyoqDQogICAqIEBtZXRob2QgdXBkYXRlVHJlZQ0KICAgKi8KCgogIHVwZGF0ZVRyZWUoKSB7CiAgICBjb25zdCB0cmVlID0gdGhpcy50cmVlOwogICAgdHJlZS5yZXNldCgpOwogICAgdHJlZS5hYWJiLmNvcHkodGhpcy5hYWJiKTsKICAgIGNvbnN0IHNjYWxlID0gdGhpcy5zY2FsZTsgLy8gVGhlIGxvY2FsIG1lc2ggQUFCQiBpcyBzY2FsZWQsIGJ1dCB0aGUgb2N0cmVlIEFBQkIgc2hvdWxkIGJlIHVuc2NhbGVkCgogICAgdHJlZS5hYWJiLmxvd2VyQm91bmQueCAqPSAxIC8gc2NhbGUueDsKICAgIHRyZWUuYWFiYi5sb3dlckJvdW5kLnkgKj0gMSAvIHNjYWxlLnk7CiAgICB0cmVlLmFhYmIubG93ZXJCb3VuZC56ICo9IDEgLyBzY2FsZS56OwogICAgdHJlZS5hYWJiLnVwcGVyQm91bmQueCAqPSAxIC8gc2NhbGUueDsKICAgIHRyZWUuYWFiYi51cHBlckJvdW5kLnkgKj0gMSAvIHNjYWxlLnk7CiAgICB0cmVlLmFhYmIudXBwZXJCb3VuZC56ICo9IDEgLyBzY2FsZS56OyAvLyBJbnNlcnQgYWxsIHRyaWFuZ2xlcwoKICAgIGNvbnN0IHRyaWFuZ2xlQUFCQiA9IG5ldyBBQUJCKCk7CiAgICBjb25zdCBhID0gbmV3IFZlYzMoKTsKICAgIGNvbnN0IGIgPSBuZXcgVmVjMygpOwogICAgY29uc3QgYyA9IG5ldyBWZWMzKCk7CiAgICBjb25zdCBwb2ludHMgPSBbYSwgYiwgY107CgogICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmluZGljZXMubGVuZ3RoIC8gMzsgaSsrKSB7CiAgICAgIC8vdGhpcy5nZXRUcmlhbmdsZVZlcnRpY2VzKGksIGEsIGIsIGMpOwogICAgICAvLyBHZXQgdW5zY2FsZWQgdHJpYW5nbGUgdmVydHMKICAgICAgY29uc3QgaTMgPSBpICogMzsKCiAgICAgIHRoaXMuX2dldFVuc2NhbGVkVmVydGV4KHRoaXMuaW5kaWNlc1tpM10sIGEpOwoKICAgICAgdGhpcy5fZ2V0VW5zY2FsZWRWZXJ0ZXgodGhpcy5pbmRpY2VzW2kzICsgMV0sIGIpOwoKICAgICAgdGhpcy5fZ2V0VW5zY2FsZWRWZXJ0ZXgodGhpcy5pbmRpY2VzW2kzICsgMl0sIGMpOwoKICAgICAgdHJpYW5nbGVBQUJCLnNldEZyb21Qb2ludHMocG9pbnRzKTsKICAgICAgdHJlZS5pbnNlcnQodHJpYW5nbGVBQUJCLCBpKTsKICAgIH0KCiAgICB0cmVlLnJlbW92ZUVtcHR5Tm9kZXMoKTsKICB9CiAgLyoqDQogICAqIEdldCB0cmlhbmdsZXMgaW4gYSBsb2NhbCBBQUJCIGZyb20gdGhlIHRyaW1lc2guDQogICAqIEBtZXRob2QgZ2V0VHJpYW5nbGVzSW5BQUJCDQogICAqIEBwYXJhbSAge0FBQkJ9IGFhYmINCiAgICogQHBhcmFtICB7YXJyYXl9IHJlc3VsdCBBbiBhcnJheSBvZiBpbnRlZ2VycywgcmVmZXJlbmNpbmcgdGhlIHF1ZXJpZWQgdHJpYW5nbGVzLg0KICAgKi8KCgogIGdldFRyaWFuZ2xlc0luQUFCQihhYWJiLCByZXN1bHQpIHsKICAgIHVuc2NhbGVkQUFCQi5jb3B5KGFhYmIpOyAvLyBTY2FsZSBpdCB0byBsb2NhbAoKICAgIGNvbnN0IHNjYWxlID0gdGhpcy5zY2FsZTsKICAgIGNvbnN0IGlzeCA9IHNjYWxlLng7CiAgICBjb25zdCBpc3kgPSBzY2FsZS55OwogICAgY29uc3QgaXN6ID0gc2NhbGUuejsKICAgIGNvbnN0IGwgPSB1bnNjYWxlZEFBQkIubG93ZXJCb3VuZDsKICAgIGNvbnN0IHUgPSB1bnNjYWxlZEFBQkIudXBwZXJCb3VuZDsKICAgIGwueCAvPSBpc3g7CiAgICBsLnkgLz0gaXN5OwogICAgbC56IC89IGlzejsKICAgIHUueCAvPSBpc3g7CiAgICB1LnkgLz0gaXN5OwogICAgdS56IC89IGlzejsKICAgIHJldHVybiB0aGlzLnRyZWUuYWFiYlF1ZXJ5KHVuc2NhbGVkQUFCQiwgcmVzdWx0KTsKICB9CiAgLyoqDQogICAqIEBtZXRob2Qgc2V0U2NhbGUNCiAgICogQHBhcmFtIHtWZWMzfSBzY2FsZQ0KICAgKi8KCgogIHNldFNjYWxlKHNjYWxlKSB7CiAgICBjb25zdCB3YXNVbmlmb3JtID0gdGhpcy5zY2FsZS54ID09PSB0aGlzLnNjYWxlLnkgJiYgdGhpcy5zY2FsZS55ID09PSB0aGlzLnNjYWxlLno7CiAgICBjb25zdCBpc1VuaWZvcm0gPSBzY2FsZS54ID09PSBzY2FsZS55ICYmIHNjYWxlLnkgPT09IHNjYWxlLno7CgogICAgaWYgKCEod2FzVW5pZm9ybSAmJiBpc1VuaWZvcm0pKSB7CiAgICAgIC8vIE5vbi11bmlmb3JtIHNjYWxpbmcuIE5lZWQgdG8gdXBkYXRlIG5vcm1hbHMuCiAgICAgIHRoaXMudXBkYXRlTm9ybWFscygpOwogICAgfQoKICAgIHRoaXMuc2NhbGUuY29weShzY2FsZSk7CiAgICB0aGlzLnVwZGF0ZUFBQkIoKTsKICAgIHRoaXMudXBkYXRlQm91bmRpbmdTcGhlcmVSYWRpdXMoKTsKICB9CiAgLyoqDQogICAqIENvbXB1dGUgdGhlIG5vcm1hbHMgb2YgdGhlIGZhY2VzLiBXaWxsIHNhdmUgaW4gdGhlIC5ub3JtYWxzIGFycmF5Lg0KICAgKiBAbWV0aG9kIHVwZGF0ZU5vcm1hbHMNCiAgICovCgoKICB1cGRhdGVOb3JtYWxzKCkgewogICAgY29uc3QgbiA9IGNvbXB1dGVOb3JtYWxzX247IC8vIEdlbmVyYXRlIG5vcm1hbHMKCiAgICBjb25zdCBub3JtYWxzID0gdGhpcy5ub3JtYWxzOwoKICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5pbmRpY2VzLmxlbmd0aCAvIDM7IGkrKykgewogICAgICBjb25zdCBpMyA9IGkgKiAzOwogICAgICBjb25zdCBhID0gdGhpcy5pbmRpY2VzW2kzXTsKICAgICAgY29uc3QgYiA9IHRoaXMuaW5kaWNlc1tpMyArIDFdOwogICAgICBjb25zdCBjID0gdGhpcy5pbmRpY2VzW2kzICsgMl07CiAgICAgIHRoaXMuZ2V0VmVydGV4KGEsIHZhKTsKICAgICAgdGhpcy5nZXRWZXJ0ZXgoYiwgdmIpOwogICAgICB0aGlzLmdldFZlcnRleChjLCB2Yyk7CiAgICAgIFRyaW1lc2guY29tcHV0ZU5vcm1hbCh2YiwgdmEsIHZjLCBuKTsKICAgICAgbm9ybWFsc1tpM10gPSBuLng7CiAgICAgIG5vcm1hbHNbaTMgKyAxXSA9IG4ueTsKICAgICAgbm9ybWFsc1tpMyArIDJdID0gbi56OwogICAgfQogIH0KICAvKioNCiAgICogVXBkYXRlIHRoZSAuZWRnZXMgcHJvcGVydHkNCiAgICogQG1ldGhvZCB1cGRhdGVFZGdlcw0KICAgKi8KCgogIHVwZGF0ZUVkZ2VzKCkgewogICAgY29uc3QgZWRnZXMgPSB7fTsKCiAgICBjb25zdCBhZGQgPSAoYSwgYikgPT4gewogICAgICBjb25zdCBrZXkgPSBhIDwgYiA/IGEgKyAiXyIgKyBiIDogYiArICJfIiArIGE7CiAgICAgIGVkZ2VzW2tleV0gPSB0cnVlOwogICAgfTsKCiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuaW5kaWNlcy5sZW5ndGggLyAzOyBpKyspIHsKICAgICAgY29uc3QgaTMgPSBpICogMzsKICAgICAgY29uc3QgYSA9IHRoaXMuaW5kaWNlc1tpM107CiAgICAgIGNvbnN0IGIgPSB0aGlzLmluZGljZXNbaTMgKyAxXTsKICAgICAgY29uc3QgYyA9IHRoaXMuaW5kaWNlc1tpMyArIDJdOwogICAgICBhZGQoYSwgYik7CiAgICAgIGFkZChiLCBjKTsKICAgICAgYWRkKGMsIGEpOwogICAgfQoKICAgIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhlZGdlcyk7CiAgICB0aGlzLmVkZ2VzID0gbmV3IEludDE2QXJyYXkoa2V5cy5sZW5ndGggKiAyKTsKCiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHsKICAgICAgY29uc3QgaW5kaWNlcyA9IGtleXNbaV0uc3BsaXQoJ18nKTsKICAgICAgdGhpcy5lZGdlc1syICogaV0gPSBwYXJzZUludChpbmRpY2VzWzBdLCAxMCk7CiAgICAgIHRoaXMuZWRnZXNbMiAqIGkgKyAxXSA9IHBhcnNlSW50KGluZGljZXNbMV0sIDEwKTsKICAgIH0KICB9CiAgLyoqDQogICAqIEdldCBhbiBlZGdlIHZlcnRleA0KICAgKiBAbWV0aG9kIGdldEVkZ2VWZXJ0ZXgNCiAgICogQHBhcmFtICB7bnVtYmVyfSBlZGdlSW5kZXgNCiAgICogQHBhcmFtICB7bnVtYmVyfSBmaXJzdE9yU2Vjb25kIDAgb3IgMSwgZGVwZW5kaW5nIG9uIHdoaWNoIG9uZSBvZiB0aGUgdmVydGljZXMgeW91IG5lZWQuDQogICAqIEBwYXJhbSAge1ZlYzN9IHZlcnRleFN0b3JlIFdoZXJlIHRvIHN0b3JlIHRoZSByZXN1bHQNCiAgICovCgoKICBnZXRFZGdlVmVydGV4KGVkZ2VJbmRleCwgZmlyc3RPclNlY29uZCwgdmVydGV4U3RvcmUpIHsKICAgIGNvbnN0IHZlcnRleEluZGV4ID0gdGhpcy5lZGdlc1tlZGdlSW5kZXggKiAyICsgKGZpcnN0T3JTZWNvbmQgPyAxIDogMCldOwogICAgdGhpcy5nZXRWZXJ0ZXgodmVydGV4SW5kZXgsIHZlcnRleFN0b3JlKTsKICB9CiAgLyoqDQogICAqIEdldCBhIHZlY3RvciBhbG9uZyBhbiBlZGdlLg0KICAgKiBAbWV0aG9kIGdldEVkZ2VWZWN0b3INCiAgICogQHBhcmFtICB7bnVtYmVyfSBlZGdlSW5kZXgNCiAgICogQHBhcmFtICB7VmVjM30gdmVjdG9yU3RvcmUNCiAgICovCgoKICBnZXRFZGdlVmVjdG9yKGVkZ2VJbmRleCwgdmVjdG9yU3RvcmUpIHsKICAgIGNvbnN0IHZhID0gZ2V0RWRnZVZlY3Rvcl92YTsKICAgIGNvbnN0IHZiID0gZ2V0RWRnZVZlY3Rvcl92YjsKICAgIHRoaXMuZ2V0RWRnZVZlcnRleChlZGdlSW5kZXgsIDAsIHZhKTsKICAgIHRoaXMuZ2V0RWRnZVZlcnRleChlZGdlSW5kZXgsIDEsIHZiKTsKICAgIHZiLnZzdWIodmEsIHZlY3RvclN0b3JlKTsKICB9CiAgLyoqDQogICAqIEdldCB2ZXJ0ZXggaS4NCiAgICogQG1ldGhvZCBnZXRWZXJ0ZXgNCiAgICogQHBhcmFtICB7bnVtYmVyfSBpDQogICAqIEBwYXJhbSAge1ZlYzN9IG91dA0KICAgKiBAcmV0dXJuIHtWZWMzfSBUaGUgIm91dCIgdmVjdG9yIG9iamVjdA0KICAgKi8KCgogIGdldFZlcnRleChpLCBvdXQpIHsKICAgIGNvbnN0IHNjYWxlID0gdGhpcy5zY2FsZTsKCiAgICB0aGlzLl9nZXRVbnNjYWxlZFZlcnRleChpLCBvdXQpOwoKICAgIG91dC54ICo9IHNjYWxlLng7CiAgICBvdXQueSAqPSBzY2FsZS55OwogICAgb3V0LnogKj0gc2NhbGUuejsKICAgIHJldHVybiBvdXQ7CiAgfQogIC8qKg0KICAgKiBHZXQgcmF3IHZlcnRleCBpDQogICAqIEBwcml2YXRlDQogICAqIEBtZXRob2QgX2dldFVuc2NhbGVkVmVydGV4DQogICAqIEBwYXJhbSAge251bWJlcn0gaQ0KICAgKiBAcGFyYW0gIHtWZWMzfSBvdXQNCiAgICogQHJldHVybiB7VmVjM30gVGhlICJvdXQiIHZlY3RvciBvYmplY3QNCiAgICovCgoKICBfZ2V0VW5zY2FsZWRWZXJ0ZXgoaSwgb3V0KSB7CiAgICBjb25zdCBpMyA9IGkgKiAzOwogICAgY29uc3QgdmVydGljZXMgPSB0aGlzLnZlcnRpY2VzOwogICAgcmV0dXJuIG91dC5zZXQodmVydGljZXNbaTNdLCB2ZXJ0aWNlc1tpMyArIDFdLCB2ZXJ0aWNlc1tpMyArIDJdKTsKICB9CiAgLyoqDQogICAqIEdldCBhIHZlcnRleCBmcm9tIHRoZSB0cmltZXNoLHRyYW5zZm9ybWVkIGJ5IHRoZSBnaXZlbiBwb3NpdGlvbiBhbmQgcXVhdGVybmlvbi4NCiAgICogQG1ldGhvZCBnZXRXb3JsZFZlcnRleA0KICAgKiBAcGFyYW0gIHtudW1iZXJ9IGkNCiAgICogQHBhcmFtICB7VmVjM30gcG9zDQogICAqIEBwYXJhbSAge1F1YXRlcm5pb259IHF1YXQNCiAgICogQHBhcmFtICB7VmVjM30gb3V0DQogICAqIEByZXR1cm4ge1ZlYzN9IFRoZSAib3V0IiB2ZWN0b3Igb2JqZWN0DQogICAqLwoKCiAgZ2V0V29ybGRWZXJ0ZXgoaSwgcG9zLCBxdWF0LCBvdXQpIHsKICAgIHRoaXMuZ2V0VmVydGV4KGksIG91dCk7CiAgICBUcmFuc2Zvcm0ucG9pbnRUb1dvcmxkRnJhbWUocG9zLCBxdWF0LCBvdXQsIG91dCk7CiAgICByZXR1cm4gb3V0OwogIH0KICAvKioNCiAgICogR2V0IHRoZSB0aHJlZSB2ZXJ0aWNlcyBmb3IgdHJpYW5nbGUgaS4NCiAgICogQG1ldGhvZCBnZXRUcmlhbmdsZVZlcnRpY2VzDQogICAqIEBwYXJhbSAge251bWJlcn0gaQ0KICAgKiBAcGFyYW0gIHtWZWMzfSBhDQogICAqIEBwYXJhbSAge1ZlYzN9IGINCiAgICogQHBhcmFtICB7VmVjM30gYw0KICAgKi8KCgogIGdldFRyaWFuZ2xlVmVydGljZXMoaSwgYSwgYiwgYykgewogICAgY29uc3QgaTMgPSBpICogMzsKICAgIHRoaXMuZ2V0VmVydGV4KHRoaXMuaW5kaWNlc1tpM10sIGEpOwogICAgdGhpcy5nZXRWZXJ0ZXgodGhpcy5pbmRpY2VzW2kzICsgMV0sIGIpOwogICAgdGhpcy5nZXRWZXJ0ZXgodGhpcy5pbmRpY2VzW2kzICsgMl0sIGMpOwogIH0KICAvKioNCiAgICogQ29tcHV0ZSB0aGUgbm9ybWFsIG9mIHRyaWFuZ2xlIGkuDQogICAqIEBtZXRob2QgZ2V0Tm9ybWFsDQogICAqIEBwYXJhbSAge051bWJlcn0gaQ0KICAgKiBAcGFyYW0gIHtWZWMzfSB0YXJnZXQNCiAgICogQHJldHVybiB7VmVjM30gVGhlICJ0YXJnZXQiIHZlY3RvciBvYmplY3QNCiAgICovCgoKICBnZXROb3JtYWwoaSwgdGFyZ2V0KSB7CiAgICBjb25zdCBpMyA9IGkgKiAzOwogICAgcmV0dXJuIHRhcmdldC5zZXQodGhpcy5ub3JtYWxzW2kzXSwgdGhpcy5ub3JtYWxzW2kzICsgMV0sIHRoaXMubm9ybWFsc1tpMyArIDJdKTsKICB9CiAgLyoqDQogICAqIEBtZXRob2QgY2FsY3VsYXRlTG9jYWxJbmVydGlhDQogICAqIEBwYXJhbSAge051bWJlcn0gbWFzcw0KICAgKiBAcGFyYW0gIHtWZWMzfSB0YXJnZXQNCiAgICogQHJldHVybiB7VmVjM30gVGhlICJ0YXJnZXQiIHZlY3RvciBvYmplY3QNCiAgICovCgoKICBjYWxjdWxhdGVMb2NhbEluZXJ0aWEobWFzcywgdGFyZ2V0KSB7CiAgICAvLyBBcHByb3hpbWF0ZSB3aXRoIGJveCBpbmVydGlhCiAgICAvLyBFeGFjdCBpbmVydGlhIGNhbGN1bGF0aW9uIGlzIG92ZXJraWxsLCBidXQgc2VlIGh0dHA6Ly9nZW9tZXRyaWN0b29scy5jb20vRG9jdW1lbnRhdGlvbi9Qb2x5aGVkcmFsTWFzc1Byb3BlcnRpZXMucGRmIGZvciB0aGUgY29ycmVjdCB3YXkgdG8gZG8gaXQKICAgIHRoaXMuY29tcHV0ZUxvY2FsQUFCQihjbGlfYWFiYik7CiAgICBjb25zdCB4ID0gY2xpX2FhYmIudXBwZXJCb3VuZC54IC0gY2xpX2FhYmIubG93ZXJCb3VuZC54OwogICAgY29uc3QgeSA9IGNsaV9hYWJiLnVwcGVyQm91bmQueSAtIGNsaV9hYWJiLmxvd2VyQm91bmQueTsKICAgIGNvbnN0IHogPSBjbGlfYWFiYi51cHBlckJvdW5kLnogLSBjbGlfYWFiYi5sb3dlckJvdW5kLno7CiAgICByZXR1cm4gdGFyZ2V0LnNldCgxLjAgLyAxMi4wICogbWFzcyAqICgyICogeSAqIDIgKiB5ICsgMiAqIHogKiAyICogeiksIDEuMCAvIDEyLjAgKiBtYXNzICogKDIgKiB4ICogMiAqIHggKyAyICogeiAqIDIgKiB6KSwgMS4wIC8gMTIuMCAqIG1hc3MgKiAoMiAqIHkgKiAyICogeSArIDIgKiB4ICogMiAqIHgpKTsKICB9CiAgLyoqDQogICAqIENvbXB1dGUgdGhlIGxvY2FsIEFBQkIgZm9yIHRoZSB0cmltZXNoDQogICAqIEBtZXRob2QgY29tcHV0ZUxvY2FsQUFCQg0KICAgKiBAcGFyYW0gIHtBQUJCfSBhYWJiDQogICAqLwoKCiAgY29tcHV0ZUxvY2FsQUFCQihhYWJiKSB7CiAgICBjb25zdCBsID0gYWFiYi5sb3dlckJvdW5kOwogICAgY29uc3QgdSA9IGFhYmIudXBwZXJCb3VuZDsKICAgIGNvbnN0IG4gPSB0aGlzLnZlcnRpY2VzLmxlbmd0aDsKICAgIGNvbnN0IHZlcnRpY2VzID0gdGhpcy52ZXJ0aWNlczsKICAgIGNvbnN0IHYgPSBjb21wdXRlTG9jYWxBQUJCX3dvcmxkVmVydDsKICAgIHRoaXMuZ2V0VmVydGV4KDAsIHYpOwogICAgbC5jb3B5KHYpOwogICAgdS5jb3B5KHYpOwoKICAgIGZvciAobGV0IGkgPSAwOyBpICE9PSBuOyBpKyspIHsKICAgICAgdGhpcy5nZXRWZXJ0ZXgoaSwgdik7CgogICAgICBpZiAodi54IDwgbC54KSB7CiAgICAgICAgbC54ID0gdi54OwogICAgICB9IGVsc2UgaWYgKHYueCA+IHUueCkgewogICAgICAgIHUueCA9IHYueDsKICAgICAgfQoKICAgICAgaWYgKHYueSA8IGwueSkgewogICAgICAgIGwueSA9IHYueTsKICAgICAgfSBlbHNlIGlmICh2LnkgPiB1LnkpIHsKICAgICAgICB1LnkgPSB2Lnk7CiAgICAgIH0KCiAgICAgIGlmICh2LnogPCBsLnopIHsKICAgICAgICBsLnogPSB2Lno7CiAgICAgIH0gZWxzZSBpZiAodi56ID4gdS56KSB7CiAgICAgICAgdS56ID0gdi56OwogICAgICB9CiAgICB9CiAgfQogIC8qKg0KICAgKiBVcGRhdGUgdGhlIC5hYWJiIHByb3BlcnR5DQogICAqIEBtZXRob2QgdXBkYXRlQUFCQg0KICAgKi8KCgogIHVwZGF0ZUFBQkIoKSB7CiAgICB0aGlzLmNvbXB1dGVMb2NhbEFBQkIodGhpcy5hYWJiKTsKICB9CiAgLyoqDQogICAqIFdpbGwgdXBkYXRlIHRoZSAuYm91bmRpbmdTcGhlcmVSYWRpdXMgcHJvcGVydHkNCiAgICogQG1ldGhvZCB1cGRhdGVCb3VuZGluZ1NwaGVyZVJhZGl1cw0KICAgKi8KCgogIHVwZGF0ZUJvdW5kaW5nU3BoZXJlUmFkaXVzKCkgewogICAgLy8gQXNzdW1lIHBvaW50cyBhcmUgZGlzdHJpYnV0ZWQgd2l0aCBsb2NhbCAoMCwwLDApIGFzIGNlbnRlcgogICAgbGV0IG1heDIgPSAwOwogICAgY29uc3QgdmVydGljZXMgPSB0aGlzLnZlcnRpY2VzOwogICAgY29uc3QgdiA9IG5ldyBWZWMzKCk7CgogICAgZm9yIChsZXQgaSA9IDAsIE4gPSB2ZXJ0aWNlcy5sZW5ndGggLyAzOyBpICE9PSBOOyBpKyspIHsKICAgICAgdGhpcy5nZXRWZXJ0ZXgoaSwgdik7CiAgICAgIGNvbnN0IG5vcm0yID0gdi5sZW5ndGhTcXVhcmVkKCk7CgogICAgICBpZiAobm9ybTIgPiBtYXgyKSB7CiAgICAgICAgbWF4MiA9IG5vcm0yOwogICAgICB9CiAgICB9CgogICAgdGhpcy5ib3VuZGluZ1NwaGVyZVJhZGl1cyA9IE1hdGguc3FydChtYXgyKTsKICB9CiAgLyoqDQogICAqIEBtZXRob2QgY2FsY3VsYXRlV29ybGRBQUJCDQogICAqIEBwYXJhbSB7VmVjM30gICAgICAgIHBvcw0KICAgKiBAcGFyYW0ge1F1YXRlcm5pb259ICBxdWF0DQogICAqIEBwYXJhbSB7VmVjM30gICAgICAgIG1pbg0KICAgKiBAcGFyYW0ge1ZlYzN9ICAgICAgICBtYXgNCiAgICovCgoKICBjYWxjdWxhdGVXb3JsZEFBQkIocG9zLCBxdWF0LCBtaW4sIG1heCkgewogICAgLyoNCiAgICAgICAgY29uc3QgbiA9IHRoaXMudmVydGljZXMubGVuZ3RoIC8gMywNCiAgICAgICAgICAgIHZlcnRzID0gdGhpcy52ZXJ0aWNlczsNCiAgICAgICAgY29uc3QgbWlueCxtaW55LG1pbnosbWF4eCxtYXh5LG1heHo7DQogICAgICAgICAgY29uc3QgdiA9IHRlbXBXb3JsZFZlcnRleDsNCiAgICAgICAgZm9yKGxldCBpPTA7IGk8bjsgaSsrKXsNCiAgICAgICAgICAgIHRoaXMuZ2V0VmVydGV4KGksIHYpOw0KICAgICAgICAgICAgcXVhdC52bXVsdCh2LCB2KTsNCiAgICAgICAgICAgIHBvcy52YWRkKHYsIHYpOw0KICAgICAgICAgICAgaWYgKHYueCA8IG1pbnggfHwgbWlueD09PXVuZGVmaW5lZCl7DQogICAgICAgICAgICAgICAgbWlueCA9IHYueDsNCiAgICAgICAgICAgIH0gZWxzZSBpZih2LnggPiBtYXh4IHx8IG1heHg9PT11bmRlZmluZWQpew0KICAgICAgICAgICAgICAgIG1heHggPSB2Lng7DQogICAgICAgICAgICB9DQogICAgICAgICAgICAgIGlmICh2LnkgPCBtaW55IHx8IG1pbnk9PT11bmRlZmluZWQpew0KICAgICAgICAgICAgICAgIG1pbnkgPSB2Lnk7DQogICAgICAgICAgICB9IGVsc2UgaWYodi55ID4gbWF4eSB8fCBtYXh5PT09dW5kZWZpbmVkKXsNCiAgICAgICAgICAgICAgICBtYXh5ID0gdi55Ow0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICBpZiAodi56IDwgbWlueiB8fCBtaW56PT09dW5kZWZpbmVkKXsNCiAgICAgICAgICAgICAgICBtaW56ID0gdi56Ow0KICAgICAgICAgICAgfSBlbHNlIGlmKHYueiA+IG1heHogfHwgbWF4ej09PXVuZGVmaW5lZCl7DQogICAgICAgICAgICAgICAgbWF4eiA9IHYuejsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgICBtaW4uc2V0KG1pbngsbWlueSxtaW56KTsNCiAgICAgICAgbWF4LnNldChtYXh4LG1heHksbWF4eik7DQogICAgICAgICovCiAgICAvLyBGYXN0ZXIgYXBwcm94aW1hdGlvbiB1c2luZyBsb2NhbCBBQUJCCiAgICBjb25zdCBmcmFtZSA9IGNhbGN1bGF0ZVdvcmxkQUFCQl9mcmFtZTsKICAgIGNvbnN0IHJlc3VsdCA9IGNhbGN1bGF0ZVdvcmxkQUFCQl9hYWJiOwogICAgZnJhbWUucG9zaXRpb24gPSBwb3M7CiAgICBmcmFtZS5xdWF0ZXJuaW9uID0gcXVhdDsKICAgIHRoaXMuYWFiYi50b1dvcmxkRnJhbWUoZnJhbWUsIHJlc3VsdCk7CiAgICBtaW4uY29weShyZXN1bHQubG93ZXJCb3VuZCk7CiAgICBtYXguY29weShyZXN1bHQudXBwZXJCb3VuZCk7CiAgfQogIC8qKg0KICAgKiBHZXQgYXBwcm94aW1hdGUgdm9sdW1lDQogICAqIEBtZXRob2Qgdm9sdW1lDQogICAqIEByZXR1cm4ge051bWJlcn0NCiAgICovCgoKICB2b2x1bWUoKSB7CiAgICByZXR1cm4gNC4wICogTWF0aC5QSSAqIHRoaXMuYm91bmRpbmdTcGhlcmVSYWRpdXMgLyAzLjA7CiAgfQoKfQoKY29uc3QgY29tcHV0ZU5vcm1hbHNfbiA9IG5ldyBWZWMzKCk7CmNvbnN0IHVuc2NhbGVkQUFCQiA9IG5ldyBBQUJCKCk7CmNvbnN0IGdldEVkZ2VWZWN0b3JfdmEgPSBuZXcgVmVjMygpOwpjb25zdCBnZXRFZGdlVmVjdG9yX3ZiID0gbmV3IFZlYzMoKTsKLyoqDQogKiBHZXQgZmFjZSBub3JtYWwgZ2l2ZW4gMyB2ZXJ0aWNlcw0KICogQHN0YXRpYw0KICogQG1ldGhvZCBjb21wdXRlTm9ybWFsDQogKiBAcGFyYW0ge1ZlYzN9IHZhDQogKiBAcGFyYW0ge1ZlYzN9IHZiDQogKiBAcGFyYW0ge1ZlYzN9IHZjDQogKiBAcGFyYW0ge1ZlYzN9IHRhcmdldA0KICovCgpjb25zdCBjYiA9IG5ldyBWZWMzKCk7CmNvbnN0IGFiID0gbmV3IFZlYzMoKTsKClRyaW1lc2guY29tcHV0ZU5vcm1hbCA9ICh2YSwgdmIsIHZjLCB0YXJnZXQpID0+IHsKICB2Yi52c3ViKHZhLCBhYik7CiAgdmMudnN1Yih2YiwgY2IpOwogIGNiLmNyb3NzKGFiLCB0YXJnZXQpOwoKICBpZiAoIXRhcmdldC5pc1plcm8oKSkgewogICAgdGFyZ2V0Lm5vcm1hbGl6ZSgpOwogIH0KfTsKCmNvbnN0IHZhID0gbmV3IFZlYzMoKTsKY29uc3QgdmIgPSBuZXcgVmVjMygpOwpjb25zdCB2YyA9IG5ldyBWZWMzKCk7CmNvbnN0IGNsaV9hYWJiID0gbmV3IEFBQkIoKTsKY29uc3QgY29tcHV0ZUxvY2FsQUFCQl93b3JsZFZlcnQgPSBuZXcgVmVjMygpOwpjb25zdCBjYWxjdWxhdGVXb3JsZEFBQkJfZnJhbWUgPSBuZXcgVHJhbnNmb3JtKCk7CmNvbnN0IGNhbGN1bGF0ZVdvcmxkQUFCQl9hYWJiID0gbmV3IEFBQkIoKTsKLyoqDQogKiBDcmVhdGUgYSBUcmltZXNoIGluc3RhbmNlLCBzaGFwZWQgYXMgYSB0b3J1cy4NCiAqIEBzdGF0aWMNCiAqIEBtZXRob2QgY3JlYXRlVG9ydXMNCiAqIEBwYXJhbSAge251bWJlcn0gW3JhZGl1cz0xXQ0KICogQHBhcmFtICB7bnVtYmVyfSBbdHViZT0wLjVdDQogKiBAcGFyYW0gIHtudW1iZXJ9IFtyYWRpYWxTZWdtZW50cz04XQ0KICogQHBhcmFtICB7bnVtYmVyfSBbdHVidWxhclNlZ21lbnRzPTZdDQogKiBAcGFyYW0gIHtudW1iZXJ9IFthcmM9Ni4yODMxODUzMDcxNzk1ODZdDQogKiBAcmV0dXJuIHtUcmltZXNofSBBIHRvcnVzDQogKi8KClRyaW1lc2guY3JlYXRlVG9ydXMgPSAocmFkaXVzID0gMSwgdHViZSA9IDAuNSwgcmFkaWFsU2VnbWVudHMgPSA4LCB0dWJ1bGFyU2VnbWVudHMgPSA2LCBhcmMgPSBNYXRoLlBJICogMikgPT4gewogIGNvbnN0IHZlcnRpY2VzID0gW107CiAgY29uc3QgaW5kaWNlcyA9IFtdOwoKICBmb3IgKGxldCBqID0gMDsgaiA8PSByYWRpYWxTZWdtZW50czsgaisrKSB7CiAgICBmb3IgKGxldCBpID0gMDsgaSA8PSB0dWJ1bGFyU2VnbWVudHM7IGkrKykgewogICAgICBjb25zdCB1ID0gaSAvIHR1YnVsYXJTZWdtZW50cyAqIGFyYzsKICAgICAgY29uc3QgdiA9IGogLyByYWRpYWxTZWdtZW50cyAqIE1hdGguUEkgKiAyOwogICAgICBjb25zdCB4ID0gKHJhZGl1cyArIHR1YmUgKiBNYXRoLmNvcyh2KSkgKiBNYXRoLmNvcyh1KTsKICAgICAgY29uc3QgeSA9IChyYWRpdXMgKyB0dWJlICogTWF0aC5jb3ModikpICogTWF0aC5zaW4odSk7CiAgICAgIGNvbnN0IHogPSB0dWJlICogTWF0aC5zaW4odik7CiAgICAgIHZlcnRpY2VzLnB1c2goeCwgeSwgeik7CiAgICB9CiAgfQoKICBmb3IgKGxldCBqID0gMTsgaiA8PSByYWRpYWxTZWdtZW50czsgaisrKSB7CiAgICBmb3IgKGxldCBpID0gMTsgaSA8PSB0dWJ1bGFyU2VnbWVudHM7IGkrKykgewogICAgICBjb25zdCBhID0gKHR1YnVsYXJTZWdtZW50cyArIDEpICogaiArIGkgLSAxOwogICAgICBjb25zdCBiID0gKHR1YnVsYXJTZWdtZW50cyArIDEpICogKGogLSAxKSArIGkgLSAxOwogICAgICBjb25zdCBjID0gKHR1YnVsYXJTZWdtZW50cyArIDEpICogKGogLSAxKSArIGk7CiAgICAgIGNvbnN0IGQgPSAodHVidWxhclNlZ21lbnRzICsgMSkgKiBqICsgaTsKICAgICAgaW5kaWNlcy5wdXNoKGEsIGIsIGQpOwogICAgICBpbmRpY2VzLnB1c2goYiwgYywgZCk7CiAgICB9CiAgfQoKICByZXR1cm4gbmV3IFRyaW1lc2godmVydGljZXMsIGluZGljZXMpOwp9OwovKioNCiAqIENvbnN0cmFpbnQgZXF1YXRpb24gc29sdmVyIGJhc2UgY2xhc3MuDQogKiBAY2xhc3MgU29sdmVyDQogKiBAY29uc3RydWN0b3INCiAqIEBhdXRob3Igc2NodGVwcGUgLyBodHRwczovL2dpdGh1Yi5jb20vc2NodGVwcGUNCiAqLwoKCmNsYXNzIFNvbHZlciB7CiAgLy8gQWxsIGVxdWF0aW9ucyB0byBiZSBzb2x2ZWQKICBjb25zdHJ1Y3RvcigpIHsKICAgIHRoaXMuZXF1YXRpb25zID0gW107CiAgfQogIC8qKg0KICAgKiBTaG91bGQgYmUgaW1wbGVtZW50ZWQgaW4gc3ViY2xhc3NlcyENCiAgICogQG1ldGhvZCBzb2x2ZQ0KICAgKiBAcGFyYW0gIHtOdW1iZXJ9IGR0DQogICAqIEBwYXJhbSAge1dvcmxkfSB3b3JsZA0KICAgKiBAcmV0dXJuIHtOdW1iZXJ9IG51bWJlciBvZiBpdGVyYXRpb25zIHBlcmZvcm1lZA0KICAgKi8KCgogIHNvbHZlKGR0LCB3b3JsZCkgewogICAgcmV0dXJuICgvLyBTaG91bGQgcmV0dXJuIHRoZSBudW1iZXIgb2YgaXRlcmF0aW9ucyBkb25lIQogICAgICAwCiAgICApOwogIH0KICAvKioNCiAgICogQWRkIGFuIGVxdWF0aW9uDQogICAqIEBtZXRob2QgYWRkRXF1YXRpb24NCiAgICogQHBhcmFtIHtFcXVhdGlvbn0gZXENCiAgICovCgoKICBhZGRFcXVhdGlvbihlcSkgewogICAgaWYgKGVxLmVuYWJsZWQpIHsKICAgICAgdGhpcy5lcXVhdGlvbnMucHVzaChlcSk7CiAgICB9CiAgfQogIC8qKg0KICAgKiBSZW1vdmUgYW4gZXF1YXRpb24NCiAgICogQG1ldGhvZCByZW1vdmVFcXVhdGlvbg0KICAgKiBAcGFyYW0ge0VxdWF0aW9ufSBlcQ0KICAgKi8KCgogIHJlbW92ZUVxdWF0aW9uKGVxKSB7CiAgICBjb25zdCBlcXMgPSB0aGlzLmVxdWF0aW9uczsKICAgIGNvbnN0IGkgPSBlcXMuaW5kZXhPZihlcSk7CgogICAgaWYgKGkgIT09IC0xKSB7CiAgICAgIGVxcy5zcGxpY2UoaSwgMSk7CiAgICB9CiAgfQogIC8qKg0KICAgKiBBZGQgYWxsIGVxdWF0aW9ucw0KICAgKiBAbWV0aG9kIHJlbW92ZUFsbEVxdWF0aW9ucw0KICAgKi8KCgogIHJlbW92ZUFsbEVxdWF0aW9ucygpIHsKICAgIHRoaXMuZXF1YXRpb25zLmxlbmd0aCA9IDA7CiAgfQoKfQovKioNCiAqIENvbnN0cmFpbnQgZXF1YXRpb24gR2F1c3MtU2VpZGVsIHNvbHZlci4NCiAqIEBjbGFzcyBHU1NvbHZlcg0KICogQGNvbnN0cnVjdG9yDQogKiBAdG9kbyBUaGUgc3Bvb2sgcGFyYW1ldGVycyBzaG91bGQgYmUgc3BlY2lmaWVkIGZvciBlYWNoIGNvbnN0cmFpbnQsIG5vdCBnbG9iYWxseS4NCiAqIEBhdXRob3Igc2NodGVwcGUgLyBodHRwczovL2dpdGh1Yi5jb20vc2NodGVwcGUNCiAqIEBzZWUgaHR0cHM6Ly93d3c4LmNzLnVtdS5zZS9rdXJzZXIvNURWMDU4L1ZUMDkvbGVjdHVyZXMvc3Bvb2tub3Rlcy5wZGYNCiAqIEBleHRlbmRzIFNvbHZlcg0KICovCgoKY2xhc3MgR1NTb2x2ZXIgZXh0ZW5kcyBTb2x2ZXIgewogIC8vIFRoZSBudW1iZXIgb2Ygc29sdmVyIGl0ZXJhdGlvbnMgZGV0ZXJtaW5lcyBxdWFsaXR5IG9mIHRoZSBjb25zdHJhaW50cyBpbiB0aGUgd29ybGQuIFRoZSBtb3JlIGl0ZXJhdGlvbnMsIHRoZSBtb3JlIGNvcnJlY3Qgc2ltdWxhdGlvbi4gTW9yZSBpdGVyYXRpb25zIG5lZWQgbW9yZSBjb21wdXRhdGlvbnMgdGhvdWdoLiBJZiB5b3UgaGF2ZSBhIGxhcmdlIGdyYXZpdHkgZm9yY2UgaW4geW91ciB3b3JsZCwgeW91IHdpbGwgbmVlZCBtb3JlIGl0ZXJhdGlvbnMuCiAgLy8gV2hlbiB0b2xlcmFuY2UgaXMgcmVhY2hlZCwgdGhlIHN5c3RlbSBpcyBhc3N1bWVkIHRvIGJlIGNvbnZlcmdlZC4KICBjb25zdHJ1Y3RvcigpIHsKICAgIHN1cGVyKCk7CiAgICB0aGlzLml0ZXJhdGlvbnMgPSAxMDsKICAgIHRoaXMudG9sZXJhbmNlID0gMWUtNzsKICB9CiAgLyoqDQogICAqIFNvbHZlDQogICAqIEBtZXRob2Qgc29sdmUNCiAgICogQHBhcmFtICB7TnVtYmVyfSBkdA0KICAgKiBAcGFyYW0gIHtXb3JsZH0gd29ybGQNCiAgICogQHJldHVybiB7TnVtYmVyfSBudW1iZXIgb2YgaXRlcmF0aW9ucyBwZXJmb3JtZWQNCiAgICovCgoKICBzb2x2ZShkdCwgd29ybGQpIHsKICAgIGxldCBpdGVyID0gMDsKICAgIGNvbnN0IG1heEl0ZXIgPSB0aGlzLml0ZXJhdGlvbnM7CiAgICBjb25zdCB0b2xTcXVhcmVkID0gdGhpcy50b2xlcmFuY2UgKiB0aGlzLnRvbGVyYW5jZTsKICAgIGNvbnN0IGVxdWF0aW9ucyA9IHRoaXMuZXF1YXRpb25zOwogICAgY29uc3QgTmVxID0gZXF1YXRpb25zLmxlbmd0aDsKICAgIGNvbnN0IGJvZGllcyA9IHdvcmxkLmJvZGllczsKICAgIGNvbnN0IE5ib2RpZXMgPSBib2RpZXMubGVuZ3RoOwogICAgY29uc3QgaCA9IGR0OwogICAgbGV0IEI7CiAgICBsZXQgaW52QzsKICAgIGxldCBkZWx0YWxhbWJkYTsKICAgIGxldCBkZWx0YWxhbWJkYVRvdDsKICAgIGxldCBHV2xhbWJkYTsKICAgIGxldCBsYW1iZGFqOyAvLyBVcGRhdGUgc29sdmUgbWFzcwoKICAgIGlmIChOZXEgIT09IDApIHsKICAgICAgZm9yIChsZXQgaSA9IDA7IGkgIT09IE5ib2RpZXM7IGkrKykgewogICAgICAgIGJvZGllc1tpXS51cGRhdGVTb2x2ZU1hc3NQcm9wZXJ0aWVzKCk7CiAgICAgIH0KICAgIH0gLy8gVGhpbmdzIHRoYXQgZG9lcyBub3QgY2hhbmdlIGR1cmluZyBpdGVyYXRpb24gY2FuIGJlIGNvbXB1dGVkIG9uY2UKCgogICAgY29uc3QgaW52Q3MgPSBHU1NvbHZlcl9zb2x2ZV9pbnZDczsKICAgIGNvbnN0IEJzID0gR1NTb2x2ZXJfc29sdmVfQnM7CiAgICBjb25zdCBsYW1iZGEgPSBHU1NvbHZlcl9zb2x2ZV9sYW1iZGE7CiAgICBpbnZDcy5sZW5ndGggPSBOZXE7CiAgICBCcy5sZW5ndGggPSBOZXE7CiAgICBsYW1iZGEubGVuZ3RoID0gTmVxOwoKICAgIGZvciAobGV0IGkgPSAwOyBpICE9PSBOZXE7IGkrKykgewogICAgICBjb25zdCBjID0gZXF1YXRpb25zW2ldOwogICAgICBsYW1iZGFbaV0gPSAwLjA7CiAgICAgIEJzW2ldID0gYy5jb21wdXRlQihoKTsKICAgICAgaW52Q3NbaV0gPSAxLjAgLyBjLmNvbXB1dGVDKCk7CiAgICB9CgogICAgaWYgKE5lcSAhPT0gMCkgewogICAgICAvLyBSZXNldCB2bGFtYmRhCiAgICAgIGZvciAobGV0IGkgPSAwOyBpICE9PSBOYm9kaWVzOyBpKyspIHsKICAgICAgICBjb25zdCBiID0gYm9kaWVzW2ldOwogICAgICAgIGNvbnN0IHZsYW1iZGEgPSBiLnZsYW1iZGE7CiAgICAgICAgY29uc3Qgd2xhbWJkYSA9IGIud2xhbWJkYTsKICAgICAgICB2bGFtYmRhLnNldCgwLCAwLCAwKTsKICAgICAgICB3bGFtYmRhLnNldCgwLCAwLCAwKTsKICAgICAgfSAvLyBJdGVyYXRlIG92ZXIgZXF1YXRpb25zCgoKICAgICAgZm9yIChpdGVyID0gMDsgaXRlciAhPT0gbWF4SXRlcjsgaXRlcisrKSB7CiAgICAgICAgLy8gQWNjdW11bGF0ZSB0aGUgdG90YWwgZXJyb3IgZm9yIGVhY2ggaXRlcmF0aW9uLgogICAgICAgIGRlbHRhbGFtYmRhVG90ID0gMC4wOwoKICAgICAgICBmb3IgKGxldCBqID0gMDsgaiAhPT0gTmVxOyBqKyspIHsKICAgICAgICAgIGNvbnN0IGMgPSBlcXVhdGlvbnNbal07IC8vIENvbXB1dGUgaXRlcmF0aW9uCgogICAgICAgICAgQiA9IEJzW2pdOwogICAgICAgICAgaW52QyA9IGludkNzW2pdOwogICAgICAgICAgbGFtYmRhaiA9IGxhbWJkYVtqXTsKICAgICAgICAgIEdXbGFtYmRhID0gYy5jb21wdXRlR1dsYW1iZGEoKTsKICAgICAgICAgIGRlbHRhbGFtYmRhID0gaW52QyAqIChCIC0gR1dsYW1iZGEgLSBjLmVwcyAqIGxhbWJkYWopOyAvLyBDbGFtcCBpZiB3ZSBhcmUgbm90IHdpdGhpbiB0aGUgbWluL21heCBpbnRlcnZhbAoKICAgICAgICAgIGlmIChsYW1iZGFqICsgZGVsdGFsYW1iZGEgPCBjLm1pbkZvcmNlKSB7CiAgICAgICAgICAgIGRlbHRhbGFtYmRhID0gYy5taW5Gb3JjZSAtIGxhbWJkYWo7CiAgICAgICAgICB9IGVsc2UgaWYgKGxhbWJkYWogKyBkZWx0YWxhbWJkYSA+IGMubWF4Rm9yY2UpIHsKICAgICAgICAgICAgZGVsdGFsYW1iZGEgPSBjLm1heEZvcmNlIC0gbGFtYmRhajsKICAgICAgICAgIH0KCiAgICAgICAgICBsYW1iZGFbal0gKz0gZGVsdGFsYW1iZGE7CiAgICAgICAgICBkZWx0YWxhbWJkYVRvdCArPSBkZWx0YWxhbWJkYSA+IDAuMCA/IGRlbHRhbGFtYmRhIDogLWRlbHRhbGFtYmRhOyAvLyBhYnMoZGVsdGFsYW1iZGEpCgogICAgICAgICAgYy5hZGRUb1dsYW1iZGEoZGVsdGFsYW1iZGEpOwogICAgICAgIH0gLy8gSWYgdGhlIHRvdGFsIGVycm9yIGlzIHNtYWxsIGVub3VnaCAtIHN0b3AgaXRlcmF0ZQoKCiAgICAgICAgaWYgKGRlbHRhbGFtYmRhVG90ICogZGVsdGFsYW1iZGFUb3QgPCB0b2xTcXVhcmVkKSB7CiAgICAgICAgICBicmVhazsKICAgICAgICB9CiAgICAgIH0gLy8gQWRkIHJlc3VsdCB0byB2ZWxvY2l0eQoKCiAgICAgIGZvciAobGV0IGkgPSAwOyBpICE9PSBOYm9kaWVzOyBpKyspIHsKICAgICAgICBjb25zdCBiID0gYm9kaWVzW2ldOwogICAgICAgIGNvbnN0IHYgPSBiLnZlbG9jaXR5OwogICAgICAgIGNvbnN0IHcgPSBiLmFuZ3VsYXJWZWxvY2l0eTsKICAgICAgICBiLnZsYW1iZGEudm11bChiLmxpbmVhckZhY3RvciwgYi52bGFtYmRhKTsKICAgICAgICB2LnZhZGQoYi52bGFtYmRhLCB2KTsKICAgICAgICBiLndsYW1iZGEudm11bChiLmFuZ3VsYXJGYWN0b3IsIGIud2xhbWJkYSk7CiAgICAgICAgdy52YWRkKGIud2xhbWJkYSwgdyk7CiAgICAgIH0gLy8gU2V0IHRoZSAubXVsdGlwbGllciBwcm9wZXJ0eSBvZiBlYWNoIGVxdWF0aW9uCgoKICAgICAgbGV0IGwgPSBlcXVhdGlvbnMubGVuZ3RoOwogICAgICBjb25zdCBpbnZEdCA9IDEgLyBoOwoKICAgICAgd2hpbGUgKGwtLSkgewogICAgICAgIGVxdWF0aW9uc1tsXS5tdWx0aXBsaWVyID0gbGFtYmRhW2xdICogaW52RHQ7CiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gaXRlcjsKICB9Cgp9Cgpjb25zdCBHU1NvbHZlcl9zb2x2ZV9sYW1iZGEgPSBbXTsgLy8gSnVzdCB0ZW1wb3JhcnkgbnVtYmVyIGhvbGRlcnMgdGhhdCB3ZSB3YW50IHRvIHJldXNlIGVhY2ggc29sdmUuCgpjb25zdCBHU1NvbHZlcl9zb2x2ZV9pbnZDcyA9IFtdOwpjb25zdCBHU1NvbHZlcl9zb2x2ZV9CcyA9IFtdOwovKioNCiAqIEZvciBwb29saW5nIG9iamVjdHMgdGhhdCBjYW4gYmUgcmV1c2VkLg0KICogQGNsYXNzIFBvb2wNCiAqIEBjb25zdHJ1Y3Rvcg0KICovCgoKY2xhc3MgUG9vbCB7CiAgY29uc3RydWN0b3IoKSB7CiAgICB0aGlzLm9iamVjdHMgPSBbXTsKICAgIHRoaXMudHlwZSA9IE9iamVjdDsKICB9CiAgLyoqDQogICAqIFJlbGVhc2UgYW4gb2JqZWN0IGFmdGVyIHVzZQ0KICAgKiBAbWV0aG9kIHJlbGVhc2UNCiAgICogQHBhcmFtIHtPYmplY3R9IG9iag0KICAgKi8KCgogIHJlbGVhc2UoLi4uYXJncykgewogICAgY29uc3QgTmFyZ3MgPSBhcmdzLmxlbmd0aDsKCiAgICBmb3IgKGxldCBpID0gMDsgaSAhPT0gTmFyZ3M7IGkrKykgewogICAgICB0aGlzLm9iamVjdHMucHVzaChhcmdzW2ldKTsKICAgIH0KCiAgICByZXR1cm4gdGhpczsKICB9CiAgLyoqDQogICAqIEdldCBhbiBvYmplY3QNCiAgICogQG1ldGhvZCBnZXQNCiAgICogQHJldHVybiB7bWl4ZWR9DQogICAqLwoKCiAgZ2V0KCkgewogICAgaWYgKHRoaXMub2JqZWN0cy5sZW5ndGggPT09IDApIHsKICAgICAgcmV0dXJuIHRoaXMuY29uc3RydWN0T2JqZWN0KCk7CiAgICB9IGVsc2UgewogICAgICByZXR1cm4gdGhpcy5vYmplY3RzLnBvcCgpOwogICAgfQogIH0KICAvKioNCiAgICogQ29uc3RydWN0IGFuIG9iamVjdC4gU2hvdWxkIGJlIGltcGxlbWVudGVkIGluIGVhY2ggc3ViY2xhc3MuDQogICAqIEBtZXRob2QgY29uc3RydWN0T2JqZWN0DQogICAqIEByZXR1cm4ge21peGVkfQ0KICAgKi8KCgogIGNvbnN0cnVjdE9iamVjdCgpIHsKICAgIHRocm93IG5ldyBFcnJvcignY29uc3RydWN0T2JqZWN0KCkgbm90IGltcGxlbWVudGVkIGluIHRoaXMgUG9vbCBzdWJjbGFzcyB5ZXQhJyk7CiAgfQogIC8qKg0KICAgKiBAbWV0aG9kIHJlc2l6ZQ0KICAgKiBAcGFyYW0ge251bWJlcn0gc2l6ZQ0KICAgKiBAcmV0dXJuIHtQb29sfSBTZWxmLCBmb3IgY2hhaW5pbmcNCiAgICovCgoKICByZXNpemUoc2l6ZSkgewogICAgY29uc3Qgb2JqZWN0cyA9IHRoaXMub2JqZWN0czsKCiAgICB3aGlsZSAob2JqZWN0cy5sZW5ndGggPiBzaXplKSB7CiAgICAgIG9iamVjdHMucG9wKCk7CiAgICB9CgogICAgd2hpbGUgKG9iamVjdHMubGVuZ3RoIDwgc2l6ZSkgewogICAgICBvYmplY3RzLnB1c2godGhpcy5jb25zdHJ1Y3RPYmplY3QoKSk7CiAgICB9CgogICAgcmV0dXJuIHRoaXM7CiAgfQoKfQovKioNCiAqIEBjbGFzcyBWZWMzUG9vbA0KICogQGNvbnN0cnVjdG9yDQogKiBAZXh0ZW5kcyBQb29sDQogKi8KCgpjbGFzcyBWZWMzUG9vbCBleHRlbmRzIFBvb2wgewogIGNvbnN0cnVjdG9yKCkgewogICAgc3VwZXIoKTsKICAgIHRoaXMudHlwZSA9IFZlYzM7CiAgfQogIC8qKg0KICAgKiBDb25zdHJ1Y3QgYSB2ZWN0b3INCiAgICogQG1ldGhvZCBjb25zdHJ1Y3RPYmplY3QNCiAgICogQHJldHVybiB7VmVjM30NCiAgICovCgoKICBjb25zdHJ1Y3RPYmplY3QoKSB7CiAgICByZXR1cm4gbmV3IFZlYzMoKTsKICB9Cgp9Cgpjb25zdCBDT0xMSVNJT05fVFlQRVMgPSB7CiAgc3BoZXJlU3BoZXJlOiBTaGFwZS50eXBlcy5TUEhFUkUsCiAgc3BoZXJlUGxhbmU6IFNoYXBlLnR5cGVzLlNQSEVSRSB8IFNoYXBlLnR5cGVzLlBMQU5FLAogIGJveEJveDogU2hhcGUudHlwZXMuQk9YIHwgU2hhcGUudHlwZXMuQk9YLAogIHNwaGVyZUJveDogU2hhcGUudHlwZXMuU1BIRVJFIHwgU2hhcGUudHlwZXMuQk9YLAogIHBsYW5lQm94OiBTaGFwZS50eXBlcy5QTEFORSB8IFNoYXBlLnR5cGVzLkJPWCwKICBjb252ZXhDb252ZXg6IFNoYXBlLnR5cGVzLkNPTlZFWFBPTFlIRURST04sCiAgc3BoZXJlQ29udmV4OiBTaGFwZS50eXBlcy5TUEhFUkUgfCBTaGFwZS50eXBlcy5DT05WRVhQT0xZSEVEUk9OLAogIHBsYW5lQ29udmV4OiBTaGFwZS50eXBlcy5QTEFORSB8IFNoYXBlLnR5cGVzLkNPTlZFWFBPTFlIRURST04sCiAgYm94Q29udmV4OiBTaGFwZS50eXBlcy5CT1ggfCBTaGFwZS50eXBlcy5DT05WRVhQT0xZSEVEUk9OLAogIHNwaGVyZUhlaWdodGZpZWxkOiBTaGFwZS50eXBlcy5TUEhFUkUgfCBTaGFwZS50eXBlcy5IRUlHSFRGSUVMRCwKICBib3hIZWlnaHRmaWVsZDogU2hhcGUudHlwZXMuQk9YIHwgU2hhcGUudHlwZXMuSEVJR0hURklFTEQsCiAgY29udmV4SGVpZ2h0ZmllbGQ6IFNoYXBlLnR5cGVzLkNPTlZFWFBPTFlIRURST04gfCBTaGFwZS50eXBlcy5IRUlHSFRGSUVMRCwKICBzcGhlcmVQYXJ0aWNsZTogU2hhcGUudHlwZXMuUEFSVElDTEUgfCBTaGFwZS50eXBlcy5TUEhFUkUsCiAgcGxhbmVQYXJ0aWNsZTogU2hhcGUudHlwZXMuUExBTkUgfCBTaGFwZS50eXBlcy5QQVJUSUNMRSwKICBib3hQYXJ0aWNsZTogU2hhcGUudHlwZXMuQk9YIHwgU2hhcGUudHlwZXMuUEFSVElDTEUsCiAgY29udmV4UGFydGljbGU6IFNoYXBlLnR5cGVzLlBBUlRJQ0xFIHwgU2hhcGUudHlwZXMuQ09OVkVYUE9MWUhFRFJPTiwKICBzcGhlcmVUcmltZXNoOiBTaGFwZS50eXBlcy5TUEhFUkUgfCBTaGFwZS50eXBlcy5UUklNRVNILAogIHBsYW5lVHJpbWVzaDogU2hhcGUudHlwZXMuUExBTkUgfCBTaGFwZS50eXBlcy5UUklNRVNICn07Ci8qKg0KICogSGVscGVyIGNsYXNzIGZvciB0aGUgV29ybGQuIEdlbmVyYXRlcyBDb250YWN0RXF1YXRpb25zLg0KICogQGNsYXNzIE5hcnJvd3BoYXNlDQogKiBAY29uc3RydWN0b3INCiAqIEB0b2RvIFNwaGVyZS1Db252ZXhQb2x5aGVkcm9uIGNvbnRhY3RzDQogKiBAdG9kbyBDb250YWN0IHJlZHVjdGlvbg0KICogQHRvZG8gc2hvdWxkIG1vdmUgbWV0aG9kcyB0byBwcm90b3R5cGUNCiAqLwoKY2xhc3MgTmFycm93cGhhc2UgewogIC8vIEludGVybmFsIHN0b3JhZ2Ugb2YgcG9vbGVkIGNvbnRhY3QgcG9pbnRzLgogIC8vIFBvb2xlZCB2ZWN0b3JzLgogIGNvbnN0cnVjdG9yKHdvcmxkKSB7CiAgICB0aGlzLmNvbnRhY3RQb2ludFBvb2wgPSBbXTsKICAgIHRoaXMuZnJpY3Rpb25FcXVhdGlvblBvb2wgPSBbXTsKICAgIHRoaXMucmVzdWx0ID0gW107CiAgICB0aGlzLmZyaWN0aW9uUmVzdWx0ID0gW107CiAgICB0aGlzLnYzcG9vbCA9IG5ldyBWZWMzUG9vbCgpOwogICAgdGhpcy53b3JsZCA9IHdvcmxkOwogICAgdGhpcy5jdXJyZW50Q29udGFjdE1hdGVyaWFsID0gd29ybGQuZGVmYXVsdENvbnRhY3RNYXRlcmlhbDsKICAgIHRoaXMuZW5hYmxlRnJpY3Rpb25SZWR1Y3Rpb24gPSBmYWxzZTsKICB9CiAgLyoqDQogICAqIE1ha2UgYSBjb250YWN0IG9iamVjdCwgYnkgdXNpbmcgdGhlIGludGVybmFsIHBvb2wgb3IgY3JlYXRpbmcgYSBuZXcgb25lLg0KICAgKiBAbWV0aG9kIGNyZWF0ZUNvbnRhY3RFcXVhdGlvbg0KICAgKiBAcGFyYW0ge0JvZHl9IGJpDQogICAqIEBwYXJhbSB7Qm9keX0gYmoNCiAgICogQHBhcmFtIHtTaGFwZX0gc2kNCiAgICogQHBhcmFtIHtTaGFwZX0gc2oNCiAgICogQHBhcmFtIHtTaGFwZX0gb3ZlcnJpZGVTaGFwZUENCiAgICogQHBhcmFtIHtTaGFwZX0gb3ZlcnJpZGVTaGFwZUINCiAgICogQHJldHVybiB7Q29udGFjdEVxdWF0aW9ufQ0KICAgKi8KCgogIGNyZWF0ZUNvbnRhY3RFcXVhdGlvbihiaSwgYmosIHNpLCBzaiwgb3ZlcnJpZGVTaGFwZUEsIG92ZXJyaWRlU2hhcGVCKSB7CiAgICBsZXQgYzsKCiAgICBpZiAodGhpcy5jb250YWN0UG9pbnRQb29sLmxlbmd0aCkgewogICAgICBjID0gdGhpcy5jb250YWN0UG9pbnRQb29sLnBvcCgpOwogICAgICBjLmJpID0gYmk7CiAgICAgIGMuYmogPSBiajsKICAgIH0gZWxzZSB7CiAgICAgIGMgPSBuZXcgQ29udGFjdEVxdWF0aW9uKGJpLCBiaik7CiAgICB9CgogICAgYy5lbmFibGVkID0gYmkuY29sbGlzaW9uUmVzcG9uc2UgJiYgYmouY29sbGlzaW9uUmVzcG9uc2UgJiYgc2kuY29sbGlzaW9uUmVzcG9uc2UgJiYgc2ouY29sbGlzaW9uUmVzcG9uc2U7CiAgICBjb25zdCBjbSA9IHRoaXMuY3VycmVudENvbnRhY3RNYXRlcmlhbDsKICAgIGMucmVzdGl0dXRpb24gPSBjbS5yZXN0aXR1dGlvbjsKICAgIGMuc2V0U3Bvb2tQYXJhbXMoY20uY29udGFjdEVxdWF0aW9uU3RpZmZuZXNzLCBjbS5jb250YWN0RXF1YXRpb25SZWxheGF0aW9uLCB0aGlzLndvcmxkLmR0KTsKICAgIGNvbnN0IG1hdEEgPSBzaS5tYXRlcmlhbCB8fCBiaS5tYXRlcmlhbDsKICAgIGNvbnN0IG1hdEIgPSBzai5tYXRlcmlhbCB8fCBiai5tYXRlcmlhbDsKCiAgICBpZiAobWF0QSAmJiBtYXRCICYmIG1hdEEucmVzdGl0dXRpb24gPj0gMCAmJiBtYXRCLnJlc3RpdHV0aW9uID49IDApIHsKICAgICAgYy5yZXN0aXR1dGlvbiA9IG1hdEEucmVzdGl0dXRpb24gKiBtYXRCLnJlc3RpdHV0aW9uOwogICAgfQoKICAgIGMuc2kgPSBvdmVycmlkZVNoYXBlQSB8fCBzaTsKICAgIGMuc2ogPSBvdmVycmlkZVNoYXBlQiB8fCBzajsKICAgIHJldHVybiBjOwogIH0KCiAgY3JlYXRlRnJpY3Rpb25FcXVhdGlvbnNGcm9tQ29udGFjdChjb250YWN0RXF1YXRpb24sIG91dEFycmF5KSB7CiAgICBjb25zdCBib2R5QSA9IGNvbnRhY3RFcXVhdGlvbi5iaTsKICAgIGNvbnN0IGJvZHlCID0gY29udGFjdEVxdWF0aW9uLmJqOwogICAgY29uc3Qgc2hhcGVBID0gY29udGFjdEVxdWF0aW9uLnNpOwogICAgY29uc3Qgc2hhcGVCID0gY29udGFjdEVxdWF0aW9uLnNqOwogICAgY29uc3Qgd29ybGQgPSB0aGlzLndvcmxkOwogICAgY29uc3QgY20gPSB0aGlzLmN1cnJlbnRDb250YWN0TWF0ZXJpYWw7IC8vIElmIGZyaWN0aW9uIG9yIHJlc3RpdHV0aW9uIHdlcmUgc3BlY2lmaWVkIGluIHRoZSBtYXRlcmlhbCwgdXNlIHRoZW0KCiAgICBsZXQgZnJpY3Rpb24gPSBjbS5mcmljdGlvbjsKICAgIGNvbnN0IG1hdEEgPSBzaGFwZUEubWF0ZXJpYWwgfHwgYm9keUEubWF0ZXJpYWw7CiAgICBjb25zdCBtYXRCID0gc2hhcGVCLm1hdGVyaWFsIHx8IGJvZHlCLm1hdGVyaWFsOwoKICAgIGlmIChtYXRBICYmIG1hdEIgJiYgbWF0QS5mcmljdGlvbiA+PSAwICYmIG1hdEIuZnJpY3Rpb24gPj0gMCkgewogICAgICBmcmljdGlvbiA9IG1hdEEuZnJpY3Rpb24gKiBtYXRCLmZyaWN0aW9uOwogICAgfQoKICAgIGlmIChmcmljdGlvbiA+IDApIHsKICAgICAgLy8gQ3JlYXRlIDIgdGFuZ2VudCBlcXVhdGlvbnMKICAgICAgY29uc3QgbXVnID0gZnJpY3Rpb24gKiB3b3JsZC5ncmF2aXR5Lmxlbmd0aCgpOwogICAgICBsZXQgcmVkdWNlZE1hc3MgPSBib2R5QS5pbnZNYXNzICsgYm9keUIuaW52TWFzczsKCiAgICAgIGlmIChyZWR1Y2VkTWFzcyA+IDApIHsKICAgICAgICByZWR1Y2VkTWFzcyA9IDEgLyByZWR1Y2VkTWFzczsKICAgICAgfQoKICAgICAgY29uc3QgcG9vbCA9IHRoaXMuZnJpY3Rpb25FcXVhdGlvblBvb2w7CiAgICAgIGNvbnN0IGMxID0gcG9vbC5sZW5ndGggPyBwb29sLnBvcCgpIDogbmV3IEZyaWN0aW9uRXF1YXRpb24oYm9keUEsIGJvZHlCLCBtdWcgKiByZWR1Y2VkTWFzcyk7CiAgICAgIGNvbnN0IGMyID0gcG9vbC5sZW5ndGggPyBwb29sLnBvcCgpIDogbmV3IEZyaWN0aW9uRXF1YXRpb24oYm9keUEsIGJvZHlCLCBtdWcgKiByZWR1Y2VkTWFzcyk7CiAgICAgIGMxLmJpID0gYzIuYmkgPSBib2R5QTsKICAgICAgYzEuYmogPSBjMi5iaiA9IGJvZHlCOwogICAgICBjMS5taW5Gb3JjZSA9IGMyLm1pbkZvcmNlID0gLW11ZyAqIHJlZHVjZWRNYXNzOwogICAgICBjMS5tYXhGb3JjZSA9IGMyLm1heEZvcmNlID0gbXVnICogcmVkdWNlZE1hc3M7IC8vIENvcHkgb3ZlciB0aGUgcmVsYXRpdmUgdmVjdG9ycwoKICAgICAgYzEucmkuY29weShjb250YWN0RXF1YXRpb24ucmkpOwogICAgICBjMS5yai5jb3B5KGNvbnRhY3RFcXVhdGlvbi5yaik7CiAgICAgIGMyLnJpLmNvcHkoY29udGFjdEVxdWF0aW9uLnJpKTsKICAgICAgYzIucmouY29weShjb250YWN0RXF1YXRpb24ucmopOyAvLyBDb25zdHJ1Y3QgdGFuZ2VudHMKCiAgICAgIGNvbnRhY3RFcXVhdGlvbi5uaS50YW5nZW50cyhjMS50LCBjMi50KTsgLy8gU2V0IHNwb29rIHBhcmFtcwoKICAgICAgYzEuc2V0U3Bvb2tQYXJhbXMoY20uZnJpY3Rpb25FcXVhdGlvblN0aWZmbmVzcywgY20uZnJpY3Rpb25FcXVhdGlvblJlbGF4YXRpb24sIHdvcmxkLmR0KTsKICAgICAgYzIuc2V0U3Bvb2tQYXJhbXMoY20uZnJpY3Rpb25FcXVhdGlvblN0aWZmbmVzcywgY20uZnJpY3Rpb25FcXVhdGlvblJlbGF4YXRpb24sIHdvcmxkLmR0KTsKICAgICAgYzEuZW5hYmxlZCA9IGMyLmVuYWJsZWQgPSBjb250YWN0RXF1YXRpb24uZW5hYmxlZDsKICAgICAgb3V0QXJyYXkucHVzaChjMSwgYzIpOwogICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICByZXR1cm4gZmFsc2U7CiAgfSAvLyBUYWtlIHRoZSBhdmVyYWdlIE4gbGF0ZXN0IGNvbnRhY3QgcG9pbnQgb24gdGhlIHBsYW5lLgoKCiAgY3JlYXRlRnJpY3Rpb25Gcm9tQXZlcmFnZShudW1Db250YWN0cykgewogICAgLy8gVGhlIGxhc3QgY29udGFjdEVxdWF0aW9uCiAgICBsZXQgYyA9IHRoaXMucmVzdWx0W3RoaXMucmVzdWx0Lmxlbmd0aCAtIDFdOyAvLyBDcmVhdGUgdGhlIHJlc3VsdDogdHdvICJhdmVyYWdlIiBmcmljdGlvbiBlcXVhdGlvbnMKCiAgICBpZiAoIXRoaXMuY3JlYXRlRnJpY3Rpb25FcXVhdGlvbnNGcm9tQ29udGFjdChjLCB0aGlzLmZyaWN0aW9uUmVzdWx0KSB8fCBudW1Db250YWN0cyA9PT0gMSkgewogICAgICByZXR1cm47CiAgICB9CgogICAgY29uc3QgZjEgPSB0aGlzLmZyaWN0aW9uUmVzdWx0W3RoaXMuZnJpY3Rpb25SZXN1bHQubGVuZ3RoIC0gMl07CiAgICBjb25zdCBmMiA9IHRoaXMuZnJpY3Rpb25SZXN1bHRbdGhpcy5mcmljdGlvblJlc3VsdC5sZW5ndGggLSAxXTsKICAgIGF2ZXJhZ2VOb3JtYWwuc2V0WmVybygpOwogICAgYXZlcmFnZUNvbnRhY3RQb2ludEEuc2V0WmVybygpOwogICAgYXZlcmFnZUNvbnRhY3RQb2ludEIuc2V0WmVybygpOwogICAgY29uc3QgYm9keUEgPSBjLmJpOwogICAgY29uc3QgYm9keUIgPSBjLmJqOwoKICAgIGZvciAobGV0IGkgPSAwOyBpICE9PSBudW1Db250YWN0czsgaSsrKSB7CiAgICAgIGMgPSB0aGlzLnJlc3VsdFt0aGlzLnJlc3VsdC5sZW5ndGggLSAxIC0gaV07CgogICAgICBpZiAoYy5iaSAhPT0gYm9keUEpIHsKICAgICAgICBhdmVyYWdlTm9ybWFsLnZhZGQoYy5uaSwgYXZlcmFnZU5vcm1hbCk7CiAgICAgICAgYXZlcmFnZUNvbnRhY3RQb2ludEEudmFkZChjLnJpLCBhdmVyYWdlQ29udGFjdFBvaW50QSk7CiAgICAgICAgYXZlcmFnZUNvbnRhY3RQb2ludEIudmFkZChjLnJqLCBhdmVyYWdlQ29udGFjdFBvaW50Qik7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgYXZlcmFnZU5vcm1hbC52c3ViKGMubmksIGF2ZXJhZ2VOb3JtYWwpOwogICAgICAgIGF2ZXJhZ2VDb250YWN0UG9pbnRBLnZhZGQoYy5yaiwgYXZlcmFnZUNvbnRhY3RQb2ludEEpOwogICAgICAgIGF2ZXJhZ2VDb250YWN0UG9pbnRCLnZhZGQoYy5yaSwgYXZlcmFnZUNvbnRhY3RQb2ludEIpOwogICAgICB9CiAgICB9CgogICAgY29uc3QgaW52TnVtQ29udGFjdHMgPSAxIC8gbnVtQ29udGFjdHM7CiAgICBhdmVyYWdlQ29udGFjdFBvaW50QS5zY2FsZShpbnZOdW1Db250YWN0cywgZjEucmkpOwogICAgYXZlcmFnZUNvbnRhY3RQb2ludEIuc2NhbGUoaW52TnVtQ29udGFjdHMsIGYxLnJqKTsKICAgIGYyLnJpLmNvcHkoZjEucmkpOyAvLyBTaG91bGQgYmUgdGhlIHNhbWUKCiAgICBmMi5yai5jb3B5KGYxLnJqKTsKICAgIGF2ZXJhZ2VOb3JtYWwubm9ybWFsaXplKCk7CiAgICBhdmVyYWdlTm9ybWFsLnRhbmdlbnRzKGYxLnQsIGYyLnQpOyAvLyByZXR1cm4gZXE7CiAgfQogIC8qKg0KICAgKiBHZW5lcmF0ZSBhbGwgY29udGFjdHMgYmV0d2VlbiBhIGxpc3Qgb2YgYm9keSBwYWlycw0KICAgKiBAbWV0aG9kIGdldENvbnRhY3RzDQogICAqIEBwYXJhbSB7YXJyYXl9IHAxIEFycmF5IG9mIGJvZHkgaW5kaWNlcw0KICAgKiBAcGFyYW0ge2FycmF5fSBwMiBBcnJheSBvZiBib2R5IGluZGljZXMNCiAgICogQHBhcmFtIHtXb3JsZH0gd29ybGQNCiAgICogQHBhcmFtIHthcnJheX0gcmVzdWx0IEFycmF5IHRvIHN0b3JlIGdlbmVyYXRlZCBjb250YWN0cw0KICAgKiBAcGFyYW0ge2FycmF5fSBvbGRjb250YWN0cyBPcHRpb25hbC4gQXJyYXkgb2YgcmV1c2FibGUgY29udGFjdCBvYmplY3RzDQogICAqLwoKCiAgZ2V0Q29udGFjdHMocDEsIHAyLCB3b3JsZCwgcmVzdWx0LCBvbGRjb250YWN0cywgZnJpY3Rpb25SZXN1bHQsIGZyaWN0aW9uUG9vbCkgewogICAgLy8gU2F2ZSBvbGQgY29udGFjdCBvYmplY3RzCiAgICB0aGlzLmNvbnRhY3RQb2ludFBvb2wgPSBvbGRjb250YWN0czsKICAgIHRoaXMuZnJpY3Rpb25FcXVhdGlvblBvb2wgPSBmcmljdGlvblBvb2w7CiAgICB0aGlzLnJlc3VsdCA9IHJlc3VsdDsKICAgIHRoaXMuZnJpY3Rpb25SZXN1bHQgPSBmcmljdGlvblJlc3VsdDsKICAgIGNvbnN0IHFpID0gdG1wUXVhdDE7CiAgICBjb25zdCBxaiA9IHRtcFF1YXQyOwogICAgY29uc3QgeGkgPSB0bXBWZWMxJDI7CiAgICBjb25zdCB4aiA9IHRtcFZlYzIkMjsKCiAgICBmb3IgKGxldCBrID0gMCwgTiA9IHAxLmxlbmd0aDsgayAhPT0gTjsgaysrKSB7CiAgICAgIC8vIEdldCBjdXJyZW50IGNvbGxpc2lvbiBib2RpZXMKICAgICAgY29uc3QgYmkgPSBwMVtrXTsKICAgICAgY29uc3QgYmogPSBwMltrXTsgLy8gR2V0IGNvbnRhY3QgbWF0ZXJpYWwKCiAgICAgIGxldCBib2R5Q29udGFjdE1hdGVyaWFsID0gbnVsbDsKCiAgICAgIGlmIChiaS5tYXRlcmlhbCAmJiBiai5tYXRlcmlhbCkgewogICAgICAgIGJvZHlDb250YWN0TWF0ZXJpYWwgPSB3b3JsZC5nZXRDb250YWN0TWF0ZXJpYWwoYmkubWF0ZXJpYWwsIGJqLm1hdGVyaWFsKSB8fCBudWxsOwogICAgICB9CgogICAgICBjb25zdCBqdXN0VGVzdCA9IGJpLnR5cGUgJiBCb2R5LktJTkVNQVRJQyAmJiBiai50eXBlICYgQm9keS5TVEFUSUMgfHwgYmkudHlwZSAmIEJvZHkuU1RBVElDICYmIGJqLnR5cGUgJiBCb2R5LktJTkVNQVRJQyB8fCBiaS50eXBlICYgQm9keS5LSU5FTUFUSUMgJiYgYmoudHlwZSAmIEJvZHkuS0lORU1BVElDOwoKICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBiaS5zaGFwZXMubGVuZ3RoOyBpKyspIHsKICAgICAgICBiaS5xdWF0ZXJuaW9uLm11bHQoYmkuc2hhcGVPcmllbnRhdGlvbnNbaV0sIHFpKTsKICAgICAgICBiaS5xdWF0ZXJuaW9uLnZtdWx0KGJpLnNoYXBlT2Zmc2V0c1tpXSwgeGkpOwogICAgICAgIHhpLnZhZGQoYmkucG9zaXRpb24sIHhpKTsKICAgICAgICBjb25zdCBzaSA9IGJpLnNoYXBlc1tpXTsKCiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBiai5zaGFwZXMubGVuZ3RoOyBqKyspIHsKICAgICAgICAgIC8vIENvbXB1dGUgd29ybGQgdHJhbnNmb3JtIG9mIHNoYXBlcwogICAgICAgICAgYmoucXVhdGVybmlvbi5tdWx0KGJqLnNoYXBlT3JpZW50YXRpb25zW2pdLCBxaik7CiAgICAgICAgICBiai5xdWF0ZXJuaW9uLnZtdWx0KGJqLnNoYXBlT2Zmc2V0c1tqXSwgeGopOwogICAgICAgICAgeGoudmFkZChiai5wb3NpdGlvbiwgeGopOwogICAgICAgICAgY29uc3Qgc2ogPSBiai5zaGFwZXNbal07CgogICAgICAgICAgaWYgKCEoc2kuY29sbGlzaW9uRmlsdGVyTWFzayAmIHNqLmNvbGxpc2lvbkZpbHRlckdyb3VwICYmIHNqLmNvbGxpc2lvbkZpbHRlck1hc2sgJiBzaS5jb2xsaXNpb25GaWx0ZXJHcm91cCkpIHsKICAgICAgICAgICAgY29udGludWU7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKHhpLmRpc3RhbmNlVG8oeGopID4gc2kuYm91bmRpbmdTcGhlcmVSYWRpdXMgKyBzai5ib3VuZGluZ1NwaGVyZVJhZGl1cykgewogICAgICAgICAgICBjb250aW51ZTsKICAgICAgICAgIH0gLy8gR2V0IGNvbGxpc2lvbiBtYXRlcmlhbAoKCiAgICAgICAgICBsZXQgc2hhcGVDb250YWN0TWF0ZXJpYWwgPSBudWxsOwoKICAgICAgICAgIGlmIChzaS5tYXRlcmlhbCAmJiBzai5tYXRlcmlhbCkgewogICAgICAgICAgICBzaGFwZUNvbnRhY3RNYXRlcmlhbCA9IHdvcmxkLmdldENvbnRhY3RNYXRlcmlhbChzaS5tYXRlcmlhbCwgc2oubWF0ZXJpYWwpIHx8IG51bGw7CiAgICAgICAgICB9CgogICAgICAgICAgdGhpcy5jdXJyZW50Q29udGFjdE1hdGVyaWFsID0gc2hhcGVDb250YWN0TWF0ZXJpYWwgfHwgYm9keUNvbnRhY3RNYXRlcmlhbCB8fCB3b3JsZC5kZWZhdWx0Q29udGFjdE1hdGVyaWFsOyAvLyBHZXQgY29udGFjdHMKCiAgICAgICAgICBjb25zdCByZXNvbHZlckluZGV4ID0gc2kudHlwZSB8IHNqLnR5cGU7CiAgICAgICAgICBjb25zdCByZXNvbHZlciA9IHRoaXNbcmVzb2x2ZXJJbmRleF07CgogICAgICAgICAgaWYgKHJlc29sdmVyKSB7CiAgICAgICAgICAgIGxldCByZXR2YWwgPSBmYWxzZTsgLy8gVE8gRE86IGludmVzdGlnYXRlIHdoeSBzcGhlcmVQYXJ0aWNsZSBhbmQgY29udmV4UGFydGljbGUKICAgICAgICAgICAgLy8gcmVzb2x2ZXJzIGV4cGVjdCBzaSBhbmQgc2ogc2hhcGVzIHRvIGJlIGluIHJldmVyc2Ugb3JkZXIKICAgICAgICAgICAgLy8gKGkuZS4gbGFyZ2VyIGludGVnZXIgdmFsdWUgdHlwZSBmaXJzdCBpbnN0ZWFkIG9mIHNtYWxsZXIgZmlyc3QpCgogICAgICAgICAgICBpZiAoc2kudHlwZSA8IHNqLnR5cGUpIHsKICAgICAgICAgICAgICByZXR2YWwgPSByZXNvbHZlci5jYWxsKHRoaXMsIHNpLCBzaiwgeGksIHhqLCBxaSwgcWosIGJpLCBiaiwgc2ksIHNqLCBqdXN0VGVzdCk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgcmV0dmFsID0gcmVzb2x2ZXIuY2FsbCh0aGlzLCBzaiwgc2ksIHhqLCB4aSwgcWosIHFpLCBiaiwgYmksIHNpLCBzaiwganVzdFRlc3QpOwogICAgICAgICAgICB9CgogICAgICAgICAgICBpZiAocmV0dmFsICYmIGp1c3RUZXN0KSB7CiAgICAgICAgICAgICAgLy8gUmVnaXN0ZXIgb3ZlcmxhcAogICAgICAgICAgICAgIHdvcmxkLnNoYXBlT3ZlcmxhcEtlZXBlci5zZXQoc2kuaWQsIHNqLmlkKTsKICAgICAgICAgICAgICB3b3JsZC5ib2R5T3ZlcmxhcEtlZXBlci5zZXQoYmkuaWQsIGJqLmlkKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfQogIH0KCiAgc3BoZXJlU3BoZXJlKHNpLCBzaiwgeGksIHhqLCBxaSwgcWosIGJpLCBiaiwgcnNpLCByc2osIGp1c3RUZXN0KSB7CiAgICBpZiAoanVzdFRlc3QpIHsKICAgICAgcmV0dXJuIHhpLmRpc3RhbmNlU3F1YXJlZCh4aikgPCAoc2kucmFkaXVzICsgc2oucmFkaXVzKSAqKiAyOwogICAgfSAvLyBXZSB3aWxsIGhhdmUgb25seSBvbmUgY29udGFjdCBpbiB0aGlzIGNhc2UKCgogICAgY29uc3QgciA9IHRoaXMuY3JlYXRlQ29udGFjdEVxdWF0aW9uKGJpLCBiaiwgc2ksIHNqLCByc2ksIHJzaik7IC8vIENvbnRhY3Qgbm9ybWFsCgogICAgeGoudnN1Yih4aSwgci5uaSk7CiAgICByLm5pLm5vcm1hbGl6ZSgpOyAvLyBDb250YWN0IHBvaW50IGxvY2F0aW9ucwoKICAgIHIucmkuY29weShyLm5pKTsKICAgIHIucmouY29weShyLm5pKTsKICAgIHIucmkuc2NhbGUoc2kucmFkaXVzLCByLnJpKTsKICAgIHIucmouc2NhbGUoLXNqLnJhZGl1cywgci5yaik7CiAgICByLnJpLnZhZGQoeGksIHIucmkpOwogICAgci5yaS52c3ViKGJpLnBvc2l0aW9uLCByLnJpKTsKICAgIHIucmoudmFkZCh4aiwgci5yaik7CiAgICByLnJqLnZzdWIoYmoucG9zaXRpb24sIHIucmopOwogICAgdGhpcy5yZXN1bHQucHVzaChyKTsKICAgIHRoaXMuY3JlYXRlRnJpY3Rpb25FcXVhdGlvbnNGcm9tQ29udGFjdChyLCB0aGlzLmZyaWN0aW9uUmVzdWx0KTsKICB9CgogIHNwaGVyZVBsYW5lKHNpLCBzaiwgeGksIHhqLCBxaSwgcWosIGJpLCBiaiwgcnNpLCByc2osIGp1c3RUZXN0KSB7CiAgICAvLyBXZSB3aWxsIGhhdmUgb25lIGNvbnRhY3QgaW4gdGhpcyBjYXNlCiAgICBjb25zdCByID0gdGhpcy5jcmVhdGVDb250YWN0RXF1YXRpb24oYmksIGJqLCBzaSwgc2osIHJzaSwgcnNqKTsgLy8gQ29udGFjdCBub3JtYWwKCiAgICByLm5pLnNldCgwLCAwLCAxKTsKICAgIHFqLnZtdWx0KHIubmksIHIubmkpOwogICAgci5uaS5uZWdhdGUoci5uaSk7IC8vIGJvZHkgaSBpcyB0aGUgc3BoZXJlLCBmbGlwIG5vcm1hbAoKICAgIHIubmkubm9ybWFsaXplKCk7IC8vIE5lZWRlZD8KICAgIC8vIFZlY3RvciBmcm9tIHNwaGVyZSBjZW50ZXIgdG8gY29udGFjdCBwb2ludAoKICAgIHIubmkuc2NhbGUoc2kucmFkaXVzLCByLnJpKTsgLy8gUHJvamVjdCBkb3duIHNwaGVyZSBvbiBwbGFuZQoKICAgIHhpLnZzdWIoeGosIHBvaW50X29uX3BsYW5lX3RvX3NwaGVyZSk7CiAgICByLm5pLnNjYWxlKHIubmkuZG90KHBvaW50X29uX3BsYW5lX3RvX3NwaGVyZSksIHBsYW5lX3RvX3NwaGVyZV9vcnRobyk7CiAgICBwb2ludF9vbl9wbGFuZV90b19zcGhlcmUudnN1YihwbGFuZV90b19zcGhlcmVfb3J0aG8sIHIucmopOyAvLyBUaGUgc3BoZXJlIHBvc2l0aW9uIHByb2plY3RlZCB0byBwbGFuZQoKICAgIGlmICgtcG9pbnRfb25fcGxhbmVfdG9fc3BoZXJlLmRvdChyLm5pKSA8PSBzaS5yYWRpdXMpIHsKICAgICAgaWYgKGp1c3RUZXN0KSB7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH0gLy8gTWFrZSBpdCByZWxhdGl2ZSB0byB0aGUgYm9keQoKCiAgICAgIGNvbnN0IHJpID0gci5yaTsKICAgICAgY29uc3QgcmogPSByLnJqOwogICAgICByaS52YWRkKHhpLCByaSk7CiAgICAgIHJpLnZzdWIoYmkucG9zaXRpb24sIHJpKTsKICAgICAgcmoudmFkZCh4aiwgcmopOwogICAgICByai52c3ViKGJqLnBvc2l0aW9uLCByaik7CiAgICAgIHRoaXMucmVzdWx0LnB1c2gocik7CiAgICAgIHRoaXMuY3JlYXRlRnJpY3Rpb25FcXVhdGlvbnNGcm9tQ29udGFjdChyLCB0aGlzLmZyaWN0aW9uUmVzdWx0KTsKICAgIH0KICB9CgogIGJveEJveChzaSwgc2osIHhpLCB4aiwgcWksIHFqLCBiaSwgYmosIHJzaSwgcnNqLCBqdXN0VGVzdCkgewogICAgc2kuY29udmV4UG9seWhlZHJvblJlcHJlc2VudGF0aW9uLm1hdGVyaWFsID0gc2kubWF0ZXJpYWw7CiAgICBzai5jb252ZXhQb2x5aGVkcm9uUmVwcmVzZW50YXRpb24ubWF0ZXJpYWwgPSBzai5tYXRlcmlhbDsKICAgIHNpLmNvbnZleFBvbHloZWRyb25SZXByZXNlbnRhdGlvbi5jb2xsaXNpb25SZXNwb25zZSA9IHNpLmNvbGxpc2lvblJlc3BvbnNlOwogICAgc2ouY29udmV4UG9seWhlZHJvblJlcHJlc2VudGF0aW9uLmNvbGxpc2lvblJlc3BvbnNlID0gc2ouY29sbGlzaW9uUmVzcG9uc2U7CiAgICByZXR1cm4gdGhpcy5jb252ZXhDb252ZXgoc2kuY29udmV4UG9seWhlZHJvblJlcHJlc2VudGF0aW9uLCBzai5jb252ZXhQb2x5aGVkcm9uUmVwcmVzZW50YXRpb24sIHhpLCB4aiwgcWksIHFqLCBiaSwgYmosIHNpLCBzaiwganVzdFRlc3QpOwogIH0KCiAgc3BoZXJlQm94KHNpLCBzaiwgeGksIHhqLCBxaSwgcWosIGJpLCBiaiwgcnNpLCByc2osIGp1c3RUZXN0KSB7CiAgICBjb25zdCB2M3Bvb2wgPSB0aGlzLnYzcG9vbDsgLy8gd2UgcmVmZXIgdG8gdGhlIGJveCBhcyBib2R5IGoKCiAgICBjb25zdCBzaWRlcyA9IHNwaGVyZUJveF9zaWRlczsKICAgIHhpLnZzdWIoeGosIGJveF90b19zcGhlcmUpOwogICAgc2ouZ2V0U2lkZU5vcm1hbHMoc2lkZXMsIHFqKTsKICAgIGNvbnN0IFIgPSBzaS5yYWRpdXM7CiAgICBsZXQgZm91bmQgPSBmYWxzZTsgLy8gU3RvcmUgdGhlIHJlc3VsdGluZyBzaWRlIHBlbmV0cmF0aW9uIGluZm8KCiAgICBjb25zdCBzaWRlX25zID0gc3BoZXJlQm94X3NpZGVfbnM7CiAgICBjb25zdCBzaWRlX25zMSA9IHNwaGVyZUJveF9zaWRlX25zMTsKICAgIGNvbnN0IHNpZGVfbnMyID0gc3BoZXJlQm94X3NpZGVfbnMyOwogICAgbGV0IHNpZGVfaCA9IG51bGw7CiAgICBsZXQgc2lkZV9wZW5ldHJhdGlvbnMgPSAwOwogICAgbGV0IHNpZGVfZG90MSA9IDA7CiAgICBsZXQgc2lkZV9kb3QyID0gMDsKICAgIGxldCBzaWRlX2Rpc3RhbmNlID0gbnVsbDsKCiAgICBmb3IgKGxldCBpZHggPSAwLCBuc2lkZXMgPSBzaWRlcy5sZW5ndGg7IGlkeCAhPT0gbnNpZGVzICYmIGZvdW5kID09PSBmYWxzZTsgaWR4KyspIHsKICAgICAgLy8gR2V0IHRoZSBwbGFuZSBzaWRlIG5vcm1hbCAobnMpCiAgICAgIGNvbnN0IG5zID0gc3BoZXJlQm94X25zOwogICAgICBucy5jb3B5KHNpZGVzW2lkeF0pOwogICAgICBjb25zdCBoID0gbnMubGVuZ3RoKCk7CiAgICAgIG5zLm5vcm1hbGl6ZSgpOyAvLyBUaGUgbm9ybWFsL2Rpc3RhbmNlIGRvdCBwcm9kdWN0IHRlbGxzIHdoaWNoIHNpZGUgb2YgdGhlIHBsYW5lIHdlIGFyZQoKICAgICAgY29uc3QgZG90ID0gYm94X3RvX3NwaGVyZS5kb3QobnMpOwoKICAgICAgaWYgKGRvdCA8IGggKyBSICYmIGRvdCA+IDApIHsKICAgICAgICAvLyBJbnRlcnNlY3RzIHBsYW5lLiBOb3cgY2hlY2sgdGhlIG90aGVyIHR3byBkaW1lbnNpb25zCiAgICAgICAgY29uc3QgbnMxID0gc3BoZXJlQm94X25zMTsKICAgICAgICBjb25zdCBuczIgPSBzcGhlcmVCb3hfbnMyOwogICAgICAgIG5zMS5jb3B5KHNpZGVzWyhpZHggKyAxKSAlIDNdKTsKICAgICAgICBuczIuY29weShzaWRlc1soaWR4ICsgMikgJSAzXSk7CiAgICAgICAgY29uc3QgaDEgPSBuczEubGVuZ3RoKCk7CiAgICAgICAgY29uc3QgaDIgPSBuczIubGVuZ3RoKCk7CiAgICAgICAgbnMxLm5vcm1hbGl6ZSgpOwogICAgICAgIG5zMi5ub3JtYWxpemUoKTsKICAgICAgICBjb25zdCBkb3QxID0gYm94X3RvX3NwaGVyZS5kb3QobnMxKTsKICAgICAgICBjb25zdCBkb3QyID0gYm94X3RvX3NwaGVyZS5kb3QobnMyKTsKCiAgICAgICAgaWYgKGRvdDEgPCBoMSAmJiBkb3QxID4gLWgxICYmIGRvdDIgPCBoMiAmJiBkb3QyID4gLWgyKSB7CiAgICAgICAgICBjb25zdCBkaXN0ID0gTWF0aC5hYnMoZG90IC0gaCAtIFIpOwoKICAgICAgICAgIGlmIChzaWRlX2Rpc3RhbmNlID09PSBudWxsIHx8IGRpc3QgPCBzaWRlX2Rpc3RhbmNlKSB7CiAgICAgICAgICAgIHNpZGVfZGlzdGFuY2UgPSBkaXN0OwogICAgICAgICAgICBzaWRlX2RvdDEgPSBkb3QxOwogICAgICAgICAgICBzaWRlX2RvdDIgPSBkb3QyOwogICAgICAgICAgICBzaWRlX2ggPSBoOwogICAgICAgICAgICBzaWRlX25zLmNvcHkobnMpOwogICAgICAgICAgICBzaWRlX25zMS5jb3B5KG5zMSk7CiAgICAgICAgICAgIHNpZGVfbnMyLmNvcHkobnMyKTsKICAgICAgICAgICAgc2lkZV9wZW5ldHJhdGlvbnMrKzsKCiAgICAgICAgICAgIGlmIChqdXN0VGVzdCkgewogICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9CgogICAgaWYgKHNpZGVfcGVuZXRyYXRpb25zKSB7CiAgICAgIGZvdW5kID0gdHJ1ZTsKICAgICAgY29uc3QgciA9IHRoaXMuY3JlYXRlQ29udGFjdEVxdWF0aW9uKGJpLCBiaiwgc2ksIHNqLCByc2ksIHJzaik7CiAgICAgIHNpZGVfbnMuc2NhbGUoLVIsIHIucmkpOyAvLyBTcGhlcmUgcgoKICAgICAgci5uaS5jb3B5KHNpZGVfbnMpOwogICAgICByLm5pLm5lZ2F0ZShyLm5pKTsgLy8gTm9ybWFsIHNob3VsZCBiZSBvdXQgb2Ygc3BoZXJlCgogICAgICBzaWRlX25zLnNjYWxlKHNpZGVfaCwgc2lkZV9ucyk7CiAgICAgIHNpZGVfbnMxLnNjYWxlKHNpZGVfZG90MSwgc2lkZV9uczEpOwogICAgICBzaWRlX25zLnZhZGQoc2lkZV9uczEsIHNpZGVfbnMpOwogICAgICBzaWRlX25zMi5zY2FsZShzaWRlX2RvdDIsIHNpZGVfbnMyKTsKICAgICAgc2lkZV9ucy52YWRkKHNpZGVfbnMyLCByLnJqKTsgLy8gTWFrZSByZWxhdGl2ZSB0byBib2RpZXMKCiAgICAgIHIucmkudmFkZCh4aSwgci5yaSk7CiAgICAgIHIucmkudnN1YihiaS5wb3NpdGlvbiwgci5yaSk7CiAgICAgIHIucmoudmFkZCh4aiwgci5yaik7CiAgICAgIHIucmoudnN1Yihiai5wb3NpdGlvbiwgci5yaik7CiAgICAgIHRoaXMucmVzdWx0LnB1c2gocik7CiAgICAgIHRoaXMuY3JlYXRlRnJpY3Rpb25FcXVhdGlvbnNGcm9tQ29udGFjdChyLCB0aGlzLmZyaWN0aW9uUmVzdWx0KTsKICAgIH0gLy8gQ2hlY2sgY29ybmVycwoKCiAgICBsZXQgcmogPSB2M3Bvb2wuZ2V0KCk7CiAgICBjb25zdCBzcGhlcmVfdG9fY29ybmVyID0gc3BoZXJlQm94X3NwaGVyZV90b19jb3JuZXI7CgogICAgZm9yIChsZXQgaiA9IDA7IGogIT09IDIgJiYgIWZvdW5kOyBqKyspIHsKICAgICAgZm9yIChsZXQgayA9IDA7IGsgIT09IDIgJiYgIWZvdW5kOyBrKyspIHsKICAgICAgICBmb3IgKGxldCBsID0gMDsgbCAhPT0gMiAmJiAhZm91bmQ7IGwrKykgewogICAgICAgICAgcmouc2V0KDAsIDAsIDApOwoKICAgICAgICAgIGlmIChqKSB7CiAgICAgICAgICAgIHJqLnZhZGQoc2lkZXNbMF0sIHJqKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHJqLnZzdWIoc2lkZXNbMF0sIHJqKTsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAoaykgewogICAgICAgICAgICByai52YWRkKHNpZGVzWzFdLCByaik7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICByai52c3ViKHNpZGVzWzFdLCByaik7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKGwpIHsKICAgICAgICAgICAgcmoudmFkZChzaWRlc1syXSwgcmopOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcmoudnN1YihzaWRlc1syXSwgcmopOwogICAgICAgICAgfSAvLyBXb3JsZCBwb3NpdGlvbiBvZiBjb3JuZXIKCgogICAgICAgICAgeGoudmFkZChyaiwgc3BoZXJlX3RvX2Nvcm5lcik7CiAgICAgICAgICBzcGhlcmVfdG9fY29ybmVyLnZzdWIoeGksIHNwaGVyZV90b19jb3JuZXIpOwoKICAgICAgICAgIGlmIChzcGhlcmVfdG9fY29ybmVyLmxlbmd0aFNxdWFyZWQoKSA8IFIgKiBSKSB7CiAgICAgICAgICAgIGlmIChqdXN0VGVzdCkgewogICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgICB9CgogICAgICAgICAgICBmb3VuZCA9IHRydWU7CiAgICAgICAgICAgIGNvbnN0IHIgPSB0aGlzLmNyZWF0ZUNvbnRhY3RFcXVhdGlvbihiaSwgYmosIHNpLCBzaiwgcnNpLCByc2opOwogICAgICAgICAgICByLnJpLmNvcHkoc3BoZXJlX3RvX2Nvcm5lcik7CiAgICAgICAgICAgIHIucmkubm9ybWFsaXplKCk7CiAgICAgICAgICAgIHIubmkuY29weShyLnJpKTsKICAgICAgICAgICAgci5yaS5zY2FsZShSLCByLnJpKTsKICAgICAgICAgICAgci5yai5jb3B5KHJqKTsgLy8gTWFrZSByZWxhdGl2ZSB0byBib2RpZXMKCiAgICAgICAgICAgIHIucmkudmFkZCh4aSwgci5yaSk7CiAgICAgICAgICAgIHIucmkudnN1YihiaS5wb3NpdGlvbiwgci5yaSk7CiAgICAgICAgICAgIHIucmoudmFkZCh4aiwgci5yaik7CiAgICAgICAgICAgIHIucmoudnN1Yihiai5wb3NpdGlvbiwgci5yaik7CiAgICAgICAgICAgIHRoaXMucmVzdWx0LnB1c2gocik7CiAgICAgICAgICAgIHRoaXMuY3JlYXRlRnJpY3Rpb25FcXVhdGlvbnNGcm9tQ29udGFjdChyLCB0aGlzLmZyaWN0aW9uUmVzdWx0KTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0KCiAgICB2M3Bvb2wucmVsZWFzZShyaik7CiAgICByaiA9IG51bGw7IC8vIENoZWNrIGVkZ2VzCgogICAgY29uc3QgZWRnZVRhbmdlbnQgPSB2M3Bvb2wuZ2V0KCk7CiAgICBjb25zdCBlZGdlQ2VudGVyID0gdjNwb29sLmdldCgpOwogICAgY29uc3QgciA9IHYzcG9vbC5nZXQoKTsgLy8gciA9IGVkZ2UgY2VudGVyIHRvIHNwaGVyZSBjZW50ZXIKCiAgICBjb25zdCBvcnRob2dvbmFsID0gdjNwb29sLmdldCgpOwogICAgY29uc3QgZGlzdCA9IHYzcG9vbC5nZXQoKTsKICAgIGNvbnN0IE5zaWRlcyA9IHNpZGVzLmxlbmd0aDsKCiAgICBmb3IgKGxldCBqID0gMDsgaiAhPT0gTnNpZGVzICYmICFmb3VuZDsgaisrKSB7CiAgICAgIGZvciAobGV0IGsgPSAwOyBrICE9PSBOc2lkZXMgJiYgIWZvdW5kOyBrKyspIHsKICAgICAgICBpZiAoaiAlIDMgIT09IGsgJSAzKSB7CiAgICAgICAgICAvLyBHZXQgZWRnZSB0YW5nZW50CiAgICAgICAgICBzaWRlc1trXS5jcm9zcyhzaWRlc1tqXSwgZWRnZVRhbmdlbnQpOwogICAgICAgICAgZWRnZVRhbmdlbnQubm9ybWFsaXplKCk7CiAgICAgICAgICBzaWRlc1tqXS52YWRkKHNpZGVzW2tdLCBlZGdlQ2VudGVyKTsKICAgICAgICAgIHIuY29weSh4aSk7CiAgICAgICAgICByLnZzdWIoZWRnZUNlbnRlciwgcik7CiAgICAgICAgICByLnZzdWIoeGosIHIpOwogICAgICAgICAgY29uc3Qgb3J0aG9ub3JtID0gci5kb3QoZWRnZVRhbmdlbnQpOyAvLyBkaXN0YW5jZSBmcm9tIGVkZ2UgY2VudGVyIHRvIHNwaGVyZSBjZW50ZXIgaW4gdGhlIHRhbmdlbnQgZGlyZWN0aW9uCgogICAgICAgICAgZWRnZVRhbmdlbnQuc2NhbGUob3J0aG9ub3JtLCBvcnRob2dvbmFsKTsgLy8gVmVjdG9yIGZyb20gZWRnZSBjZW50ZXIgdG8gc3BoZXJlIGNlbnRlciBpbiB0aGUgdGFuZ2VudCBkaXJlY3Rpb24KICAgICAgICAgIC8vIEZpbmQgdGhlIHRoaXJkIHNpZGUgb3J0aG9nb25hbCB0byB0aGlzIG9uZQoKICAgICAgICAgIGxldCBsID0gMDsKCiAgICAgICAgICB3aGlsZSAobCA9PT0gaiAlIDMgfHwgbCA9PT0gayAlIDMpIHsKICAgICAgICAgICAgbCsrOwogICAgICAgICAgfSAvLyB2ZWMgZnJvbSBlZGdlIGNlbnRlciB0byBzcGhlcmUgcHJvamVjdGVkIHRvIHRoZSBwbGFuZSBvcnRob2dvbmFsIHRvIHRoZSBlZGdlIHRhbmdlbnQKCgogICAgICAgICAgZGlzdC5jb3B5KHhpKTsKICAgICAgICAgIGRpc3QudnN1YihvcnRob2dvbmFsLCBkaXN0KTsKICAgICAgICAgIGRpc3QudnN1YihlZGdlQ2VudGVyLCBkaXN0KTsKICAgICAgICAgIGRpc3QudnN1Yih4aiwgZGlzdCk7IC8vIERpc3RhbmNlcyBpbiB0YW5nZW50IGRpcmVjdGlvbiBhbmQgZGlzdGFuY2UgaW4gdGhlIHBsYW5lIG9ydGhvZ29uYWwgdG8gaXQKCiAgICAgICAgICBjb25zdCB0ZGlzdCA9IE1hdGguYWJzKG9ydGhvbm9ybSk7CiAgICAgICAgICBjb25zdCBuZGlzdCA9IGRpc3QubGVuZ3RoKCk7CgogICAgICAgICAgaWYgKHRkaXN0IDwgc2lkZXNbbF0ubGVuZ3RoKCkgJiYgbmRpc3QgPCBSKSB7CiAgICAgICAgICAgIGlmIChqdXN0VGVzdCkgewogICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgICB9CgogICAgICAgICAgICBmb3VuZCA9IHRydWU7CiAgICAgICAgICAgIGNvbnN0IHJlcyA9IHRoaXMuY3JlYXRlQ29udGFjdEVxdWF0aW9uKGJpLCBiaiwgc2ksIHNqLCByc2ksIHJzaik7CiAgICAgICAgICAgIGVkZ2VDZW50ZXIudmFkZChvcnRob2dvbmFsLCByZXMucmopOyAvLyBib3ggcmoKCiAgICAgICAgICAgIHJlcy5yai5jb3B5KHJlcy5yaik7CiAgICAgICAgICAgIGRpc3QubmVnYXRlKHJlcy5uaSk7CiAgICAgICAgICAgIHJlcy5uaS5ub3JtYWxpemUoKTsKICAgICAgICAgICAgcmVzLnJpLmNvcHkocmVzLnJqKTsKICAgICAgICAgICAgcmVzLnJpLnZhZGQoeGosIHJlcy5yaSk7CiAgICAgICAgICAgIHJlcy5yaS52c3ViKHhpLCByZXMucmkpOwogICAgICAgICAgICByZXMucmkubm9ybWFsaXplKCk7CiAgICAgICAgICAgIHJlcy5yaS5zY2FsZShSLCByZXMucmkpOyAvLyBNYWtlIHJlbGF0aXZlIHRvIGJvZGllcwoKICAgICAgICAgICAgcmVzLnJpLnZhZGQoeGksIHJlcy5yaSk7CiAgICAgICAgICAgIHJlcy5yaS52c3ViKGJpLnBvc2l0aW9uLCByZXMucmkpOwogICAgICAgICAgICByZXMucmoudmFkZCh4aiwgcmVzLnJqKTsKICAgICAgICAgICAgcmVzLnJqLnZzdWIoYmoucG9zaXRpb24sIHJlcy5yaik7CiAgICAgICAgICAgIHRoaXMucmVzdWx0LnB1c2gocmVzKTsKICAgICAgICAgICAgdGhpcy5jcmVhdGVGcmljdGlvbkVxdWF0aW9uc0Zyb21Db250YWN0KHJlcywgdGhpcy5mcmljdGlvblJlc3VsdCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9CgogICAgdjNwb29sLnJlbGVhc2UoZWRnZVRhbmdlbnQsIGVkZ2VDZW50ZXIsIHIsIG9ydGhvZ29uYWwsIGRpc3QpOwogIH0KCiAgcGxhbmVCb3goc2ksIHNqLCB4aSwgeGosIHFpLCBxaiwgYmksIGJqLCByc2ksIHJzaiwganVzdFRlc3QpIHsKICAgIHNqLmNvbnZleFBvbHloZWRyb25SZXByZXNlbnRhdGlvbi5tYXRlcmlhbCA9IHNqLm1hdGVyaWFsOwogICAgc2ouY29udmV4UG9seWhlZHJvblJlcHJlc2VudGF0aW9uLmNvbGxpc2lvblJlc3BvbnNlID0gc2ouY29sbGlzaW9uUmVzcG9uc2U7CiAgICBzai5jb252ZXhQb2x5aGVkcm9uUmVwcmVzZW50YXRpb24uaWQgPSBzai5pZDsKICAgIHJldHVybiB0aGlzLnBsYW5lQ29udmV4KHNpLCBzai5jb252ZXhQb2x5aGVkcm9uUmVwcmVzZW50YXRpb24sIHhpLCB4aiwgcWksIHFqLCBiaSwgYmosIHNpLCBzaiwganVzdFRlc3QpOwogIH0KCiAgY29udmV4Q29udmV4KHNpLCBzaiwgeGksIHhqLCBxaSwgcWosIGJpLCBiaiwgcnNpLCByc2osIGp1c3RUZXN0LCBmYWNlTGlzdEEsIGZhY2VMaXN0QikgewogICAgY29uc3Qgc2VwQXhpcyA9IGNvbnZleENvbnZleF9zZXBBeGlzOwoKICAgIGlmICh4aS5kaXN0YW5jZVRvKHhqKSA+IHNpLmJvdW5kaW5nU3BoZXJlUmFkaXVzICsgc2ouYm91bmRpbmdTcGhlcmVSYWRpdXMpIHsKICAgICAgcmV0dXJuOwogICAgfQoKICAgIGlmIChzaS5maW5kU2VwYXJhdGluZ0F4aXMoc2osIHhpLCBxaSwgeGosIHFqLCBzZXBBeGlzLCBmYWNlTGlzdEEsIGZhY2VMaXN0QikpIHsKICAgICAgY29uc3QgcmVzID0gW107CiAgICAgIGNvbnN0IHEgPSBjb252ZXhDb252ZXhfcTsKICAgICAgc2kuY2xpcEFnYWluc3RIdWxsKHhpLCBxaSwgc2osIHhqLCBxaiwgc2VwQXhpcywgLTEwMCwgMTAwLCByZXMpOwogICAgICBsZXQgbnVtQ29udGFjdHMgPSAwOwoKICAgICAgZm9yIChsZXQgaiA9IDA7IGogIT09IHJlcy5sZW5ndGg7IGorKykgewogICAgICAgIGlmIChqdXN0VGVzdCkgewogICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfQoKICAgICAgICBjb25zdCByID0gdGhpcy5jcmVhdGVDb250YWN0RXF1YXRpb24oYmksIGJqLCBzaSwgc2osIHJzaSwgcnNqKTsKICAgICAgICBjb25zdCByaSA9IHIucmk7CiAgICAgICAgY29uc3QgcmogPSByLnJqOwogICAgICAgIHNlcEF4aXMubmVnYXRlKHIubmkpOwogICAgICAgIHJlc1tqXS5ub3JtYWwubmVnYXRlKHEpOwogICAgICAgIHEuc2NhbGUocmVzW2pdLmRlcHRoLCBxKTsKICAgICAgICByZXNbal0ucG9pbnQudmFkZChxLCByaSk7CiAgICAgICAgcmouY29weShyZXNbal0ucG9pbnQpOyAvLyBDb250YWN0IHBvaW50cyBhcmUgaW4gd29ybGQgY29vcmRpbmF0ZXMuIFRyYW5zZm9ybSBiYWNrIHRvIHJlbGF0aXZlCgogICAgICAgIHJpLnZzdWIoeGksIHJpKTsKICAgICAgICByai52c3ViKHhqLCByaik7IC8vIE1ha2UgcmVsYXRpdmUgdG8gYm9kaWVzCgogICAgICAgIHJpLnZhZGQoeGksIHJpKTsKICAgICAgICByaS52c3ViKGJpLnBvc2l0aW9uLCByaSk7CiAgICAgICAgcmoudmFkZCh4aiwgcmopOwogICAgICAgIHJqLnZzdWIoYmoucG9zaXRpb24sIHJqKTsKICAgICAgICB0aGlzLnJlc3VsdC5wdXNoKHIpOwogICAgICAgIG51bUNvbnRhY3RzKys7CgogICAgICAgIGlmICghdGhpcy5lbmFibGVGcmljdGlvblJlZHVjdGlvbikgewogICAgICAgICAgdGhpcy5jcmVhdGVGcmljdGlvbkVxdWF0aW9uc0Zyb21Db250YWN0KHIsIHRoaXMuZnJpY3Rpb25SZXN1bHQpOwogICAgICAgIH0KICAgICAgfQoKICAgICAgaWYgKHRoaXMuZW5hYmxlRnJpY3Rpb25SZWR1Y3Rpb24gJiYgbnVtQ29udGFjdHMpIHsKICAgICAgICB0aGlzLmNyZWF0ZUZyaWN0aW9uRnJvbUF2ZXJhZ2UobnVtQ29udGFjdHMpOwogICAgICB9CiAgICB9CiAgfQoKICBzcGhlcmVDb252ZXgoc2ksIHNqLCB4aSwgeGosIHFpLCBxaiwgYmksIGJqLCByc2ksIHJzaiwganVzdFRlc3QpIHsKICAgIGNvbnN0IHYzcG9vbCA9IHRoaXMudjNwb29sOwogICAgeGkudnN1Yih4aiwgY29udmV4X3RvX3NwaGVyZSk7CiAgICBjb25zdCBub3JtYWxzID0gc2ouZmFjZU5vcm1hbHM7CiAgICBjb25zdCBmYWNlcyA9IHNqLmZhY2VzOwogICAgY29uc3QgdmVydHMgPSBzai52ZXJ0aWNlczsKICAgIGNvbnN0IFIgPSBzaS5yYWRpdXM7IC8vICAgICByZXR1cm47CiAgICAvLyB9CgogICAgbGV0IGZvdW5kID0gZmFsc2U7IC8vIENoZWNrIGNvcm5lcnMKCiAgICBmb3IgKGxldCBpID0gMDsgaSAhPT0gdmVydHMubGVuZ3RoOyBpKyspIHsKICAgICAgY29uc3QgdiA9IHZlcnRzW2ldOyAvLyBXb3JsZCBwb3NpdGlvbiBvZiBjb3JuZXIKCiAgICAgIGNvbnN0IHdvcmxkQ29ybmVyID0gc3BoZXJlQ29udmV4X3dvcmxkQ29ybmVyOwogICAgICBxai52bXVsdCh2LCB3b3JsZENvcm5lcik7CiAgICAgIHhqLnZhZGQod29ybGRDb3JuZXIsIHdvcmxkQ29ybmVyKTsKICAgICAgY29uc3Qgc3BoZXJlX3RvX2Nvcm5lciA9IHNwaGVyZUNvbnZleF9zcGhlcmVUb0Nvcm5lcjsKICAgICAgd29ybGRDb3JuZXIudnN1Yih4aSwgc3BoZXJlX3RvX2Nvcm5lcik7CgogICAgICBpZiAoc3BoZXJlX3RvX2Nvcm5lci5sZW5ndGhTcXVhcmVkKCkgPCBSICogUikgewogICAgICAgIGlmIChqdXN0VGVzdCkgewogICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfQoKICAgICAgICBmb3VuZCA9IHRydWU7CiAgICAgICAgY29uc3QgciA9IHRoaXMuY3JlYXRlQ29udGFjdEVxdWF0aW9uKGJpLCBiaiwgc2ksIHNqLCByc2ksIHJzaik7CiAgICAgICAgci5yaS5jb3B5KHNwaGVyZV90b19jb3JuZXIpOwogICAgICAgIHIucmkubm9ybWFsaXplKCk7CiAgICAgICAgci5uaS5jb3B5KHIucmkpOwogICAgICAgIHIucmkuc2NhbGUoUiwgci5yaSk7CiAgICAgICAgd29ybGRDb3JuZXIudnN1Yih4aiwgci5yaik7IC8vIFNob3VsZCBiZSByZWxhdGl2ZSB0byB0aGUgYm9keS4KCiAgICAgICAgci5yaS52YWRkKHhpLCByLnJpKTsKICAgICAgICByLnJpLnZzdWIoYmkucG9zaXRpb24sIHIucmkpOyAvLyBTaG91bGQgYmUgcmVsYXRpdmUgdG8gdGhlIGJvZHkuCgogICAgICAgIHIucmoudmFkZCh4aiwgci5yaik7CiAgICAgICAgci5yai52c3ViKGJqLnBvc2l0aW9uLCByLnJqKTsKICAgICAgICB0aGlzLnJlc3VsdC5wdXNoKHIpOwogICAgICAgIHRoaXMuY3JlYXRlRnJpY3Rpb25FcXVhdGlvbnNGcm9tQ29udGFjdChyLCB0aGlzLmZyaWN0aW9uUmVzdWx0KTsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgIH0gLy8gQ2hlY2sgc2lkZSAocGxhbmUpIGludGVyc2VjdGlvbnMKCgogICAgZm9yIChsZXQgaSA9IDAsIG5mYWNlcyA9IGZhY2VzLmxlbmd0aDsgaSAhPT0gbmZhY2VzICYmIGZvdW5kID09PSBmYWxzZTsgaSsrKSB7CiAgICAgIGNvbnN0IG5vcm1hbCA9IG5vcm1hbHNbaV07CiAgICAgIGNvbnN0IGZhY2UgPSBmYWNlc1tpXTsgLy8gR2V0IHdvcmxkLXRyYW5zZm9ybWVkIG5vcm1hbCBvZiB0aGUgZmFjZQoKICAgICAgY29uc3Qgd29ybGROb3JtYWwgPSBzcGhlcmVDb252ZXhfd29ybGROb3JtYWw7CiAgICAgIHFqLnZtdWx0KG5vcm1hbCwgd29ybGROb3JtYWwpOyAvLyBHZXQgYSB3b3JsZCB2ZXJ0ZXggZnJvbSB0aGUgZmFjZQoKICAgICAgY29uc3Qgd29ybGRQb2ludCA9IHNwaGVyZUNvbnZleF93b3JsZFBvaW50OwogICAgICBxai52bXVsdCh2ZXJ0c1tmYWNlWzBdXSwgd29ybGRQb2ludCk7CiAgICAgIHdvcmxkUG9pbnQudmFkZCh4aiwgd29ybGRQb2ludCk7IC8vIEdldCBhIHBvaW50IG9uIHRoZSBzcGhlcmUsIGNsb3Nlc3QgdG8gdGhlIGZhY2Ugbm9ybWFsCgogICAgICBjb25zdCB3b3JsZFNwaGVyZVBvaW50Q2xvc2VzdFRvUGxhbmUgPSBzcGhlcmVDb252ZXhfd29ybGRTcGhlcmVQb2ludENsb3Nlc3RUb1BsYW5lOwogICAgICB3b3JsZE5vcm1hbC5zY2FsZSgtUiwgd29ybGRTcGhlcmVQb2ludENsb3Nlc3RUb1BsYW5lKTsKICAgICAgeGkudmFkZCh3b3JsZFNwaGVyZVBvaW50Q2xvc2VzdFRvUGxhbmUsIHdvcmxkU3BoZXJlUG9pbnRDbG9zZXN0VG9QbGFuZSk7IC8vIFZlY3RvciBmcm9tIGEgZmFjZSBwb2ludCB0byB0aGUgY2xvc2VzdCBwb2ludCBvbiB0aGUgc3BoZXJlCgogICAgICBjb25zdCBwZW5ldHJhdGlvblZlYyA9IHNwaGVyZUNvbnZleF9wZW5ldHJhdGlvblZlYzsKICAgICAgd29ybGRTcGhlcmVQb2ludENsb3Nlc3RUb1BsYW5lLnZzdWIod29ybGRQb2ludCwgcGVuZXRyYXRpb25WZWMpOyAvLyBUaGUgcGVuZXRyYXRpb24uIE5lZ2F0aXZlIHZhbHVlIG1lYW5zIG92ZXJsYXAuCgogICAgICBjb25zdCBwZW5ldHJhdGlvbiA9IHBlbmV0cmF0aW9uVmVjLmRvdCh3b3JsZE5vcm1hbCk7CiAgICAgIGNvbnN0IHdvcmxkUG9pbnRUb1NwaGVyZSA9IHNwaGVyZUNvbnZleF9zcGhlcmVUb1dvcmxkUG9pbnQ7CiAgICAgIHhpLnZzdWIod29ybGRQb2ludCwgd29ybGRQb2ludFRvU3BoZXJlKTsKCiAgICAgIGlmIChwZW5ldHJhdGlvbiA8IDAgJiYgd29ybGRQb2ludFRvU3BoZXJlLmRvdCh3b3JsZE5vcm1hbCkgPiAwKSB7CiAgICAgICAgLy8gSW50ZXJzZWN0cyBwbGFuZS4gTm93IGNoZWNrIGlmIHRoZSBzcGhlcmUgaXMgaW5zaWRlIHRoZSBmYWNlIHBvbHlnb24KICAgICAgICBjb25zdCBmYWNlVmVydHMgPSBbXTsgLy8gRmFjZSB2ZXJ0aWNlcywgaW4gd29ybGQgY29vcmRzCgogICAgICAgIGZvciAobGV0IGogPSAwLCBOdmVydHMgPSBmYWNlLmxlbmd0aDsgaiAhPT0gTnZlcnRzOyBqKyspIHsKICAgICAgICAgIGNvbnN0IHdvcmxkVmVydGV4ID0gdjNwb29sLmdldCgpOwogICAgICAgICAgcWoudm11bHQodmVydHNbZmFjZVtqXV0sIHdvcmxkVmVydGV4KTsKICAgICAgICAgIHhqLnZhZGQod29ybGRWZXJ0ZXgsIHdvcmxkVmVydGV4KTsKICAgICAgICAgIGZhY2VWZXJ0cy5wdXNoKHdvcmxkVmVydGV4KTsKICAgICAgICB9CgogICAgICAgIGlmIChwb2ludEluUG9seWdvbihmYWNlVmVydHMsIHdvcmxkTm9ybWFsLCB4aSkpIHsKICAgICAgICAgIC8vIElzIHRoZSBzcGhlcmUgY2VudGVyIGluIHRoZSBmYWNlIHBvbHlnb24/CiAgICAgICAgICBpZiAoanVzdFRlc3QpIHsKICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICB9CgogICAgICAgICAgZm91bmQgPSB0cnVlOwogICAgICAgICAgY29uc3QgciA9IHRoaXMuY3JlYXRlQ29udGFjdEVxdWF0aW9uKGJpLCBiaiwgc2ksIHNqLCByc2ksIHJzaik7CiAgICAgICAgICB3b3JsZE5vcm1hbC5zY2FsZSgtUiwgci5yaSk7IC8vIENvbnRhY3Qgb2Zmc2V0LCBmcm9tIHNwaGVyZSBjZW50ZXIgdG8gY29udGFjdAoKICAgICAgICAgIHdvcmxkTm9ybWFsLm5lZ2F0ZShyLm5pKTsgLy8gTm9ybWFsIHBvaW50aW5nIG91dCBvZiBzcGhlcmUKCiAgICAgICAgICBjb25zdCBwZW5ldHJhdGlvblZlYzIgPSB2M3Bvb2wuZ2V0KCk7CiAgICAgICAgICB3b3JsZE5vcm1hbC5zY2FsZSgtcGVuZXRyYXRpb24sIHBlbmV0cmF0aW9uVmVjMik7CiAgICAgICAgICBjb25zdCBwZW5ldHJhdGlvblNwaGVyZVBvaW50ID0gdjNwb29sLmdldCgpOwogICAgICAgICAgd29ybGROb3JtYWwuc2NhbGUoLVIsIHBlbmV0cmF0aW9uU3BoZXJlUG9pbnQpOyAvL3hpLnZzdWIoeGopLnZhZGQocGVuZXRyYXRpb25TcGhlcmVQb2ludCkudmFkZChwZW5ldHJhdGlvblZlYzIgLCByLnJqKTsKCiAgICAgICAgICB4aS52c3ViKHhqLCByLnJqKTsKICAgICAgICAgIHIucmoudmFkZChwZW5ldHJhdGlvblNwaGVyZVBvaW50LCByLnJqKTsKICAgICAgICAgIHIucmoudmFkZChwZW5ldHJhdGlvblZlYzIsIHIucmopOyAvLyBTaG91bGQgYmUgcmVsYXRpdmUgdG8gdGhlIGJvZHkuCgogICAgICAgICAgci5yai52YWRkKHhqLCByLnJqKTsKICAgICAgICAgIHIucmoudnN1Yihiai5wb3NpdGlvbiwgci5yaik7IC8vIFNob3VsZCBiZSByZWxhdGl2ZSB0byB0aGUgYm9keS4KCiAgICAgICAgICByLnJpLnZhZGQoeGksIHIucmkpOwogICAgICAgICAgci5yaS52c3ViKGJpLnBvc2l0aW9uLCByLnJpKTsKICAgICAgICAgIHYzcG9vbC5yZWxlYXNlKHBlbmV0cmF0aW9uVmVjMik7CiAgICAgICAgICB2M3Bvb2wucmVsZWFzZShwZW5ldHJhdGlvblNwaGVyZVBvaW50KTsKICAgICAgICAgIHRoaXMucmVzdWx0LnB1c2gocik7CiAgICAgICAgICB0aGlzLmNyZWF0ZUZyaWN0aW9uRXF1YXRpb25zRnJvbUNvbnRhY3QociwgdGhpcy5mcmljdGlvblJlc3VsdCk7IC8vIFJlbGVhc2Ugd29ybGQgdmVydGljZXMKCiAgICAgICAgICBmb3IgKGxldCBqID0gMCwgTmZhY2V2ZXJ0cyA9IGZhY2VWZXJ0cy5sZW5ndGg7IGogIT09IE5mYWNldmVydHM7IGorKykgewogICAgICAgICAgICB2M3Bvb2wucmVsZWFzZShmYWNlVmVydHNbal0pOwogICAgICAgICAgfQoKICAgICAgICAgIHJldHVybjsgLy8gV2Ugb25seSBleHBlY3QgKm9uZSogZmFjZSBjb250YWN0CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIC8vIEVkZ2U/CiAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiAhPT0gZmFjZS5sZW5ndGg7IGorKykgewogICAgICAgICAgICAvLyBHZXQgdHdvIHdvcmxkIHRyYW5zZm9ybWVkIHZlcnRpY2VzCiAgICAgICAgICAgIGNvbnN0IHYxID0gdjNwb29sLmdldCgpOwogICAgICAgICAgICBjb25zdCB2MiA9IHYzcG9vbC5nZXQoKTsKICAgICAgICAgICAgcWoudm11bHQodmVydHNbZmFjZVsoaiArIDEpICUgZmFjZS5sZW5ndGhdXSwgdjEpOwogICAgICAgICAgICBxai52bXVsdCh2ZXJ0c1tmYWNlWyhqICsgMikgJSBmYWNlLmxlbmd0aF1dLCB2Mik7CiAgICAgICAgICAgIHhqLnZhZGQodjEsIHYxKTsKICAgICAgICAgICAgeGoudmFkZCh2MiwgdjIpOyAvLyBDb25zdHJ1Y3QgZWRnZSB2ZWN0b3IKCiAgICAgICAgICAgIGNvbnN0IGVkZ2UgPSBzcGhlcmVDb252ZXhfZWRnZTsKICAgICAgICAgICAgdjIudnN1Yih2MSwgZWRnZSk7IC8vIENvbnN0cnVjdCB0aGUgc2FtZSB2ZWN0b3IsIGJ1dCBub3JtYWxpemVkCgogICAgICAgICAgICBjb25zdCBlZGdlVW5pdCA9IHNwaGVyZUNvbnZleF9lZGdlVW5pdDsKICAgICAgICAgICAgZWRnZS51bml0KGVkZ2VVbml0KTsgLy8gcCBpcyB4aSBwcm9qZWN0ZWQgb250byB0aGUgZWRnZQoKICAgICAgICAgICAgY29uc3QgcCA9IHYzcG9vbC5nZXQoKTsKICAgICAgICAgICAgY29uc3QgdjFfdG9feGkgPSB2M3Bvb2wuZ2V0KCk7CiAgICAgICAgICAgIHhpLnZzdWIodjEsIHYxX3RvX3hpKTsKICAgICAgICAgICAgY29uc3QgZG90ID0gdjFfdG9feGkuZG90KGVkZ2VVbml0KTsKICAgICAgICAgICAgZWRnZVVuaXQuc2NhbGUoZG90LCBwKTsKICAgICAgICAgICAgcC52YWRkKHYxLCBwKTsgLy8gQ29tcHV0ZSBhIHZlY3RvciBmcm9tIHAgdG8gdGhlIGNlbnRlciBvZiB0aGUgc3BoZXJlCgogICAgICAgICAgICBjb25zdCB4aV90b19wID0gdjNwb29sLmdldCgpOwogICAgICAgICAgICBwLnZzdWIoeGksIHhpX3RvX3ApOyAvLyBDb2xsaXNpb24gaWYgdGhlIGVkZ2Utc3BoZXJlIGRpc3RhbmNlIGlzIGxlc3MgdGhhbiB0aGUgcmFkaXVzCiAgICAgICAgICAgIC8vIEFORCBpZiBwIGlzIGluIGJldHdlZW4gdjEgYW5kIHYyCgogICAgICAgICAgICBpZiAoZG90ID4gMCAmJiBkb3QgKiBkb3QgPCBlZGdlLmxlbmd0aFNxdWFyZWQoKSAmJiB4aV90b19wLmxlbmd0aFNxdWFyZWQoKSA8IFIgKiBSKSB7CiAgICAgICAgICAgICAgLy8gQ29sbGlzaW9uIGlmIHRoZSBlZGdlLXNwaGVyZSBkaXN0YW5jZSBpcyBsZXNzIHRoYW4gdGhlIHJhZGl1cwogICAgICAgICAgICAgIC8vIEVkZ2UgY29udGFjdCEKICAgICAgICAgICAgICBpZiAoanVzdFRlc3QpIHsKICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgY29uc3QgciA9IHRoaXMuY3JlYXRlQ29udGFjdEVxdWF0aW9uKGJpLCBiaiwgc2ksIHNqLCByc2ksIHJzaik7CiAgICAgICAgICAgICAgcC52c3ViKHhqLCByLnJqKTsKICAgICAgICAgICAgICBwLnZzdWIoeGksIHIubmkpOwogICAgICAgICAgICAgIHIubmkubm9ybWFsaXplKCk7CiAgICAgICAgICAgICAgci5uaS5zY2FsZShSLCByLnJpKTsgLy8gU2hvdWxkIGJlIHJlbGF0aXZlIHRvIHRoZSBib2R5LgoKICAgICAgICAgICAgICByLnJqLnZhZGQoeGosIHIucmopOwogICAgICAgICAgICAgIHIucmoudnN1Yihiai5wb3NpdGlvbiwgci5yaik7IC8vIFNob3VsZCBiZSByZWxhdGl2ZSB0byB0aGUgYm9keS4KCiAgICAgICAgICAgICAgci5yaS52YWRkKHhpLCByLnJpKTsKICAgICAgICAgICAgICByLnJpLnZzdWIoYmkucG9zaXRpb24sIHIucmkpOwogICAgICAgICAgICAgIHRoaXMucmVzdWx0LnB1c2gocik7CiAgICAgICAgICAgICAgdGhpcy5jcmVhdGVGcmljdGlvbkVxdWF0aW9uc0Zyb21Db250YWN0KHIsIHRoaXMuZnJpY3Rpb25SZXN1bHQpOyAvLyBSZWxlYXNlIHdvcmxkIHZlcnRpY2VzCgogICAgICAgICAgICAgIGZvciAobGV0IGogPSAwLCBOZmFjZXZlcnRzID0gZmFjZVZlcnRzLmxlbmd0aDsgaiAhPT0gTmZhY2V2ZXJ0czsgaisrKSB7CiAgICAgICAgICAgICAgICB2M3Bvb2wucmVsZWFzZShmYWNlVmVydHNbal0pOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgdjNwb29sLnJlbGVhc2UodjEpOwogICAgICAgICAgICAgIHYzcG9vbC5yZWxlYXNlKHYyKTsKICAgICAgICAgICAgICB2M3Bvb2wucmVsZWFzZShwKTsKICAgICAgICAgICAgICB2M3Bvb2wucmVsZWFzZSh4aV90b19wKTsKICAgICAgICAgICAgICB2M3Bvb2wucmVsZWFzZSh2MV90b194aSk7CiAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CgogICAgICAgICAgICB2M3Bvb2wucmVsZWFzZSh2MSk7CiAgICAgICAgICAgIHYzcG9vbC5yZWxlYXNlKHYyKTsKICAgICAgICAgICAgdjNwb29sLnJlbGVhc2UocCk7CiAgICAgICAgICAgIHYzcG9vbC5yZWxlYXNlKHhpX3RvX3ApOwogICAgICAgICAgICB2M3Bvb2wucmVsZWFzZSh2MV90b194aSk7CiAgICAgICAgICB9CiAgICAgICAgfSAvLyBSZWxlYXNlIHdvcmxkIHZlcnRpY2VzCgoKICAgICAgICBmb3IgKGxldCBqID0gMCwgTmZhY2V2ZXJ0cyA9IGZhY2VWZXJ0cy5sZW5ndGg7IGogIT09IE5mYWNldmVydHM7IGorKykgewogICAgICAgICAgdjNwb29sLnJlbGVhc2UoZmFjZVZlcnRzW2pdKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9CgogIHBsYW5lQ29udmV4KHBsYW5lU2hhcGUsIGNvbnZleFNoYXBlLCBwbGFuZVBvc2l0aW9uLCBjb252ZXhQb3NpdGlvbiwgcGxhbmVRdWF0LCBjb252ZXhRdWF0LCBwbGFuZUJvZHksIGNvbnZleEJvZHksIHNpLCBzaiwganVzdFRlc3QpIHsKICAgIC8vIFNpbXBseSByZXR1cm4gdGhlIHBvaW50cyBiZWhpbmQgdGhlIHBsYW5lLgogICAgY29uc3Qgd29ybGRWZXJ0ZXggPSBwbGFuZUNvbnZleF92OwogICAgY29uc3Qgd29ybGROb3JtYWwgPSBwbGFuZUNvbnZleF9ub3JtYWw7CiAgICB3b3JsZE5vcm1hbC5zZXQoMCwgMCwgMSk7CiAgICBwbGFuZVF1YXQudm11bHQod29ybGROb3JtYWwsIHdvcmxkTm9ybWFsKTsgLy8gVHVybiBub3JtYWwgYWNjb3JkaW5nIHRvIHBsYW5lIG9yaWVudGF0aW9uCgogICAgbGV0IG51bUNvbnRhY3RzID0gMDsKICAgIGNvbnN0IHJlbHBvcyA9IHBsYW5lQ29udmV4X3JlbHBvczsKCiAgICBmb3IgKGxldCBpID0gMDsgaSAhPT0gY29udmV4U2hhcGUudmVydGljZXMubGVuZ3RoOyBpKyspIHsKICAgICAgLy8gR2V0IHdvcmxkIGNvbnZleCB2ZXJ0ZXgKICAgICAgd29ybGRWZXJ0ZXguY29weShjb252ZXhTaGFwZS52ZXJ0aWNlc1tpXSk7CiAgICAgIGNvbnZleFF1YXQudm11bHQod29ybGRWZXJ0ZXgsIHdvcmxkVmVydGV4KTsKICAgICAgY29udmV4UG9zaXRpb24udmFkZCh3b3JsZFZlcnRleCwgd29ybGRWZXJ0ZXgpOwogICAgICB3b3JsZFZlcnRleC52c3ViKHBsYW5lUG9zaXRpb24sIHJlbHBvcyk7CiAgICAgIGNvbnN0IGRvdCA9IHdvcmxkTm9ybWFsLmRvdChyZWxwb3MpOwoKICAgICAgaWYgKGRvdCA8PSAwLjApIHsKICAgICAgICBpZiAoanVzdFRlc3QpIHsKICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0KCiAgICAgICAgY29uc3QgciA9IHRoaXMuY3JlYXRlQ29udGFjdEVxdWF0aW9uKHBsYW5lQm9keSwgY29udmV4Qm9keSwgcGxhbmVTaGFwZSwgY29udmV4U2hhcGUsIHNpLCBzaik7IC8vIEdldCB2ZXJ0ZXggcG9zaXRpb24gcHJvamVjdGVkIG9uIHBsYW5lCgogICAgICAgIGNvbnN0IHByb2plY3RlZCA9IHBsYW5lQ29udmV4X3Byb2plY3RlZDsKICAgICAgICB3b3JsZE5vcm1hbC5zY2FsZSh3b3JsZE5vcm1hbC5kb3QocmVscG9zKSwgcHJvamVjdGVkKTsKICAgICAgICB3b3JsZFZlcnRleC52c3ViKHByb2plY3RlZCwgcHJvamVjdGVkKTsKICAgICAgICBwcm9qZWN0ZWQudnN1YihwbGFuZVBvc2l0aW9uLCByLnJpKTsgLy8gRnJvbSBwbGFuZSB0byB2ZXJ0ZXggcHJvamVjdGVkIG9uIHBsYW5lCgogICAgICAgIHIubmkuY29weSh3b3JsZE5vcm1hbCk7IC8vIENvbnRhY3Qgbm9ybWFsIGlzIHRoZSBwbGFuZSBub3JtYWwgb3V0IGZyb20gcGxhbmUKICAgICAgICAvLyByaiBpcyBub3cganVzdCB0aGUgdmVjdG9yIGZyb20gdGhlIGNvbnZleCBjZW50ZXIgdG8gdGhlIHZlcnRleAoKICAgICAgICB3b3JsZFZlcnRleC52c3ViKGNvbnZleFBvc2l0aW9uLCByLnJqKTsgLy8gTWFrZSBpdCByZWxhdGl2ZSB0byB0aGUgYm9keQoKICAgICAgICByLnJpLnZhZGQocGxhbmVQb3NpdGlvbiwgci5yaSk7CiAgICAgICAgci5yaS52c3ViKHBsYW5lQm9keS5wb3NpdGlvbiwgci5yaSk7CiAgICAgICAgci5yai52YWRkKGNvbnZleFBvc2l0aW9uLCByLnJqKTsKICAgICAgICByLnJqLnZzdWIoY29udmV4Qm9keS5wb3NpdGlvbiwgci5yaik7CiAgICAgICAgdGhpcy5yZXN1bHQucHVzaChyKTsKICAgICAgICBudW1Db250YWN0cysrOwoKICAgICAgICBpZiAoIXRoaXMuZW5hYmxlRnJpY3Rpb25SZWR1Y3Rpb24pIHsKICAgICAgICAgIHRoaXMuY3JlYXRlRnJpY3Rpb25FcXVhdGlvbnNGcm9tQ29udGFjdChyLCB0aGlzLmZyaWN0aW9uUmVzdWx0KTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KCiAgICBpZiAodGhpcy5lbmFibGVGcmljdGlvblJlZHVjdGlvbiAmJiBudW1Db250YWN0cykgewogICAgICB0aGlzLmNyZWF0ZUZyaWN0aW9uRnJvbUF2ZXJhZ2UobnVtQ29udGFjdHMpOwogICAgfQogIH0KCiAgYm94Q29udmV4KHNpLCBzaiwgeGksIHhqLCBxaSwgcWosIGJpLCBiaiwgcnNpLCByc2osIGp1c3RUZXN0KSB7CiAgICBzaS5jb252ZXhQb2x5aGVkcm9uUmVwcmVzZW50YXRpb24ubWF0ZXJpYWwgPSBzaS5tYXRlcmlhbDsKICAgIHNpLmNvbnZleFBvbHloZWRyb25SZXByZXNlbnRhdGlvbi5jb2xsaXNpb25SZXNwb25zZSA9IHNpLmNvbGxpc2lvblJlc3BvbnNlOwogICAgcmV0dXJuIHRoaXMuY29udmV4Q29udmV4KHNpLmNvbnZleFBvbHloZWRyb25SZXByZXNlbnRhdGlvbiwgc2osIHhpLCB4aiwgcWksIHFqLCBiaSwgYmosIHNpLCBzaiwganVzdFRlc3QpOwogIH0KCiAgc3BoZXJlSGVpZ2h0ZmllbGQoc3BoZXJlU2hhcGUsIGhmU2hhcGUsIHNwaGVyZVBvcywgaGZQb3MsIHNwaGVyZVF1YXQsIGhmUXVhdCwgc3BoZXJlQm9keSwgaGZCb2R5LCByc2ksIHJzaiwganVzdFRlc3QpIHsKICAgIGNvbnN0IGRhdGEgPSBoZlNoYXBlLmRhdGE7CiAgICBjb25zdCByYWRpdXMgPSBzcGhlcmVTaGFwZS5yYWRpdXM7CiAgICBjb25zdCB3ID0gaGZTaGFwZS5lbGVtZW50U2l6ZTsKICAgIGNvbnN0IHdvcmxkUGlsbGFyT2Zmc2V0ID0gc3BoZXJlSGVpZ2h0ZmllbGRfdG1wMjsgLy8gR2V0IHNwaGVyZSBwb3NpdGlvbiB0byBoZWlnaHRmaWVsZCBsb2NhbCEKCiAgICBjb25zdCBsb2NhbFNwaGVyZVBvcyA9IHNwaGVyZUhlaWdodGZpZWxkX3RtcDE7CiAgICBUcmFuc2Zvcm0ucG9pbnRUb0xvY2FsRnJhbWUoaGZQb3MsIGhmUXVhdCwgc3BoZXJlUG9zLCBsb2NhbFNwaGVyZVBvcyk7IC8vIEdldCB0aGUgaW5kZXggb2YgdGhlIGRhdGEgcG9pbnRzIHRvIHRlc3QgYWdhaW5zdAoKICAgIGxldCBpTWluWCA9IE1hdGguZmxvb3IoKGxvY2FsU3BoZXJlUG9zLnggLSByYWRpdXMpIC8gdykgLSAxOwogICAgbGV0IGlNYXhYID0gTWF0aC5jZWlsKChsb2NhbFNwaGVyZVBvcy54ICsgcmFkaXVzKSAvIHcpICsgMTsKICAgIGxldCBpTWluWSA9IE1hdGguZmxvb3IoKGxvY2FsU3BoZXJlUG9zLnkgLSByYWRpdXMpIC8gdykgLSAxOwogICAgbGV0IGlNYXhZID0gTWF0aC5jZWlsKChsb2NhbFNwaGVyZVBvcy55ICsgcmFkaXVzKSAvIHcpICsgMTsgLy8gQmFpbCBvdXQgaWYgd2UgYXJlIG91dCBvZiB0aGUgdGVycmFpbgoKICAgIGlmIChpTWF4WCA8IDAgfHwgaU1heFkgPCAwIHx8IGlNaW5YID4gZGF0YS5sZW5ndGggfHwgaU1pblkgPiBkYXRhWzBdLmxlbmd0aCkgewogICAgICByZXR1cm47CiAgICB9IC8vIENsYW1wIGluZGV4IHRvIGVkZ2VzCgoKICAgIGlmIChpTWluWCA8IDApIHsKICAgICAgaU1pblggPSAwOwogICAgfQoKICAgIGlmIChpTWF4WCA8IDApIHsKICAgICAgaU1heFggPSAwOwogICAgfQoKICAgIGlmIChpTWluWSA8IDApIHsKICAgICAgaU1pblkgPSAwOwogICAgfQoKICAgIGlmIChpTWF4WSA8IDApIHsKICAgICAgaU1heFkgPSAwOwogICAgfQoKICAgIGlmIChpTWluWCA+PSBkYXRhLmxlbmd0aCkgewogICAgICBpTWluWCA9IGRhdGEubGVuZ3RoIC0gMTsKICAgIH0KCiAgICBpZiAoaU1heFggPj0gZGF0YS5sZW5ndGgpIHsKICAgICAgaU1heFggPSBkYXRhLmxlbmd0aCAtIDE7CiAgICB9CgogICAgaWYgKGlNYXhZID49IGRhdGFbMF0ubGVuZ3RoKSB7CiAgICAgIGlNYXhZID0gZGF0YVswXS5sZW5ndGggLSAxOwogICAgfQoKICAgIGlmIChpTWluWSA+PSBkYXRhWzBdLmxlbmd0aCkgewogICAgICBpTWluWSA9IGRhdGFbMF0ubGVuZ3RoIC0gMTsKICAgIH0KCiAgICBjb25zdCBtaW5NYXggPSBbXTsKICAgIGhmU2hhcGUuZ2V0UmVjdE1pbk1heChpTWluWCwgaU1pblksIGlNYXhYLCBpTWF4WSwgbWluTWF4KTsKICAgIGNvbnN0IG1pbiA9IG1pbk1heFswXTsKICAgIGNvbnN0IG1heCA9IG1pbk1heFsxXTsgLy8gQmFpbCBvdXQgaWYgd2UgY2FuJ3QgdG91Y2ggdGhlIGJvdW5kaW5nIGhlaWdodCBib3gKCiAgICBpZiAobG9jYWxTcGhlcmVQb3MueiAtIHJhZGl1cyA+IG1heCB8fCBsb2NhbFNwaGVyZVBvcy56ICsgcmFkaXVzIDwgbWluKSB7CiAgICAgIHJldHVybjsKICAgIH0KCiAgICBjb25zdCByZXN1bHQgPSB0aGlzLnJlc3VsdDsKCiAgICBmb3IgKGxldCBpID0gaU1pblg7IGkgPCBpTWF4WDsgaSsrKSB7CiAgICAgIGZvciAobGV0IGogPSBpTWluWTsgaiA8IGlNYXhZOyBqKyspIHsKICAgICAgICBjb25zdCBudW1Db250YWN0c0JlZm9yZSA9IHJlc3VsdC5sZW5ndGg7CiAgICAgICAgbGV0IGludGVyc2VjdGluZyA9IGZhbHNlOyAvLyBMb3dlciB0cmlhbmdsZQoKICAgICAgICBoZlNoYXBlLmdldENvbnZleFRyaWFuZ2xlUGlsbGFyKGksIGosIGZhbHNlKTsKICAgICAgICBUcmFuc2Zvcm0ucG9pbnRUb1dvcmxkRnJhbWUoaGZQb3MsIGhmUXVhdCwgaGZTaGFwZS5waWxsYXJPZmZzZXQsIHdvcmxkUGlsbGFyT2Zmc2V0KTsKCiAgICAgICAgaWYgKHNwaGVyZVBvcy5kaXN0YW5jZVRvKHdvcmxkUGlsbGFyT2Zmc2V0KSA8IGhmU2hhcGUucGlsbGFyQ29udmV4LmJvdW5kaW5nU3BoZXJlUmFkaXVzICsgc3BoZXJlU2hhcGUuYm91bmRpbmdTcGhlcmVSYWRpdXMpIHsKICAgICAgICAgIGludGVyc2VjdGluZyA9IHRoaXMuc3BoZXJlQ29udmV4KHNwaGVyZVNoYXBlLCBoZlNoYXBlLnBpbGxhckNvbnZleCwgc3BoZXJlUG9zLCB3b3JsZFBpbGxhck9mZnNldCwgc3BoZXJlUXVhdCwgaGZRdWF0LCBzcGhlcmVCb2R5LCBoZkJvZHksIHNwaGVyZVNoYXBlLCBoZlNoYXBlLCBqdXN0VGVzdCk7CiAgICAgICAgfQoKICAgICAgICBpZiAoanVzdFRlc3QgJiYgaW50ZXJzZWN0aW5nKSB7CiAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9IC8vIFVwcGVyIHRyaWFuZ2xlCgoKICAgICAgICBoZlNoYXBlLmdldENvbnZleFRyaWFuZ2xlUGlsbGFyKGksIGosIHRydWUpOwogICAgICAgIFRyYW5zZm9ybS5wb2ludFRvV29ybGRGcmFtZShoZlBvcywgaGZRdWF0LCBoZlNoYXBlLnBpbGxhck9mZnNldCwgd29ybGRQaWxsYXJPZmZzZXQpOwoKICAgICAgICBpZiAoc3BoZXJlUG9zLmRpc3RhbmNlVG8od29ybGRQaWxsYXJPZmZzZXQpIDwgaGZTaGFwZS5waWxsYXJDb252ZXguYm91bmRpbmdTcGhlcmVSYWRpdXMgKyBzcGhlcmVTaGFwZS5ib3VuZGluZ1NwaGVyZVJhZGl1cykgewogICAgICAgICAgaW50ZXJzZWN0aW5nID0gdGhpcy5zcGhlcmVDb252ZXgoc3BoZXJlU2hhcGUsIGhmU2hhcGUucGlsbGFyQ29udmV4LCBzcGhlcmVQb3MsIHdvcmxkUGlsbGFyT2Zmc2V0LCBzcGhlcmVRdWF0LCBoZlF1YXQsIHNwaGVyZUJvZHksIGhmQm9keSwgc3BoZXJlU2hhcGUsIGhmU2hhcGUsIGp1c3RUZXN0KTsKICAgICAgICB9CgogICAgICAgIGlmIChqdXN0VGVzdCAmJiBpbnRlcnNlY3RpbmcpIHsKICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0KCiAgICAgICAgY29uc3QgbnVtQ29udGFjdHMgPSByZXN1bHQubGVuZ3RoIC0gbnVtQ29udGFjdHNCZWZvcmU7CgogICAgICAgIGlmIChudW1Db250YWN0cyA+IDIpIHsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgLyoNCiAgICAgICAgICAvLyBTa2lwIGFsbCBidXQgMQ0KICAgICAgICAgIGZvciAobGV0IGsgPSAwOyBrIDwgbnVtQ29udGFjdHMgLSAxOyBrKyspIHsNCiAgICAgICAgICAgICAgcmVzdWx0LnBvcCgpOw0KICAgICAgICAgIH0NCiAgICAgICAgKi8KCiAgICAgIH0KICAgIH0KICB9CgogIGJveEhlaWdodGZpZWxkKHNpLCBzaiwgeGksIHhqLCBxaSwgcWosIGJpLCBiaiwgcnNpLCByc2osIGp1c3RUZXN0KSB7CiAgICBzaS5jb252ZXhQb2x5aGVkcm9uUmVwcmVzZW50YXRpb24ubWF0ZXJpYWwgPSBzaS5tYXRlcmlhbDsKICAgIHNpLmNvbnZleFBvbHloZWRyb25SZXByZXNlbnRhdGlvbi5jb2xsaXNpb25SZXNwb25zZSA9IHNpLmNvbGxpc2lvblJlc3BvbnNlOwogICAgcmV0dXJuIHRoaXMuY29udmV4SGVpZ2h0ZmllbGQoc2kuY29udmV4UG9seWhlZHJvblJlcHJlc2VudGF0aW9uLCBzaiwgeGksIHhqLCBxaSwgcWosIGJpLCBiaiwgc2ksIHNqLCBqdXN0VGVzdCk7CiAgfQoKICBjb252ZXhIZWlnaHRmaWVsZChjb252ZXhTaGFwZSwgaGZTaGFwZSwgY29udmV4UG9zLCBoZlBvcywgY29udmV4UXVhdCwgaGZRdWF0LCBjb252ZXhCb2R5LCBoZkJvZHksIHJzaSwgcnNqLCBqdXN0VGVzdCkgewogICAgY29uc3QgZGF0YSA9IGhmU2hhcGUuZGF0YTsKICAgIGNvbnN0IHcgPSBoZlNoYXBlLmVsZW1lbnRTaXplOwogICAgY29uc3QgcmFkaXVzID0gY29udmV4U2hhcGUuYm91bmRpbmdTcGhlcmVSYWRpdXM7CiAgICBjb25zdCB3b3JsZFBpbGxhck9mZnNldCA9IGNvbnZleEhlaWdodGZpZWxkX3RtcDI7CiAgICBjb25zdCBmYWNlTGlzdCA9IGNvbnZleEhlaWdodGZpZWxkX2ZhY2VMaXN0OyAvLyBHZXQgc3BoZXJlIHBvc2l0aW9uIHRvIGhlaWdodGZpZWxkIGxvY2FsIQoKICAgIGNvbnN0IGxvY2FsQ29udmV4UG9zID0gY29udmV4SGVpZ2h0ZmllbGRfdG1wMTsKICAgIFRyYW5zZm9ybS5wb2ludFRvTG9jYWxGcmFtZShoZlBvcywgaGZRdWF0LCBjb252ZXhQb3MsIGxvY2FsQ29udmV4UG9zKTsgLy8gR2V0IHRoZSBpbmRleCBvZiB0aGUgZGF0YSBwb2ludHMgdG8gdGVzdCBhZ2FpbnN0CgogICAgbGV0IGlNaW5YID0gTWF0aC5mbG9vcigobG9jYWxDb252ZXhQb3MueCAtIHJhZGl1cykgLyB3KSAtIDE7CiAgICBsZXQgaU1heFggPSBNYXRoLmNlaWwoKGxvY2FsQ29udmV4UG9zLnggKyByYWRpdXMpIC8gdykgKyAxOwogICAgbGV0IGlNaW5ZID0gTWF0aC5mbG9vcigobG9jYWxDb252ZXhQb3MueSAtIHJhZGl1cykgLyB3KSAtIDE7CiAgICBsZXQgaU1heFkgPSBNYXRoLmNlaWwoKGxvY2FsQ29udmV4UG9zLnkgKyByYWRpdXMpIC8gdykgKyAxOyAvLyBCYWlsIG91dCBpZiB3ZSBhcmUgb3V0IG9mIHRoZSB0ZXJyYWluCgogICAgaWYgKGlNYXhYIDwgMCB8fCBpTWF4WSA8IDAgfHwgaU1pblggPiBkYXRhLmxlbmd0aCB8fCBpTWluWSA+IGRhdGFbMF0ubGVuZ3RoKSB7CiAgICAgIHJldHVybjsKICAgIH0gLy8gQ2xhbXAgaW5kZXggdG8gZWRnZXMKCgogICAgaWYgKGlNaW5YIDwgMCkgewogICAgICBpTWluWCA9IDA7CiAgICB9CgogICAgaWYgKGlNYXhYIDwgMCkgewogICAgICBpTWF4WCA9IDA7CiAgICB9CgogICAgaWYgKGlNaW5ZIDwgMCkgewogICAgICBpTWluWSA9IDA7CiAgICB9CgogICAgaWYgKGlNYXhZIDwgMCkgewogICAgICBpTWF4WSA9IDA7CiAgICB9CgogICAgaWYgKGlNaW5YID49IGRhdGEubGVuZ3RoKSB7CiAgICAgIGlNaW5YID0gZGF0YS5sZW5ndGggLSAxOwogICAgfQoKICAgIGlmIChpTWF4WCA+PSBkYXRhLmxlbmd0aCkgewogICAgICBpTWF4WCA9IGRhdGEubGVuZ3RoIC0gMTsKICAgIH0KCiAgICBpZiAoaU1heFkgPj0gZGF0YVswXS5sZW5ndGgpIHsKICAgICAgaU1heFkgPSBkYXRhWzBdLmxlbmd0aCAtIDE7CiAgICB9CgogICAgaWYgKGlNaW5ZID49IGRhdGFbMF0ubGVuZ3RoKSB7CiAgICAgIGlNaW5ZID0gZGF0YVswXS5sZW5ndGggLSAxOwogICAgfQoKICAgIGNvbnN0IG1pbk1heCA9IFtdOwogICAgaGZTaGFwZS5nZXRSZWN0TWluTWF4KGlNaW5YLCBpTWluWSwgaU1heFgsIGlNYXhZLCBtaW5NYXgpOwogICAgY29uc3QgbWluID0gbWluTWF4WzBdOwogICAgY29uc3QgbWF4ID0gbWluTWF4WzFdOyAvLyBCYWlsIG91dCBpZiB3ZSdyZSBjYW50IHRvdWNoIHRoZSBib3VuZGluZyBoZWlnaHQgYm94CgogICAgaWYgKGxvY2FsQ29udmV4UG9zLnogLSByYWRpdXMgPiBtYXggfHwgbG9jYWxDb252ZXhQb3MueiArIHJhZGl1cyA8IG1pbikgewogICAgICByZXR1cm47CiAgICB9CgogICAgZm9yIChsZXQgaSA9IGlNaW5YOyBpIDwgaU1heFg7IGkrKykgewogICAgICBmb3IgKGxldCBqID0gaU1pblk7IGogPCBpTWF4WTsgaisrKSB7CiAgICAgICAgbGV0IGludGVyc2VjdGluZyA9IGZhbHNlOyAvLyBMb3dlciB0cmlhbmdsZQoKICAgICAgICBoZlNoYXBlLmdldENvbnZleFRyaWFuZ2xlUGlsbGFyKGksIGosIGZhbHNlKTsKICAgICAgICBUcmFuc2Zvcm0ucG9pbnRUb1dvcmxkRnJhbWUoaGZQb3MsIGhmUXVhdCwgaGZTaGFwZS5waWxsYXJPZmZzZXQsIHdvcmxkUGlsbGFyT2Zmc2V0KTsKCiAgICAgICAgaWYgKGNvbnZleFBvcy5kaXN0YW5jZVRvKHdvcmxkUGlsbGFyT2Zmc2V0KSA8IGhmU2hhcGUucGlsbGFyQ29udmV4LmJvdW5kaW5nU3BoZXJlUmFkaXVzICsgY29udmV4U2hhcGUuYm91bmRpbmdTcGhlcmVSYWRpdXMpIHsKICAgICAgICAgIGludGVyc2VjdGluZyA9IHRoaXMuY29udmV4Q29udmV4KGNvbnZleFNoYXBlLCBoZlNoYXBlLnBpbGxhckNvbnZleCwgY29udmV4UG9zLCB3b3JsZFBpbGxhck9mZnNldCwgY29udmV4UXVhdCwgaGZRdWF0LCBjb252ZXhCb2R5LCBoZkJvZHksIG51bGwsIG51bGwsIGp1c3RUZXN0LCBmYWNlTGlzdCwgbnVsbCk7CiAgICAgICAgfQoKICAgICAgICBpZiAoanVzdFRlc3QgJiYgaW50ZXJzZWN0aW5nKSB7CiAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9IC8vIFVwcGVyIHRyaWFuZ2xlCgoKICAgICAgICBoZlNoYXBlLmdldENvbnZleFRyaWFuZ2xlUGlsbGFyKGksIGosIHRydWUpOwogICAgICAgIFRyYW5zZm9ybS5wb2ludFRvV29ybGRGcmFtZShoZlBvcywgaGZRdWF0LCBoZlNoYXBlLnBpbGxhck9mZnNldCwgd29ybGRQaWxsYXJPZmZzZXQpOwoKICAgICAgICBpZiAoY29udmV4UG9zLmRpc3RhbmNlVG8od29ybGRQaWxsYXJPZmZzZXQpIDwgaGZTaGFwZS5waWxsYXJDb252ZXguYm91bmRpbmdTcGhlcmVSYWRpdXMgKyBjb252ZXhTaGFwZS5ib3VuZGluZ1NwaGVyZVJhZGl1cykgewogICAgICAgICAgaW50ZXJzZWN0aW5nID0gdGhpcy5jb252ZXhDb252ZXgoY29udmV4U2hhcGUsIGhmU2hhcGUucGlsbGFyQ29udmV4LCBjb252ZXhQb3MsIHdvcmxkUGlsbGFyT2Zmc2V0LCBjb252ZXhRdWF0LCBoZlF1YXQsIGNvbnZleEJvZHksIGhmQm9keSwgbnVsbCwgbnVsbCwganVzdFRlc3QsIGZhY2VMaXN0LCBudWxsKTsKICAgICAgICB9CgogICAgICAgIGlmIChqdXN0VGVzdCAmJiBpbnRlcnNlY3RpbmcpIHsKICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0KICAgICAgfQogICAgfQogIH0KCiAgc3BoZXJlUGFydGljbGUoc2osIHNpLCB4aiwgeGksIHFqLCBxaSwgYmosIGJpLCByc2ksIHJzaiwganVzdFRlc3QpIHsKICAgIC8vIFRoZSBub3JtYWwgaXMgdGhlIHVuaXQgdmVjdG9yIGZyb20gc3BoZXJlIGNlbnRlciB0byBwYXJ0aWNsZSBjZW50ZXIKICAgIGNvbnN0IG5vcm1hbCA9IHBhcnRpY2xlU3BoZXJlX25vcm1hbDsKICAgIG5vcm1hbC5zZXQoMCwgMCwgMSk7CiAgICB4aS52c3ViKHhqLCBub3JtYWwpOwogICAgY29uc3QgbGVuZ3RoU3F1YXJlZCA9IG5vcm1hbC5sZW5ndGhTcXVhcmVkKCk7CgogICAgaWYgKGxlbmd0aFNxdWFyZWQgPD0gc2oucmFkaXVzICogc2oucmFkaXVzKSB7CiAgICAgIGlmIChqdXN0VGVzdCkgewogICAgICAgIHJldHVybiB0cnVlOwogICAgICB9CgogICAgICBjb25zdCByID0gdGhpcy5jcmVhdGVDb250YWN0RXF1YXRpb24oYmksIGJqLCBzaSwgc2osIHJzaSwgcnNqKTsKICAgICAgbm9ybWFsLm5vcm1hbGl6ZSgpOwogICAgICByLnJqLmNvcHkobm9ybWFsKTsKICAgICAgci5yai5zY2FsZShzai5yYWRpdXMsIHIucmopOwogICAgICByLm5pLmNvcHkobm9ybWFsKTsgLy8gQ29udGFjdCBub3JtYWwKCiAgICAgIHIubmkubmVnYXRlKHIubmkpOwogICAgICByLnJpLnNldCgwLCAwLCAwKTsgLy8gQ2VudGVyIG9mIHBhcnRpY2xlCgogICAgICB0aGlzLnJlc3VsdC5wdXNoKHIpOwogICAgICB0aGlzLmNyZWF0ZUZyaWN0aW9uRXF1YXRpb25zRnJvbUNvbnRhY3QociwgdGhpcy5mcmljdGlvblJlc3VsdCk7CiAgICB9CiAgfQoKICBwbGFuZVBhcnRpY2xlKHNqLCBzaSwgeGosIHhpLCBxaiwgcWksIGJqLCBiaSwgcnNpLCByc2osIGp1c3RUZXN0KSB7CiAgICBjb25zdCBub3JtYWwgPSBwYXJ0aWNsZVBsYW5lX25vcm1hbDsKICAgIG5vcm1hbC5zZXQoMCwgMCwgMSk7CiAgICBiai5xdWF0ZXJuaW9uLnZtdWx0KG5vcm1hbCwgbm9ybWFsKTsgLy8gVHVybiBub3JtYWwgYWNjb3JkaW5nIHRvIHBsYW5lIG9yaWVudGF0aW9uCgogICAgY29uc3QgcmVscG9zID0gcGFydGljbGVQbGFuZV9yZWxwb3M7CiAgICB4aS52c3ViKGJqLnBvc2l0aW9uLCByZWxwb3MpOwogICAgY29uc3QgZG90ID0gbm9ybWFsLmRvdChyZWxwb3MpOwoKICAgIGlmIChkb3QgPD0gMC4wKSB7CiAgICAgIGlmIChqdXN0VGVzdCkgewogICAgICAgIHJldHVybiB0cnVlOwogICAgICB9CgogICAgICBjb25zdCByID0gdGhpcy5jcmVhdGVDb250YWN0RXF1YXRpb24oYmksIGJqLCBzaSwgc2osIHJzaSwgcnNqKTsKICAgICAgci5uaS5jb3B5KG5vcm1hbCk7IC8vIENvbnRhY3Qgbm9ybWFsIGlzIHRoZSBwbGFuZSBub3JtYWwKCiAgICAgIHIubmkubmVnYXRlKHIubmkpOwogICAgICByLnJpLnNldCgwLCAwLCAwKTsgLy8gQ2VudGVyIG9mIHBhcnRpY2xlCiAgICAgIC8vIEdldCBwYXJ0aWNsZSBwb3NpdGlvbiBwcm9qZWN0ZWQgb24gcGxhbmUKCiAgICAgIGNvbnN0IHByb2plY3RlZCA9IHBhcnRpY2xlUGxhbmVfcHJvamVjdGVkOwogICAgICBub3JtYWwuc2NhbGUobm9ybWFsLmRvdCh4aSksIHByb2plY3RlZCk7CiAgICAgIHhpLnZzdWIocHJvamVjdGVkLCBwcm9qZWN0ZWQpOyAvL3Byb2plY3RlZC52YWRkKGJqLnBvc2l0aW9uLHByb2plY3RlZCk7CiAgICAgIC8vIHJqIGlzIG5vdyB0aGUgcHJvamVjdGVkIHdvcmxkIHBvc2l0aW9uIG1pbnVzIHBsYW5lIHBvc2l0aW9uCgogICAgICByLnJqLmNvcHkocHJvamVjdGVkKTsKICAgICAgdGhpcy5yZXN1bHQucHVzaChyKTsKICAgICAgdGhpcy5jcmVhdGVGcmljdGlvbkVxdWF0aW9uc0Zyb21Db250YWN0KHIsIHRoaXMuZnJpY3Rpb25SZXN1bHQpOwogICAgfQogIH0KCiAgYm94UGFydGljbGUoc2ksIHNqLCB4aSwgeGosIHFpLCBxaiwgYmksIGJqLCByc2ksIHJzaiwganVzdFRlc3QpIHsKICAgIHNpLmNvbnZleFBvbHloZWRyb25SZXByZXNlbnRhdGlvbi5tYXRlcmlhbCA9IHNpLm1hdGVyaWFsOwogICAgc2kuY29udmV4UG9seWhlZHJvblJlcHJlc2VudGF0aW9uLmNvbGxpc2lvblJlc3BvbnNlID0gc2kuY29sbGlzaW9uUmVzcG9uc2U7CiAgICByZXR1cm4gdGhpcy5jb252ZXhQYXJ0aWNsZShzaS5jb252ZXhQb2x5aGVkcm9uUmVwcmVzZW50YXRpb24sIHNqLCB4aSwgeGosIHFpLCBxaiwgYmksIGJqLCBzaSwgc2osIGp1c3RUZXN0KTsKICB9CgogIGNvbnZleFBhcnRpY2xlKHNqLCBzaSwgeGosIHhpLCBxaiwgcWksIGJqLCBiaSwgcnNpLCByc2osIGp1c3RUZXN0KSB7CiAgICBsZXQgcGVuZXRyYXRlZEZhY2VJbmRleCA9IC0xOwogICAgY29uc3QgcGVuZXRyYXRlZEZhY2VOb3JtYWwgPSBjb252ZXhQYXJ0aWNsZV9wZW5ldHJhdGVkRmFjZU5vcm1hbDsKICAgIGNvbnN0IHdvcmxkUGVuZXRyYXRpb25WZWMgPSBjb252ZXhQYXJ0aWNsZV93b3JsZFBlbmV0cmF0aW9uVmVjOwogICAgbGV0IG1pblBlbmV0cmF0aW9uID0gbnVsbDsKICAgIGNvbnN0IGxvY2FsID0gY29udmV4UGFydGljbGVfbG9jYWw7CiAgICBsb2NhbC5jb3B5KHhpKTsKICAgIGxvY2FsLnZzdWIoeGosIGxvY2FsKTsgLy8gQ29udmVydCBwb3NpdGlvbiB0byByZWxhdGl2ZSB0aGUgY29udmV4IG9yaWdpbgoKICAgIHFqLmNvbmp1Z2F0ZShjcWopOwogICAgY3FqLnZtdWx0KGxvY2FsLCBsb2NhbCk7CgogICAgaWYgKHNqLnBvaW50SXNJbnNpZGUobG9jYWwpKSB7CiAgICAgIGlmIChzai53b3JsZFZlcnRpY2VzTmVlZHNVcGRhdGUpIHsKICAgICAgICBzai5jb21wdXRlV29ybGRWZXJ0aWNlcyh4aiwgcWopOwogICAgICB9CgogICAgICBpZiAoc2oud29ybGRGYWNlTm9ybWFsc05lZWRzVXBkYXRlKSB7CiAgICAgICAgc2ouY29tcHV0ZVdvcmxkRmFjZU5vcm1hbHMocWopOwogICAgICB9IC8vIEZvciBlYWNoIHdvcmxkIHBvbHlnb24gaW4gdGhlIHBvbHloZWRyYQoKCiAgICAgIGZvciAobGV0IGkgPSAwLCBuZmFjZXMgPSBzai5mYWNlcy5sZW5ndGg7IGkgIT09IG5mYWNlczsgaSsrKSB7CiAgICAgICAgLy8gQ29uc3RydWN0IHdvcmxkIGZhY2UgdmVydGljZXMKICAgICAgICBjb25zdCB2ZXJ0cyA9IFtzai53b3JsZFZlcnRpY2VzW3NqLmZhY2VzW2ldWzBdXV07CiAgICAgICAgY29uc3Qgbm9ybWFsID0gc2oud29ybGRGYWNlTm9ybWFsc1tpXTsgLy8gQ2hlY2sgaG93IG11Y2ggdGhlIHBhcnRpY2xlIHBlbmV0cmF0ZXMgdGhlIHBvbHlnb24gcGxhbmUuCgogICAgICAgIHhpLnZzdWIodmVydHNbMF0sIGNvbnZleFBhcnRpY2xlX3ZlcnRleFRvUGFydGljbGUpOwogICAgICAgIGNvbnN0IHBlbmV0cmF0aW9uID0gLW5vcm1hbC5kb3QoY29udmV4UGFydGljbGVfdmVydGV4VG9QYXJ0aWNsZSk7CgogICAgICAgIGlmIChtaW5QZW5ldHJhdGlvbiA9PT0gbnVsbCB8fCBNYXRoLmFicyhwZW5ldHJhdGlvbikgPCBNYXRoLmFicyhtaW5QZW5ldHJhdGlvbikpIHsKICAgICAgICAgIGlmIChqdXN0VGVzdCkgewogICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgIH0KCiAgICAgICAgICBtaW5QZW5ldHJhdGlvbiA9IHBlbmV0cmF0aW9uOwogICAgICAgICAgcGVuZXRyYXRlZEZhY2VJbmRleCA9IGk7CiAgICAgICAgICBwZW5ldHJhdGVkRmFjZU5vcm1hbC5jb3B5KG5vcm1hbCk7CiAgICAgICAgfQogICAgICB9CgogICAgICBpZiAocGVuZXRyYXRlZEZhY2VJbmRleCAhPT0gLTEpIHsKICAgICAgICAvLyBTZXR1cCBjb250YWN0CiAgICAgICAgY29uc3QgciA9IHRoaXMuY3JlYXRlQ29udGFjdEVxdWF0aW9uKGJpLCBiaiwgc2ksIHNqLCByc2ksIHJzaik7CiAgICAgICAgcGVuZXRyYXRlZEZhY2VOb3JtYWwuc2NhbGUobWluUGVuZXRyYXRpb24sIHdvcmxkUGVuZXRyYXRpb25WZWMpOyAvLyByaiBpcyB0aGUgcGFydGljbGUgcG9zaXRpb24gcHJvamVjdGVkIHRvIHRoZSBmYWNlCgogICAgICAgIHdvcmxkUGVuZXRyYXRpb25WZWMudmFkZCh4aSwgd29ybGRQZW5ldHJhdGlvblZlYyk7CiAgICAgICAgd29ybGRQZW5ldHJhdGlvblZlYy52c3ViKHhqLCB3b3JsZFBlbmV0cmF0aW9uVmVjKTsKICAgICAgICByLnJqLmNvcHkod29ybGRQZW5ldHJhdGlvblZlYyk7IC8vY29uc3QgcHJvamVjdGVkVG9GYWNlID0geGkudnN1Yih4aikudmFkZCh3b3JsZFBlbmV0cmF0aW9uVmVjKTsKICAgICAgICAvL3Byb2plY3RlZFRvRmFjZS5jb3B5KHIucmopOwogICAgICAgIC8vcWoudm11bHQoci5yaixyLnJqKTsKCiAgICAgICAgcGVuZXRyYXRlZEZhY2VOb3JtYWwubmVnYXRlKHIubmkpOyAvLyBDb250YWN0IG5vcm1hbAoKICAgICAgICByLnJpLnNldCgwLCAwLCAwKTsgLy8gQ2VudGVyIG9mIHBhcnRpY2xlCgogICAgICAgIGNvbnN0IHJpID0gci5yaTsKICAgICAgICBjb25zdCByaiA9IHIucmo7IC8vIE1ha2UgcmVsYXRpdmUgdG8gYm9kaWVzCgogICAgICAgIHJpLnZhZGQoeGksIHJpKTsKICAgICAgICByaS52c3ViKGJpLnBvc2l0aW9uLCByaSk7CiAgICAgICAgcmoudmFkZCh4aiwgcmopOwogICAgICAgIHJqLnZzdWIoYmoucG9zaXRpb24sIHJqKTsKICAgICAgICB0aGlzLnJlc3VsdC5wdXNoKHIpOwogICAgICAgIHRoaXMuY3JlYXRlRnJpY3Rpb25FcXVhdGlvbnNGcm9tQ29udGFjdChyLCB0aGlzLmZyaWN0aW9uUmVzdWx0KTsKICAgICAgfSBlbHNlIHsKICAgICAgICBjb25zb2xlLndhcm4oJ1BvaW50IGZvdW5kIGluc2lkZSBjb252ZXgsIGJ1dCBkaWQgbm90IGZpbmQgcGVuZXRyYXRpbmcgZmFjZSEnKTsKICAgICAgfQogICAgfQogIH0KCiAgc3BoZXJlVHJpbWVzaChzcGhlcmVTaGFwZSwgdHJpbWVzaFNoYXBlLCBzcGhlcmVQb3MsIHRyaW1lc2hQb3MsIHNwaGVyZVF1YXQsIHRyaW1lc2hRdWF0LCBzcGhlcmVCb2R5LCB0cmltZXNoQm9keSwgcnNpLCByc2osIGp1c3RUZXN0KSB7CiAgICBjb25zdCBlZGdlVmVydGV4QSA9IHNwaGVyZVRyaW1lc2hfZWRnZVZlcnRleEE7CiAgICBjb25zdCBlZGdlVmVydGV4QiA9IHNwaGVyZVRyaW1lc2hfZWRnZVZlcnRleEI7CiAgICBjb25zdCBlZGdlVmVjdG9yID0gc3BoZXJlVHJpbWVzaF9lZGdlVmVjdG9yOwogICAgY29uc3QgZWRnZVZlY3RvclVuaXQgPSBzcGhlcmVUcmltZXNoX2VkZ2VWZWN0b3JVbml0OwogICAgY29uc3QgbG9jYWxTcGhlcmVQb3MgPSBzcGhlcmVUcmltZXNoX2xvY2FsU3BoZXJlUG9zOwogICAgY29uc3QgdG1wID0gc3BoZXJlVHJpbWVzaF90bXA7CiAgICBjb25zdCBsb2NhbFNwaGVyZUFBQkIgPSBzcGhlcmVUcmltZXNoX2xvY2FsU3BoZXJlQUFCQjsKICAgIGNvbnN0IHYyID0gc3BoZXJlVHJpbWVzaF92MjsKICAgIGNvbnN0IHJlbHBvcyA9IHNwaGVyZVRyaW1lc2hfcmVscG9zOwogICAgY29uc3QgdHJpYW5nbGVzID0gc3BoZXJlVHJpbWVzaF90cmlhbmdsZXM7IC8vIENvbnZlcnQgc3BoZXJlIHBvc2l0aW9uIHRvIGxvY2FsIGluIHRoZSB0cmltZXNoCgogICAgVHJhbnNmb3JtLnBvaW50VG9Mb2NhbEZyYW1lKHRyaW1lc2hQb3MsIHRyaW1lc2hRdWF0LCBzcGhlcmVQb3MsIGxvY2FsU3BoZXJlUG9zKTsgLy8gR2V0IHRoZSBhYWJiIG9mIHRoZSBzcGhlcmUgbG9jYWxseSBpbiB0aGUgdHJpbWVzaAoKICAgIGNvbnN0IHNwaGVyZVJhZGl1cyA9IHNwaGVyZVNoYXBlLnJhZGl1czsKICAgIGxvY2FsU3BoZXJlQUFCQi5sb3dlckJvdW5kLnNldChsb2NhbFNwaGVyZVBvcy54IC0gc3BoZXJlUmFkaXVzLCBsb2NhbFNwaGVyZVBvcy55IC0gc3BoZXJlUmFkaXVzLCBsb2NhbFNwaGVyZVBvcy56IC0gc3BoZXJlUmFkaXVzKTsKICAgIGxvY2FsU3BoZXJlQUFCQi51cHBlckJvdW5kLnNldChsb2NhbFNwaGVyZVBvcy54ICsgc3BoZXJlUmFkaXVzLCBsb2NhbFNwaGVyZVBvcy55ICsgc3BoZXJlUmFkaXVzLCBsb2NhbFNwaGVyZVBvcy56ICsgc3BoZXJlUmFkaXVzKTsKICAgIHRyaW1lc2hTaGFwZS5nZXRUcmlhbmdsZXNJbkFBQkIobG9jYWxTcGhlcmVBQUJCLCB0cmlhbmdsZXMpOyAvL2ZvciAobGV0IGkgPSAwOyBpIDwgdHJpbWVzaFNoYXBlLmluZGljZXMubGVuZ3RoIC8gMzsgaSsrKSB0cmlhbmdsZXMucHVzaChpKTsgLy8gQWxsCiAgICAvLyBWZXJ0aWNlcwoKICAgIGNvbnN0IHYgPSBzcGhlcmVUcmltZXNoX3Y7CiAgICBjb25zdCByYWRpdXNTcXVhcmVkID0gc3BoZXJlU2hhcGUucmFkaXVzICogc3BoZXJlU2hhcGUucmFkaXVzOwoKICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdHJpYW5nbGVzLmxlbmd0aDsgaSsrKSB7CiAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgMzsgaisrKSB7CiAgICAgICAgdHJpbWVzaFNoYXBlLmdldFZlcnRleCh0cmltZXNoU2hhcGUuaW5kaWNlc1t0cmlhbmdsZXNbaV0gKiAzICsgal0sIHYpOyAvLyBDaGVjayB2ZXJ0ZXggb3ZlcmxhcCBpbiBzcGhlcmUKCiAgICAgICAgdi52c3ViKGxvY2FsU3BoZXJlUG9zLCByZWxwb3MpOwoKICAgICAgICBpZiAocmVscG9zLmxlbmd0aFNxdWFyZWQoKSA8PSByYWRpdXNTcXVhcmVkKSB7CiAgICAgICAgICAvLyBTYWZlIHVwCiAgICAgICAgICB2Mi5jb3B5KHYpOwogICAgICAgICAgVHJhbnNmb3JtLnBvaW50VG9Xb3JsZEZyYW1lKHRyaW1lc2hQb3MsIHRyaW1lc2hRdWF0LCB2Miwgdik7CiAgICAgICAgICB2LnZzdWIoc3BoZXJlUG9zLCByZWxwb3MpOwoKICAgICAgICAgIGlmIChqdXN0VGVzdCkgewogICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgIH0KCiAgICAgICAgICBsZXQgciA9IHRoaXMuY3JlYXRlQ29udGFjdEVxdWF0aW9uKHNwaGVyZUJvZHksIHRyaW1lc2hCb2R5LCBzcGhlcmVTaGFwZSwgdHJpbWVzaFNoYXBlLCByc2ksIHJzaik7CiAgICAgICAgICByLm5pLmNvcHkocmVscG9zKTsKICAgICAgICAgIHIubmkubm9ybWFsaXplKCk7IC8vIHJpIGlzIHRoZSB2ZWN0b3IgZnJvbSBzcGhlcmUgY2VudGVyIHRvIHRoZSBzcGhlcmUgc3VyZmFjZQoKICAgICAgICAgIHIucmkuY29weShyLm5pKTsKICAgICAgICAgIHIucmkuc2NhbGUoc3BoZXJlU2hhcGUucmFkaXVzLCByLnJpKTsKICAgICAgICAgIHIucmkudmFkZChzcGhlcmVQb3MsIHIucmkpOwogICAgICAgICAgci5yaS52c3ViKHNwaGVyZUJvZHkucG9zaXRpb24sIHIucmkpOwogICAgICAgICAgci5yai5jb3B5KHYpOwogICAgICAgICAgci5yai52c3ViKHRyaW1lc2hCb2R5LnBvc2l0aW9uLCByLnJqKTsgLy8gU3RvcmUgcmVzdWx0CgogICAgICAgICAgdGhpcy5yZXN1bHQucHVzaChyKTsKICAgICAgICAgIHRoaXMuY3JlYXRlRnJpY3Rpb25FcXVhdGlvbnNGcm9tQ29udGFjdChyLCB0aGlzLmZyaWN0aW9uUmVzdWx0KTsKICAgICAgICB9CiAgICAgIH0KICAgIH0gLy8gQ2hlY2sgYWxsIGVkZ2VzCgoKICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdHJpYW5nbGVzLmxlbmd0aDsgaSsrKSB7CiAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgMzsgaisrKSB7CiAgICAgICAgdHJpbWVzaFNoYXBlLmdldFZlcnRleCh0cmltZXNoU2hhcGUuaW5kaWNlc1t0cmlhbmdsZXNbaV0gKiAzICsgal0sIGVkZ2VWZXJ0ZXhBKTsKICAgICAgICB0cmltZXNoU2hhcGUuZ2V0VmVydGV4KHRyaW1lc2hTaGFwZS5pbmRpY2VzW3RyaWFuZ2xlc1tpXSAqIDMgKyAoaiArIDEpICUgM10sIGVkZ2VWZXJ0ZXhCKTsKICAgICAgICBlZGdlVmVydGV4Qi52c3ViKGVkZ2VWZXJ0ZXhBLCBlZGdlVmVjdG9yKTsgLy8gUHJvamVjdCBzcGhlcmUgcG9zaXRpb24gdG8gdGhlIGVkZ2UKCiAgICAgICAgbG9jYWxTcGhlcmVQb3MudnN1YihlZGdlVmVydGV4QiwgdG1wKTsKICAgICAgICBjb25zdCBwb3NpdGlvbkFsb25nRWRnZUIgPSB0bXAuZG90KGVkZ2VWZWN0b3IpOwogICAgICAgIGxvY2FsU3BoZXJlUG9zLnZzdWIoZWRnZVZlcnRleEEsIHRtcCk7CiAgICAgICAgbGV0IHBvc2l0aW9uQWxvbmdFZGdlQSA9IHRtcC5kb3QoZWRnZVZlY3Rvcik7CgogICAgICAgIGlmIChwb3NpdGlvbkFsb25nRWRnZUEgPiAwICYmIHBvc2l0aW9uQWxvbmdFZGdlQiA8IDApIHsKICAgICAgICAgIC8vIE5vdyBjaGVjayB0aGUgb3J0aG9nb25hbCBkaXN0YW5jZSBmcm9tIGVkZ2UgdG8gc3BoZXJlIGNlbnRlcgogICAgICAgICAgbG9jYWxTcGhlcmVQb3MudnN1YihlZGdlVmVydGV4QSwgdG1wKTsKICAgICAgICAgIGVkZ2VWZWN0b3JVbml0LmNvcHkoZWRnZVZlY3Rvcik7CiAgICAgICAgICBlZGdlVmVjdG9yVW5pdC5ub3JtYWxpemUoKTsKICAgICAgICAgIHBvc2l0aW9uQWxvbmdFZGdlQSA9IHRtcC5kb3QoZWRnZVZlY3RvclVuaXQpOwogICAgICAgICAgZWRnZVZlY3RvclVuaXQuc2NhbGUocG9zaXRpb25BbG9uZ0VkZ2VBLCB0bXApOwogICAgICAgICAgdG1wLnZhZGQoZWRnZVZlcnRleEEsIHRtcCk7IC8vIHRtcCBpcyBub3cgdGhlIHNwaGVyZSBjZW50ZXIgcG9zaXRpb24gcHJvamVjdGVkIHRvIHRoZSBlZGdlLCBkZWZpbmVkIGxvY2FsbHkgaW4gdGhlIHRyaW1lc2ggZnJhbWUKCiAgICAgICAgICBjb25zdCBkaXN0ID0gdG1wLmRpc3RhbmNlVG8obG9jYWxTcGhlcmVQb3MpOwoKICAgICAgICAgIGlmIChkaXN0IDwgc3BoZXJlU2hhcGUucmFkaXVzKSB7CiAgICAgICAgICAgIGlmIChqdXN0VGVzdCkgewogICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgICB9CgogICAgICAgICAgICBjb25zdCByID0gdGhpcy5jcmVhdGVDb250YWN0RXF1YXRpb24oc3BoZXJlQm9keSwgdHJpbWVzaEJvZHksIHNwaGVyZVNoYXBlLCB0cmltZXNoU2hhcGUsIHJzaSwgcnNqKTsKICAgICAgICAgICAgdG1wLnZzdWIobG9jYWxTcGhlcmVQb3MsIHIubmkpOwogICAgICAgICAgICByLm5pLm5vcm1hbGl6ZSgpOwogICAgICAgICAgICByLm5pLnNjYWxlKHNwaGVyZVNoYXBlLnJhZGl1cywgci5yaSk7CiAgICAgICAgICAgIHIucmkudmFkZChzcGhlcmVQb3MsIHIucmkpOwogICAgICAgICAgICByLnJpLnZzdWIoc3BoZXJlQm9keS5wb3NpdGlvbiwgci5yaSk7CiAgICAgICAgICAgIFRyYW5zZm9ybS5wb2ludFRvV29ybGRGcmFtZSh0cmltZXNoUG9zLCB0cmltZXNoUXVhdCwgdG1wLCB0bXApOwogICAgICAgICAgICB0bXAudnN1Yih0cmltZXNoQm9keS5wb3NpdGlvbiwgci5yaik7CiAgICAgICAgICAgIFRyYW5zZm9ybS52ZWN0b3JUb1dvcmxkRnJhbWUodHJpbWVzaFF1YXQsIHIubmksIHIubmkpOwogICAgICAgICAgICBUcmFuc2Zvcm0udmVjdG9yVG9Xb3JsZEZyYW1lKHRyaW1lc2hRdWF0LCByLnJpLCByLnJpKTsKICAgICAgICAgICAgdGhpcy5yZXN1bHQucHVzaChyKTsKICAgICAgICAgICAgdGhpcy5jcmVhdGVGcmljdGlvbkVxdWF0aW9uc0Zyb21Db250YWN0KHIsIHRoaXMuZnJpY3Rpb25SZXN1bHQpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfSAvLyBUcmlhbmdsZSBmYWNlcwoKCiAgICBjb25zdCB2YSA9IHNwaGVyZVRyaW1lc2hfdmE7CiAgICBjb25zdCB2YiA9IHNwaGVyZVRyaW1lc2hfdmI7CiAgICBjb25zdCB2YyA9IHNwaGVyZVRyaW1lc2hfdmM7CiAgICBjb25zdCBub3JtYWwgPSBzcGhlcmVUcmltZXNoX25vcm1hbDsKCiAgICBmb3IgKGxldCBpID0gMCwgTiA9IHRyaWFuZ2xlcy5sZW5ndGg7IGkgIT09IE47IGkrKykgewogICAgICB0cmltZXNoU2hhcGUuZ2V0VHJpYW5nbGVWZXJ0aWNlcyh0cmlhbmdsZXNbaV0sIHZhLCB2YiwgdmMpOwogICAgICB0cmltZXNoU2hhcGUuZ2V0Tm9ybWFsKHRyaWFuZ2xlc1tpXSwgbm9ybWFsKTsKICAgICAgbG9jYWxTcGhlcmVQb3MudnN1Yih2YSwgdG1wKTsKICAgICAgbGV0IGRpc3QgPSB0bXAuZG90KG5vcm1hbCk7CiAgICAgIG5vcm1hbC5zY2FsZShkaXN0LCB0bXApOwogICAgICBsb2NhbFNwaGVyZVBvcy52c3ViKHRtcCwgdG1wKTsgLy8gdG1wIGlzIG5vdyB0aGUgc3BoZXJlIHBvc2l0aW9uIHByb2plY3RlZCB0byB0aGUgdHJpYW5nbGUgcGxhbmUKCiAgICAgIGRpc3QgPSB0bXAuZGlzdGFuY2VUbyhsb2NhbFNwaGVyZVBvcyk7CgogICAgICBpZiAoUmF5LnBvaW50SW5UcmlhbmdsZSh0bXAsIHZhLCB2YiwgdmMpICYmIGRpc3QgPCBzcGhlcmVTaGFwZS5yYWRpdXMpIHsKICAgICAgICBpZiAoanVzdFRlc3QpIHsKICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0KCiAgICAgICAgbGV0IHIgPSB0aGlzLmNyZWF0ZUNvbnRhY3RFcXVhdGlvbihzcGhlcmVCb2R5LCB0cmltZXNoQm9keSwgc3BoZXJlU2hhcGUsIHRyaW1lc2hTaGFwZSwgcnNpLCByc2opOwogICAgICAgIHRtcC52c3ViKGxvY2FsU3BoZXJlUG9zLCByLm5pKTsKICAgICAgICByLm5pLm5vcm1hbGl6ZSgpOwogICAgICAgIHIubmkuc2NhbGUoc3BoZXJlU2hhcGUucmFkaXVzLCByLnJpKTsKICAgICAgICByLnJpLnZhZGQoc3BoZXJlUG9zLCByLnJpKTsKICAgICAgICByLnJpLnZzdWIoc3BoZXJlQm9keS5wb3NpdGlvbiwgci5yaSk7CiAgICAgICAgVHJhbnNmb3JtLnBvaW50VG9Xb3JsZEZyYW1lKHRyaW1lc2hQb3MsIHRyaW1lc2hRdWF0LCB0bXAsIHRtcCk7CiAgICAgICAgdG1wLnZzdWIodHJpbWVzaEJvZHkucG9zaXRpb24sIHIucmopOwogICAgICAgIFRyYW5zZm9ybS52ZWN0b3JUb1dvcmxkRnJhbWUodHJpbWVzaFF1YXQsIHIubmksIHIubmkpOwogICAgICAgIFRyYW5zZm9ybS52ZWN0b3JUb1dvcmxkRnJhbWUodHJpbWVzaFF1YXQsIHIucmksIHIucmkpOwogICAgICAgIHRoaXMucmVzdWx0LnB1c2gocik7CiAgICAgICAgdGhpcy5jcmVhdGVGcmljdGlvbkVxdWF0aW9uc0Zyb21Db250YWN0KHIsIHRoaXMuZnJpY3Rpb25SZXN1bHQpOwogICAgICB9CiAgICB9CgogICAgdHJpYW5nbGVzLmxlbmd0aCA9IDA7CiAgfQoKICBwbGFuZVRyaW1lc2gocGxhbmVTaGFwZSwgdHJpbWVzaFNoYXBlLCBwbGFuZVBvcywgdHJpbWVzaFBvcywgcGxhbmVRdWF0LCB0cmltZXNoUXVhdCwgcGxhbmVCb2R5LCB0cmltZXNoQm9keSwgcnNpLCByc2osIGp1c3RUZXN0KSB7CiAgICAvLyBNYWtlIGNvbnRhY3RzIQogICAgY29uc3QgdiA9IG5ldyBWZWMzKCk7CiAgICBjb25zdCBub3JtYWwgPSBwbGFuZVRyaW1lc2hfbm9ybWFsOwogICAgbm9ybWFsLnNldCgwLCAwLCAxKTsKICAgIHBsYW5lUXVhdC52bXVsdChub3JtYWwsIG5vcm1hbCk7IC8vIFR1cm4gbm9ybWFsIGFjY29yZGluZyB0byBwbGFuZQoKICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdHJpbWVzaFNoYXBlLnZlcnRpY2VzLmxlbmd0aCAvIDM7IGkrKykgewogICAgICAvLyBHZXQgd29ybGQgdmVydGV4IGZyb20gdHJpbWVzaAogICAgICB0cmltZXNoU2hhcGUuZ2V0VmVydGV4KGksIHYpOyAvLyBTYWZlIHVwCgogICAgICBjb25zdCB2MiA9IG5ldyBWZWMzKCk7CiAgICAgIHYyLmNvcHkodik7CiAgICAgIFRyYW5zZm9ybS5wb2ludFRvV29ybGRGcmFtZSh0cmltZXNoUG9zLCB0cmltZXNoUXVhdCwgdjIsIHYpOyAvLyBDaGVjayBwbGFuZSBzaWRlCgogICAgICBjb25zdCByZWxwb3MgPSBwbGFuZVRyaW1lc2hfcmVscG9zOwogICAgICB2LnZzdWIocGxhbmVQb3MsIHJlbHBvcyk7CiAgICAgIGNvbnN0IGRvdCA9IG5vcm1hbC5kb3QocmVscG9zKTsKCiAgICAgIGlmIChkb3QgPD0gMC4wKSB7CiAgICAgICAgaWYgKGp1c3RUZXN0KSB7CiAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9CgogICAgICAgIGNvbnN0IHIgPSB0aGlzLmNyZWF0ZUNvbnRhY3RFcXVhdGlvbihwbGFuZUJvZHksIHRyaW1lc2hCb2R5LCBwbGFuZVNoYXBlLCB0cmltZXNoU2hhcGUsIHJzaSwgcnNqKTsKICAgICAgICByLm5pLmNvcHkobm9ybWFsKTsgLy8gQ29udGFjdCBub3JtYWwgaXMgdGhlIHBsYW5lIG5vcm1hbAogICAgICAgIC8vIEdldCB2ZXJ0ZXggcG9zaXRpb24gcHJvamVjdGVkIG9uIHBsYW5lCgogICAgICAgIGNvbnN0IHByb2plY3RlZCA9IHBsYW5lVHJpbWVzaF9wcm9qZWN0ZWQ7CiAgICAgICAgbm9ybWFsLnNjYWxlKHJlbHBvcy5kb3Qobm9ybWFsKSwgcHJvamVjdGVkKTsKICAgICAgICB2LnZzdWIocHJvamVjdGVkLCBwcm9qZWN0ZWQpOyAvLyByaSBpcyB0aGUgcHJvamVjdGVkIHdvcmxkIHBvc2l0aW9uIG1pbnVzIHBsYW5lIHBvc2l0aW9uCgogICAgICAgIHIucmkuY29weShwcm9qZWN0ZWQpOwogICAgICAgIHIucmkudnN1YihwbGFuZUJvZHkucG9zaXRpb24sIHIucmkpOwogICAgICAgIHIucmouY29weSh2KTsKICAgICAgICByLnJqLnZzdWIodHJpbWVzaEJvZHkucG9zaXRpb24sIHIucmopOyAvLyBTdG9yZSByZXN1bHQKCiAgICAgICAgdGhpcy5yZXN1bHQucHVzaChyKTsKICAgICAgICB0aGlzLmNyZWF0ZUZyaWN0aW9uRXF1YXRpb25zRnJvbUNvbnRhY3QociwgdGhpcy5mcmljdGlvblJlc3VsdCk7CiAgICAgIH0KICAgIH0KICB9IC8vIGNvbnZleFRyaW1lc2goCiAgLy8gICBzaTogQ29udmV4UG9seWhlZHJvbiwgc2o6IFRyaW1lc2gsIHhpOiBWZWMzLCB4ajogVmVjMywgcWk6IFF1YXRlcm5pb24sIHFqOiBRdWF0ZXJuaW9uLAogIC8vICAgYmk6IEJvZHksIGJqOiBCb2R5LCByc2k/OiBTaGFwZSB8IG51bGwsIHJzaj86IFNoYXBlIHwgbnVsbCwKICAvLyAgIGZhY2VMaXN0QT86IG51bWJlcltdIHwgbnVsbCwgZmFjZUxpc3RCPzogbnVtYmVyW10gfCBudWxsLAogIC8vICkgewogIC8vICAgY29uc3Qgc2VwQXhpcyA9IGNvbnZleENvbnZleF9zZXBBeGlzOwogIC8vICAgaWYoeGkuZGlzdGFuY2VUbyh4aikgPiBzaS5ib3VuZGluZ1NwaGVyZVJhZGl1cyArIHNqLmJvdW5kaW5nU3BoZXJlUmFkaXVzKXsKICAvLyAgICAgICByZXR1cm47CiAgLy8gICB9CiAgLy8gICAvLyBDb25zdHJ1Y3QgYSB0ZW1wIGh1bGwgZm9yIGVhY2ggdHJpYW5nbGUKICAvLyAgIGNvbnN0IGh1bGxCID0gbmV3IENvbnZleFBvbHloZWRyb24oKTsKICAvLyAgIGh1bGxCLmZhY2VzID0gW1swLDEsMl1dOwogIC8vICAgY29uc3QgdmEgPSBuZXcgVmVjMygpOwogIC8vICAgY29uc3QgdmIgPSBuZXcgVmVjMygpOwogIC8vICAgY29uc3QgdmMgPSBuZXcgVmVjMygpOwogIC8vICAgaHVsbEIudmVydGljZXMgPSBbCiAgLy8gICAgICAgdmEsCiAgLy8gICAgICAgdmIsCiAgLy8gICAgICAgdmMKICAvLyAgIF07CiAgLy8gICBmb3IgKGxldCBpID0gMDsgaSA8IHNqLmluZGljZXMubGVuZ3RoIC8gMzsgaSsrKSB7CiAgLy8gICAgICAgY29uc3QgdHJpYW5nbGVOb3JtYWwgPSBuZXcgVmVjMygpOwogIC8vICAgICAgIHNqLmdldE5vcm1hbChpLCB0cmlhbmdsZU5vcm1hbCk7CiAgLy8gICAgICAgaHVsbEIuZmFjZU5vcm1hbHMgPSBbdHJpYW5nbGVOb3JtYWxdOwogIC8vICAgICAgIHNqLmdldFRyaWFuZ2xlVmVydGljZXMoaSwgdmEsIHZiLCB2Yyk7CiAgLy8gICAgICAgbGV0IGQgPSBzaS50ZXN0U2VwQXhpcyh0cmlhbmdsZU5vcm1hbCwgaHVsbEIsIHhpLCBxaSwgeGosIHFqKTsKICAvLyAgICAgICBpZighZCl7CiAgLy8gICAgICAgICAgIHRyaWFuZ2xlTm9ybWFsLnNjYWxlKC0xLCB0cmlhbmdsZU5vcm1hbCk7CiAgLy8gICAgICAgICAgIGQgPSBzaS50ZXN0U2VwQXhpcyh0cmlhbmdsZU5vcm1hbCwgaHVsbEIsIHhpLCBxaSwgeGosIHFqKTsKICAvLyAgICAgICAgICAgaWYoIWQpewogIC8vICAgICAgICAgICAgICAgY29udGludWU7CiAgLy8gICAgICAgICAgIH0KICAvLyAgICAgICB9CiAgLy8gICAgICAgY29uc3QgcmVzOiBDb252ZXhQb2x5aGVkcm9uQ29udGFjdFBvaW50W10gPSBbXTsKICAvLyAgICAgICBjb25zdCBxID0gY29udmV4Q29udmV4X3E7CiAgLy8gICAgICAgc2kuY2xpcEFnYWluc3RIdWxsKHhpLHFpLGh1bGxCLHhqLHFqLHRyaWFuZ2xlTm9ybWFsLC0xMDAsMTAwLHJlcyk7CiAgLy8gICAgICAgZm9yKGxldCBqID0gMDsgaiAhPT0gcmVzLmxlbmd0aDsgaisrKXsKICAvLyAgICAgICAgICAgY29uc3QgciA9IHRoaXMuY3JlYXRlQ29udGFjdEVxdWF0aW9uKGJpLGJqLHNpLHNqLHJzaSxyc2opLAogIC8vICAgICAgICAgICAgICAgcmkgPSByLnJpLAogIC8vICAgICAgICAgICAgICAgcmogPSByLnJqOwogIC8vICAgICAgICAgICByLm5pLmNvcHkodHJpYW5nbGVOb3JtYWwpOwogIC8vICAgICAgICAgICByLm5pLm5lZ2F0ZShyLm5pKTsKICAvLyAgICAgICAgICAgcmVzW2pdLm5vcm1hbC5uZWdhdGUocSk7CiAgLy8gICAgICAgICAgIHEubXVsdChyZXNbal0uZGVwdGgsIHEpOwogIC8vICAgICAgICAgICByZXNbal0ucG9pbnQudmFkZChxLCByaSk7CiAgLy8gICAgICAgICAgIHJqLmNvcHkocmVzW2pdLnBvaW50KTsKICAvLyAgICAgICAgICAgLy8gQ29udGFjdCBwb2ludHMgYXJlIGluIHdvcmxkIGNvb3JkaW5hdGVzLiBUcmFuc2Zvcm0gYmFjayB0byByZWxhdGl2ZQogIC8vICAgICAgICAgICByaS52c3ViKHhpLHJpKTsKICAvLyAgICAgICAgICAgcmoudnN1Yih4aixyaik7CiAgLy8gICAgICAgICAgIC8vIE1ha2UgcmVsYXRpdmUgdG8gYm9kaWVzCiAgLy8gICAgICAgICAgIHJpLnZhZGQoeGksIHJpKTsKICAvLyAgICAgICAgICAgcmkudnN1YihiaS5wb3NpdGlvbiwgcmkpOwogIC8vICAgICAgICAgICByai52YWRkKHhqLCByaik7CiAgLy8gICAgICAgICAgIHJqLnZzdWIoYmoucG9zaXRpb24sIHJqKTsKICAvLyAgICAgICAgICAgcmVzdWx0LnB1c2gocik7CiAgLy8gICAgICAgfQogIC8vICAgfQogIC8vIH0KCgp9Cgpjb25zdCBhdmVyYWdlTm9ybWFsID0gbmV3IFZlYzMoKTsKY29uc3QgYXZlcmFnZUNvbnRhY3RQb2ludEEgPSBuZXcgVmVjMygpOwpjb25zdCBhdmVyYWdlQ29udGFjdFBvaW50QiA9IG5ldyBWZWMzKCk7CmNvbnN0IHRtcFZlYzEkMiA9IG5ldyBWZWMzKCk7CmNvbnN0IHRtcFZlYzIkMiA9IG5ldyBWZWMzKCk7CmNvbnN0IHRtcFF1YXQxID0gbmV3IFF1YXRlcm5pb24oKTsKY29uc3QgdG1wUXVhdDIgPSBuZXcgUXVhdGVybmlvbigpOwpOYXJyb3dwaGFzZS5wcm90b3R5cGVbQ09MTElTSU9OX1RZUEVTLmJveEJveF0gPSBOYXJyb3dwaGFzZS5wcm90b3R5cGUuYm94Qm94OwpOYXJyb3dwaGFzZS5wcm90b3R5cGVbQ09MTElTSU9OX1RZUEVTLmJveENvbnZleF0gPSBOYXJyb3dwaGFzZS5wcm90b3R5cGUuYm94Q29udmV4OwpOYXJyb3dwaGFzZS5wcm90b3R5cGVbQ09MTElTSU9OX1RZUEVTLmJveFBhcnRpY2xlXSA9IE5hcnJvd3BoYXNlLnByb3RvdHlwZS5ib3hQYXJ0aWNsZTsKTmFycm93cGhhc2UucHJvdG90eXBlW0NPTExJU0lPTl9UWVBFUy5zcGhlcmVTcGhlcmVdID0gTmFycm93cGhhc2UucHJvdG90eXBlLnNwaGVyZVNwaGVyZTsKY29uc3QgcGxhbmVUcmltZXNoX25vcm1hbCA9IG5ldyBWZWMzKCk7CmNvbnN0IHBsYW5lVHJpbWVzaF9yZWxwb3MgPSBuZXcgVmVjMygpOwpjb25zdCBwbGFuZVRyaW1lc2hfcHJvamVjdGVkID0gbmV3IFZlYzMoKTsKTmFycm93cGhhc2UucHJvdG90eXBlW0NPTExJU0lPTl9UWVBFUy5wbGFuZVRyaW1lc2hdID0gTmFycm93cGhhc2UucHJvdG90eXBlLnBsYW5lVHJpbWVzaDsKY29uc3Qgc3BoZXJlVHJpbWVzaF9ub3JtYWwgPSBuZXcgVmVjMygpOwpjb25zdCBzcGhlcmVUcmltZXNoX3JlbHBvcyA9IG5ldyBWZWMzKCk7CmNvbnN0IHNwaGVyZVRyaW1lc2hfdiA9IG5ldyBWZWMzKCk7CmNvbnN0IHNwaGVyZVRyaW1lc2hfdjIgPSBuZXcgVmVjMygpOwpjb25zdCBzcGhlcmVUcmltZXNoX2VkZ2VWZXJ0ZXhBID0gbmV3IFZlYzMoKTsKY29uc3Qgc3BoZXJlVHJpbWVzaF9lZGdlVmVydGV4QiA9IG5ldyBWZWMzKCk7CmNvbnN0IHNwaGVyZVRyaW1lc2hfZWRnZVZlY3RvciA9IG5ldyBWZWMzKCk7CmNvbnN0IHNwaGVyZVRyaW1lc2hfZWRnZVZlY3RvclVuaXQgPSBuZXcgVmVjMygpOwpjb25zdCBzcGhlcmVUcmltZXNoX2xvY2FsU3BoZXJlUG9zID0gbmV3IFZlYzMoKTsKY29uc3Qgc3BoZXJlVHJpbWVzaF90bXAgPSBuZXcgVmVjMygpOwpjb25zdCBzcGhlcmVUcmltZXNoX3ZhID0gbmV3IFZlYzMoKTsKY29uc3Qgc3BoZXJlVHJpbWVzaF92YiA9IG5ldyBWZWMzKCk7CmNvbnN0IHNwaGVyZVRyaW1lc2hfdmMgPSBuZXcgVmVjMygpOwpjb25zdCBzcGhlcmVUcmltZXNoX2xvY2FsU3BoZXJlQUFCQiA9IG5ldyBBQUJCKCk7CmNvbnN0IHNwaGVyZVRyaW1lc2hfdHJpYW5nbGVzID0gW107Ck5hcnJvd3BoYXNlLnByb3RvdHlwZVtDT0xMSVNJT05fVFlQRVMuc3BoZXJlVHJpbWVzaF0gPSBOYXJyb3dwaGFzZS5wcm90b3R5cGUuc3BoZXJlVHJpbWVzaDsKY29uc3QgcG9pbnRfb25fcGxhbmVfdG9fc3BoZXJlID0gbmV3IFZlYzMoKTsKY29uc3QgcGxhbmVfdG9fc3BoZXJlX29ydGhvID0gbmV3IFZlYzMoKTsKTmFycm93cGhhc2UucHJvdG90eXBlW0NPTExJU0lPTl9UWVBFUy5zcGhlcmVQbGFuZV0gPSBOYXJyb3dwaGFzZS5wcm90b3R5cGUuc3BoZXJlUGxhbmU7IC8vIFNlZSBodHRwOi8vYnVsbGV0cGh5c2ljcy5jb20vQnVsbGV0L0J1bGxldEZ1bGwvU3BoZXJlVHJpYW5nbGVEZXRlY3Rvcl84Y3BwX3NvdXJjZS5odG1sCgpjb25zdCBwb2ludEluUG9seWdvbl9lZGdlID0gbmV3IFZlYzMoKTsKY29uc3QgcG9pbnRJblBvbHlnb25fZWRnZV94X25vcm1hbCA9IG5ldyBWZWMzKCk7CmNvbnN0IHBvaW50SW5Qb2x5Z29uX3Z0cCA9IG5ldyBWZWMzKCk7CgpmdW5jdGlvbiBwb2ludEluUG9seWdvbih2ZXJ0cywgbm9ybWFsLCBwKSB7CiAgbGV0IHBvc2l0aXZlUmVzdWx0ID0gbnVsbDsKICBjb25zdCBOID0gdmVydHMubGVuZ3RoOwoKICBmb3IgKGxldCBpID0gMDsgaSAhPT0gTjsgaSsrKSB7CiAgICBjb25zdCB2ID0gdmVydHNbaV07IC8vIEdldCBlZGdlIHRvIHRoZSBuZXh0IHZlcnRleAoKICAgIGNvbnN0IGVkZ2UgPSBwb2ludEluUG9seWdvbl9lZGdlOwogICAgdmVydHNbKGkgKyAxKSAlIE5dLnZzdWIodiwgZWRnZSk7IC8vIEdldCBjcm9zcyBwcm9kdWN0IGJldHdlZW4gcG9seWdvbiBub3JtYWwgYW5kIHRoZSBlZGdlCgogICAgY29uc3QgZWRnZV94X25vcm1hbCA9IHBvaW50SW5Qb2x5Z29uX2VkZ2VfeF9ub3JtYWw7IC8vY29uc3QgZWRnZV94X25vcm1hbCA9IG5ldyBWZWMzKCk7CgogICAgZWRnZS5jcm9zcyhub3JtYWwsIGVkZ2VfeF9ub3JtYWwpOyAvLyBHZXQgdmVjdG9yIGJldHdlZW4gcG9pbnQgYW5kIGN1cnJlbnQgdmVydGV4CgogICAgY29uc3QgdmVydGV4X3RvX3AgPSBwb2ludEluUG9seWdvbl92dHA7CiAgICBwLnZzdWIodiwgdmVydGV4X3RvX3ApOyAvLyBUaGlzIGRvdCBwcm9kdWN0IGRldGVybWluZXMgd2hpY2ggc2lkZSBvZiB0aGUgZWRnZSB0aGUgcG9pbnQgaXMKCiAgICBjb25zdCByID0gZWRnZV94X25vcm1hbC5kb3QodmVydGV4X3RvX3ApOyAvLyBJZiBhbGwgc3VjaCBkb3QgcHJvZHVjdHMgaGF2ZSBzYW1lIHNpZ24sIHdlIGFyZSBpbnNpZGUgdGhlIHBvbHlnb24uCgogICAgaWYgKHBvc2l0aXZlUmVzdWx0ID09PSBudWxsIHx8IHIgPiAwICYmIHBvc2l0aXZlUmVzdWx0ID09PSB0cnVlIHx8IHIgPD0gMCAmJiBwb3NpdGl2ZVJlc3VsdCA9PT0gZmFsc2UpIHsKICAgICAgaWYgKHBvc2l0aXZlUmVzdWx0ID09PSBudWxsKSB7CiAgICAgICAgcG9zaXRpdmVSZXN1bHQgPSByID4gMDsKICAgICAgfQoKICAgICAgY29udGludWU7CiAgICB9IGVsc2UgewogICAgICByZXR1cm4gZmFsc2U7IC8vIEVuY291bnRlcmVkIHNvbWUgb3RoZXIgc2lnbi4gRXhpdC4KICAgIH0KICB9IC8vIElmIHdlIGdvdCBoZXJlLCBhbGwgZG90IHByb2R1Y3RzIHdlcmUgb2YgdGhlIHNhbWUgc2lnbi4KCgogIHJldHVybiB0cnVlOwp9Cgpjb25zdCBib3hfdG9fc3BoZXJlID0gbmV3IFZlYzMoKTsKY29uc3Qgc3BoZXJlQm94X25zID0gbmV3IFZlYzMoKTsKY29uc3Qgc3BoZXJlQm94X25zMSA9IG5ldyBWZWMzKCk7CmNvbnN0IHNwaGVyZUJveF9uczIgPSBuZXcgVmVjMygpOwpjb25zdCBzcGhlcmVCb3hfc2lkZXMgPSBbbmV3IFZlYzMoKSwgbmV3IFZlYzMoKSwgbmV3IFZlYzMoKSwgbmV3IFZlYzMoKSwgbmV3IFZlYzMoKSwgbmV3IFZlYzMoKV07CmNvbnN0IHNwaGVyZUJveF9zcGhlcmVfdG9fY29ybmVyID0gbmV3IFZlYzMoKTsKY29uc3Qgc3BoZXJlQm94X3NpZGVfbnMgPSBuZXcgVmVjMygpOwpjb25zdCBzcGhlcmVCb3hfc2lkZV9uczEgPSBuZXcgVmVjMygpOwpjb25zdCBzcGhlcmVCb3hfc2lkZV9uczIgPSBuZXcgVmVjMygpOwpOYXJyb3dwaGFzZS5wcm90b3R5cGVbQ09MTElTSU9OX1RZUEVTLnNwaGVyZUJveF0gPSBOYXJyb3dwaGFzZS5wcm90b3R5cGUuc3BoZXJlQm94Owpjb25zdCBjb252ZXhfdG9fc3BoZXJlID0gbmV3IFZlYzMoKTsKY29uc3Qgc3BoZXJlQ29udmV4X2VkZ2UgPSBuZXcgVmVjMygpOwpjb25zdCBzcGhlcmVDb252ZXhfZWRnZVVuaXQgPSBuZXcgVmVjMygpOwpjb25zdCBzcGhlcmVDb252ZXhfc3BoZXJlVG9Db3JuZXIgPSBuZXcgVmVjMygpOwpjb25zdCBzcGhlcmVDb252ZXhfd29ybGRDb3JuZXIgPSBuZXcgVmVjMygpOwpjb25zdCBzcGhlcmVDb252ZXhfd29ybGROb3JtYWwgPSBuZXcgVmVjMygpOwpjb25zdCBzcGhlcmVDb252ZXhfd29ybGRQb2ludCA9IG5ldyBWZWMzKCk7CmNvbnN0IHNwaGVyZUNvbnZleF93b3JsZFNwaGVyZVBvaW50Q2xvc2VzdFRvUGxhbmUgPSBuZXcgVmVjMygpOwpjb25zdCBzcGhlcmVDb252ZXhfcGVuZXRyYXRpb25WZWMgPSBuZXcgVmVjMygpOwpjb25zdCBzcGhlcmVDb252ZXhfc3BoZXJlVG9Xb3JsZFBvaW50ID0gbmV3IFZlYzMoKTsKTmFycm93cGhhc2UucHJvdG90eXBlW0NPTExJU0lPTl9UWVBFUy5zcGhlcmVDb252ZXhdID0gTmFycm93cGhhc2UucHJvdG90eXBlLnNwaGVyZUNvbnZleDsKTmFycm93cGhhc2UucHJvdG90eXBlW0NPTExJU0lPTl9UWVBFUy5wbGFuZUJveF0gPSBOYXJyb3dwaGFzZS5wcm90b3R5cGUucGxhbmVCb3g7CmNvbnN0IHBsYW5lQ29udmV4X3YgPSBuZXcgVmVjMygpOwpjb25zdCBwbGFuZUNvbnZleF9ub3JtYWwgPSBuZXcgVmVjMygpOwpjb25zdCBwbGFuZUNvbnZleF9yZWxwb3MgPSBuZXcgVmVjMygpOwpjb25zdCBwbGFuZUNvbnZleF9wcm9qZWN0ZWQgPSBuZXcgVmVjMygpOwpOYXJyb3dwaGFzZS5wcm90b3R5cGVbQ09MTElTSU9OX1RZUEVTLnBsYW5lQ29udmV4XSA9IE5hcnJvd3BoYXNlLnByb3RvdHlwZS5wbGFuZUNvbnZleDsKY29uc3QgY29udmV4Q29udmV4X3NlcEF4aXMgPSBuZXcgVmVjMygpOwpjb25zdCBjb252ZXhDb252ZXhfcSA9IG5ldyBWZWMzKCk7Ck5hcnJvd3BoYXNlLnByb3RvdHlwZVtDT0xMSVNJT05fVFlQRVMuY29udmV4Q29udmV4XSA9IE5hcnJvd3BoYXNlLnByb3RvdHlwZS5jb252ZXhDb252ZXg7IC8vIE5hcnJvd3BoYXNlLnByb3RvdHlwZVtDT0xMSVNJT05fVFlQRVMuY29udmV4VHJpbWVzaF0gPSBOYXJyb3dwaGFzZS5wcm90b3R5cGUuY29udmV4VHJpbWVzaAoKY29uc3QgcGFydGljbGVQbGFuZV9ub3JtYWwgPSBuZXcgVmVjMygpOwpjb25zdCBwYXJ0aWNsZVBsYW5lX3JlbHBvcyA9IG5ldyBWZWMzKCk7CmNvbnN0IHBhcnRpY2xlUGxhbmVfcHJvamVjdGVkID0gbmV3IFZlYzMoKTsKTmFycm93cGhhc2UucHJvdG90eXBlW0NPTExJU0lPTl9UWVBFUy5wbGFuZVBhcnRpY2xlXSA9IE5hcnJvd3BoYXNlLnByb3RvdHlwZS5wbGFuZVBhcnRpY2xlOwpjb25zdCBwYXJ0aWNsZVNwaGVyZV9ub3JtYWwgPSBuZXcgVmVjMygpOwpOYXJyb3dwaGFzZS5wcm90b3R5cGVbQ09MTElTSU9OX1RZUEVTLnNwaGVyZVBhcnRpY2xlXSA9IE5hcnJvd3BoYXNlLnByb3RvdHlwZS5zcGhlcmVQYXJ0aWNsZTsgLy8gV0lQCgpjb25zdCBjcWogPSBuZXcgUXVhdGVybmlvbigpOwpjb25zdCBjb252ZXhQYXJ0aWNsZV9sb2NhbCA9IG5ldyBWZWMzKCk7CmNvbnN0IGNvbnZleFBhcnRpY2xlX3BlbmV0cmF0ZWRGYWNlTm9ybWFsID0gbmV3IFZlYzMoKTsKY29uc3QgY29udmV4UGFydGljbGVfdmVydGV4VG9QYXJ0aWNsZSA9IG5ldyBWZWMzKCk7CmNvbnN0IGNvbnZleFBhcnRpY2xlX3dvcmxkUGVuZXRyYXRpb25WZWMgPSBuZXcgVmVjMygpOwpOYXJyb3dwaGFzZS5wcm90b3R5cGVbQ09MTElTSU9OX1RZUEVTLmNvbnZleFBhcnRpY2xlXSA9IE5hcnJvd3BoYXNlLnByb3RvdHlwZS5jb252ZXhQYXJ0aWNsZTsKTmFycm93cGhhc2UucHJvdG90eXBlW0NPTExJU0lPTl9UWVBFUy5ib3hIZWlnaHRmaWVsZF0gPSBOYXJyb3dwaGFzZS5wcm90b3R5cGUuYm94SGVpZ2h0ZmllbGQ7CmNvbnN0IGNvbnZleEhlaWdodGZpZWxkX3RtcDEgPSBuZXcgVmVjMygpOwpjb25zdCBjb252ZXhIZWlnaHRmaWVsZF90bXAyID0gbmV3IFZlYzMoKTsKY29uc3QgY29udmV4SGVpZ2h0ZmllbGRfZmFjZUxpc3QgPSBbMF07Ck5hcnJvd3BoYXNlLnByb3RvdHlwZVtDT0xMSVNJT05fVFlQRVMuY29udmV4SGVpZ2h0ZmllbGRdID0gTmFycm93cGhhc2UucHJvdG90eXBlLmNvbnZleEhlaWdodGZpZWxkOwpjb25zdCBzcGhlcmVIZWlnaHRmaWVsZF90bXAxID0gbmV3IFZlYzMoKTsKY29uc3Qgc3BoZXJlSGVpZ2h0ZmllbGRfdG1wMiA9IG5ldyBWZWMzKCk7Ck5hcnJvd3BoYXNlLnByb3RvdHlwZVtDT0xMSVNJT05fVFlQRVMuc3BoZXJlSGVpZ2h0ZmllbGRdID0gTmFycm93cGhhc2UucHJvdG90eXBlLnNwaGVyZUhlaWdodGZpZWxkOwovKioNCiAqIEBjbGFzcyBPdmVybGFwS2VlcGVyDQogKiBAY29uc3RydWN0b3INCiAqLwoKY2xhc3MgT3ZlcmxhcEtlZXBlciB7CiAgY29uc3RydWN0b3IoKSB7CiAgICB0aGlzLmN1cnJlbnQgPSBbXTsKICAgIHRoaXMucHJldmlvdXMgPSBbXTsKICB9CgogIGdldEtleShpLCBqKSB7CiAgICBpZiAoaiA8IGkpIHsKICAgICAgY29uc3QgdGVtcCA9IGo7CiAgICAgIGogPSBpOwogICAgICBpID0gdGVtcDsKICAgIH0KCiAgICByZXR1cm4gaSA8PCAxNiB8IGo7CiAgfQogIC8qKg0KICAgKiBAbWV0aG9kIHNldA0KICAgKiBAcGFyYW0ge051bWJlcn0gaQ0KICAgKiBAcGFyYW0ge051bWJlcn0gag0KICAgKi8KCgogIHNldChpLCBqKSB7CiAgICAvLyBJbnNlcnRpb24gc29ydC4gVGhpcyB3YXkgdGhlIGRpZmYgd2lsbCBoYXZlIGxpbmVhciBjb21wbGV4aXR5LgogICAgY29uc3Qga2V5ID0gdGhpcy5nZXRLZXkoaSwgaik7CiAgICBjb25zdCBjdXJyZW50ID0gdGhpcy5jdXJyZW50OwogICAgbGV0IGluZGV4ID0gMDsKCiAgICB3aGlsZSAoa2V5ID4gY3VycmVudFtpbmRleF0pIHsKICAgICAgaW5kZXgrKzsKICAgIH0KCiAgICBpZiAoa2V5ID09PSBjdXJyZW50W2luZGV4XSkgewogICAgICByZXR1cm47IC8vIFBhaXIgd2FzIGFscmVhZHkgYWRkZWQKICAgIH0KCiAgICBmb3IgKGxldCBqID0gY3VycmVudC5sZW5ndGggLSAxOyBqID49IGluZGV4OyBqLS0pIHsKICAgICAgY3VycmVudFtqICsgMV0gPSBjdXJyZW50W2pdOwogICAgfQoKICAgIGN1cnJlbnRbaW5kZXhdID0ga2V5OwogIH0KICAvKioNCiAgICogQG1ldGhvZCB0aWNrDQogICAqLwoKCiAgdGljaygpIHsKICAgIGNvbnN0IHRtcCA9IHRoaXMuY3VycmVudDsKICAgIHRoaXMuY3VycmVudCA9IHRoaXMucHJldmlvdXM7CiAgICB0aGlzLnByZXZpb3VzID0gdG1wOwogICAgdGhpcy5jdXJyZW50Lmxlbmd0aCA9IDA7CiAgfQogIC8qKg0KICAgKiBAbWV0aG9kIGdldERpZmYNCiAgICogQHBhcmFtICB7YXJyYXl9IGFkZGl0aW9ucw0KICAgKiBAcGFyYW0gIHthcnJheX0gcmVtb3ZhbHMNCiAgICovCgoKICBnZXREaWZmKGFkZGl0aW9ucywgcmVtb3ZhbHMpIHsKICAgIGNvbnN0IGEgPSB0aGlzLmN1cnJlbnQ7CiAgICBjb25zdCBiID0gdGhpcy5wcmV2aW91czsKICAgIGNvbnN0IGFsID0gYS5sZW5ndGg7CiAgICBjb25zdCBibCA9IGIubGVuZ3RoOwogICAgbGV0IGogPSAwOwoKICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYWw7IGkrKykgewogICAgICBsZXQgZm91bmQgPSBmYWxzZTsKICAgICAgY29uc3Qga2V5QSA9IGFbaV07CgogICAgICB3aGlsZSAoa2V5QSA+IGJbal0pIHsKICAgICAgICBqKys7CiAgICAgIH0KCiAgICAgIGZvdW5kID0ga2V5QSA9PT0gYltqXTsKCiAgICAgIGlmICghZm91bmQpIHsKICAgICAgICB1bnBhY2tBbmRQdXNoKGFkZGl0aW9ucywga2V5QSk7CiAgICAgIH0KICAgIH0KCiAgICBqID0gMDsKCiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGJsOyBpKyspIHsKICAgICAgbGV0IGZvdW5kID0gZmFsc2U7CiAgICAgIGNvbnN0IGtleUIgPSBiW2ldOwoKICAgICAgd2hpbGUgKGtleUIgPiBhW2pdKSB7CiAgICAgICAgaisrOwogICAgICB9CgogICAgICBmb3VuZCA9IGFbal0gPT09IGtleUI7CgogICAgICBpZiAoIWZvdW5kKSB7CiAgICAgICAgdW5wYWNrQW5kUHVzaChyZW1vdmFscywga2V5Qik7CiAgICAgIH0KICAgIH0KICB9Cgp9CgpmdW5jdGlvbiB1bnBhY2tBbmRQdXNoKGFycmF5LCBrZXkpIHsKICBhcnJheS5wdXNoKChrZXkgJiAweGZmZmYwMDAwKSA+PiAxNiwga2V5ICYgMHgwMDAwZmZmZik7Cn0KLyoqDQogKiBAY2xhc3MgVHVwbGVEaWN0aW9uYXJ5DQogKiBAY29uc3RydWN0b3INCiAqLwoKCmNsYXNzIFR1cGxlRGljdGlvbmFyeSB7CiAgY29uc3RydWN0b3IoKSB7CiAgICB0aGlzLmRhdGEgPSB7CiAgICAgIGtleXM6IFtdCiAgICB9OwogIH0KICAvKioNCiAgICogQG1ldGhvZCBnZXQNCiAgICogQHBhcmFtICB7TnVtYmVyfSBpDQogICAqIEBwYXJhbSAge051bWJlcn0gag0KICAgKiBAcmV0dXJuIHtPYmplY3R9DQogICAqLwoKCiAgZ2V0KGksIGopIHsKICAgIGlmIChpID4gaikgewogICAgICAvLyBzd2FwCiAgICAgIGNvbnN0IHRlbXAgPSBqOwogICAgICBqID0gaTsKICAgICAgaSA9IHRlbXA7CiAgICB9CgogICAgcmV0dXJuIHRoaXMuZGF0YVtpICsgIi0iICsgal07CiAgfQogIC8qKg0KICAgKiBAbWV0aG9kIHNldA0KICAgKiBAcGFyYW0gIHtOdW1iZXJ9IGkNCiAgICogQHBhcmFtICB7TnVtYmVyfSBqDQogICAqIEBwYXJhbSB7T2JqZWN0fSB2YWx1ZQ0KICAgKi8KCgogIHNldChpLCBqLCB2YWx1ZSkgewogICAgaWYgKGkgPiBqKSB7CiAgICAgIGNvbnN0IHRlbXAgPSBqOwogICAgICBqID0gaTsKICAgICAgaSA9IHRlbXA7CiAgICB9CgogICAgY29uc3Qga2V5ID0gaSArICItIiArIGo7IC8vIENoZWNrIGlmIGtleSBhbHJlYWR5IGV4aXN0cwoKICAgIGlmICghdGhpcy5nZXQoaSwgaikpIHsKICAgICAgdGhpcy5kYXRhLmtleXMucHVzaChrZXkpOwogICAgfQoKICAgIHRoaXMuZGF0YVtrZXldID0gdmFsdWU7CiAgfQogIC8qKg0KICAgKiBAbWV0aG9kIHJlc2V0DQogICAqLwoKCiAgcmVzZXQoKSB7CiAgICBjb25zdCBkYXRhID0gdGhpcy5kYXRhOwogICAgY29uc3Qga2V5cyA9IGRhdGEua2V5czsKCiAgICB3aGlsZSAoa2V5cy5sZW5ndGggPiAwKSB7CiAgICAgIGNvbnN0IGtleSA9IGtleXMucG9wKCk7CiAgICAgIGRlbGV0ZSBkYXRhW2tleV07CiAgICB9CiAgfQoKfQovKioNCiAqIFRoZSBwaHlzaWNzIHdvcmxkDQogKiBAY2xhc3MgV29ybGQNCiAqIEBjb25zdHJ1Y3Rvcg0KICogQGV4dGVuZHMgRXZlbnRUYXJnZXQNCiAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10NCiAqIEBwYXJhbSB7VmVjM30gW29wdGlvbnMuZ3Jhdml0eV0NCiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuYWxsb3dTbGVlcF0NCiAqIEBwYXJhbSB7QnJvYWRwaGFzZX0gW29wdGlvbnMuYnJvYWRwaGFzZV0NCiAqIEBwYXJhbSB7U29sdmVyfSBbb3B0aW9ucy5zb2x2ZXJdDQogKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnF1YXROb3JtYWxpemVGYXN0XQ0KICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnF1YXROb3JtYWxpemVTa2lwXQ0KICovCgoKY2xhc3MgV29ybGQgZXh0ZW5kcyBFdmVudFRhcmdldCB7CiAgLy8gQ3VycmVudGx5IC8gbGFzdCB1c2VkIHRpbWVzdGVwLiBJcyBzZXQgdG8gLTEgaWYgbm90IGF2YWlsYWJsZS4gVGhpcyB2YWx1ZSBpcyB1cGRhdGVkIGJlZm9yZSBlYWNoIGludGVybmFsIHN0ZXAsIHdoaWNoIG1lYW5zIHRoYXQgaXQgaXMgImZyZXNoIiBpbnNpZGUgZXZlbnQgY2FsbGJhY2tzLgogIC8vIE1ha2VzIGJvZGllcyBnbyB0byBzbGVlcCB3aGVuIHRoZXkndmUgYmVlbiBpbmFjdGl2ZS4KICAvLyBBbGwgdGhlIGN1cnJlbnQgY29udGFjdHMgKGluc3RhbmNlcyBvZiBDb250YWN0RXF1YXRpb24pIGluIHRoZSB3b3JsZC4KICAvLyBIb3cgb2Z0ZW4gdG8gbm9ybWFsaXplIHF1YXRlcm5pb25zLiBTZXQgdG8gMCBmb3IgZXZlcnkgc3RlcCwgMSBmb3IgZXZlcnkgc2Vjb25kIGV0Yy4uIEEgbGFyZ2VyIHZhbHVlIGluY3JlYXNlcyBwZXJmb3JtYW5jZS4gSWYgYm9kaWVzIHRlbmQgdG8gZXhwbG9kZSwgc2V0IHRvIGEgc21hbGxlciB2YWx1ZSAoemVybyB0byBiZSBzdXJlIG5vdGhpbmcgY2FuIGdvIHdyb25nKS4KICAvLyBTZXQgdG8gdHJ1ZSB0byB1c2UgZmFzdCBxdWF0ZXJuaW9uIG5vcm1hbGl6YXRpb24uIEl0IGlzIG9mdGVuIGVub3VnaCBhY2N1cmF0ZSB0byB1c2UuIElmIGJvZGllcyB0ZW5kIHRvIGV4cGxvZGUsIHNldCB0byBmYWxzZS4KICAvLyBUaGUgd2FsbC1jbG9jayB0aW1lIHNpbmNlIHNpbXVsYXRpb24gc3RhcnQuCiAgLy8gTnVtYmVyIG9mIHRpbWVzdGVwcyB0YWtlbiBzaW5jZSBzdGFydC4KICAvLyBEZWZhdWx0IGFuZCBsYXN0IHRpbWVzdGVwIHNpemVzLgogIC8vIFRoZSBicm9hZHBoYXNlIGFsZ29yaXRobSB0byB1c2UuIERlZmF1bHQgaXMgTmFpdmVCcm9hZHBoYXNlLgogIC8vIEFsbCBib2RpZXMgaW4gdGhpcyB3b3JsZAogIC8vIFRydWUgaWYgYW55IGJvZGllcyBhcmUgbm90IHNsZWVwaW5nLCBmYWxzZSBpZiBldmVyeSBib2R5IGlzIHNsZWVwaW5nLgogIC8vIFRoZSBzb2x2ZXIgYWxnb3JpdGhtIHRvIHVzZS4gRGVmYXVsdCBpcyBHU1NvbHZlci4KICAvLyBDb2xsaXNpb25NYXRyaXggZnJvbSB0aGUgcHJldmlvdXMgc3RlcC4KICAvLyBBbGwgYWRkZWQgbWF0ZXJpYWxzLgogIC8vIFVzZWQgdG8gbG9vayB1cCBhIENvbnRhY3RNYXRlcmlhbCBnaXZlbiB0d28gaW5zdGFuY2VzIG9mIE1hdGVyaWFsLgogIC8vIFRoaXMgY29udGFjdCBtYXRlcmlhbCBpcyB1c2VkIGlmIG5vIHN1aXRhYmxlIGNvbnRhY3RtYXRlcmlhbCBpcyBmb3VuZCBmb3IgYSBjb250YWN0LgogIC8vIFRpbWUgYWNjdW11bGF0b3IgZm9yIGludGVycG9sYXRpb24uIFNlZSBodHRwOi8vZ2FmZmVyb25nYW1lcy5jb20vZ2FtZS1waHlzaWNzL2ZpeC15b3VyLXRpbWVzdGVwLwogIC8vIERpc3BhdGNoZWQgYWZ0ZXIgYSBib2R5IGhhcyBiZWVuIGFkZGVkIHRvIHRoZSB3b3JsZC4KICAvLyBEaXNwYXRjaGVkIGFmdGVyIGEgYm9keSBoYXMgYmVlbiByZW1vdmVkIGZyb20gdGhlIHdvcmxkLgogIGNvbnN0cnVjdG9yKG9wdGlvbnMgPSB7fSkgewogICAgc3VwZXIoKTsKICAgIHRoaXMuZHQgPSAtMTsKICAgIHRoaXMuYWxsb3dTbGVlcCA9ICEhb3B0aW9ucy5hbGxvd1NsZWVwOwogICAgdGhpcy5jb250YWN0cyA9IFtdOwogICAgdGhpcy5mcmljdGlvbkVxdWF0aW9ucyA9IFtdOwogICAgdGhpcy5xdWF0Tm9ybWFsaXplU2tpcCA9IG9wdGlvbnMucXVhdE5vcm1hbGl6ZVNraXAgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMucXVhdE5vcm1hbGl6ZVNraXAgOiAwOwogICAgdGhpcy5xdWF0Tm9ybWFsaXplRmFzdCA9IG9wdGlvbnMucXVhdE5vcm1hbGl6ZUZhc3QgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMucXVhdE5vcm1hbGl6ZUZhc3QgOiBmYWxzZTsKICAgIHRoaXMudGltZSA9IDAuMDsKICAgIHRoaXMuc3RlcG51bWJlciA9IDA7CiAgICB0aGlzLmRlZmF1bHRfZHQgPSAxIC8gNjA7CiAgICB0aGlzLm5leHRJZCA9IDA7CiAgICB0aGlzLmdyYXZpdHkgPSBuZXcgVmVjMygpOwoKICAgIGlmIChvcHRpb25zLmdyYXZpdHkpIHsKICAgICAgdGhpcy5ncmF2aXR5LmNvcHkob3B0aW9ucy5ncmF2aXR5KTsKICAgIH0KCiAgICB0aGlzLmJyb2FkcGhhc2UgPSBvcHRpb25zLmJyb2FkcGhhc2UgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuYnJvYWRwaGFzZSA6IG5ldyBOYWl2ZUJyb2FkcGhhc2UoKTsKICAgIHRoaXMuYm9kaWVzID0gW107CiAgICB0aGlzLmhhc0FjdGl2ZUJvZGllcyA9IGZhbHNlOwogICAgdGhpcy5zb2x2ZXIgPSBvcHRpb25zLnNvbHZlciAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5zb2x2ZXIgOiBuZXcgR1NTb2x2ZXIoKTsKICAgIHRoaXMuY29uc3RyYWludHMgPSBbXTsKICAgIHRoaXMubmFycm93cGhhc2UgPSBuZXcgTmFycm93cGhhc2UodGhpcyk7CiAgICB0aGlzLmNvbGxpc2lvbk1hdHJpeCA9IG5ldyBBcnJheUNvbGxpc2lvbk1hdHJpeCgpOwogICAgdGhpcy5jb2xsaXNpb25NYXRyaXhQcmV2aW91cyA9IG5ldyBBcnJheUNvbGxpc2lvbk1hdHJpeCgpOwogICAgdGhpcy5ib2R5T3ZlcmxhcEtlZXBlciA9IG5ldyBPdmVybGFwS2VlcGVyKCk7CiAgICB0aGlzLnNoYXBlT3ZlcmxhcEtlZXBlciA9IG5ldyBPdmVybGFwS2VlcGVyKCk7CiAgICB0aGlzLm1hdGVyaWFscyA9IFtdOwogICAgdGhpcy5jb250YWN0bWF0ZXJpYWxzID0gW107CiAgICB0aGlzLmNvbnRhY3RNYXRlcmlhbFRhYmxlID0gbmV3IFR1cGxlRGljdGlvbmFyeSgpOwogICAgdGhpcy5kZWZhdWx0TWF0ZXJpYWwgPSBuZXcgTWF0ZXJpYWwoJ2RlZmF1bHQnKTsKICAgIHRoaXMuZGVmYXVsdENvbnRhY3RNYXRlcmlhbCA9IG5ldyBDb250YWN0TWF0ZXJpYWwodGhpcy5kZWZhdWx0TWF0ZXJpYWwsIHRoaXMuZGVmYXVsdE1hdGVyaWFsLCB7CiAgICAgIGZyaWN0aW9uOiAwLjMsCiAgICAgIHJlc3RpdHV0aW9uOiAwLjAKICAgIH0pOwogICAgdGhpcy5kb1Byb2ZpbGluZyA9IGZhbHNlOwogICAgdGhpcy5wcm9maWxlID0gewogICAgICBzb2x2ZTogMCwKICAgICAgbWFrZUNvbnRhY3RDb25zdHJhaW50czogMCwKICAgICAgYnJvYWRwaGFzZTogMCwKICAgICAgaW50ZWdyYXRlOiAwLAogICAgICBuYXJyb3dwaGFzZTogMAogICAgfTsKICAgIHRoaXMuYWNjdW11bGF0b3IgPSAwOwogICAgdGhpcy5zdWJzeXN0ZW1zID0gW107CiAgICB0aGlzLmFkZEJvZHlFdmVudCA9IHsKICAgICAgdHlwZTogJ2FkZEJvZHknLAogICAgICBib2R5OiBudWxsCiAgICB9OwogICAgdGhpcy5yZW1vdmVCb2R5RXZlbnQgPSB7CiAgICAgIHR5cGU6ICdyZW1vdmVCb2R5JywKICAgICAgYm9keTogbnVsbAogICAgfTsKICAgIHRoaXMuaWRUb0JvZHlNYXAgPSB7fTsKICAgIHRoaXMuYnJvYWRwaGFzZS5zZXRXb3JsZCh0aGlzKTsKICB9CiAgLyoqDQogICAqIEdldCB0aGUgY29udGFjdCBtYXRlcmlhbCBiZXR3ZWVuIG1hdGVyaWFscyBtMSBhbmQgbTINCiAgICogQG1ldGhvZCBnZXRDb250YWN0TWF0ZXJpYWwNCiAgICogQHBhcmFtIHtNYXRlcmlhbH0gbTENCiAgICogQHBhcmFtIHtNYXRlcmlhbH0gbTINCiAgICogQHJldHVybiB7Q29udGFjdE1hdGVyaWFsfSBUaGUgY29udGFjdCBtYXRlcmlhbCBpZiBpdCB3YXMgZm91bmQuDQogICAqLwoKCiAgZ2V0Q29udGFjdE1hdGVyaWFsKG0xLCBtMikgewogICAgcmV0dXJuIHRoaXMuY29udGFjdE1hdGVyaWFsVGFibGUuZ2V0KG0xLmlkLCBtMi5pZCk7CiAgfQogIC8qKg0KICAgKiBHZXQgbnVtYmVyIG9mIG9iamVjdHMgaW4gdGhlIHdvcmxkLg0KICAgKiBAbWV0aG9kIG51bU9iamVjdHMNCiAgICogQHJldHVybiB7TnVtYmVyfQ0KICAgKiBAZGVwcmVjYXRlZA0KICAgKi8KCgogIG51bU9iamVjdHMoKSB7CiAgICByZXR1cm4gdGhpcy5ib2RpZXMubGVuZ3RoOwogIH0KICAvKioNCiAgICogU3RvcmUgb2xkIGNvbGxpc2lvbiBzdGF0ZSBpbmZvDQogICAqIEBtZXRob2QgY29sbGlzaW9uTWF0cml4VGljaw0KICAgKi8KCgogIGNvbGxpc2lvbk1hdHJpeFRpY2soKSB7CiAgICBjb25zdCB0ZW1wID0gdGhpcy5jb2xsaXNpb25NYXRyaXhQcmV2aW91czsKICAgIHRoaXMuY29sbGlzaW9uTWF0cml4UHJldmlvdXMgPSB0aGlzLmNvbGxpc2lvbk1hdHJpeDsKICAgIHRoaXMuY29sbGlzaW9uTWF0cml4ID0gdGVtcDsKICAgIHRoaXMuY29sbGlzaW9uTWF0cml4LnJlc2V0KCk7CiAgICB0aGlzLmJvZHlPdmVybGFwS2VlcGVyLnRpY2soKTsKICAgIHRoaXMuc2hhcGVPdmVybGFwS2VlcGVyLnRpY2soKTsKICB9CiAgLyoqDQogICAqIEFkZCBhIGNvbnN0cmFpbnQgdG8gdGhlIHNpbXVsYXRpb24uDQogICAqIEBtZXRob2QgYWRkQ29uc3RyYWludA0KICAgKiBAcGFyYW0ge0NvbnN0cmFpbnR9IGMNCiAgICovCgoKICBhZGRDb25zdHJhaW50KGMpIHsKICAgIHRoaXMuY29uc3RyYWludHMucHVzaChjKTsKICB9CiAgLyoqDQogICAqIFJlbW92ZXMgYSBjb25zdHJhaW50DQogICAqIEBtZXRob2QgcmVtb3ZlQ29uc3RyYWludA0KICAgKiBAcGFyYW0ge0NvbnN0cmFpbnR9IGMNCiAgICovCgoKICByZW1vdmVDb25zdHJhaW50KGMpIHsKICAgIGNvbnN0IGlkeCA9IHRoaXMuY29uc3RyYWludHMuaW5kZXhPZihjKTsKCiAgICBpZiAoaWR4ICE9PSAtMSkgewogICAgICB0aGlzLmNvbnN0cmFpbnRzLnNwbGljZShpZHgsIDEpOwogICAgfQogIH0KICAvKioNCiAgICogUmF5Y2FzdCB0ZXN0DQogICAqIEBtZXRob2QgcmF5VGVzdA0KICAgKiBAcGFyYW0ge1ZlYzN9IGZyb20NCiAgICogQHBhcmFtIHtWZWMzfSB0bw0KICAgKiBAcGFyYW0ge1JheWNhc3RSZXN1bHR9IHJlc3VsdA0KICAgKiBAZGVwcmVjYXRlZCBVc2UgLnJheWNhc3RBbGwsIC5yYXljYXN0Q2xvc2VzdCBvciAucmF5Y2FzdEFueSBpbnN0ZWFkLg0KICAgKi8KCgogIHJheVRlc3QoZnJvbSwgdG8sIHJlc3VsdCkgewogICAgaWYgKHJlc3VsdCBpbnN0YW5jZW9mIFJheWNhc3RSZXN1bHQpIHsKICAgICAgLy8gRG8gcmF5Y2FzdENsb3Nlc3QKICAgICAgdGhpcy5yYXljYXN0Q2xvc2VzdChmcm9tLCB0bywgewogICAgICAgIHNraXBCYWNrZmFjZXM6IHRydWUKICAgICAgfSwgcmVzdWx0KTsKICAgIH0gZWxzZSB7CiAgICAgIC8vIERvIHJheWNhc3RBbGwKICAgICAgdGhpcy5yYXljYXN0QWxsKGZyb20sIHRvLCB7CiAgICAgICAgc2tpcEJhY2tmYWNlczogdHJ1ZQogICAgICB9LCByZXN1bHQpOwogICAgfQogIH0KICAvKioNCiAgICogUmF5IGNhc3QgYWdhaW5zdCBhbGwgYm9kaWVzLiBUaGUgcHJvdmlkZWQgY2FsbGJhY2sgd2lsbCBiZSBleGVjdXRlZCBmb3IgZWFjaCBoaXQgd2l0aCBhIFJheWNhc3RSZXN1bHQgYXMgc2luZ2xlIGFyZ3VtZW50Lg0KICAgKiBAbWV0aG9kIHJheWNhc3RBbGwNCiAgICogQHBhcmFtICB7VmVjM30gZnJvbQ0KICAgKiBAcGFyYW0gIHtWZWMzfSB0bw0KICAgKiBAcGFyYW0gIHtPYmplY3R9IG9wdGlvbnMNCiAgICogQHBhcmFtICB7bnVtYmVyfSBbb3B0aW9ucy5jb2xsaXNpb25GaWx0ZXJNYXNrPS0xXQ0KICAgKiBAcGFyYW0gIHtudW1iZXJ9IFtvcHRpb25zLmNvbGxpc2lvbkZpbHRlckdyb3VwPS0xXQ0KICAgKiBAcGFyYW0gIHtib29sZWFufSBbb3B0aW9ucy5za2lwQmFja2ZhY2VzPWZhbHNlXQ0KICAgKiBAcGFyYW0gIHtib29sZWFufSBbb3B0aW9ucy5jaGVja0NvbGxpc2lvblJlc3BvbnNlPXRydWVdDQogICAqIEBwYXJhbSAge0Z1bmN0aW9ufSBjYWxsYmFjaw0KICAgKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIGFueSBib2R5IHdhcyBoaXQuDQogICAqLwoKCiAgcmF5Y2FzdEFsbChmcm9tLCB0bywgb3B0aW9ucyA9IHt9LCBjYWxsYmFjaykgewogICAgb3B0aW9ucy5tb2RlID0gUmF5LkFMTDsKICAgIG9wdGlvbnMuZnJvbSA9IGZyb207CiAgICBvcHRpb25zLnRvID0gdG87CiAgICBvcHRpb25zLmNhbGxiYWNrID0gY2FsbGJhY2s7CiAgICByZXR1cm4gdG1wUmF5JDEuaW50ZXJzZWN0V29ybGQodGhpcywgb3B0aW9ucyk7CiAgfQogIC8qKg0KICAgKiBSYXkgY2FzdCwgYW5kIHN0b3AgYXQgdGhlIGZpcnN0IHJlc3VsdC4gTm90ZSB0aGF0IHRoZSBvcmRlciBpcyByYW5kb20gLSBidXQgdGhlIG1ldGhvZCBpcyBmYXN0Lg0KICAgKiBAbWV0aG9kIHJheWNhc3RBbnkNCiAgICogQHBhcmFtICB7VmVjM30gZnJvbQ0KICAgKiBAcGFyYW0gIHtWZWMzfSB0bw0KICAgKiBAcGFyYW0gIHtPYmplY3R9IG9wdGlvbnMNCiAgICogQHBhcmFtICB7bnVtYmVyfSBbb3B0aW9ucy5jb2xsaXNpb25GaWx0ZXJNYXNrPS0xXQ0KICAgKiBAcGFyYW0gIHtudW1iZXJ9IFtvcHRpb25zLmNvbGxpc2lvbkZpbHRlckdyb3VwPS0xXQ0KICAgKiBAcGFyYW0gIHtib29sZWFufSBbb3B0aW9ucy5za2lwQmFja2ZhY2VzPWZhbHNlXQ0KICAgKiBAcGFyYW0gIHtib29sZWFufSBbb3B0aW9ucy5jaGVja0NvbGxpc2lvblJlc3BvbnNlPXRydWVdDQogICAqIEBwYXJhbSAge1JheWNhc3RSZXN1bHR9IHJlc3VsdA0KICAgKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIGFueSBib2R5IHdhcyBoaXQuDQogICAqLwoKCiAgcmF5Y2FzdEFueShmcm9tLCB0bywgb3B0aW9ucyA9IHt9LCByZXN1bHQpIHsKICAgIG9wdGlvbnMubW9kZSA9IFJheS5BTlk7CiAgICBvcHRpb25zLmZyb20gPSBmcm9tOwogICAgb3B0aW9ucy50byA9IHRvOwogICAgb3B0aW9ucy5yZXN1bHQgPSByZXN1bHQ7CiAgICByZXR1cm4gdG1wUmF5JDEuaW50ZXJzZWN0V29ybGQodGhpcywgb3B0aW9ucyk7CiAgfQogIC8qKg0KICAgKiBSYXkgY2FzdCwgYW5kIHJldHVybiBpbmZvcm1hdGlvbiBvZiB0aGUgY2xvc2VzdCBoaXQuDQogICAqIEBtZXRob2QgcmF5Y2FzdENsb3Nlc3QNCiAgICogQHBhcmFtICB7VmVjM30gZnJvbQ0KICAgKiBAcGFyYW0gIHtWZWMzfSB0bw0KICAgKiBAcGFyYW0gIHtPYmplY3R9IG9wdGlvbnMNCiAgICogQHBhcmFtICB7bnVtYmVyfSBbb3B0aW9ucy5jb2xsaXNpb25GaWx0ZXJNYXNrPS0xXQ0KICAgKiBAcGFyYW0gIHtudW1iZXJ9IFtvcHRpb25zLmNvbGxpc2lvbkZpbHRlckdyb3VwPS0xXQ0KICAgKiBAcGFyYW0gIHtib29sZWFufSBbb3B0aW9ucy5za2lwQmFja2ZhY2VzPWZhbHNlXQ0KICAgKiBAcGFyYW0gIHtib29sZWFufSBbb3B0aW9ucy5jaGVja0NvbGxpc2lvblJlc3BvbnNlPXRydWVdDQogICAqIEBwYXJhbSAge1JheWNhc3RSZXN1bHR9IHJlc3VsdA0KICAgKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIGFueSBib2R5IHdhcyBoaXQuDQogICAqLwoKCiAgcmF5Y2FzdENsb3Nlc3QoZnJvbSwgdG8sIG9wdGlvbnMgPSB7fSwgcmVzdWx0KSB7CiAgICBvcHRpb25zLm1vZGUgPSBSYXkuQ0xPU0VTVDsKICAgIG9wdGlvbnMuZnJvbSA9IGZyb207CiAgICBvcHRpb25zLnRvID0gdG87CiAgICBvcHRpb25zLnJlc3VsdCA9IHJlc3VsdDsKICAgIHJldHVybiB0bXBSYXkkMS5pbnRlcnNlY3RXb3JsZCh0aGlzLCBvcHRpb25zKTsKICB9CiAgLyoqDQogICAqIEFkZCBhIHJpZ2lkIGJvZHkgdG8gdGhlIHNpbXVsYXRpb24uDQogICAqIEBtZXRob2QgYWRkDQogICAqIEBwYXJhbSB7Qm9keX0gYm9keQ0KICAgKiBAdG9kbyBJZiB0aGUgc2ltdWxhdGlvbiBoYXMgbm90IHlldCBzdGFydGVkLCB3aHkgcmVjcmV0ZSBhbmQgY29weSBhcnJheXMgZm9yIGVhY2ggYm9keT8gQWNjdW11bGF0ZSBpbiBkeW5hbWljIGFycmF5cyBpbiB0aGlzIGNhc2UuDQogICAqIEB0b2RvIEFkZGluZyBhbiBhcnJheSBvZiBib2RpZXMgc2hvdWxkIGJlIHBvc3NpYmxlLiBUaGlzIHdvdWxkIHNhdmUgc29tZSBsb29wcyB0b28NCiAgICovCgoKICBhZGRCb2R5KGJvZHkpIHsKICAgIGlmICh0aGlzLmJvZGllcy5pbmNsdWRlcyhib2R5KSkgewogICAgICByZXR1cm47CiAgICB9CgogICAgYm9keS5pbmRleCA9IHRoaXMuYm9kaWVzLmxlbmd0aDsKICAgIHRoaXMuYm9kaWVzLnB1c2goYm9keSk7CiAgICBib2R5LndvcmxkID0gdGhpczsKICAgIGJvZHkuaW5pdFBvc2l0aW9uLmNvcHkoYm9keS5wb3NpdGlvbik7CiAgICBib2R5LmluaXRWZWxvY2l0eS5jb3B5KGJvZHkudmVsb2NpdHkpOwogICAgYm9keS50aW1lTGFzdFNsZWVweSA9IHRoaXMudGltZTsKCiAgICBpZiAoYm9keSBpbnN0YW5jZW9mIEJvZHkpIHsKICAgICAgYm9keS5pbml0QW5ndWxhclZlbG9jaXR5LmNvcHkoYm9keS5hbmd1bGFyVmVsb2NpdHkpOwogICAgICBib2R5LmluaXRRdWF0ZXJuaW9uLmNvcHkoYm9keS5xdWF0ZXJuaW9uKTsKICAgIH0KCiAgICB0aGlzLmNvbGxpc2lvbk1hdHJpeC5zZXROdW1PYmplY3RzKHRoaXMuYm9kaWVzLmxlbmd0aCk7CiAgICB0aGlzLmFkZEJvZHlFdmVudC5ib2R5ID0gYm9keTsKICAgIHRoaXMuaWRUb0JvZHlNYXBbYm9keS5pZF0gPSBib2R5OwogICAgdGhpcy5kaXNwYXRjaEV2ZW50KHRoaXMuYWRkQm9keUV2ZW50KTsKICB9CiAgLyoqDQogICAqIFJlbW92ZSBhIHJpZ2lkIGJvZHkgZnJvbSB0aGUgc2ltdWxhdGlvbi4NCiAgICogQG1ldGhvZCByZW1vdmUNCiAgICogQHBhcmFtIHtCb2R5fSBib2R5DQogICAqLwoKCiAgcmVtb3ZlQm9keShib2R5KSB7CiAgICBib2R5LndvcmxkID0gbnVsbDsKICAgIGNvbnN0IG4gPSB0aGlzLmJvZGllcy5sZW5ndGggLSAxOwogICAgY29uc3QgYm9kaWVzID0gdGhpcy5ib2RpZXM7CiAgICBjb25zdCBpZHggPSBib2RpZXMuaW5kZXhPZihib2R5KTsKCiAgICBpZiAoaWR4ICE9PSAtMSkgewogICAgICBib2RpZXMuc3BsaWNlKGlkeCwgMSk7IC8vIFRvZG86IHNob3VsZCB1c2UgYSBnYXJiYWdlIGZyZWUgbWV0aG9kCiAgICAgIC8vIFJlY29tcHV0ZSBpbmRleAoKICAgICAgZm9yIChsZXQgaSA9IDA7IGkgIT09IGJvZGllcy5sZW5ndGg7IGkrKykgewogICAgICAgIGJvZGllc1tpXS5pbmRleCA9IGk7CiAgICAgIH0KCiAgICAgIHRoaXMuY29sbGlzaW9uTWF0cml4LnNldE51bU9iamVjdHMobik7CiAgICAgIHRoaXMucmVtb3ZlQm9keUV2ZW50LmJvZHkgPSBib2R5OwogICAgICBkZWxldGUgdGhpcy5pZFRvQm9keU1hcFtib2R5LmlkXTsKICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KHRoaXMucmVtb3ZlQm9keUV2ZW50KTsKICAgIH0KICB9CgogIGdldEJvZHlCeUlkKGlkKSB7CiAgICByZXR1cm4gdGhpcy5pZFRvQm9keU1hcFtpZF07CiAgfSAvLyBUT0RPIE1ha2UgYSBmYXN0ZXIgbWFwCgoKICBnZXRTaGFwZUJ5SWQoaWQpIHsKICAgIGNvbnN0IGJvZGllcyA9IHRoaXMuYm9kaWVzOwoKICAgIGZvciAobGV0IGkgPSAwLCBibCA9IGJvZGllcy5sZW5ndGg7IGkgPCBibDsgaSsrKSB7CiAgICAgIGNvbnN0IHNoYXBlcyA9IGJvZGllc1tpXS5zaGFwZXM7CgogICAgICBmb3IgKGxldCBqID0gMCwgc2wgPSBzaGFwZXMubGVuZ3RoOyBqIDwgc2w7IGorKykgewogICAgICAgIGNvbnN0IHNoYXBlID0gc2hhcGVzW2pdOwoKICAgICAgICBpZiAoc2hhcGUuaWQgPT09IGlkKSB7CiAgICAgICAgICByZXR1cm4gc2hhcGU7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfQogIC8qKg0KICAgKiBBZGRzIGEgbWF0ZXJpYWwgdG8gdGhlIFdvcmxkLg0KICAgKiBAbWV0aG9kIGFkZE1hdGVyaWFsDQogICAqIEBwYXJhbSB7TWF0ZXJpYWx9IG0NCiAgICogQHRvZG8gTmVjZXNzYXJ5Pw0KICAgKi8KCgogIGFkZE1hdGVyaWFsKG0pIHsKICAgIHRoaXMubWF0ZXJpYWxzLnB1c2gobSk7CiAgfQogIC8qKg0KICAgKiBBZGRzIGEgY29udGFjdCBtYXRlcmlhbCB0byB0aGUgV29ybGQNCiAgICogQG1ldGhvZCBhZGRDb250YWN0TWF0ZXJpYWwNCiAgICogQHBhcmFtIHtDb250YWN0TWF0ZXJpYWx9IGNtYXQNCiAgICovCgoKICBhZGRDb250YWN0TWF0ZXJpYWwoY21hdCkgewogICAgLy8gQWRkIGNvbnRhY3QgbWF0ZXJpYWwKICAgIHRoaXMuY29udGFjdG1hdGVyaWFscy5wdXNoKGNtYXQpOyAvLyBBZGQgY3VycmVudCBjb250YWN0IG1hdGVyaWFsIHRvIHRoZSBtYXRlcmlhbCB0YWJsZQoKICAgIHRoaXMuY29udGFjdE1hdGVyaWFsVGFibGUuc2V0KGNtYXQubWF0ZXJpYWxzWzBdLmlkLCBjbWF0Lm1hdGVyaWFsc1sxXS5pZCwgY21hdCk7CiAgfQogIC8qKg0KICAgKiBTdGVwIHRoZSBwaHlzaWNzIHdvcmxkIGZvcndhcmQgaW4gdGltZS4NCiAgICoNCiAgICogVGhlcmUgYXJlIHR3byBtb2Rlcy4gVGhlIHNpbXBsZSBtb2RlIGlzIGZpeGVkIHRpbWVzdGVwcGluZyB3aXRob3V0IGludGVycG9sYXRpb24uIEluIHRoaXMgY2FzZSB5b3Ugb25seSB1c2UgdGhlIGZpcnN0IGFyZ3VtZW50LiBUaGUgc2Vjb25kIGNhc2UgdXNlcyBpbnRlcnBvbGF0aW9uLiBJbiB0aGF0IHlvdSBhbHNvIHByb3ZpZGUgdGhlIHRpbWUgc2luY2UgdGhlIGZ1bmN0aW9uIHdhcyBsYXN0IHVzZWQsIGFzIHdlbGwgYXMgdGhlIG1heGltdW0gZml4ZWQgdGltZXN0ZXBzIHRvIHRha2UuDQogICAqDQogICAqIEBtZXRob2Qgc3RlcA0KICAgKiBAcGFyYW0ge051bWJlcn0gZHQgICAgICAgICAgICAgICAgICAgICAgIFRoZSBmaXhlZCB0aW1lIHN0ZXAgc2l6ZSB0byB1c2UuDQogICAqIEBwYXJhbSB7TnVtYmVyfSBbdGltZVNpbmNlTGFzdENhbGxlZF0gICAgVGhlIHRpbWUgZWxhcHNlZCBzaW5jZSB0aGUgZnVuY3Rpb24gd2FzIGxhc3QgY2FsbGVkLg0KICAgKiBAcGFyYW0ge051bWJlcn0gW21heFN1YlN0ZXBzPTEwXSAgICAgICAgIE1heGltdW0gbnVtYmVyIG9mIGZpeGVkIHN0ZXBzIHRvIHRha2UgcGVyIGZ1bmN0aW9uIGNhbGwuDQogICAqDQogICAqIEBleGFtcGxlDQogICAqICAgICAvLyBmaXhlZCB0aW1lc3RlcHBpbmcgd2l0aG91dCBpbnRlcnBvbGF0aW9uDQogICAqICAgICB3b3JsZC5zdGVwKDEvNjApOw0KICAgKg0KICAgKiBAc2VlIGh0dHA6Ly9idWxsZXRwaHlzaWNzLm9yZy9tZWRpYXdpa2ktMS41LjgvaW5kZXgucGhwL1N0ZXBwaW5nX1RoZV9Xb3JsZA0KICAgKi8KCgogIHN0ZXAoZHQsIHRpbWVTaW5jZUxhc3RDYWxsZWQsIG1heFN1YlN0ZXBzID0gMTApIHsKICAgIGlmICh0aW1lU2luY2VMYXN0Q2FsbGVkID09PSB1bmRlZmluZWQpIHsKICAgICAgLy8gRml4ZWQsIHNpbXBsZSBzdGVwcGluZwogICAgICB0aGlzLmludGVybmFsU3RlcChkdCk7IC8vIEluY3JlbWVudCB0aW1lCgogICAgICB0aGlzLnRpbWUgKz0gZHQ7CiAgICB9IGVsc2UgewogICAgICB0aGlzLmFjY3VtdWxhdG9yICs9IHRpbWVTaW5jZUxhc3RDYWxsZWQ7CiAgICAgIGNvbnN0IHQwID0gcGVyZm9ybWFuY2Uubm93KCk7CiAgICAgIGxldCBzdWJzdGVwcyA9IDA7CgogICAgICB3aGlsZSAodGhpcy5hY2N1bXVsYXRvciA+PSBkdCAmJiBzdWJzdGVwcyA8IG1heFN1YlN0ZXBzKSB7CiAgICAgICAgLy8gRG8gZml4ZWQgc3RlcHMgdG8gY2F0Y2ggdXAKICAgICAgICB0aGlzLmludGVybmFsU3RlcChkdCk7CiAgICAgICAgdGhpcy5hY2N1bXVsYXRvciAtPSBkdDsKICAgICAgICBzdWJzdGVwcysrOwoKICAgICAgICBpZiAocGVyZm9ybWFuY2Uubm93KCkgLSB0MCA+IGR0ICogMiAqIDEwMDApIHsKICAgICAgICAgIC8vIFRoZSBmcmFtZXJhdGUgaXMgbm90IGludGVyYWN0aXZlIGFueW1vcmUuCiAgICAgICAgICAvLyBXZSBhcmUgYXQgaGFsZiBvZiB0aGUgdGFyZ2V0IGZyYW1lcmF0ZS4KICAgICAgICAgIC8vIEJldHRlciBiYWlsIG91dC4KICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KICAgICAgfSAvLyBSZW1vdmUgdGhlIGV4Y2VzcyBhY2N1bXVsYXRvciwgc2luY2Ugd2UgbWF5IG5vdAogICAgICAvLyBoYXZlIGhhZCBlbm91Z2ggc3Vic3RlcHMgYXZhaWxhYmxlIHRvIGNhdGNoIHVwCgoKICAgICAgdGhpcy5hY2N1bXVsYXRvciA9IHRoaXMuYWNjdW11bGF0b3IgJSBkdDsKICAgICAgY29uc3QgdCA9IHRoaXMuYWNjdW11bGF0b3IgLyBkdDsKCiAgICAgIGZvciAobGV0IGogPSAwOyBqICE9PSB0aGlzLmJvZGllcy5sZW5ndGg7IGorKykgewogICAgICAgIGNvbnN0IGIgPSB0aGlzLmJvZGllc1tqXTsKICAgICAgICBiLnByZXZpb3VzUG9zaXRpb24ubGVycChiLnBvc2l0aW9uLCB0LCBiLmludGVycG9sYXRlZFBvc2l0aW9uKTsKICAgICAgICBiLnByZXZpb3VzUXVhdGVybmlvbi5zbGVycChiLnF1YXRlcm5pb24sIHQsIGIuaW50ZXJwb2xhdGVkUXVhdGVybmlvbik7CiAgICAgICAgYi5wcmV2aW91c1F1YXRlcm5pb24ubm9ybWFsaXplKCk7CiAgICAgIH0KCiAgICAgIHRoaXMudGltZSArPSB0aW1lU2luY2VMYXN0Q2FsbGVkOwogICAgfQogIH0KCiAgaW50ZXJuYWxTdGVwKGR0KSB7CiAgICB0aGlzLmR0ID0gZHQ7CiAgICBjb25zdCBjb250YWN0cyA9IHRoaXMuY29udGFjdHM7CiAgICBjb25zdCBwMSA9IFdvcmxkX3N0ZXBfcDE7CiAgICBjb25zdCBwMiA9IFdvcmxkX3N0ZXBfcDI7CiAgICBjb25zdCBOID0gdGhpcy5udW1PYmplY3RzKCk7CiAgICBjb25zdCBib2RpZXMgPSB0aGlzLmJvZGllczsKICAgIGNvbnN0IHNvbHZlciA9IHRoaXMuc29sdmVyOwogICAgY29uc3QgZ3Jhdml0eSA9IHRoaXMuZ3Jhdml0eTsKICAgIGNvbnN0IGRvUHJvZmlsaW5nID0gdGhpcy5kb1Byb2ZpbGluZzsKICAgIGNvbnN0IHByb2ZpbGUgPSB0aGlzLnByb2ZpbGU7CiAgICBjb25zdCBEWU5BTUlDID0gQm9keS5EWU5BTUlDOwogICAgbGV0IHByb2ZpbGluZ1N0YXJ0ID0gLUluZmluaXR5OwogICAgY29uc3QgY29uc3RyYWludHMgPSB0aGlzLmNvbnN0cmFpbnRzOwogICAgY29uc3QgZnJpY3Rpb25FcXVhdGlvblBvb2wgPSBXb3JsZF9zdGVwX2ZyaWN0aW9uRXF1YXRpb25Qb29sOwogICAgY29uc3QgZ25vcm0gPSBncmF2aXR5Lmxlbmd0aCgpOwogICAgY29uc3QgZ3ggPSBncmF2aXR5Lng7CiAgICBjb25zdCBneSA9IGdyYXZpdHkueTsKICAgIGNvbnN0IGd6ID0gZ3Jhdml0eS56OwogICAgbGV0IGkgPSAwOwoKICAgIGlmIChkb1Byb2ZpbGluZykgewogICAgICBwcm9maWxpbmdTdGFydCA9IHBlcmZvcm1hbmNlLm5vdygpOwogICAgfSAvLyBBZGQgZ3Jhdml0eSB0byBhbGwgb2JqZWN0cwoKCiAgICBmb3IgKGkgPSAwOyBpICE9PSBOOyBpKyspIHsKICAgICAgY29uc3QgYmkgPSBib2RpZXNbaV07CgogICAgICBpZiAoYmkudHlwZSA9PT0gRFlOQU1JQykgewogICAgICAgIC8vIE9ubHkgZm9yIGR5bmFtaWMgYm9kaWVzCiAgICAgICAgY29uc3QgZiA9IGJpLmZvcmNlOwogICAgICAgIGNvbnN0IG0gPSBiaS5tYXNzOwogICAgICAgIGYueCArPSBtICogZ3g7CiAgICAgICAgZi55ICs9IG0gKiBneTsKICAgICAgICBmLnogKz0gbSAqIGd6OwogICAgICB9CiAgICB9IC8vIFVwZGF0ZSBzdWJzeXN0ZW1zCgoKICAgIGZvciAobGV0IGkgPSAwLCBOc3Vic3lzdGVtcyA9IHRoaXMuc3Vic3lzdGVtcy5sZW5ndGg7IGkgIT09IE5zdWJzeXN0ZW1zOyBpKyspIHsKICAgICAgdGhpcy5zdWJzeXN0ZW1zW2ldLnVwZGF0ZSgpOwogICAgfSAvLyBDb2xsaXNpb24gZGV0ZWN0aW9uCgoKICAgIGlmIChkb1Byb2ZpbGluZykgewogICAgICBwcm9maWxpbmdTdGFydCA9IHBlcmZvcm1hbmNlLm5vdygpOwogICAgfQoKICAgIHAxLmxlbmd0aCA9IDA7IC8vIENsZWFuIHVwIHBhaXIgYXJyYXlzIGZyb20gbGFzdCBzdGVwCgogICAgcDIubGVuZ3RoID0gMDsKICAgIHRoaXMuYnJvYWRwaGFzZS5jb2xsaXNpb25QYWlycyh0aGlzLCBwMSwgcDIpOwoKICAgIGlmIChkb1Byb2ZpbGluZykgewogICAgICBwcm9maWxlLmJyb2FkcGhhc2UgPSBwZXJmb3JtYW5jZS5ub3coKSAtIHByb2ZpbGluZ1N0YXJ0OwogICAgfSAvLyBSZW1vdmUgY29uc3RyYWluZWQgcGFpcnMgd2l0aCBjb2xsaWRlQ29ubmVjdGVkID09IGZhbHNlCgoKICAgIGxldCBOY29uc3RyYWludHMgPSBjb25zdHJhaW50cy5sZW5ndGg7CgogICAgZm9yIChpID0gMDsgaSAhPT0gTmNvbnN0cmFpbnRzOyBpKyspIHsKICAgICAgY29uc3QgYyA9IGNvbnN0cmFpbnRzW2ldOwoKICAgICAgaWYgKCFjLmNvbGxpZGVDb25uZWN0ZWQpIHsKICAgICAgICBmb3IgKGxldCBqID0gcDEubGVuZ3RoIC0gMTsgaiA+PSAwOyBqIC09IDEpIHsKICAgICAgICAgIGlmIChjLmJvZHlBID09PSBwMVtqXSAmJiBjLmJvZHlCID09PSBwMltqXSB8fCBjLmJvZHlCID09PSBwMVtqXSAmJiBjLmJvZHlBID09PSBwMltqXSkgewogICAgICAgICAgICBwMS5zcGxpY2UoaiwgMSk7CiAgICAgICAgICAgIHAyLnNwbGljZShqLCAxKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0KCiAgICB0aGlzLmNvbGxpc2lvbk1hdHJpeFRpY2soKTsgLy8gR2VuZXJhdGUgY29udGFjdHMKCiAgICBpZiAoZG9Qcm9maWxpbmcpIHsKICAgICAgcHJvZmlsaW5nU3RhcnQgPSBwZXJmb3JtYW5jZS5ub3coKTsKICAgIH0KCiAgICBjb25zdCBvbGRjb250YWN0cyA9IFdvcmxkX3N0ZXBfb2xkQ29udGFjdHM7CiAgICBjb25zdCBOb2xkQ29udGFjdHMgPSBjb250YWN0cy5sZW5ndGg7CgogICAgZm9yIChpID0gMDsgaSAhPT0gTm9sZENvbnRhY3RzOyBpKyspIHsKICAgICAgb2xkY29udGFjdHMucHVzaChjb250YWN0c1tpXSk7CiAgICB9CgogICAgY29udGFjdHMubGVuZ3RoID0gMDsgLy8gVHJhbnNmZXIgRnJpY3Rpb25FcXVhdGlvbiBmcm9tIGN1cnJlbnQgbGlzdCB0byB0aGUgcG9vbCBmb3IgcmV1c2UKCiAgICBjb25zdCBOb2xkRnJpY3Rpb25FcXVhdGlvbnMgPSB0aGlzLmZyaWN0aW9uRXF1YXRpb25zLmxlbmd0aDsKCiAgICBmb3IgKGkgPSAwOyBpICE9PSBOb2xkRnJpY3Rpb25FcXVhdGlvbnM7IGkrKykgewogICAgICBmcmljdGlvbkVxdWF0aW9uUG9vbC5wdXNoKHRoaXMuZnJpY3Rpb25FcXVhdGlvbnNbaV0pOwogICAgfQoKICAgIHRoaXMuZnJpY3Rpb25FcXVhdGlvbnMubGVuZ3RoID0gMDsKICAgIHRoaXMubmFycm93cGhhc2UuZ2V0Q29udGFjdHMocDEsIHAyLCB0aGlzLCBjb250YWN0cywgb2xkY29udGFjdHMsIC8vIFRvIGJlIHJldXNlZAogICAgdGhpcy5mcmljdGlvbkVxdWF0aW9ucywgZnJpY3Rpb25FcXVhdGlvblBvb2wpOwoKICAgIGlmIChkb1Byb2ZpbGluZykgewogICAgICBwcm9maWxlLm5hcnJvd3BoYXNlID0gcGVyZm9ybWFuY2Uubm93KCkgLSBwcm9maWxpbmdTdGFydDsKICAgIH0gLy8gTG9vcCBvdmVyIGFsbCBjb2xsaXNpb25zCgoKICAgIGlmIChkb1Byb2ZpbGluZykgewogICAgICBwcm9maWxpbmdTdGFydCA9IHBlcmZvcm1hbmNlLm5vdygpOwogICAgfSAvLyBBZGQgYWxsIGZyaWN0aW9uIGVxcwoKCiAgICBmb3IgKGkgPSAwOyBpIDwgdGhpcy5mcmljdGlvbkVxdWF0aW9ucy5sZW5ndGg7IGkrKykgewogICAgICBzb2x2ZXIuYWRkRXF1YXRpb24odGhpcy5mcmljdGlvbkVxdWF0aW9uc1tpXSk7CiAgICB9CgogICAgY29uc3QgbmNvbnRhY3RzID0gY29udGFjdHMubGVuZ3RoOwoKICAgIGZvciAobGV0IGsgPSAwOyBrICE9PSBuY29udGFjdHM7IGsrKykgewogICAgICAvLyBDdXJyZW50IGNvbnRhY3QKICAgICAgY29uc3QgYyA9IGNvbnRhY3RzW2tdOyAvLyBHZXQgY3VycmVudCBjb2xsaXNpb24gaW5kZWNlcwoKICAgICAgY29uc3QgYmkgPSBjLmJpOwogICAgICBjb25zdCBiaiA9IGMuYmo7CiAgICAgIGNvbnN0IHNpID0gYy5zaTsKICAgICAgY29uc3Qgc2ogPSBjLnNqOyAvLyBHZXQgY29sbGlzaW9uIHByb3BlcnRpZXMKCiAgICAgIGxldCBjbTsKCiAgICAgIGlmIChiaS5tYXRlcmlhbCAmJiBiai5tYXRlcmlhbCkgewogICAgICAgIGNtID0gdGhpcy5nZXRDb250YWN0TWF0ZXJpYWwoYmkubWF0ZXJpYWwsIGJqLm1hdGVyaWFsKSB8fCB0aGlzLmRlZmF1bHRDb250YWN0TWF0ZXJpYWw7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgY20gPSB0aGlzLmRlZmF1bHRDb250YWN0TWF0ZXJpYWw7CiAgICAgIH0gLy8gYy5lbmFibGVkID0gYmkuY29sbGlzaW9uUmVzcG9uc2UgJiYgYmouY29sbGlzaW9uUmVzcG9uc2UgJiYgc2kuY29sbGlzaW9uUmVzcG9uc2UgJiYgc2ouY29sbGlzaW9uUmVzcG9uc2U7CgoKICAgICAgbGV0IG11ID0gY20uZnJpY3Rpb247IC8vIGMucmVzdGl0dXRpb24gPSBjbS5yZXN0aXR1dGlvbjsKICAgICAgLy8gSWYgZnJpY3Rpb24gb3IgcmVzdGl0dXRpb24gd2VyZSBzcGVjaWZpZWQgaW4gdGhlIG1hdGVyaWFsLCB1c2UgdGhlbQoKICAgICAgaWYgKGJpLm1hdGVyaWFsICYmIGJqLm1hdGVyaWFsKSB7CiAgICAgICAgaWYgKGJpLm1hdGVyaWFsLmZyaWN0aW9uID49IDAgJiYgYmoubWF0ZXJpYWwuZnJpY3Rpb24gPj0gMCkgewogICAgICAgICAgbXUgPSBiaS5tYXRlcmlhbC5mcmljdGlvbiAqIGJqLm1hdGVyaWFsLmZyaWN0aW9uOwogICAgICAgIH0KCiAgICAgICAgaWYgKGJpLm1hdGVyaWFsLnJlc3RpdHV0aW9uID49IDAgJiYgYmoubWF0ZXJpYWwucmVzdGl0dXRpb24gPj0gMCkgewogICAgICAgICAgYy5yZXN0aXR1dGlvbiA9IGJpLm1hdGVyaWFsLnJlc3RpdHV0aW9uICogYmoubWF0ZXJpYWwucmVzdGl0dXRpb247CiAgICAgICAgfQogICAgICB9IC8vIGMuc2V0U3Bvb2tQYXJhbXMoCiAgICAgIC8vICAgICAgICAgICBjbS5jb250YWN0RXF1YXRpb25TdGlmZm5lc3MsCiAgICAgIC8vICAgICAgICAgICBjbS5jb250YWN0RXF1YXRpb25SZWxheGF0aW9uLAogICAgICAvLyAgICAgICAgICAgZHQKICAgICAgLy8gICAgICAgKTsKCgogICAgICBzb2x2ZXIuYWRkRXF1YXRpb24oYyk7IC8vIC8vIEFkZCBmcmljdGlvbiBjb25zdHJhaW50IGVxdWF0aW9uCiAgICAgIC8vIGlmKG11ID4gMCl7CiAgICAgIC8vIAkvLyBDcmVhdGUgMiB0YW5nZW50IGVxdWF0aW9ucwogICAgICAvLyAJY29uc3QgbXVnID0gbXUgKiBnbm9ybTsKICAgICAgLy8gCWNvbnN0IHJlZHVjZWRNYXNzID0gKGJpLmludk1hc3MgKyBiai5pbnZNYXNzKTsKICAgICAgLy8gCWlmKHJlZHVjZWRNYXNzID4gMCl7CiAgICAgIC8vIAkJcmVkdWNlZE1hc3MgPSAxL3JlZHVjZWRNYXNzOwogICAgICAvLyAJfQogICAgICAvLyAJY29uc3QgcG9vbCA9IGZyaWN0aW9uRXF1YXRpb25Qb29sOwogICAgICAvLyAJY29uc3QgYzEgPSBwb29sLmxlbmd0aCA/IHBvb2wucG9wKCkgOiBuZXcgRnJpY3Rpb25FcXVhdGlvbihiaSxiaixtdWcqcmVkdWNlZE1hc3MpOwogICAgICAvLyAJY29uc3QgYzIgPSBwb29sLmxlbmd0aCA/IHBvb2wucG9wKCkgOiBuZXcgRnJpY3Rpb25FcXVhdGlvbihiaSxiaixtdWcqcmVkdWNlZE1hc3MpOwogICAgICAvLyAJdGhpcy5mcmljdGlvbkVxdWF0aW9ucy5wdXNoKGMxLCBjMik7CiAgICAgIC8vIAljMS5iaSA9IGMyLmJpID0gYmk7CiAgICAgIC8vIAljMS5iaiA9IGMyLmJqID0gYmo7CiAgICAgIC8vIAljMS5taW5Gb3JjZSA9IGMyLm1pbkZvcmNlID0gLW11ZypyZWR1Y2VkTWFzczsKICAgICAgLy8gCWMxLm1heEZvcmNlID0gYzIubWF4Rm9yY2UgPSBtdWcqcmVkdWNlZE1hc3M7CiAgICAgIC8vIAkvLyBDb3B5IG92ZXIgdGhlIHJlbGF0aXZlIHZlY3RvcnMKICAgICAgLy8gCWMxLnJpLmNvcHkoYy5yaSk7CiAgICAgIC8vIAljMS5yai5jb3B5KGMucmopOwogICAgICAvLyAJYzIucmkuY29weShjLnJpKTsKICAgICAgLy8gCWMyLnJqLmNvcHkoYy5yaik7CiAgICAgIC8vIAkvLyBDb25zdHJ1Y3QgdGFuZ2VudHMKICAgICAgLy8gCWMubmkudGFuZ2VudHMoYzEudCwgYzIudCk7CiAgICAgIC8vICAgICAgICAgICAvLyBTZXQgc3Bvb2sgcGFyYW1zCiAgICAgIC8vICAgICAgICAgICBjMS5zZXRTcG9va1BhcmFtcyhjbS5mcmljdGlvbkVxdWF0aW9uU3RpZmZuZXNzLCBjbS5mcmljdGlvbkVxdWF0aW9uUmVsYXhhdGlvbiwgZHQpOwogICAgICAvLyAgICAgICAgICAgYzIuc2V0U3Bvb2tQYXJhbXMoY20uZnJpY3Rpb25FcXVhdGlvblN0aWZmbmVzcywgY20uZnJpY3Rpb25FcXVhdGlvblJlbGF4YXRpb24sIGR0KTsKICAgICAgLy8gICAgICAgICAgIGMxLmVuYWJsZWQgPSBjMi5lbmFibGVkID0gYy5lbmFibGVkOwogICAgICAvLyAJLy8gQWRkIGVxdWF0aW9ucyB0byBzb2x2ZXIKICAgICAgLy8gCXNvbHZlci5hZGRFcXVhdGlvbihjMSk7CiAgICAgIC8vIAlzb2x2ZXIuYWRkRXF1YXRpb24oYzIpOwogICAgICAvLyB9CgogICAgICBpZiAoYmkuYWxsb3dTbGVlcCAmJiBiaS50eXBlID09PSBCb2R5LkRZTkFNSUMgJiYgYmkuc2xlZXBTdGF0ZSA9PT0gQm9keS5TTEVFUElORyAmJiBiai5zbGVlcFN0YXRlID09PSBCb2R5LkFXQUtFICYmIGJqLnR5cGUgIT09IEJvZHkuU1RBVElDKSB7CiAgICAgICAgY29uc3Qgc3BlZWRTcXVhcmVkQiA9IGJqLnZlbG9jaXR5Lmxlbmd0aFNxdWFyZWQoKSArIGJqLmFuZ3VsYXJWZWxvY2l0eS5sZW5ndGhTcXVhcmVkKCk7CiAgICAgICAgY29uc3Qgc3BlZWRMaW1pdFNxdWFyZWRCID0gYmouc2xlZXBTcGVlZExpbWl0ICoqIDI7CgogICAgICAgIGlmIChzcGVlZFNxdWFyZWRCID49IHNwZWVkTGltaXRTcXVhcmVkQiAqIDIpIHsKICAgICAgICAgIGJpLndha2VVcEFmdGVyTmFycm93cGhhc2UgPSB0cnVlOwogICAgICAgIH0KICAgICAgfQoKICAgICAgaWYgKGJqLmFsbG93U2xlZXAgJiYgYmoudHlwZSA9PT0gQm9keS5EWU5BTUlDICYmIGJqLnNsZWVwU3RhdGUgPT09IEJvZHkuU0xFRVBJTkcgJiYgYmkuc2xlZXBTdGF0ZSA9PT0gQm9keS5BV0FLRSAmJiBiaS50eXBlICE9PSBCb2R5LlNUQVRJQykgewogICAgICAgIGNvbnN0IHNwZWVkU3F1YXJlZEEgPSBiaS52ZWxvY2l0eS5sZW5ndGhTcXVhcmVkKCkgKyBiaS5hbmd1bGFyVmVsb2NpdHkubGVuZ3RoU3F1YXJlZCgpOwogICAgICAgIGNvbnN0IHNwZWVkTGltaXRTcXVhcmVkQSA9IGJpLnNsZWVwU3BlZWRMaW1pdCAqKiAyOwoKICAgICAgICBpZiAoc3BlZWRTcXVhcmVkQSA+PSBzcGVlZExpbWl0U3F1YXJlZEEgKiAyKSB7CiAgICAgICAgICBiai53YWtlVXBBZnRlck5hcnJvd3BoYXNlID0gdHJ1ZTsKICAgICAgICB9CiAgICAgIH0gLy8gTm93IHdlIGtub3cgdGhhdCBpIGFuZCBqIGFyZSBpbiBjb250YWN0LiBTZXQgY29sbGlzaW9uIG1hdHJpeCBzdGF0ZQoKCiAgICAgIHRoaXMuY29sbGlzaW9uTWF0cml4LnNldChiaSwgYmosIHRydWUpOwoKICAgICAgaWYgKCF0aGlzLmNvbGxpc2lvbk1hdHJpeFByZXZpb3VzLmdldChiaSwgYmopKSB7CiAgICAgICAgLy8gRmlyc3QgY29udGFjdCEKICAgICAgICAvLyBXZSByZXVzZSB0aGUgY29sbGlkZUV2ZW50IG9iamVjdCwgb3RoZXJ3aXNlIHdlIHdpbGwgZW5kIHVwIGNyZWF0aW5nIG5ldyBvYmplY3RzIGZvciBlYWNoIG5ldyBjb250YWN0LCBldmVuIGlmIHRoZXJlJ3Mgbm8gZXZlbnQgbGlzdGVuZXIgYXR0YWNoZWQuCiAgICAgICAgV29ybGRfc3RlcF9jb2xsaWRlRXZlbnQuYm9keSA9IGJqOwogICAgICAgIFdvcmxkX3N0ZXBfY29sbGlkZUV2ZW50LmNvbnRhY3QgPSBjOwogICAgICAgIGJpLmRpc3BhdGNoRXZlbnQoV29ybGRfc3RlcF9jb2xsaWRlRXZlbnQpOwogICAgICAgIFdvcmxkX3N0ZXBfY29sbGlkZUV2ZW50LmJvZHkgPSBiaTsKICAgICAgICBiai5kaXNwYXRjaEV2ZW50KFdvcmxkX3N0ZXBfY29sbGlkZUV2ZW50KTsKICAgICAgfQoKICAgICAgdGhpcy5ib2R5T3ZlcmxhcEtlZXBlci5zZXQoYmkuaWQsIGJqLmlkKTsKICAgICAgdGhpcy5zaGFwZU92ZXJsYXBLZWVwZXIuc2V0KHNpLmlkLCBzai5pZCk7CiAgICB9CgogICAgdGhpcy5lbWl0Q29udGFjdEV2ZW50cygpOwoKICAgIGlmIChkb1Byb2ZpbGluZykgewogICAgICBwcm9maWxlLm1ha2VDb250YWN0Q29uc3RyYWludHMgPSBwZXJmb3JtYW5jZS5ub3coKSAtIHByb2ZpbGluZ1N0YXJ0OwogICAgICBwcm9maWxpbmdTdGFydCA9IHBlcmZvcm1hbmNlLm5vdygpOwogICAgfSAvLyBXYWtlIHVwIGJvZGllcwoKCiAgICBmb3IgKGkgPSAwOyBpICE9PSBOOyBpKyspIHsKICAgICAgY29uc3QgYmkgPSBib2RpZXNbaV07CgogICAgICBpZiAoYmkud2FrZVVwQWZ0ZXJOYXJyb3dwaGFzZSkgewogICAgICAgIGJpLndha2VVcCgpOwogICAgICAgIGJpLndha2VVcEFmdGVyTmFycm93cGhhc2UgPSBmYWxzZTsKICAgICAgfQogICAgfSAvLyBBZGQgdXNlci1hZGRlZCBjb25zdHJhaW50cwoKCiAgICBOY29uc3RyYWludHMgPSBjb25zdHJhaW50cy5sZW5ndGg7CgogICAgZm9yIChpID0gMDsgaSAhPT0gTmNvbnN0cmFpbnRzOyBpKyspIHsKICAgICAgY29uc3QgYyA9IGNvbnN0cmFpbnRzW2ldOwogICAgICBjLnVwZGF0ZSgpOwoKICAgICAgZm9yIChsZXQgaiA9IDAsIE5lcSA9IGMuZXF1YXRpb25zLmxlbmd0aDsgaiAhPT0gTmVxOyBqKyspIHsKICAgICAgICBjb25zdCBlcSA9IGMuZXF1YXRpb25zW2pdOwogICAgICAgIHNvbHZlci5hZGRFcXVhdGlvbihlcSk7CiAgICAgIH0KICAgIH0gLy8gU29sdmUgdGhlIGNvbnN0cmFpbmVkIHN5c3RlbQoKCiAgICBzb2x2ZXIuc29sdmUoZHQsIHRoaXMpOwoKICAgIGlmIChkb1Byb2ZpbGluZykgewogICAgICBwcm9maWxlLnNvbHZlID0gcGVyZm9ybWFuY2Uubm93KCkgLSBwcm9maWxpbmdTdGFydDsKICAgIH0gLy8gUmVtb3ZlIGFsbCBjb250YWN0cyBmcm9tIHNvbHZlcgoKCiAgICBzb2x2ZXIucmVtb3ZlQWxsRXF1YXRpb25zKCk7IC8vIEFwcGx5IGRhbXBpbmcsIHNlZSBodHRwOi8vY29kZS5nb29nbGUuY29tL3AvYnVsbGV0L2lzc3Vlcy9kZXRhaWw/aWQ9NzQgZm9yIGRldGFpbHMKCiAgICBjb25zdCBwb3cgPSBNYXRoLnBvdzsKCiAgICBmb3IgKGkgPSAwOyBpICE9PSBOOyBpKyspIHsKICAgICAgY29uc3QgYmkgPSBib2RpZXNbaV07CgogICAgICBpZiAoYmkudHlwZSAmIERZTkFNSUMpIHsKICAgICAgICAvLyBPbmx5IGZvciBkeW5hbWljIGJvZGllcwogICAgICAgIGNvbnN0IGxkID0gcG93KDEuMCAtIGJpLmxpbmVhckRhbXBpbmcsIGR0KTsKICAgICAgICBjb25zdCB2ID0gYmkudmVsb2NpdHk7CiAgICAgICAgdi5zY2FsZShsZCwgdik7CiAgICAgICAgY29uc3QgYXYgPSBiaS5hbmd1bGFyVmVsb2NpdHk7CgogICAgICAgIGlmIChhdikgewogICAgICAgICAgY29uc3QgYWQgPSBwb3coMS4wIC0gYmkuYW5ndWxhckRhbXBpbmcsIGR0KTsKICAgICAgICAgIGF2LnNjYWxlKGFkLCBhdik7CiAgICAgICAgfQogICAgICB9CiAgICB9CgogICAgdGhpcy5kaXNwYXRjaEV2ZW50KFdvcmxkX3N0ZXBfcHJlU3RlcEV2ZW50KTsgLy8gSW52b2tlIHByZS1zdGVwIGNhbGxiYWNrcwoKICAgIGZvciAoaSA9IDA7IGkgIT09IE47IGkrKykgewogICAgICBjb25zdCBiaSA9IGJvZGllc1tpXTsKCiAgICAgIGlmIChiaS5wcmVTdGVwKSB7CiAgICAgICAgYmkucHJlU3RlcC5jYWxsKGJpKTsKICAgICAgfQogICAgfSAvLyBMZWFwIGZyb2cKICAgIC8vIHZuZXcgPSB2ICsgaCpmL20KICAgIC8vIHhuZXcgPSB4ICsgaCp2bmV3CgoKICAgIGlmIChkb1Byb2ZpbGluZykgewogICAgICBwcm9maWxpbmdTdGFydCA9IHBlcmZvcm1hbmNlLm5vdygpOwogICAgfQoKICAgIGNvbnN0IHN0ZXBudW1iZXIgPSB0aGlzLnN0ZXBudW1iZXI7CiAgICBjb25zdCBxdWF0Tm9ybWFsaXplID0gc3RlcG51bWJlciAlICh0aGlzLnF1YXROb3JtYWxpemVTa2lwICsgMSkgPT09IDA7CiAgICBjb25zdCBxdWF0Tm9ybWFsaXplRmFzdCA9IHRoaXMucXVhdE5vcm1hbGl6ZUZhc3Q7CgogICAgZm9yIChpID0gMDsgaSAhPT0gTjsgaSsrKSB7CiAgICAgIGJvZGllc1tpXS5pbnRlZ3JhdGUoZHQsIHF1YXROb3JtYWxpemUsIHF1YXROb3JtYWxpemVGYXN0KTsKICAgIH0KCiAgICB0aGlzLmNsZWFyRm9yY2VzKCk7CiAgICB0aGlzLmJyb2FkcGhhc2UuZGlydHkgPSB0cnVlOwoKICAgIGlmIChkb1Byb2ZpbGluZykgewogICAgICBwcm9maWxlLmludGVncmF0ZSA9IHBlcmZvcm1hbmNlLm5vdygpIC0gcHJvZmlsaW5nU3RhcnQ7CiAgICB9IC8vIFVwZGF0ZSB3b3JsZCB0aW1lCgoKICAgIHRoaXMudGltZSArPSBkdDsKICAgIHRoaXMuc3RlcG51bWJlciArPSAxOwogICAgdGhpcy5kaXNwYXRjaEV2ZW50KFdvcmxkX3N0ZXBfcG9zdFN0ZXBFdmVudCk7IC8vIEludm9rZSBwb3N0LXN0ZXAgY2FsbGJhY2tzCgogICAgZm9yIChpID0gMDsgaSAhPT0gTjsgaSsrKSB7CiAgICAgIGNvbnN0IGJpID0gYm9kaWVzW2ldOwogICAgICBjb25zdCBwb3N0U3RlcCA9IGJpLnBvc3RTdGVwOwoKICAgICAgaWYgKHBvc3RTdGVwKSB7CiAgICAgICAgcG9zdFN0ZXAuY2FsbChiaSk7CiAgICAgIH0KICAgIH0gLy8gU2xlZXBpbmcgdXBkYXRlCgoKICAgIGxldCBoYXNBY3RpdmVCb2RpZXMgPSB0cnVlOwoKICAgIGlmICh0aGlzLmFsbG93U2xlZXApIHsKICAgICAgaGFzQWN0aXZlQm9kaWVzID0gZmFsc2U7CgogICAgICBmb3IgKGkgPSAwOyBpICE9PSBOOyBpKyspIHsKICAgICAgICBjb25zdCBiaSA9IGJvZGllc1tpXTsKICAgICAgICBiaS5zbGVlcFRpY2sodGhpcy50aW1lKTsKCiAgICAgICAgaWYgKGJpLnNsZWVwU3RhdGUgIT09IEJvZHkuU0xFRVBJTkcpIHsKICAgICAgICAgIGhhc0FjdGl2ZUJvZGllcyA9IHRydWU7CiAgICAgICAgfQogICAgICB9CiAgICB9CgogICAgdGhpcy5oYXNBY3RpdmVCb2RpZXMgPSBoYXNBY3RpdmVCb2RpZXM7CiAgfQogIC8qKg0KICAgKiBTZXRzIGFsbCBib2R5IGZvcmNlcyBpbiB0aGUgd29ybGQgdG8gemVyby4NCiAgICogQG1ldGhvZCBjbGVhckZvcmNlcw0KICAgKi8KCgogIGNsZWFyRm9yY2VzKCkgewogICAgY29uc3QgYm9kaWVzID0gdGhpcy5ib2RpZXM7CiAgICBjb25zdCBOID0gYm9kaWVzLmxlbmd0aDsKCiAgICBmb3IgKGxldCBpID0gMDsgaSAhPT0gTjsgaSsrKSB7CiAgICAgIGNvbnN0IGIgPSBib2RpZXNbaV07CiAgICAgIGNvbnN0IGZvcmNlID0gYi5mb3JjZTsKICAgICAgY29uc3QgdGF1ID0gYi50b3JxdWU7CiAgICAgIGIuZm9yY2Uuc2V0KDAsIDAsIDApOwogICAgICBiLnRvcnF1ZS5zZXQoMCwgMCwgMCk7CiAgICB9CiAgfQoKfSAvLyBUZW1wIHN0dWZmCgoKY29uc3QgdG1wQUFCQjEgPSBuZXcgQUFCQigpOwpjb25zdCB0bXBSYXkkMSA9IG5ldyBSYXkoKTsgLy8gcGVyZm9ybWFuY2Uubm93KCkgZmFsbGJhY2sgb24gRGF0ZS5ub3coKQoKY29uc3QgcGVyZm9ybWFuY2UgPSBnbG9iYWxUaGlzLnBlcmZvcm1hbmNlIHx8IHt9OwoKaWYgKCFwZXJmb3JtYW5jZS5ub3cpIHsKICBsZXQgbm93T2Zmc2V0ID0gRGF0ZS5ub3coKTsKCiAgaWYgKHBlcmZvcm1hbmNlLnRpbWluZyAmJiBwZXJmb3JtYW5jZS50aW1pbmcubmF2aWdhdGlvblN0YXJ0KSB7CiAgICBub3dPZmZzZXQgPSBwZXJmb3JtYW5jZS50aW1pbmcubmF2aWdhdGlvblN0YXJ0OwogIH0KCiAgcGVyZm9ybWFuY2Uubm93ID0gKCkgPT4gRGF0ZS5ub3coKSAtIG5vd09mZnNldDsKfSAvLyBSZXVzYWJsZSBldmVudCBvYmplY3RzIHRvIHNhdmUgbWVtb3J5LgoKCmNvbnN0IFdvcmxkX3N0ZXBfcG9zdFN0ZXBFdmVudCA9IHsKICB0eXBlOiAncG9zdFN0ZXAnCn07IC8vIERpc3BhdGNoZWQgYmVmb3JlIHRoZSB3b3JsZCBzdGVwcyBmb3J3YXJkIGluIHRpbWUuCgpjb25zdCBXb3JsZF9zdGVwX3ByZVN0ZXBFdmVudCA9IHsKICB0eXBlOiAncHJlU3RlcCcKfTsKY29uc3QgV29ybGRfc3RlcF9jb2xsaWRlRXZlbnQgPSB7CiAgdHlwZTogQm9keS5DT0xMSURFX0VWRU5UX05BTUUsCiAgYm9keTogbnVsbCwKICBjb250YWN0OiBudWxsCn07IC8vIFBvb2xzIGZvciB1bnVzZWQgb2JqZWN0cwoKY29uc3QgV29ybGRfc3RlcF9vbGRDb250YWN0cyA9IFtdOwpjb25zdCBXb3JsZF9zdGVwX2ZyaWN0aW9uRXF1YXRpb25Qb29sID0gW107IC8vIFJldXNhYmxlIGFycmF5cyBmb3IgY29sbGlzaW9uIHBhaXJzCgpjb25zdCBXb3JsZF9zdGVwX3AxID0gW107CmNvbnN0IFdvcmxkX3N0ZXBfcDIgPSBbXTsKCldvcmxkLnByb3RvdHlwZS5lbWl0Q29udGFjdEV2ZW50cyA9ICgoKSA9PiB7CiAgY29uc3QgYWRkaXRpb25zID0gW107CiAgY29uc3QgcmVtb3ZhbHMgPSBbXTsKICBjb25zdCBiZWdpbkNvbnRhY3RFdmVudCA9IHsKICAgIHR5cGU6ICdiZWdpbkNvbnRhY3QnLAogICAgYm9keUE6IG51bGwsCiAgICBib2R5QjogbnVsbAogIH07CiAgY29uc3QgZW5kQ29udGFjdEV2ZW50ID0gewogICAgdHlwZTogJ2VuZENvbnRhY3QnLAogICAgYm9keUE6IG51bGwsCiAgICBib2R5QjogbnVsbAogIH07CiAgY29uc3QgYmVnaW5TaGFwZUNvbnRhY3RFdmVudCA9IHsKICAgIHR5cGU6ICdiZWdpblNoYXBlQ29udGFjdCcsCiAgICBib2R5QTogbnVsbCwKICAgIGJvZHlCOiBudWxsLAogICAgc2hhcGVBOiBudWxsLAogICAgc2hhcGVCOiBudWxsCiAgfTsKICBjb25zdCBlbmRTaGFwZUNvbnRhY3RFdmVudCA9IHsKICAgIHR5cGU6ICdlbmRTaGFwZUNvbnRhY3QnLAogICAgYm9keUE6IG51bGwsCiAgICBib2R5QjogbnVsbCwKICAgIHNoYXBlQTogbnVsbCwKICAgIHNoYXBlQjogbnVsbAogIH07CiAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgIGNvbnN0IGhhc0JlZ2luQ29udGFjdCA9IHRoaXMuaGFzQW55RXZlbnRMaXN0ZW5lcignYmVnaW5Db250YWN0Jyk7CiAgICBjb25zdCBoYXNFbmRDb250YWN0ID0gdGhpcy5oYXNBbnlFdmVudExpc3RlbmVyKCdlbmRDb250YWN0Jyk7CgogICAgaWYgKGhhc0JlZ2luQ29udGFjdCB8fCBoYXNFbmRDb250YWN0KSB7CiAgICAgIHRoaXMuYm9keU92ZXJsYXBLZWVwZXIuZ2V0RGlmZihhZGRpdGlvbnMsIHJlbW92YWxzKTsKICAgIH0KCiAgICBpZiAoaGFzQmVnaW5Db250YWN0KSB7CiAgICAgIGZvciAobGV0IGkgPSAwLCBsID0gYWRkaXRpb25zLmxlbmd0aDsgaSA8IGw7IGkgKz0gMikgewogICAgICAgIGJlZ2luQ29udGFjdEV2ZW50LmJvZHlBID0gdGhpcy5nZXRCb2R5QnlJZChhZGRpdGlvbnNbaV0pOwogICAgICAgIGJlZ2luQ29udGFjdEV2ZW50LmJvZHlCID0gdGhpcy5nZXRCb2R5QnlJZChhZGRpdGlvbnNbaSArIDFdKTsKICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoYmVnaW5Db250YWN0RXZlbnQpOwogICAgICB9CgogICAgICBiZWdpbkNvbnRhY3RFdmVudC5ib2R5QSA9IGJlZ2luQ29udGFjdEV2ZW50LmJvZHlCID0gbnVsbDsKICAgIH0KCiAgICBpZiAoaGFzRW5kQ29udGFjdCkgewogICAgICBmb3IgKGxldCBpID0gMCwgbCA9IHJlbW92YWxzLmxlbmd0aDsgaSA8IGw7IGkgKz0gMikgewogICAgICAgIGVuZENvbnRhY3RFdmVudC5ib2R5QSA9IHRoaXMuZ2V0Qm9keUJ5SWQocmVtb3ZhbHNbaV0pOwogICAgICAgIGVuZENvbnRhY3RFdmVudC5ib2R5QiA9IHRoaXMuZ2V0Qm9keUJ5SWQocmVtb3ZhbHNbaSArIDFdKTsKICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZW5kQ29udGFjdEV2ZW50KTsKICAgICAgfQoKICAgICAgZW5kQ29udGFjdEV2ZW50LmJvZHlBID0gZW5kQ29udGFjdEV2ZW50LmJvZHlCID0gbnVsbDsKICAgIH0KCiAgICBhZGRpdGlvbnMubGVuZ3RoID0gcmVtb3ZhbHMubGVuZ3RoID0gMDsKICAgIGNvbnN0IGhhc0JlZ2luU2hhcGVDb250YWN0ID0gdGhpcy5oYXNBbnlFdmVudExpc3RlbmVyKCdiZWdpblNoYXBlQ29udGFjdCcpOwogICAgY29uc3QgaGFzRW5kU2hhcGVDb250YWN0ID0gdGhpcy5oYXNBbnlFdmVudExpc3RlbmVyKCdlbmRTaGFwZUNvbnRhY3QnKTsKCiAgICBpZiAoaGFzQmVnaW5TaGFwZUNvbnRhY3QgfHwgaGFzRW5kU2hhcGVDb250YWN0KSB7CiAgICAgIHRoaXMuc2hhcGVPdmVybGFwS2VlcGVyLmdldERpZmYoYWRkaXRpb25zLCByZW1vdmFscyk7CiAgICB9CgogICAgaWYgKGhhc0JlZ2luU2hhcGVDb250YWN0KSB7CiAgICAgIGZvciAobGV0IGkgPSAwLCBsID0gYWRkaXRpb25zLmxlbmd0aDsgaSA8IGw7IGkgKz0gMikgewogICAgICAgIGNvbnN0IHNoYXBlQSA9IHRoaXMuZ2V0U2hhcGVCeUlkKGFkZGl0aW9uc1tpXSk7CiAgICAgICAgY29uc3Qgc2hhcGVCID0gdGhpcy5nZXRTaGFwZUJ5SWQoYWRkaXRpb25zW2kgKyAxXSk7CiAgICAgICAgYmVnaW5TaGFwZUNvbnRhY3RFdmVudC5zaGFwZUEgPSBzaGFwZUE7CiAgICAgICAgYmVnaW5TaGFwZUNvbnRhY3RFdmVudC5zaGFwZUIgPSBzaGFwZUI7CiAgICAgICAgYmVnaW5TaGFwZUNvbnRhY3RFdmVudC5ib2R5QSA9IHNoYXBlQS5ib2R5OwogICAgICAgIGJlZ2luU2hhcGVDb250YWN0RXZlbnQuYm9keUIgPSBzaGFwZUIuYm9keTsKICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoYmVnaW5TaGFwZUNvbnRhY3RFdmVudCk7CiAgICAgIH0KCiAgICAgIGJlZ2luU2hhcGVDb250YWN0RXZlbnQuYm9keUEgPSBiZWdpblNoYXBlQ29udGFjdEV2ZW50LmJvZHlCID0gYmVnaW5TaGFwZUNvbnRhY3RFdmVudC5zaGFwZUEgPSBiZWdpblNoYXBlQ29udGFjdEV2ZW50LnNoYXBlQiA9IG51bGw7CiAgICB9CgogICAgaWYgKGhhc0VuZFNoYXBlQ29udGFjdCkgewogICAgICBmb3IgKGxldCBpID0gMCwgbCA9IHJlbW92YWxzLmxlbmd0aDsgaSA8IGw7IGkgKz0gMikgewogICAgICAgIGNvbnN0IHNoYXBlQSA9IHRoaXMuZ2V0U2hhcGVCeUlkKHJlbW92YWxzW2ldKTsKICAgICAgICBjb25zdCBzaGFwZUIgPSB0aGlzLmdldFNoYXBlQnlJZChyZW1vdmFsc1tpICsgMV0pOwogICAgICAgIGVuZFNoYXBlQ29udGFjdEV2ZW50LnNoYXBlQSA9IHNoYXBlQTsKICAgICAgICBlbmRTaGFwZUNvbnRhY3RFdmVudC5zaGFwZUIgPSBzaGFwZUI7CiAgICAgICAgZW5kU2hhcGVDb250YWN0RXZlbnQuYm9keUEgPSBzaGFwZUEuYm9keTsKICAgICAgICBlbmRTaGFwZUNvbnRhY3RFdmVudC5ib2R5QiA9IHNoYXBlQi5ib2R5OwogICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChlbmRTaGFwZUNvbnRhY3RFdmVudCk7CiAgICAgIH0KCiAgICAgIGVuZFNoYXBlQ29udGFjdEV2ZW50LmJvZHlBID0gZW5kU2hhcGVDb250YWN0RXZlbnQuYm9keUIgPSBlbmRTaGFwZUNvbnRhY3RFdmVudC5zaGFwZUEgPSBlbmRTaGFwZUNvbnRhY3RFdmVudC5zaGFwZUIgPSBudWxsOwogICAgfQogIH07Cn0pKCk7CgpsZXQgYm9kaWVzID0ge307CmNvbnN0IHNwcmluZ3MgPSB7fTsKY29uc3QgcmF5cyA9IHt9Owpjb25zdCB3b3JsZCA9IG5ldyBXb3JsZCgpOwpjb25zdCBjb25maWcgPSB7CiAgc3RlcDogMSAvIDYwCn07CmNvbnN0IHN1YnNjcmlwdGlvbnMgPSB7fTsKY29uc3QgdGVtcFZlY3RvciA9IG5ldyBWZWMzKCk7CgpmdW5jdGlvbiBjcmVhdGVTaGFwZSh0eXBlLCBhcmdzKSB7CiAgc3dpdGNoICh0eXBlKSB7CiAgICBjYXNlICdCb3gnOgogICAgICByZXR1cm4gbmV3IEJveChuZXcgVmVjMyguLi5hcmdzLm1hcCh2ID0+IHYgLyAyKSkpOwogICAgLy8gZXh0ZW50cyA9PiBoYWxmRXh0ZW50cwoKICAgIGNhc2UgJ0NvbnZleFBvbHloZWRyb24nOgogICAgICBjb25zdCBbdiwgZiwgbl0gPSBhcmdzOwogICAgICByZXR1cm4gbmV3IENvbnZleFBvbHloZWRyb24oewogICAgICAgIHZlcnRpY2VzOiB2Lm1hcCgoW3gsIHksIHpdKSA9PiBuZXcgVmVjMyh4LCB5LCB6KSksCiAgICAgICAgbm9ybWFsczogbiA/IG4ubWFwKChbeCwgeSwgel0pID0+IG5ldyBWZWMzKHgsIHksIHopKSA6IG51bGwsCiAgICAgICAgZmFjZXM6IGYKICAgICAgfSk7CgogICAgY2FzZSAnQ3lsaW5kZXInOgogICAgICByZXR1cm4gbmV3IEN5bGluZGVyKC4uLmFyZ3MpOwogICAgLy8gWyByYWRpdXNUb3AsIHJhZGl1c0JvdHRvbSwgaGVpZ2h0LCBudW1TZWdtZW50cyBdID0gYXJncwoKICAgIGNhc2UgJ0hlaWdodGZpZWxkJzoKICAgICAgcmV0dXJuIG5ldyBIZWlnaHRmaWVsZCguLi5hcmdzKTsKICAgIC8vIFsgQXJyYXkgZGF0YSwgb3B0aW9uczoge21pblZhbHVlLCBtYXhWYWx1ZSwgZWxlbWVudFNpemV9ICBdID0gYXJncwoKICAgIGNhc2UgJ1BhcnRpY2xlJzoKICAgICAgcmV0dXJuIG5ldyBQYXJ0aWNsZSgpOwogICAgLy8gbm8gYXJncwoKICAgIGNhc2UgJ1BsYW5lJzoKICAgICAgcmV0dXJuIG5ldyBQbGFuZSgpOwogICAgLy8gbm8gYXJncywgaW5maW5pdGUgeCBhbmQgeQoKICAgIGNhc2UgJ1NwaGVyZSc6CiAgICAgIHJldHVybiBuZXcgU3BoZXJlKC4uLmFyZ3MpOwogICAgLy8gW3JhZGl1c10gPSBhcmdzCgogICAgY2FzZSAnVHJpbWVzaCc6CiAgICAgIHJldHVybiBuZXcgVHJpbWVzaCguLi5hcmdzKTsKICAgIC8vIFt2ZXJ0aWNlcywgaW5kaWNlc10gPSBhcmdzCiAgfQp9CgpmdW5jdGlvbiBzeW5jQm9kaWVzKCkgewogIHNlbGYucG9zdE1lc3NhZ2UoewogICAgb3A6ICdzeW5jJywKICAgIGJvZGllczogd29ybGQuYm9kaWVzLm1hcChib2R5ID0+IGJvZHkudXVpZCkKICB9KTsKICBib2RpZXMgPSB3b3JsZC5ib2RpZXMucmVkdWNlKChhY2MsIGJvZHkpID0+IF9leHRlbmRzKHt9LCBhY2MsIHsKICAgIFtib2R5LnV1aWRdOiBib2R5CiAgfSksIHt9KTsKfQoKc2VsZi5vbm1lc3NhZ2UgPSBlID0+IHsKICBjb25zdCB7CiAgICBvcCwKICAgIHV1aWQsCiAgICB0eXBlLAogICAgcG9zaXRpb25zLAogICAgcXVhdGVybmlvbnMsCiAgICBwcm9wcwogIH0gPSBlLmRhdGE7CgogIHN3aXRjaCAob3ApIHsKICAgIGNhc2UgJ2luaXQnOgogICAgICB7CiAgICAgICAgY29uc3QgewogICAgICAgICAgZ3Jhdml0eSwKICAgICAgICAgIHRvbGVyYW5jZSwKICAgICAgICAgIHN0ZXAsCiAgICAgICAgICBpdGVyYXRpb25zLAogICAgICAgICAgYWxsb3dTbGVlcCwKICAgICAgICAgIGJyb2FkcGhhc2UsCiAgICAgICAgICBheGlzSW5kZXgsCiAgICAgICAgICBkZWZhdWx0Q29udGFjdE1hdGVyaWFsCiAgICAgICAgfSA9IHByb3BzOwogICAgICAgIGNvbnN0IGJyb2FkcGhhc2VzID0gewogICAgICAgICAgTmFpdmVCcm9hZHBoYXNlLAogICAgICAgICAgU0FQQnJvYWRwaGFzZQogICAgICAgIH07CiAgICAgICAgd29ybGQuYWxsb3dTbGVlcCA9IGFsbG93U2xlZXA7CiAgICAgICAgd29ybGQuZ3Jhdml0eS5zZXQoZ3Jhdml0eVswXSwgZ3Jhdml0eVsxXSwgZ3Jhdml0eVsyXSk7CiAgICAgICAgd29ybGQuc29sdmVyLnRvbGVyYW5jZSA9IHRvbGVyYW5jZTsKICAgICAgICB3b3JsZC5zb2x2ZXIuaXRlcmF0aW9ucyA9IGl0ZXJhdGlvbnM7CiAgICAgICAgd29ybGQuYnJvYWRwaGFzZSA9IG5ldyAoYnJvYWRwaGFzZXNbYnJvYWRwaGFzZSArICdCcm9hZHBoYXNlJ10gfHwgTmFpdmVCcm9hZHBoYXNlKSh3b3JsZCk7CiAgICAgICAgd29ybGQuYnJvYWRwaGFzZS5heGlzSW5kZXggPSBheGlzSW5kZXggIT0gbnVsbCA/IGF4aXNJbmRleCA6IDA7CiAgICAgICAgT2JqZWN0LmFzc2lnbih3b3JsZC5kZWZhdWx0Q29udGFjdE1hdGVyaWFsLCBkZWZhdWx0Q29udGFjdE1hdGVyaWFsKTsKICAgICAgICBjb25maWcuc3RlcCA9IHN0ZXA7CiAgICAgICAgYnJlYWs7CiAgICAgIH0KCiAgICBjYXNlICdzdGVwJzoKICAgICAgewogICAgICAgIHdvcmxkLnN0ZXAoY29uZmlnLnN0ZXApOwogICAgICAgIGNvbnN0IG51bWJlck9mQm9kaWVzID0gd29ybGQuYm9kaWVzLmxlbmd0aDsKCiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBudW1iZXJPZkJvZGllczsgaSsrKSB7CiAgICAgICAgICBsZXQgYiA9IHdvcmxkLmJvZGllc1tpXSwKICAgICAgICAgICAgICBwID0gYi5wb3NpdGlvbiwKICAgICAgICAgICAgICBxID0gYi5xdWF0ZXJuaW9uOwogICAgICAgICAgcG9zaXRpb25zWzMgKiBpICsgMF0gPSBwLng7CiAgICAgICAgICBwb3NpdGlvbnNbMyAqIGkgKyAxXSA9IHAueTsKICAgICAgICAgIHBvc2l0aW9uc1szICogaSArIDJdID0gcC56OwogICAgICAgICAgcXVhdGVybmlvbnNbNCAqIGkgKyAwXSA9IHEueDsKICAgICAgICAgIHF1YXRlcm5pb25zWzQgKiBpICsgMV0gPSBxLnk7CiAgICAgICAgICBxdWF0ZXJuaW9uc1s0ICogaSArIDJdID0gcS56OwogICAgICAgICAgcXVhdGVybmlvbnNbNCAqIGkgKyAzXSA9IHEudzsKICAgICAgICB9CgogICAgICAgIGNvbnN0IG9ic2VydmF0aW9ucyA9IFtdOwoKICAgICAgICBmb3IgKGNvbnN0IGlkIG9mIE9iamVjdC5rZXlzKHN1YnNjcmlwdGlvbnMpKSB7CiAgICAgICAgICBjb25zdCBbdXVpZCwgdHlwZV0gPSBzdWJzY3JpcHRpb25zW2lkXTsKICAgICAgICAgIGxldCB2YWx1ZSA9IGJvZGllc1t1dWlkXVt0eXBlXTsKICAgICAgICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIFZlYzMpIHZhbHVlID0gdmFsdWUudG9BcnJheSgpO2Vsc2UgaWYgKHZhbHVlIGluc3RhbmNlb2YgUXVhdGVybmlvbikgewogICAgICAgICAgICB2YWx1ZS50b0V1bGVyKHRlbXBWZWN0b3IpOwogICAgICAgICAgICB2YWx1ZSA9IHRlbXBWZWN0b3IudG9BcnJheSgpOwogICAgICAgICAgfQogICAgICAgICAgb2JzZXJ2YXRpb25zLnB1c2goW2lkLCB2YWx1ZV0pOwogICAgICAgIH0KCiAgICAgICAgc2VsZi5wb3N0TWVzc2FnZSh7CiAgICAgICAgICBvcDogJ2ZyYW1lJywKICAgICAgICAgIHBvc2l0aW9ucywKICAgICAgICAgIHF1YXRlcm5pb25zLAogICAgICAgICAgb2JzZXJ2YXRpb25zLAogICAgICAgICAgYWN0aXZlOiB3b3JsZC5oYXNBY3RpdmVCb2RpZXMKICAgICAgICB9LCBbcG9zaXRpb25zLmJ1ZmZlciwgcXVhdGVybmlvbnMuYnVmZmVyXSk7CiAgICAgICAgYnJlYWs7CiAgICAgIH0KCiAgICBjYXNlICdhZGRCb2RpZXMnOgogICAgICB7CiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB1dWlkLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICBjb25zdCBfcHJvcHMkaSA9IHByb3BzW2ldLAogICAgICAgICAgICAgICAgewogICAgICAgICAgICBhcmdzID0gW10sCiAgICAgICAgICAgIHBvc2l0aW9uID0gWzAsIDAsIDBdLAogICAgICAgICAgICByb3RhdGlvbiA9IFswLCAwLCAwXSwKICAgICAgICAgICAgc2NhbGUgPSBbMSwgMSwgMV0sCiAgICAgICAgICAgIHZlbG9jaXR5ID0gWzAsIDAsIDBdLAogICAgICAgICAgICBhbmd1bGFyVmVsb2NpdHkgPSBbMCwgMCwgMF0sCiAgICAgICAgICAgIGxpbmVhckZhY3RvciA9IFsxLCAxLCAxXSwKICAgICAgICAgICAgYW5ndWxhckZhY3RvciA9IFsxLCAxLCAxXSwKICAgICAgICAgICAgdHlwZTogYm9keVR5cGUsCiAgICAgICAgICAgIG1hc3MsCiAgICAgICAgICAgIG1hdGVyaWFsLAogICAgICAgICAgICBzaGFwZXMsCiAgICAgICAgICAgIG9uQ29sbGlkZQogICAgICAgICAgfSA9IF9wcm9wcyRpLAogICAgICAgICAgICAgICAgZXh0cmEgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShfcHJvcHMkaSwgWyJhcmdzIiwgInBvc2l0aW9uIiwgInJvdGF0aW9uIiwgInNjYWxlIiwgInZlbG9jaXR5IiwgImFuZ3VsYXJWZWxvY2l0eSIsICJsaW5lYXJGYWN0b3IiLCAiYW5ndWxhckZhY3RvciIsICJ0eXBlIiwgIm1hc3MiLCAibWF0ZXJpYWwiLCAic2hhcGVzIiwgIm9uQ29sbGlkZSJdKTsKCiAgICAgICAgICBjb25zdCBib2R5ID0gbmV3IEJvZHkoX2V4dGVuZHMoe30sIGV4dHJhLCB7CiAgICAgICAgICAgIG1hc3M6IGJvZHlUeXBlID09PSAnU3RhdGljJyA/IDAgOiBtYXNzLAogICAgICAgICAgICB0eXBlOiBib2R5VHlwZSA/IEJvZHlbYm9keVR5cGUudG9VcHBlckNhc2UoKV0gOiB1bmRlZmluZWQsCiAgICAgICAgICAgIG1hdGVyaWFsOiBtYXRlcmlhbCA/IG5ldyBNYXRlcmlhbChtYXRlcmlhbCkgOiB1bmRlZmluZWQKICAgICAgICAgIH0pKTsKICAgICAgICAgIGJvZHkudXVpZCA9IHV1aWRbaV07CgogICAgICAgICAgaWYgKHR5cGUgPT09ICdDb21wb3VuZCcpIHsKICAgICAgICAgICAgc2hhcGVzLmZvckVhY2goKF9yZWYpID0+IHsKICAgICAgICAgICAgICBsZXQgewogICAgICAgICAgICAgICAgdHlwZSwKICAgICAgICAgICAgICAgIGFyZ3MsCiAgICAgICAgICAgICAgICBwb3NpdGlvbiwKICAgICAgICAgICAgICAgIHJvdGF0aW9uLAogICAgICAgICAgICAgICAgbWF0ZXJpYWwKICAgICAgICAgICAgICB9ID0gX3JlZiwKICAgICAgICAgICAgICAgICAgZXh0cmEgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShfcmVmLCBbInR5cGUiLCAiYXJncyIsICJwb3NpdGlvbiIsICJyb3RhdGlvbiIsICJtYXRlcmlhbCJdKTsKCiAgICAgICAgICAgICAgY29uc3Qgc2hhcGVCb2R5ID0gYm9keS5hZGRTaGFwZShjcmVhdGVTaGFwZSh0eXBlLCBhcmdzKSwgcG9zaXRpb24gPyBuZXcgVmVjMyguLi5wb3NpdGlvbikgOiB1bmRlZmluZWQsIHJvdGF0aW9uID8gbmV3IFF1YXRlcm5pb24oKS5zZXRGcm9tRXVsZXIoLi4ucm90YXRpb24pIDogdW5kZWZpbmVkKTsKICAgICAgICAgICAgICBpZiAobWF0ZXJpYWwpIHNoYXBlQm9keS5tYXRlcmlhbCA9IG5ldyBNYXRlcmlhbChtYXRlcmlhbCk7CiAgICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihzaGFwZUJvZHksIGV4dHJhKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBib2R5LmFkZFNoYXBlKGNyZWF0ZVNoYXBlKHR5cGUsIGFyZ3MpKTsKICAgICAgICAgIH0KCiAgICAgICAgICBib2R5LnBvc2l0aW9uLnNldChwb3NpdGlvblswXSwgcG9zaXRpb25bMV0sIHBvc2l0aW9uWzJdKTsKICAgICAgICAgIGJvZHkucXVhdGVybmlvbi5zZXRGcm9tRXVsZXIocm90YXRpb25bMF0sIHJvdGF0aW9uWzFdLCByb3RhdGlvblsyXSk7CiAgICAgICAgICBib2R5LnZlbG9jaXR5LnNldCh2ZWxvY2l0eVswXSwgdmVsb2NpdHlbMV0sIHZlbG9jaXR5WzJdKTsKICAgICAgICAgIGJvZHkuYW5ndWxhclZlbG9jaXR5LnNldChhbmd1bGFyVmVsb2NpdHlbMF0sIGFuZ3VsYXJWZWxvY2l0eVsxXSwgYW5ndWxhclZlbG9jaXR5WzJdKTsKICAgICAgICAgIGJvZHkubGluZWFyRmFjdG9yLnNldChsaW5lYXJGYWN0b3JbMF0sIGxpbmVhckZhY3RvclsxXSwgbGluZWFyRmFjdG9yWzJdKTsKICAgICAgICAgIGJvZHkuYW5ndWxhckZhY3Rvci5zZXQoYW5ndWxhckZhY3RvclswXSwgYW5ndWxhckZhY3RvclsxXSwgYW5ndWxhckZhY3RvclsyXSk7CiAgICAgICAgICB3b3JsZC5hZGRCb2R5KGJvZHkpOwogICAgICAgICAgaWYgKG9uQ29sbGlkZSkgYm9keS5hZGRFdmVudExpc3RlbmVyKCdjb2xsaWRlJywgKHsKICAgICAgICAgICAgdHlwZSwKICAgICAgICAgICAgYm9keSwKICAgICAgICAgICAgdGFyZ2V0LAogICAgICAgICAgICBjb250YWN0CiAgICAgICAgICB9KSA9PiB7CiAgICAgICAgICAgIGNvbnN0IHsKICAgICAgICAgICAgICBuaSwKICAgICAgICAgICAgICByaSwKICAgICAgICAgICAgICByagogICAgICAgICAgICB9ID0gY29udGFjdDsKICAgICAgICAgICAgc2VsZi5wb3N0TWVzc2FnZSh7CiAgICAgICAgICAgICAgb3A6ICdldmVudCcsCiAgICAgICAgICAgICAgdHlwZSwKICAgICAgICAgICAgICBib2R5OiBib2R5LnV1aWQsCiAgICAgICAgICAgICAgdGFyZ2V0OiB0YXJnZXQudXVpZCwKICAgICAgICAgICAgICBjb250YWN0OiB7CiAgICAgICAgICAgICAgICBuaTogbmkudG9BcnJheSgpLAogICAgICAgICAgICAgICAgcmk6IHJpLnRvQXJyYXkoKSwKICAgICAgICAgICAgICAgIHJqOiByai50b0FycmF5KCksCiAgICAgICAgICAgICAgICBpbXBhY3RWZWxvY2l0eTogY29udGFjdC5nZXRJbXBhY3RWZWxvY2l0eUFsb25nTm9ybWFsKCkKICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgIGNvbGxpc2lvbkZpbHRlcnM6IHsKICAgICAgICAgICAgICAgIGJvZHlGaWx0ZXJHcm91cDogYm9keS5jb2xsaXNpb25GaWx0ZXJHcm91cCwKICAgICAgICAgICAgICAgIGJvZHlGaWx0ZXJNYXNrOiBib2R5LmNvbGxpc2lvbkZpbHRlck1hc2ssCiAgICAgICAgICAgICAgICB0YXJnZXRGaWx0ZXJHcm91cDogdGFyZ2V0LmNvbGxpc2lvbkZpbHRlckdyb3VwLAogICAgICAgICAgICAgICAgdGFyZ2V0RmlsdGVyTWFzazogdGFyZ2V0LmNvbGxpc2lvbkZpbHRlck1hc2sKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSk7CiAgICAgICAgfQoKICAgICAgICBzeW5jQm9kaWVzKCk7CiAgICAgICAgYnJlYWs7CiAgICAgIH0KCiAgICBjYXNlICdyZW1vdmVCb2RpZXMnOgogICAgICB7CiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB1dWlkLmxlbmd0aDsgaSsrKSB3b3JsZC5yZW1vdmVCb2R5KGJvZGllc1t1dWlkW2ldXSk7CgogICAgICAgIHN5bmNCb2RpZXMoKTsKICAgICAgICBicmVhazsKICAgICAgfQoKICAgIGNhc2UgJ3N1YnNjcmliZSc6CiAgICAgIHsKICAgICAgICBjb25zdCB7CiAgICAgICAgICBpZCwKICAgICAgICAgIHR5cGUKICAgICAgICB9ID0gcHJvcHM7CiAgICAgICAgc3Vic2NyaXB0aW9uc1tpZF0gPSBbdXVpZCwgdHlwZV07CiAgICAgICAgYnJlYWs7CiAgICAgIH0KCiAgICBjYXNlICd1bnN1YnNjcmliZSc6CiAgICAgIHsKICAgICAgICBkZWxldGUgc3Vic2NyaXB0aW9uc1twcm9wc107CiAgICAgICAgYnJlYWs7CiAgICAgIH0KCiAgICBjYXNlICdzZXRQb3NpdGlvbic6CiAgICAgIGJvZGllc1t1dWlkXS5wb3NpdGlvbi5zZXQocHJvcHNbMF0sIHByb3BzWzFdLCBwcm9wc1syXSk7CiAgICAgIGJyZWFrOwoKICAgIGNhc2UgJ3NldFF1YXRlcm5pb24nOgogICAgICBib2RpZXNbdXVpZF0ucXVhdGVybmlvbi5zZXRGcm9tRXVsZXIocHJvcHNbMF0sIHByb3BzWzFdLCBwcm9wc1syXSk7CiAgICAgIGJyZWFrOwoKICAgIGNhc2UgJ3NldFZlbG9jaXR5JzoKICAgICAgYm9kaWVzW3V1aWRdLnZlbG9jaXR5LnNldChwcm9wc1swXSwgcHJvcHNbMV0sIHByb3BzWzJdKTsKICAgICAgYnJlYWs7CgogICAgY2FzZSAnc2V0QW5ndWxhclZlbG9jaXR5JzoKICAgICAgYm9kaWVzW3V1aWRdLmFuZ3VsYXJWZWxvY2l0eS5zZXQocHJvcHNbMF0sIHByb3BzWzFdLCBwcm9wc1syXSk7CiAgICAgIGJyZWFrOwoKICAgIGNhc2UgJ3NldExpbmVhckZhY3Rvcic6CiAgICAgIGJvZGllc1t1dWlkXS5saW5lYXJGYWN0b3Iuc2V0KHByb3BzWzBdLCBwcm9wc1sxXSwgcHJvcHNbMl0pOwogICAgICBicmVhazsKCiAgICBjYXNlICdzZXRBbmd1bGFyRmFjdG9yJzoKICAgICAgYm9kaWVzW3V1aWRdLmFuZ3VsYXJGYWN0b3Iuc2V0KHByb3BzWzBdLCBwcm9wc1sxXSwgcHJvcHNbMl0pOwogICAgICBicmVhazsKCiAgICBjYXNlICdzZXRNYXNzJzoKICAgICAgYm9kaWVzW3V1aWRdLm1hc3MgPSBwcm9wczsKICAgICAgYnJlYWs7CgogICAgY2FzZSAnc2V0TGluZWFyRGFtcGluZyc6CiAgICAgIGJvZGllc1t1dWlkXS5saW5lYXJEYW1waW5nID0gcHJvcHM7CiAgICAgIGJyZWFrOwoKICAgIGNhc2UgJ3NldEFuZ3VsYXJEYW1waW5nJzoKICAgICAgYm9kaWVzW3V1aWRdLmFuZ3VsYXJEYW1waW5nID0gcHJvcHM7CiAgICAgIGJyZWFrOwoKICAgIGNhc2UgJ3NldEFsbG93U2xlZXAnOgogICAgICBib2RpZXNbdXVpZF0uYWxsb3dTbGVlcCA9IHByb3BzOwogICAgICBicmVhazsKCiAgICBjYXNlICdzZXRTbGVlcFNwZWVkTGltaXQnOgogICAgICBib2RpZXNbdXVpZF0uc2xlZXBTcGVlZExpbWl0ID0gcHJvcHM7CiAgICAgIGJyZWFrOwoKICAgIGNhc2UgJ3NldFNsZWVwVGltZUxpbWl0JzoKICAgICAgYm9kaWVzW3V1aWRdLnNsZWVwVGltZUxpbWl0ID0gcHJvcHM7CiAgICAgIGJyZWFrOwoKICAgIGNhc2UgJ3NldENvbGxpc2lvbkZpbHRlckdyb3VwJzoKICAgICAgYm9kaWVzW3V1aWRdLmNvbGxpc2lvbkZpbHRlckdyb3VwID0gcHJvcHM7CiAgICAgIGJyZWFrOwoKICAgIGNhc2UgJ3NldENvbGxpc2lvbkZpbHRlck1hc2snOgogICAgICBib2RpZXNbdXVpZF0uY29sbGlzaW9uRmlsdGVyTWFzayA9IHByb3BzOwogICAgICBicmVhazsKCiAgICBjYXNlICdzZXRDb2xsaXNpb25GaWx0ZXJNYXNrJzoKICAgICAgYm9kaWVzW3V1aWRdLmNvbGxpc2lvbkZpbHRlck1hc2sgPSBwcm9wczsKICAgICAgYnJlYWs7CgogICAgY2FzZSAnc2V0Rml4ZWRSb3RhdGlvbic6CiAgICAgIGJvZGllc1t1dWlkXS5maXhlZFJvdGF0aW9uID0gcHJvcHM7CiAgICAgIGJyZWFrOwoKICAgIGNhc2UgJ2FwcGx5Rm9yY2UnOgogICAgICBib2RpZXNbdXVpZF0uYXBwbHlGb3JjZShuZXcgVmVjMyguLi5wcm9wc1swXSksIG5ldyBWZWMzKC4uLnByb3BzWzFdKSk7CiAgICAgIGJyZWFrOwoKICAgIGNhc2UgJ2FwcGx5SW1wdWxzZSc6CiAgICAgIGJvZGllc1t1dWlkXS5hcHBseUltcHVsc2UobmV3IFZlYzMoLi4ucHJvcHNbMF0pLCBuZXcgVmVjMyguLi5wcm9wc1sxXSkpOwogICAgICBicmVhazsKCiAgICBjYXNlICdhcHBseUxvY2FsRm9yY2UnOgogICAgICBib2RpZXNbdXVpZF0uYXBwbHlMb2NhbEZvcmNlKG5ldyBWZWMzKC4uLnByb3BzWzBdKSwgbmV3IFZlYzMoLi4ucHJvcHNbMV0pKTsKICAgICAgYnJlYWs7CgogICAgY2FzZSAnYXBwbHlMb2NhbEltcHVsc2UnOgogICAgICBib2RpZXNbdXVpZF0uYXBwbHlMb2NhbEltcHVsc2UobmV3IFZlYzMoLi4ucHJvcHNbMF0pLCBuZXcgVmVjMyguLi5wcm9wc1sxXSkpOwogICAgICBicmVhazsKCiAgICBjYXNlICdhZGRDb25zdHJhaW50JzoKICAgICAgewogICAgICAgIGNvbnN0IFtib2R5QSwgYm9keUIsIG9wdG5zXSA9IHByb3BzOwoKICAgICAgICBsZXQgewogICAgICAgICAgcGl2b3RBLAogICAgICAgICAgcGl2b3RCLAogICAgICAgICAgYXhpc0EsCiAgICAgICAgICBheGlzQgogICAgICAgIH0gPSBvcHRucywKICAgICAgICAgICAgb3B0aW9ucyA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKG9wdG5zLCBbInBpdm90QSIsICJwaXZvdEIiLCAiYXhpc0EiLCAiYXhpc0IiXSk7IC8vIGlzIHRoZXJlIGEgYmV0dGVyIHdheSB0byBlbmZvcmNlIGRlZmF1bHRzPwoKCiAgICAgICAgcGl2b3RBID0gQXJyYXkuaXNBcnJheShwaXZvdEEpID8gbmV3IFZlYzMoLi4ucGl2b3RBKSA6IHVuZGVmaW5lZDsKICAgICAgICBwaXZvdEIgPSBBcnJheS5pc0FycmF5KHBpdm90QikgPyBuZXcgVmVjMyguLi5waXZvdEIpIDogdW5kZWZpbmVkOwogICAgICAgIGF4aXNBID0gQXJyYXkuaXNBcnJheShheGlzQSkgPyBuZXcgVmVjMyguLi5heGlzQSkgOiB1bmRlZmluZWQ7CiAgICAgICAgYXhpc0IgPSBBcnJheS5pc0FycmF5KGF4aXNCKSA/IG5ldyBWZWMzKC4uLmF4aXNCKSA6IHVuZGVmaW5lZDsKICAgICAgICBsZXQgY29uc3RyYWludDsKCiAgICAgICAgc3dpdGNoICh0eXBlKSB7CiAgICAgICAgICBjYXNlICdQb2ludFRvUG9pbnQnOgogICAgICAgICAgICBjb25zdHJhaW50ID0gbmV3IFBvaW50VG9Qb2ludENvbnN0cmFpbnQoYm9kaWVzW2JvZHlBXSwgcGl2b3RBLCBib2RpZXNbYm9keUJdLCBwaXZvdEIsIG9wdG5zLm1heEZvcmNlKTsKICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgY2FzZSAnQ29uZVR3aXN0JzoKICAgICAgICAgICAgY29uc3RyYWludCA9IG5ldyBDb25lVHdpc3RDb25zdHJhaW50KGJvZGllc1tib2R5QV0sIGJvZGllc1tib2R5Ql0sIF9leHRlbmRzKHsKICAgICAgICAgICAgICBwaXZvdEEsCiAgICAgICAgICAgICAgcGl2b3RCLAogICAgICAgICAgICAgIGF4aXNBLAogICAgICAgICAgICAgIGF4aXNCCiAgICAgICAgICAgIH0sIG9wdGlvbnMpKTsKICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgY2FzZSAnSGluZ2UnOgogICAgICAgICAgICBjb25zdHJhaW50ID0gbmV3IEhpbmdlQ29uc3RyYWludChib2RpZXNbYm9keUFdLCBib2RpZXNbYm9keUJdLCBfZXh0ZW5kcyh7CiAgICAgICAgICAgICAgcGl2b3RBLAogICAgICAgICAgICAgIHBpdm90QiwKICAgICAgICAgICAgICBheGlzQSwKICAgICAgICAgICAgICBheGlzQgogICAgICAgICAgICB9LCBvcHRpb25zKSk7CiAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgIGNhc2UgJ0Rpc3RhbmNlJzoKICAgICAgICAgICAgY29uc3RyYWludCA9IG5ldyBEaXN0YW5jZUNvbnN0cmFpbnQoYm9kaWVzW2JvZHlBXSwgYm9kaWVzW2JvZHlCXSwgb3B0bnMuZGlzdGFuY2UsIG9wdG5zLm1heEZvcmNlKTsKICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgY2FzZSAnTG9jayc6CiAgICAgICAgICAgIGNvbnN0cmFpbnQgPSBuZXcgTG9ja0NvbnN0cmFpbnQoYm9kaWVzW2JvZHlBXSwgYm9kaWVzW2JvZHlCXSwgb3B0bnMpOwogICAgICAgICAgICBicmVhazsKCiAgICAgICAgICBkZWZhdWx0OgogICAgICAgICAgICBjb25zdHJhaW50ID0gbmV3IENvbnN0cmFpbnQoYm9kaWVzW2JvZHlBXSwgYm9kaWVzW2JvZHlCXSwgb3B0bnMpOwogICAgICAgICAgICBicmVhazsKICAgICAgICB9CgogICAgICAgIGNvbnN0cmFpbnQudXVpZCA9IHV1aWQ7CiAgICAgICAgd29ybGQuYWRkQ29uc3RyYWludChjb25zdHJhaW50KTsKICAgICAgICBicmVhazsKICAgICAgfQoKICAgIGNhc2UgJ3JlbW92ZUNvbnN0cmFpbnQnOgogICAgICB3b3JsZC5jb25zdHJhaW50cy5maWx0ZXIoKHsKICAgICAgICB1dWlkOiB0aGlzSWQKICAgICAgfSkgPT4gdGhpc0lkID09PSB1dWlkKS5tYXAoYyA9PiB3b3JsZC5yZW1vdmVDb25zdHJhaW50KGMpKTsKICAgICAgYnJlYWs7CgogICAgY2FzZSAnZW5hYmxlQ29uc3RyYWludCc6CiAgICAgIHdvcmxkLmNvbnN0cmFpbnRzLmZpbHRlcigoewogICAgICAgIHV1aWQ6IHRoaXNJZAogICAgICB9KSA9PiB0aGlzSWQgPT09IHV1aWQpLm1hcChjID0+IGMuZW5hYmxlKCkpOwogICAgICBicmVhazsKCiAgICBjYXNlICdkaXNhYmxlQ29uc3RyYWludCc6CiAgICAgIHdvcmxkLmNvbnN0cmFpbnRzLmZpbHRlcigoewogICAgICAgIHV1aWQ6IHRoaXNJZAogICAgICB9KSA9PiB0aGlzSWQgPT09IHV1aWQpLm1hcChjID0+IGMuZGlzYWJsZSgpKTsKICAgICAgYnJlYWs7CgogICAgY2FzZSAnYWRkU3ByaW5nJzoKICAgICAgewogICAgICAgIGNvbnN0IFtib2R5QSwgYm9keUIsIG9wdG5zXSA9IHByb3BzOwogICAgICAgIGxldCB7CiAgICAgICAgICB3b3JsZEFuY2hvckEsCiAgICAgICAgICB3b3JsZEFuY2hvckIsCiAgICAgICAgICBsb2NhbEFuY2hvckEsCiAgICAgICAgICBsb2NhbEFuY2hvckIsCiAgICAgICAgICByZXN0TGVuZ3RoLAogICAgICAgICAgc3RpZmZuZXNzLAogICAgICAgICAgZGFtcGluZwogICAgICAgIH0gPSBvcHRuczsKICAgICAgICB3b3JsZEFuY2hvckEgPSBBcnJheS5pc0FycmF5KHdvcmxkQW5jaG9yQSkgPyBuZXcgVmVjMyguLi53b3JsZEFuY2hvckEpIDogdW5kZWZpbmVkOwogICAgICAgIHdvcmxkQW5jaG9yQiA9IEFycmF5LmlzQXJyYXkod29ybGRBbmNob3JCKSA/IG5ldyBWZWMzKC4uLndvcmxkQW5jaG9yQikgOiB1bmRlZmluZWQ7CiAgICAgICAgbG9jYWxBbmNob3JBID0gQXJyYXkuaXNBcnJheShsb2NhbEFuY2hvckEpID8gbmV3IFZlYzMoLi4ubG9jYWxBbmNob3JBKSA6IHVuZGVmaW5lZDsKICAgICAgICBsb2NhbEFuY2hvckIgPSBBcnJheS5pc0FycmF5KGxvY2FsQW5jaG9yQikgPyBuZXcgVmVjMyguLi5sb2NhbEFuY2hvckIpIDogdW5kZWZpbmVkOwogICAgICAgIGxldCBzcHJpbmcgPSBuZXcgU3ByaW5nKGJvZGllc1tib2R5QV0sIGJvZGllc1tib2R5Ql0sIHsKICAgICAgICAgIHdvcmxkQW5jaG9yQSwKICAgICAgICAgIHdvcmxkQW5jaG9yQiwKICAgICAgICAgIGxvY2FsQW5jaG9yQSwKICAgICAgICAgIGxvY2FsQW5jaG9yQiwKICAgICAgICAgIHJlc3RMZW5ndGgsCiAgICAgICAgICBzdGlmZm5lc3MsCiAgICAgICAgICBkYW1waW5nCiAgICAgICAgfSk7CiAgICAgICAgc3ByaW5nLnV1aWQgPSB1dWlkOwoKICAgICAgICBsZXQgcG9zdFN0ZXBTcHJpbmcgPSBlID0+IHNwcmluZy5hcHBseUZvcmNlKCk7CgogICAgICAgIHNwcmluZ3NbdXVpZF0gPSBwb3N0U3RlcFNwcmluZzsgLy8gQ29tcHV0ZSB0aGUgZm9yY2UgYWZ0ZXIgZWFjaCBzdGVwCgogICAgICAgIHdvcmxkLmFkZEV2ZW50TGlzdGVuZXIoJ3Bvc3RTdGVwJywgc3ByaW5nc1t1dWlkXSk7CiAgICAgICAgYnJlYWs7CiAgICAgIH0KCiAgICBjYXNlICdyZW1vdmVTcHJpbmcnOgogICAgICB7CiAgICAgICAgd29ybGQucmVtb3ZlRXZlbnRMaXN0ZW5lcigncG9zdFN0ZXAnLCBzcHJpbmdzW3V1aWRdKTsKICAgICAgICBicmVhazsKICAgICAgfQoKICAgIGNhc2UgJ2FkZFJheSc6CiAgICAgIHsKICAgICAgICBjb25zdCB7CiAgICAgICAgICBmcm9tLAogICAgICAgICAgdG8KICAgICAgICB9ID0gcHJvcHMsCiAgICAgICAgICAgICAgb3B0aW9ucyA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHByb3BzLCBbImZyb20iLCAidG8iXSk7CgogICAgICAgIGNvbnN0IHJheSA9IG5ldyBSYXkoZnJvbSA/IG5ldyBWZWMzKC4uLmZyb20pIDogdW5kZWZpbmVkLCB0byA/IG5ldyBWZWMzKC4uLnRvKSA6IHVuZGVmaW5lZCk7CiAgICAgICAgb3B0aW9ucy5tb2RlID0gUmF5W29wdGlvbnMubW9kZS50b1VwcGVyQ2FzZSgpXTsKICAgICAgICBvcHRpb25zLnJlc3VsdCA9IG5ldyBSYXljYXN0UmVzdWx0KCk7CgogICAgICAgIHJheXNbdXVpZF0gPSAoKSA9PiB7CiAgICAgICAgICByYXkuaW50ZXJzZWN0V29ybGQod29ybGQsIG9wdGlvbnMpOwoKICAgICAgICAgIGNvbnN0IF9vcHRpb25zJHJlc3VsdCA9IG9wdGlvbnMucmVzdWx0LAogICAgICAgICAgICAgICAgewogICAgICAgICAgICBib2R5LAogICAgICAgICAgICBzaGFwZSwKICAgICAgICAgICAgcmF5RnJvbVdvcmxkLAogICAgICAgICAgICByYXlUb1dvcmxkLAogICAgICAgICAgICBoaXROb3JtYWxXb3JsZCwKICAgICAgICAgICAgaGl0UG9pbnRXb3JsZAogICAgICAgICAgfSA9IF9vcHRpb25zJHJlc3VsdCwKICAgICAgICAgICAgICAgIHJlc3QgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShfb3B0aW9ucyRyZXN1bHQsIFsiYm9keSIsICJzaGFwZSIsICJyYXlGcm9tV29ybGQiLCAicmF5VG9Xb3JsZCIsICJoaXROb3JtYWxXb3JsZCIsICJoaXRQb2ludFdvcmxkIl0pOwoKICAgICAgICAgIHNlbGYucG9zdE1lc3NhZ2UoX2V4dGVuZHMoewogICAgICAgICAgICBvcDogJ2V2ZW50JywKICAgICAgICAgICAgdHlwZTogJ3JheWhpdCcsCiAgICAgICAgICAgIHJheTogewogICAgICAgICAgICAgIGZyb20sCiAgICAgICAgICAgICAgdG8sCiAgICAgICAgICAgICAgZGlyZWN0aW9uOiByYXkuZGlyZWN0aW9uLnRvQXJyYXkoKSwKICAgICAgICAgICAgICBjb2xsaXNpb25GaWx0ZXJHcm91cDogcmF5LmNvbGxpc2lvbkZpbHRlckdyb3VwLAogICAgICAgICAgICAgIGNvbGxpc2lvbkZpbHRlck1hc2s6IHJheS5jb2xsaXNpb25GaWx0ZXJNYXNrLAogICAgICAgICAgICAgIHV1aWQKICAgICAgICAgICAgfSwKICAgICAgICAgICAgYm9keTogYm9keSA/IGJvZHkudXVpZCA6IG51bGwsCiAgICAgICAgICAgIHNoYXBlOiBzaGFwZSA/IF9leHRlbmRzKHt9LCBzaGFwZSwgewogICAgICAgICAgICAgIGJvZHk6IGJvZHkudXVpZAogICAgICAgICAgICB9KSA6IG51bGwsCiAgICAgICAgICAgIHJheUZyb21Xb3JsZDogcmF5RnJvbVdvcmxkLnRvQXJyYXkoKSwKICAgICAgICAgICAgcmF5VG9Xb3JsZDogcmF5VG9Xb3JsZC50b0FycmF5KCksCiAgICAgICAgICAgIGhpdE5vcm1hbFdvcmxkOiBoaXROb3JtYWxXb3JsZC50b0FycmF5KCksCiAgICAgICAgICAgIGhpdFBvaW50V29ybGQ6IGhpdFBvaW50V29ybGQudG9BcnJheSgpCiAgICAgICAgICB9LCByZXN0KSk7CiAgICAgICAgfTsKCiAgICAgICAgd29ybGQuYWRkRXZlbnRMaXN0ZW5lcigncHJlU3RlcCcsIHJheXNbdXVpZF0pOwogICAgICAgIGJyZWFrOwogICAgICB9CgogICAgY2FzZSAncmVtb3ZlUmF5JzoKICAgICAgewogICAgICAgIHdvcmxkLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3ByZVN0ZXAnLCByYXlzW3V1aWRdKTsKICAgICAgICBkZWxldGUgcmF5c1t1dWlkXTsKICAgICAgICBicmVhazsKICAgICAgfQogIH0KfTsKCg==', 'data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoid29ya2VyLmpzIiwic291cmNlcyI6WyJ3b3JrZXI6Ly93ZWItd29ya2VyL3NyYy9ub2RlX21vZHVsZXMvY2Fubm9uLWVzL2Rpc3QvY2Fubm9uLWVzLmpzIiwid29ya2VyOi8vd2ViLXdvcmtlci9zcmMvd29ya2VyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBSZWNvcmRzIHdoYXQgb2JqZWN0cyBhcmUgY29sbGlkaW5nIHdpdGggZWFjaCBvdGhlclxyXG4gKiBAY2xhc3MgT2JqZWN0Q29sbGlzaW9uTWF0cml4XHJcbiAqIEBjb25zdHJ1Y3RvclxyXG4gKi9cbmNsYXNzIE9iamVjdENvbGxpc2lvbk1hdHJpeCB7XG4gIC8vIFRoZSBtYXRyaXggc3RvcmFnZS5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5tYXRyaXggPSB7fTtcbiAgfVxuICAvKipcclxuICAgKiBAbWV0aG9kIGdldFxyXG4gICAqIEBwYXJhbSAge0JvZHl9IGlcclxuICAgKiBAcGFyYW0gIHtCb2R5fSBqXHJcbiAgICogQHJldHVybiB7Ym9vbGVhbn1cclxuICAgKi9cblxuXG4gIGdldChiaSwgYmopIHtcbiAgICBsZXQge1xuICAgICAgaWQ6IGlcbiAgICB9ID0gYmk7XG4gICAgbGV0IHtcbiAgICAgIGlkOiBqXG4gICAgfSA9IGJqO1xuXG4gICAgaWYgKGogPiBpKSB7XG4gICAgICBjb25zdCB0ZW1wID0gajtcbiAgICAgIGogPSBpO1xuICAgICAgaSA9IHRlbXA7XG4gICAgfVxuXG4gICAgcmV0dXJuIGkgKyBcIi1cIiArIGogaW4gdGhpcy5tYXRyaXg7XG4gIH1cbiAgLyoqXHJcbiAgICogQG1ldGhvZCBzZXRcclxuICAgKiBAcGFyYW0gIHtCb2R5fSBpXHJcbiAgICogQHBhcmFtICB7Qm9keX0galxyXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gdmFsdWVcclxuICAgKi9cblxuXG4gIHNldChiaSwgYmosIHZhbHVlKSB7XG4gICAgbGV0IHtcbiAgICAgIGlkOiBpXG4gICAgfSA9IGJpO1xuICAgIGxldCB7XG4gICAgICBpZDogalxuICAgIH0gPSBiajtcblxuICAgIGlmIChqID4gaSkge1xuICAgICAgY29uc3QgdGVtcCA9IGo7XG4gICAgICBqID0gaTtcbiAgICAgIGkgPSB0ZW1wO1xuICAgIH1cblxuICAgIGlmICh2YWx1ZSkge1xuICAgICAgdGhpcy5tYXRyaXhbaSArIFwiLVwiICsgal0gPSB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICBkZWxldGUgdGhpcy5tYXRyaXhbaSArIFwiLVwiICsgal07XG4gICAgfVxuICB9XG4gIC8qKlxyXG4gICAqIEVtcHR5IHRoZSBtYXRyaXhcclxuICAgKiBAbWV0aG9kIHJlc2V0XHJcbiAgICovXG5cblxuICByZXNldCgpIHtcbiAgICB0aGlzLm1hdHJpeCA9IHt9O1xuICB9XG4gIC8qKlxyXG4gICAqIFNldCBtYXggbnVtYmVyIG9mIG9iamVjdHNcclxuICAgKiBAbWV0aG9kIHNldE51bU9iamVjdHNcclxuICAgKiBAcGFyYW0ge051bWJlcn0gblxyXG4gICAqL1xuXG5cbiAgc2V0TnVtT2JqZWN0cyhuKSB7fVxuXG59XG5cbi8qKlxyXG4gKiBBIDN4MyBtYXRyaXguXHJcbiAqIEBjbGFzcyBNYXQzXHJcbiAqIEBjb25zdHJ1Y3RvclxyXG4gKiBAcGFyYW0ge0FycmF5fSBlbGVtZW50cyBBIHZlY3RvciBvZiBsZW5ndGggOSwgY29udGFpbmluZyBhbGwgbWF0cml4IGVsZW1lbnRzLiBPcHRpb25hbC5cclxuICogQGF1dGhvciBzY2h0ZXBwZSAvIGh0dHA6Ly9naXRodWIuY29tL3NjaHRlcHBlXHJcbiAqL1xuY2xhc3MgTWF0MyB7XG4gIGNvbnN0cnVjdG9yKGVsZW1lbnRzID0gWzAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDBdKSB7XG4gICAgdGhpcy5lbGVtZW50cyA9IGVsZW1lbnRzO1xuICB9XG4gIC8qKlxyXG4gICAqIFNldHMgdGhlIG1hdHJpeCB0byBpZGVudGl0eVxyXG4gICAqIEBtZXRob2QgaWRlbnRpdHlcclxuICAgKiBAdG9kbyBTaG91bGQgcGVyaGFwcyBiZSByZW5hbWVkIHRvIHNldElkZW50aXR5KCkgdG8gYmUgbW9yZSBjbGVhci5cclxuICAgKiBAdG9kbyBDcmVhdGUgYW5vdGhlciBmdW5jdGlvbiB0aGF0IGltbWVkaWF0ZWx5IGNyZWF0ZXMgYW4gaWRlbnRpdHkgbWF0cml4IGVnLiBleWUoKVxyXG4gICAqL1xuXG5cbiAgaWRlbnRpdHkoKSB7XG4gICAgY29uc3QgZSA9IHRoaXMuZWxlbWVudHM7XG4gICAgZVswXSA9IDE7XG4gICAgZVsxXSA9IDA7XG4gICAgZVsyXSA9IDA7XG4gICAgZVszXSA9IDA7XG4gICAgZVs0XSA9IDE7XG4gICAgZVs1XSA9IDA7XG4gICAgZVs2XSA9IDA7XG4gICAgZVs3XSA9IDA7XG4gICAgZVs4XSA9IDE7XG4gIH1cbiAgLyoqXHJcbiAgICogU2V0IGFsbCBlbGVtZW50cyB0byB6ZXJvXHJcbiAgICogQG1ldGhvZCBzZXRaZXJvXHJcbiAgICovXG5cblxuICBzZXRaZXJvKCkge1xuICAgIGNvbnN0IGUgPSB0aGlzLmVsZW1lbnRzO1xuICAgIGVbMF0gPSAwO1xuICAgIGVbMV0gPSAwO1xuICAgIGVbMl0gPSAwO1xuICAgIGVbM10gPSAwO1xuICAgIGVbNF0gPSAwO1xuICAgIGVbNV0gPSAwO1xuICAgIGVbNl0gPSAwO1xuICAgIGVbN10gPSAwO1xuICAgIGVbOF0gPSAwO1xuICB9XG4gIC8qKlxyXG4gICAqIFNldHMgdGhlIG1hdHJpeCBkaWFnb25hbCBlbGVtZW50cyBmcm9tIGEgVmVjM1xyXG4gICAqIEBtZXRob2Qgc2V0VHJhY2VcclxuICAgKiBAcGFyYW0ge1ZlYzN9IHZlYzNcclxuICAgKi9cblxuXG4gIHNldFRyYWNlKHZlY3Rvcikge1xuICAgIGNvbnN0IGUgPSB0aGlzLmVsZW1lbnRzO1xuICAgIGVbMF0gPSB2ZWN0b3IueDtcbiAgICBlWzRdID0gdmVjdG9yLnk7XG4gICAgZVs4XSA9IHZlY3Rvci56O1xuICB9XG4gIC8qKlxyXG4gICAqIEdldHMgdGhlIG1hdHJpeCBkaWFnb25hbCBlbGVtZW50c1xyXG4gICAqIEBtZXRob2QgZ2V0VHJhY2VcclxuICAgKiBAcmV0dXJuIHtWZWMzfVxyXG4gICAqL1xuXG5cbiAgZ2V0VHJhY2UodGFyZ2V0ID0gbmV3IFZlYzMoKSkge1xuICAgIGNvbnN0IGUgPSB0aGlzLmVsZW1lbnRzO1xuICAgIHRhcmdldC54ID0gZVswXTtcbiAgICB0YXJnZXQueSA9IGVbNF07XG4gICAgdGFyZ2V0LnogPSBlWzhdO1xuICB9XG4gIC8qKlxyXG4gICAqIE1hdHJpeC1WZWN0b3IgbXVsdGlwbGljYXRpb25cclxuICAgKiBAbWV0aG9kIHZtdWx0XHJcbiAgICogQHBhcmFtIHtWZWMzfSB2IFRoZSB2ZWN0b3IgdG8gbXVsdGlwbHkgd2l0aFxyXG4gICAqIEBwYXJhbSB7VmVjM30gdGFyZ2V0IE9wdGlvbmFsLCB0YXJnZXQgdG8gc2F2ZSB0aGUgcmVzdWx0IGluLlxyXG4gICAqL1xuXG5cbiAgdm11bHQodiwgdGFyZ2V0ID0gbmV3IFZlYzMoKSkge1xuICAgIGNvbnN0IGUgPSB0aGlzLmVsZW1lbnRzO1xuICAgIGNvbnN0IHggPSB2Lng7XG4gICAgY29uc3QgeSA9IHYueTtcbiAgICBjb25zdCB6ID0gdi56O1xuICAgIHRhcmdldC54ID0gZVswXSAqIHggKyBlWzFdICogeSArIGVbMl0gKiB6O1xuICAgIHRhcmdldC55ID0gZVszXSAqIHggKyBlWzRdICogeSArIGVbNV0gKiB6O1xuICAgIHRhcmdldC56ID0gZVs2XSAqIHggKyBlWzddICogeSArIGVbOF0gKiB6O1xuICAgIHJldHVybiB0YXJnZXQ7XG4gIH1cbiAgLyoqXHJcbiAgICogTWF0cml4LXNjYWxhciBtdWx0aXBsaWNhdGlvblxyXG4gICAqIEBtZXRob2Qgc211bHRcclxuICAgKiBAcGFyYW0ge051bWJlcn0gc1xyXG4gICAqL1xuXG5cbiAgc211bHQocykge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5lbGVtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgdGhpcy5lbGVtZW50c1tpXSAqPSBzO1xuICAgIH1cbiAgfVxuICAvKipcclxuICAgKiBNYXRyaXggbXVsdGlwbGljYXRpb25cclxuICAgKiBAbWV0aG9kIG1tdWx0XHJcbiAgICogQHBhcmFtIHtNYXQzfSBtYXRyaXggTWF0cml4IHRvIG11bHRpcGx5IHdpdGggZnJvbSBsZWZ0IHNpZGUuXHJcbiAgICogQHJldHVybiB7TWF0M30gVGhlIHJlc3VsdC5cclxuICAgKi9cblxuXG4gIG1tdWx0KG1hdHJpeCwgdGFyZ2V0ID0gbmV3IE1hdDMoKSkge1xuICAgIGNvbnN0IHtcbiAgICAgIGVsZW1lbnRzXG4gICAgfSA9IG1hdHJpeDtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMzsgaSsrKSB7XG4gICAgICBmb3IgKGxldCBqID0gMDsgaiA8IDM7IGorKykge1xuICAgICAgICBsZXQgc3VtID0gMC4wO1xuXG4gICAgICAgIGZvciAobGV0IGsgPSAwOyBrIDwgMzsgaysrKSB7XG4gICAgICAgICAgc3VtICs9IGVsZW1lbnRzW2kgKyBrICogM10gKiB0aGlzLmVsZW1lbnRzW2sgKyBqICogM107XG4gICAgICAgIH1cblxuICAgICAgICB0YXJnZXQuZWxlbWVudHNbaSArIGogKiAzXSA9IHN1bTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9XG4gIC8qKlxyXG4gICAqIFNjYWxlIGVhY2ggY29sdW1uIG9mIHRoZSBtYXRyaXhcclxuICAgKiBAbWV0aG9kIHNjYWxlXHJcbiAgICogQHBhcmFtIHtWZWMzfSB2XHJcbiAgICogQHJldHVybiB7TWF0M30gVGhlIHJlc3VsdC5cclxuICAgKi9cblxuXG4gIHNjYWxlKHZlY3RvciwgdGFyZ2V0ID0gbmV3IE1hdDMoKSkge1xuICAgIGNvbnN0IGUgPSB0aGlzLmVsZW1lbnRzO1xuICAgIGNvbnN0IHQgPSB0YXJnZXQuZWxlbWVudHM7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSAhPT0gMzsgaSsrKSB7XG4gICAgICB0WzMgKiBpICsgMF0gPSB2ZWN0b3IueCAqIGVbMyAqIGkgKyAwXTtcbiAgICAgIHRbMyAqIGkgKyAxXSA9IHZlY3Rvci55ICogZVszICogaSArIDFdO1xuICAgICAgdFszICogaSArIDJdID0gdmVjdG9yLnogKiBlWzMgKiBpICsgMl07XG4gICAgfVxuXG4gICAgcmV0dXJuIHRhcmdldDtcbiAgfVxuICAvKipcclxuICAgKiBTb2x2ZSBBeD1iXHJcbiAgICogQG1ldGhvZCBzb2x2ZVxyXG4gICAqIEBwYXJhbSB7VmVjM30gYiBUaGUgcmlnaHQgaGFuZCBzaWRlXHJcbiAgICogQHBhcmFtIHtWZWMzfSB0YXJnZXQgT3B0aW9uYWwuIFRhcmdldCB2ZWN0b3IgdG8gc2F2ZSBpbi5cclxuICAgKiBAcmV0dXJuIHtWZWMzfSBUaGUgc29sdXRpb24geFxyXG4gICAqIEB0b2RvIHNob3VsZCByZXVzZSBhcnJheXNcclxuICAgKi9cblxuXG4gIHNvbHZlKGIsIHRhcmdldCA9IG5ldyBWZWMzKCkpIHtcbiAgICAvLyBDb25zdHJ1Y3QgZXF1YXRpb25zXG4gICAgY29uc3QgbnIgPSAzOyAvLyBudW0gcm93c1xuXG4gICAgY29uc3QgbmMgPSA0OyAvLyBudW0gY29sc1xuXG4gICAgY29uc3QgZXFucyA9IFtdO1xuICAgIGxldCBpO1xuICAgIGxldCBqO1xuXG4gICAgZm9yIChpID0gMDsgaSA8IG5yICogbmM7IGkrKykge1xuICAgICAgZXFucy5wdXNoKDApO1xuICAgIH1cblxuICAgIGZvciAoaSA9IDA7IGkgPCAzOyBpKyspIHtcbiAgICAgIGZvciAoaiA9IDA7IGogPCAzOyBqKyspIHtcbiAgICAgICAgZXFuc1tpICsgbmMgKiBqXSA9IHRoaXMuZWxlbWVudHNbaSArIDMgKiBqXTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBlcW5zWzMgKyA0ICogMF0gPSBiLng7XG4gICAgZXFuc1szICsgNCAqIDFdID0gYi55O1xuICAgIGVxbnNbMyArIDQgKiAyXSA9IGIuejsgLy8gQ29tcHV0ZSByaWdodCB1cHBlciB0cmlhbmd1bGFyIHZlcnNpb24gb2YgdGhlIG1hdHJpeCAtIEdhdXNzIGVsaW1pbmF0aW9uXG5cbiAgICBsZXQgbiA9IDM7XG4gICAgY29uc3QgayA9IG47XG4gICAgbGV0IG5wO1xuICAgIGNvbnN0IGtwID0gNDsgLy8gbnVtIHJvd3NcblxuICAgIGxldCBwO1xuXG4gICAgZG8ge1xuICAgICAgaSA9IGsgLSBuO1xuXG4gICAgICBpZiAoZXFuc1tpICsgbmMgKiBpXSA9PT0gMCkge1xuICAgICAgICAvLyB0aGUgcGl2b3QgaXMgbnVsbCwgc3dhcCBsaW5lc1xuICAgICAgICBmb3IgKGogPSBpICsgMTsgaiA8IGs7IGorKykge1xuICAgICAgICAgIGlmIChlcW5zW2kgKyBuYyAqIGpdICE9PSAwKSB7XG4gICAgICAgICAgICBucCA9IGtwO1xuXG4gICAgICAgICAgICBkbyB7XG4gICAgICAgICAgICAgIC8vIGRvIGxpZ25lKCBpICkgPSBsaWduZSggaSApICsgbGlnbmUoIGsgKVxuICAgICAgICAgICAgICBwID0ga3AgLSBucDtcbiAgICAgICAgICAgICAgZXFuc1twICsgbmMgKiBpXSArPSBlcW5zW3AgKyBuYyAqIGpdO1xuICAgICAgICAgICAgfSB3aGlsZSAoLS1ucCk7XG5cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoZXFuc1tpICsgbmMgKiBpXSAhPT0gMCkge1xuICAgICAgICBmb3IgKGogPSBpICsgMTsgaiA8IGs7IGorKykge1xuICAgICAgICAgIGNvbnN0IG11bHRpcGxpZXIgPSBlcW5zW2kgKyBuYyAqIGpdIC8gZXFuc1tpICsgbmMgKiBpXTtcbiAgICAgICAgICBucCA9IGtwO1xuXG4gICAgICAgICAgZG8ge1xuICAgICAgICAgICAgLy8gZG8gbGlnbmUoIGsgKSA9IGxpZ25lKCBrICkgLSBtdWx0aXBsaWVyICogbGlnbmUoIGkgKVxuICAgICAgICAgICAgcCA9IGtwIC0gbnA7XG4gICAgICAgICAgICBlcW5zW3AgKyBuYyAqIGpdID0gcCA8PSBpID8gMCA6IGVxbnNbcCArIG5jICogal0gLSBlcW5zW3AgKyBuYyAqIGldICogbXVsdGlwbGllcjtcbiAgICAgICAgICB9IHdoaWxlICgtLW5wKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gd2hpbGUgKC0tbik7IC8vIEdldCB0aGUgc29sdXRpb25cblxuXG4gICAgdGFyZ2V0LnogPSBlcW5zWzIgKiBuYyArIDNdIC8gZXFuc1syICogbmMgKyAyXTtcbiAgICB0YXJnZXQueSA9IChlcW5zWzEgKiBuYyArIDNdIC0gZXFuc1sxICogbmMgKyAyXSAqIHRhcmdldC56KSAvIGVxbnNbMSAqIG5jICsgMV07XG4gICAgdGFyZ2V0LnggPSAoZXFuc1swICogbmMgKyAzXSAtIGVxbnNbMCAqIG5jICsgMl0gKiB0YXJnZXQueiAtIGVxbnNbMCAqIG5jICsgMV0gKiB0YXJnZXQueSkgLyBlcW5zWzAgKiBuYyArIDBdO1xuXG4gICAgaWYgKGlzTmFOKHRhcmdldC54KSB8fCBpc05hTih0YXJnZXQueSkgfHwgaXNOYU4odGFyZ2V0LnopIHx8IHRhcmdldC54ID09PSBJbmZpbml0eSB8fCB0YXJnZXQueSA9PT0gSW5maW5pdHkgfHwgdGFyZ2V0LnogPT09IEluZmluaXR5KSB7XG4gICAgICB0aHJvdyBcIkNvdWxkIG5vdCBzb2x2ZSBlcXVhdGlvbiEgR290IHg9W1wiICsgdGFyZ2V0LnRvU3RyaW5nKCkgKyBcIl0sIGI9W1wiICsgYi50b1N0cmluZygpICsgXCJdLCBBPVtcIiArIHRoaXMudG9TdHJpbmcoKSArIFwiXVwiO1xuICAgIH1cblxuICAgIHJldHVybiB0YXJnZXQ7XG4gIH1cbiAgLyoqXHJcbiAgICogR2V0IGFuIGVsZW1lbnQgaW4gdGhlIG1hdHJpeCBieSBpbmRleC4gSW5kZXggc3RhcnRzIGF0IDAsIG5vdCAxISEhXHJcbiAgICogQG1ldGhvZCBlXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHJvd1xyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBjb2x1bW5cclxuICAgKiBAcGFyYW0ge051bWJlcn0gdmFsdWUgT3B0aW9uYWwuIElmIHByb3ZpZGVkLCB0aGUgbWF0cml4IGVsZW1lbnQgd2lsbCBiZSBzZXQgdG8gdGhpcyB2YWx1ZS5cclxuICAgKiBAcmV0dXJuIHtOdW1iZXJ9XHJcbiAgICovXG5cblxuICBlKHJvdywgY29sdW1uLCB2YWx1ZSkge1xuICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gdGhpcy5lbGVtZW50c1tjb2x1bW4gKyAzICogcm93XTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gU2V0IHZhbHVlXG4gICAgICB0aGlzLmVsZW1lbnRzW2NvbHVtbiArIDMgKiByb3ddID0gdmFsdWU7XG4gICAgfVxuICB9XG4gIC8qKlxyXG4gICAqIENvcHkgYW5vdGhlciBtYXRyaXggaW50byB0aGlzIG1hdHJpeCBvYmplY3QuXHJcbiAgICogQG1ldGhvZCBjb3B5XHJcbiAgICogQHBhcmFtIHtNYXQzfSBzb3VyY2VcclxuICAgKiBAcmV0dXJuIHtNYXQzfSB0aGlzXHJcbiAgICovXG5cblxuICBjb3B5KG1hdHJpeCkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbWF0cml4LmVsZW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB0aGlzLmVsZW1lbnRzW2ldID0gbWF0cml4LmVsZW1lbnRzW2ldO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIC8qKlxyXG4gICAqIFJldHVybnMgYSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhlIG1hdHJpeC5cclxuICAgKiBAbWV0aG9kIHRvU3RyaW5nXHJcbiAgICogQHJldHVybiBzdHJpbmdcclxuICAgKi9cblxuXG4gIHRvU3RyaW5nKCkge1xuICAgIGxldCByID0gJyc7XG4gICAgY29uc3Qgc2VwID0gJywnO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCA5OyBpKyspIHtcbiAgICAgIHIgKz0gdGhpcy5lbGVtZW50c1tpXSArIHNlcDtcbiAgICB9XG5cbiAgICByZXR1cm4gcjtcbiAgfVxuICAvKipcclxuICAgKiByZXZlcnNlIHRoZSBtYXRyaXhcclxuICAgKiBAbWV0aG9kIHJldmVyc2VcclxuICAgKiBAcGFyYW0ge01hdDN9IHRhcmdldCBPcHRpb25hbC4gVGFyZ2V0IG1hdHJpeCB0byBzYXZlIGluLlxyXG4gICAqIEByZXR1cm4ge01hdDN9IFRoZSBzb2x1dGlvbiB4XHJcbiAgICovXG5cblxuICByZXZlcnNlKHRhcmdldCA9IG5ldyBNYXQzKCkpIHtcbiAgICAvLyBDb25zdHJ1Y3QgZXF1YXRpb25zXG4gICAgY29uc3QgbnIgPSAzOyAvLyBudW0gcm93c1xuXG4gICAgY29uc3QgbmMgPSA2OyAvLyBudW0gY29sc1xuXG4gICAgY29uc3QgZXFucyA9IFtdO1xuICAgIGxldCBpO1xuICAgIGxldCBqO1xuXG4gICAgZm9yIChpID0gMDsgaSA8IG5yICogbmM7IGkrKykge1xuICAgICAgZXFucy5wdXNoKDApO1xuICAgIH1cblxuICAgIGZvciAoaSA9IDA7IGkgPCAzOyBpKyspIHtcbiAgICAgIGZvciAoaiA9IDA7IGogPCAzOyBqKyspIHtcbiAgICAgICAgZXFuc1tpICsgbmMgKiBqXSA9IHRoaXMuZWxlbWVudHNbaSArIDMgKiBqXTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBlcW5zWzMgKyA2ICogMF0gPSAxO1xuICAgIGVxbnNbMyArIDYgKiAxXSA9IDA7XG4gICAgZXFuc1szICsgNiAqIDJdID0gMDtcbiAgICBlcW5zWzQgKyA2ICogMF0gPSAwO1xuICAgIGVxbnNbNCArIDYgKiAxXSA9IDE7XG4gICAgZXFuc1s0ICsgNiAqIDJdID0gMDtcbiAgICBlcW5zWzUgKyA2ICogMF0gPSAwO1xuICAgIGVxbnNbNSArIDYgKiAxXSA9IDA7XG4gICAgZXFuc1s1ICsgNiAqIDJdID0gMTsgLy8gQ29tcHV0ZSByaWdodCB1cHBlciB0cmlhbmd1bGFyIHZlcnNpb24gb2YgdGhlIG1hdHJpeCAtIEdhdXNzIGVsaW1pbmF0aW9uXG5cbiAgICBsZXQgbiA9IDM7XG4gICAgY29uc3QgayA9IG47XG4gICAgbGV0IG5wO1xuICAgIGNvbnN0IGtwID0gbmM7IC8vIG51bSByb3dzXG5cbiAgICBsZXQgcDtcblxuICAgIGRvIHtcbiAgICAgIGkgPSBrIC0gbjtcblxuICAgICAgaWYgKGVxbnNbaSArIG5jICogaV0gPT09IDApIHtcbiAgICAgICAgLy8gdGhlIHBpdm90IGlzIG51bGwsIHN3YXAgbGluZXNcbiAgICAgICAgZm9yIChqID0gaSArIDE7IGogPCBrOyBqKyspIHtcbiAgICAgICAgICBpZiAoZXFuc1tpICsgbmMgKiBqXSAhPT0gMCkge1xuICAgICAgICAgICAgbnAgPSBrcDtcblxuICAgICAgICAgICAgZG8ge1xuICAgICAgICAgICAgICAvLyBkbyBsaW5lKCBpICkgPSBsaW5lKCBpICkgKyBsaW5lKCBrIClcbiAgICAgICAgICAgICAgcCA9IGtwIC0gbnA7XG4gICAgICAgICAgICAgIGVxbnNbcCArIG5jICogaV0gKz0gZXFuc1twICsgbmMgKiBqXTtcbiAgICAgICAgICAgIH0gd2hpbGUgKC0tbnApO1xuXG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKGVxbnNbaSArIG5jICogaV0gIT09IDApIHtcbiAgICAgICAgZm9yIChqID0gaSArIDE7IGogPCBrOyBqKyspIHtcbiAgICAgICAgICBjb25zdCBtdWx0aXBsaWVyID0gZXFuc1tpICsgbmMgKiBqXSAvIGVxbnNbaSArIG5jICogaV07XG4gICAgICAgICAgbnAgPSBrcDtcblxuICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgIC8vIGRvIGxpbmUoIGsgKSA9IGxpbmUoIGsgKSAtIG11bHRpcGxpZXIgKiBsaW5lKCBpIClcbiAgICAgICAgICAgIHAgPSBrcCAtIG5wO1xuICAgICAgICAgICAgZXFuc1twICsgbmMgKiBqXSA9IHAgPD0gaSA/IDAgOiBlcW5zW3AgKyBuYyAqIGpdIC0gZXFuc1twICsgbmMgKiBpXSAqIG11bHRpcGxpZXI7XG4gICAgICAgICAgfSB3aGlsZSAoLS1ucCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IHdoaWxlICgtLW4pOyAvLyBlbGltaW5hdGUgdGhlIHVwcGVyIGxlZnQgdHJpYW5nbGUgb2YgdGhlIG1hdHJpeFxuXG5cbiAgICBpID0gMjtcblxuICAgIGRvIHtcbiAgICAgIGogPSBpIC0gMTtcblxuICAgICAgZG8ge1xuICAgICAgICBjb25zdCBtdWx0aXBsaWVyID0gZXFuc1tpICsgbmMgKiBqXSAvIGVxbnNbaSArIG5jICogaV07XG4gICAgICAgIG5wID0gbmM7XG5cbiAgICAgICAgZG8ge1xuICAgICAgICAgIHAgPSBuYyAtIG5wO1xuICAgICAgICAgIGVxbnNbcCArIG5jICogal0gPSBlcW5zW3AgKyBuYyAqIGpdIC0gZXFuc1twICsgbmMgKiBpXSAqIG11bHRpcGxpZXI7XG4gICAgICAgIH0gd2hpbGUgKC0tbnApO1xuICAgICAgfSB3aGlsZSAoai0tKTtcbiAgICB9IHdoaWxlICgtLWkpOyAvLyBvcGVyYXRpb25zIG9uIHRoZSBkaWFnb25hbFxuXG5cbiAgICBpID0gMjtcblxuICAgIGRvIHtcbiAgICAgIGNvbnN0IG11bHRpcGxpZXIgPSAxIC8gZXFuc1tpICsgbmMgKiBpXTtcbiAgICAgIG5wID0gbmM7XG5cbiAgICAgIGRvIHtcbiAgICAgICAgcCA9IG5jIC0gbnA7XG4gICAgICAgIGVxbnNbcCArIG5jICogaV0gPSBlcW5zW3AgKyBuYyAqIGldICogbXVsdGlwbGllcjtcbiAgICAgIH0gd2hpbGUgKC0tbnApO1xuICAgIH0gd2hpbGUgKGktLSk7XG5cbiAgICBpID0gMjtcblxuICAgIGRvIHtcbiAgICAgIGogPSAyO1xuXG4gICAgICBkbyB7XG4gICAgICAgIHAgPSBlcW5zW25yICsgaiArIG5jICogaV07XG5cbiAgICAgICAgaWYgKGlzTmFOKHApIHx8IHAgPT09IEluZmluaXR5KSB7XG4gICAgICAgICAgdGhyb3cgXCJDb3VsZCBub3QgcmV2ZXJzZSEgQT1bXCIgKyB0aGlzLnRvU3RyaW5nKCkgKyBcIl1cIjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRhcmdldC5lKGksIGosIHApO1xuICAgICAgfSB3aGlsZSAoai0tKTtcbiAgICB9IHdoaWxlIChpLS0pO1xuXG4gICAgcmV0dXJuIHRhcmdldDtcbiAgfVxuICAvKipcclxuICAgKiBTZXQgdGhlIG1hdHJpeCBmcm9tIGEgcXVhdGVyaW9uXHJcbiAgICogQG1ldGhvZCBzZXRSb3RhdGlvbkZyb21RdWF0ZXJuaW9uXHJcbiAgICogQHBhcmFtIHtRdWF0ZXJuaW9ufSBxXHJcbiAgICovXG5cblxuICBzZXRSb3RhdGlvbkZyb21RdWF0ZXJuaW9uKHEpIHtcbiAgICBjb25zdCB4ID0gcS54O1xuICAgIGNvbnN0IHkgPSBxLnk7XG4gICAgY29uc3QgeiA9IHEuejtcbiAgICBjb25zdCB3ID0gcS53O1xuICAgIGNvbnN0IHgyID0geCArIHg7XG4gICAgY29uc3QgeTIgPSB5ICsgeTtcbiAgICBjb25zdCB6MiA9IHogKyB6O1xuICAgIGNvbnN0IHh4ID0geCAqIHgyO1xuICAgIGNvbnN0IHh5ID0geCAqIHkyO1xuICAgIGNvbnN0IHh6ID0geCAqIHoyO1xuICAgIGNvbnN0IHl5ID0geSAqIHkyO1xuICAgIGNvbnN0IHl6ID0geSAqIHoyO1xuICAgIGNvbnN0IHp6ID0geiAqIHoyO1xuICAgIGNvbnN0IHd4ID0gdyAqIHgyO1xuICAgIGNvbnN0IHd5ID0gdyAqIHkyO1xuICAgIGNvbnN0IHd6ID0gdyAqIHoyO1xuICAgIGNvbnN0IGUgPSB0aGlzLmVsZW1lbnRzO1xuICAgIGVbMyAqIDAgKyAwXSA9IDEgLSAoeXkgKyB6eik7XG4gICAgZVszICogMCArIDFdID0geHkgLSB3ejtcbiAgICBlWzMgKiAwICsgMl0gPSB4eiArIHd5O1xuICAgIGVbMyAqIDEgKyAwXSA9IHh5ICsgd3o7XG4gICAgZVszICogMSArIDFdID0gMSAtICh4eCArIHp6KTtcbiAgICBlWzMgKiAxICsgMl0gPSB5eiAtIHd4O1xuICAgIGVbMyAqIDIgKyAwXSA9IHh6IC0gd3k7XG4gICAgZVszICogMiArIDFdID0geXogKyB3eDtcbiAgICBlWzMgKiAyICsgMl0gPSAxIC0gKHh4ICsgeXkpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIC8qKlxyXG4gICAqIFRyYW5zcG9zZSB0aGUgbWF0cml4XHJcbiAgICogQG1ldGhvZCB0cmFuc3Bvc2VcclxuICAgKiBAcGFyYW0gIHtNYXQzfSB0YXJnZXQgT3B0aW9uYWwuIFdoZXJlIHRvIHN0b3JlIHRoZSByZXN1bHQuXHJcbiAgICogQHJldHVybiB7TWF0M30gVGhlIHRhcmdldCBNYXQzLCBvciBhIG5ldyBNYXQzIGlmIHRhcmdldCB3YXMgb21pdHRlZC5cclxuICAgKi9cblxuXG4gIHRyYW5zcG9zZSh0YXJnZXQgPSBuZXcgTWF0MygpKSB7XG4gICAgY29uc3QgTXQgPSB0YXJnZXQuZWxlbWVudHM7XG4gICAgY29uc3QgTSA9IHRoaXMuZWxlbWVudHM7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSAhPT0gMzsgaSsrKSB7XG4gICAgICBmb3IgKGxldCBqID0gMDsgaiAhPT0gMzsgaisrKSB7XG4gICAgICAgIE10WzMgKiBpICsgal0gPSBNWzMgKiBqICsgaV07XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRhcmdldDtcbiAgfVxuXG59XG5cbi8qKlxyXG4gKiAzLWRpbWVuc2lvbmFsIHZlY3RvclxyXG4gKiBAY2xhc3MgVmVjM1xyXG4gKiBAY29uc3RydWN0b3JcclxuICogQHBhcmFtIHtOdW1iZXJ9IHhcclxuICogQHBhcmFtIHtOdW1iZXJ9IHlcclxuICogQHBhcmFtIHtOdW1iZXJ9IHpcclxuICogQGF1dGhvciBzY2h0ZXBwZVxyXG4gKiBAZXhhbXBsZVxyXG4gKiAgICAgY29uc3QgdiA9IG5ldyBWZWMzKDEsIDIsIDMpO1xyXG4gKiAgICAgY29uc29sZS5sb2coJ3g9JyArIHYueCk7IC8vIHg9MVxyXG4gKi9cblxuY2xhc3MgVmVjMyB7XG4gIGNvbnN0cnVjdG9yKHggPSAwLjAsIHkgPSAwLjAsIHogPSAwLjApIHtcbiAgICB0aGlzLnggPSB4O1xuICAgIHRoaXMueSA9IHk7XG4gICAgdGhpcy56ID0gejtcbiAgfVxuICAvKipcclxuICAgKiBWZWN0b3IgY3Jvc3MgcHJvZHVjdFxyXG4gICAqIEBtZXRob2QgY3Jvc3NcclxuICAgKiBAcGFyYW0ge1ZlYzN9IHZcclxuICAgKiBAcGFyYW0ge1ZlYzN9IHRhcmdldCBPcHRpb25hbC4gVGFyZ2V0IHRvIHNhdmUgaW4uXHJcbiAgICogQHJldHVybiB7VmVjM31cclxuICAgKi9cblxuXG4gIGNyb3NzKHZlY3RvciwgdGFyZ2V0ID0gbmV3IFZlYzMoKSkge1xuICAgIGNvbnN0IHZ4ID0gdmVjdG9yLng7XG4gICAgY29uc3QgdnkgPSB2ZWN0b3IueTtcbiAgICBjb25zdCB2eiA9IHZlY3Rvci56O1xuICAgIGNvbnN0IHggPSB0aGlzLng7XG4gICAgY29uc3QgeSA9IHRoaXMueTtcbiAgICBjb25zdCB6ID0gdGhpcy56O1xuICAgIHRhcmdldC54ID0geSAqIHZ6IC0geiAqIHZ5O1xuICAgIHRhcmdldC55ID0geiAqIHZ4IC0geCAqIHZ6O1xuICAgIHRhcmdldC56ID0geCAqIHZ5IC0geSAqIHZ4O1xuICAgIHJldHVybiB0YXJnZXQ7XG4gIH1cbiAgLyoqXHJcbiAgICogU2V0IHRoZSB2ZWN0b3JzJyAzIGVsZW1lbnRzXHJcbiAgICogQG1ldGhvZCBzZXRcclxuICAgKiBAcGFyYW0ge051bWJlcn0geFxyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSB5XHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHpcclxuICAgKiBAcmV0dXJuIFZlYzNcclxuICAgKi9cblxuXG4gIHNldCh4LCB5LCB6KSB7XG4gICAgdGhpcy54ID0geDtcbiAgICB0aGlzLnkgPSB5O1xuICAgIHRoaXMueiA9IHo7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgLyoqXHJcbiAgICogU2V0IGFsbCBjb21wb25lbnRzIG9mIHRoZSB2ZWN0b3IgdG8gemVyby5cclxuICAgKiBAbWV0aG9kIHNldFplcm9cclxuICAgKi9cblxuXG4gIHNldFplcm8oKSB7XG4gICAgdGhpcy54ID0gdGhpcy55ID0gdGhpcy56ID0gMDtcbiAgfVxuICAvKipcclxuICAgKiBWZWN0b3IgYWRkaXRpb25cclxuICAgKiBAbWV0aG9kIHZhZGRcclxuICAgKiBAcGFyYW0ge1ZlYzN9IHZcclxuICAgKiBAcGFyYW0ge1ZlYzN9IHRhcmdldCBPcHRpb25hbC5cclxuICAgKiBAcmV0dXJuIHtWZWMzfVxyXG4gICAqL1xuXG5cbiAgdmFkZCh2ZWN0b3IsIHRhcmdldCkge1xuICAgIGlmICh0YXJnZXQpIHtcbiAgICAgIHRhcmdldC54ID0gdmVjdG9yLnggKyB0aGlzLng7XG4gICAgICB0YXJnZXQueSA9IHZlY3Rvci55ICsgdGhpcy55O1xuICAgICAgdGFyZ2V0LnogPSB2ZWN0b3IueiArIHRoaXMuejtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG5ldyBWZWMzKHRoaXMueCArIHZlY3Rvci54LCB0aGlzLnkgKyB2ZWN0b3IueSwgdGhpcy56ICsgdmVjdG9yLnopO1xuICAgIH1cbiAgfVxuICAvKipcclxuICAgKiBWZWN0b3Igc3VidHJhY3Rpb25cclxuICAgKiBAbWV0aG9kIHZzdWJcclxuICAgKiBAcGFyYW0ge1ZlYzN9IHZcclxuICAgKiBAcGFyYW0ge1ZlYzN9IHRhcmdldCBPcHRpb25hbC4gVGFyZ2V0IHRvIHNhdmUgaW4uXHJcbiAgICogQHJldHVybiB7VmVjM31cclxuICAgKi9cblxuXG4gIHZzdWIodmVjdG9yLCB0YXJnZXQpIHtcbiAgICBpZiAodGFyZ2V0KSB7XG4gICAgICB0YXJnZXQueCA9IHRoaXMueCAtIHZlY3Rvci54O1xuICAgICAgdGFyZ2V0LnkgPSB0aGlzLnkgLSB2ZWN0b3IueTtcbiAgICAgIHRhcmdldC56ID0gdGhpcy56IC0gdmVjdG9yLno7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBuZXcgVmVjMyh0aGlzLnggLSB2ZWN0b3IueCwgdGhpcy55IC0gdmVjdG9yLnksIHRoaXMueiAtIHZlY3Rvci56KTtcbiAgICB9XG4gIH1cbiAgLyoqXHJcbiAgICogR2V0IHRoZSBjcm9zcyBwcm9kdWN0IG1hdHJpeCBhX2Nyb3NzIGZyb20gYSB2ZWN0b3IsIHN1Y2ggdGhhdCBhIHggYiA9IGFfY3Jvc3MgKiBiID0gY1xyXG4gICAqIEBtZXRob2QgY3Jvc3NtYXRcclxuICAgKiBAc2VlIGh0dHA6Ly93d3c4LmNzLnVtdS5zZS9rdXJzZXIvVERCRDI0L1ZUMDYvbGVjdHVyZXMvTGVjdHVyZTYucGRmXHJcbiAgICogQHJldHVybiB7TWF0M31cclxuICAgKi9cblxuXG4gIGNyb3NzbWF0KCkge1xuICAgIHJldHVybiBuZXcgTWF0MyhbMCwgLXRoaXMueiwgdGhpcy55LCB0aGlzLnosIDAsIC10aGlzLngsIC10aGlzLnksIHRoaXMueCwgMF0pO1xuICB9XG4gIC8qKlxyXG4gICAqIE5vcm1hbGl6ZSB0aGUgdmVjdG9yLiBOb3RlIHRoYXQgdGhpcyBjaGFuZ2VzIHRoZSB2YWx1ZXMgaW4gdGhlIHZlY3Rvci5cclxuICAgKiBAbWV0aG9kIG5vcm1hbGl6ZVxyXG4gICAqIEByZXR1cm4ge051bWJlcn0gUmV0dXJucyB0aGUgbm9ybSBvZiB0aGUgdmVjdG9yXHJcbiAgICovXG5cblxuICBub3JtYWxpemUoKSB7XG4gICAgY29uc3QgeCA9IHRoaXMueDtcbiAgICBjb25zdCB5ID0gdGhpcy55O1xuICAgIGNvbnN0IHogPSB0aGlzLno7XG4gICAgY29uc3QgbiA9IE1hdGguc3FydCh4ICogeCArIHkgKiB5ICsgeiAqIHopO1xuXG4gICAgaWYgKG4gPiAwLjApIHtcbiAgICAgIGNvbnN0IGludk4gPSAxIC8gbjtcbiAgICAgIHRoaXMueCAqPSBpbnZOO1xuICAgICAgdGhpcy55ICo9IGludk47XG4gICAgICB0aGlzLnogKj0gaW52TjtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gTWFrZSBzb21ldGhpbmcgdXBcbiAgICAgIHRoaXMueCA9IDA7XG4gICAgICB0aGlzLnkgPSAwO1xuICAgICAgdGhpcy56ID0gMDtcbiAgICB9XG5cbiAgICByZXR1cm4gbjtcbiAgfVxuICAvKipcclxuICAgKiBHZXQgdGhlIHZlcnNpb24gb2YgdGhpcyB2ZWN0b3IgdGhhdCBpcyBvZiBsZW5ndGggMS5cclxuICAgKiBAbWV0aG9kIHVuaXRcclxuICAgKiBAcGFyYW0ge1ZlYzN9IHRhcmdldCBPcHRpb25hbCB0YXJnZXQgdG8gc2F2ZSBpblxyXG4gICAqIEByZXR1cm4ge1ZlYzN9IFJldHVybnMgdGhlIHVuaXQgdmVjdG9yXHJcbiAgICovXG5cblxuICB1bml0KHRhcmdldCA9IG5ldyBWZWMzKCkpIHtcbiAgICBjb25zdCB4ID0gdGhpcy54O1xuICAgIGNvbnN0IHkgPSB0aGlzLnk7XG4gICAgY29uc3QgeiA9IHRoaXMuejtcbiAgICBsZXQgbmludiA9IE1hdGguc3FydCh4ICogeCArIHkgKiB5ICsgeiAqIHopO1xuXG4gICAgaWYgKG5pbnYgPiAwLjApIHtcbiAgICAgIG5pbnYgPSAxLjAgLyBuaW52O1xuICAgICAgdGFyZ2V0LnggPSB4ICogbmludjtcbiAgICAgIHRhcmdldC55ID0geSAqIG5pbnY7XG4gICAgICB0YXJnZXQueiA9IHogKiBuaW52O1xuICAgIH0gZWxzZSB7XG4gICAgICB0YXJnZXQueCA9IDE7XG4gICAgICB0YXJnZXQueSA9IDA7XG4gICAgICB0YXJnZXQueiA9IDA7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRhcmdldDtcbiAgfVxuICAvKipcclxuICAgKiBHZXQgdGhlIGxlbmd0aCBvZiB0aGUgdmVjdG9yXHJcbiAgICogQG1ldGhvZCBsZW5ndGhcclxuICAgKiBAcmV0dXJuIHtOdW1iZXJ9XHJcbiAgICovXG5cblxuICBsZW5ndGgoKSB7XG4gICAgY29uc3QgeCA9IHRoaXMueDtcbiAgICBjb25zdCB5ID0gdGhpcy55O1xuICAgIGNvbnN0IHogPSB0aGlzLno7XG4gICAgcmV0dXJuIE1hdGguc3FydCh4ICogeCArIHkgKiB5ICsgeiAqIHopO1xuICB9XG4gIC8qKlxyXG4gICAqIEdldCB0aGUgc3F1YXJlZCBsZW5ndGggb2YgdGhlIHZlY3Rvci5cclxuICAgKiBAbWV0aG9kIGxlbmd0aFNxdWFyZWRcclxuICAgKiBAcmV0dXJuIHtOdW1iZXJ9XHJcbiAgICovXG5cblxuICBsZW5ndGhTcXVhcmVkKCkge1xuICAgIHJldHVybiB0aGlzLmRvdCh0aGlzKTtcbiAgfVxuICAvKipcclxuICAgKiBHZXQgZGlzdGFuY2UgZnJvbSB0aGlzIHBvaW50IHRvIGFub3RoZXIgcG9pbnRcclxuICAgKiBAbWV0aG9kIGRpc3RhbmNlVG9cclxuICAgKiBAcGFyYW0gIHtWZWMzfSBwXHJcbiAgICogQHJldHVybiB7TnVtYmVyfVxyXG4gICAqL1xuXG5cbiAgZGlzdGFuY2VUbyhwKSB7XG4gICAgY29uc3QgeCA9IHRoaXMueDtcbiAgICBjb25zdCB5ID0gdGhpcy55O1xuICAgIGNvbnN0IHogPSB0aGlzLno7XG4gICAgY29uc3QgcHggPSBwLng7XG4gICAgY29uc3QgcHkgPSBwLnk7XG4gICAgY29uc3QgcHogPSBwLno7XG4gICAgcmV0dXJuIE1hdGguc3FydCgocHggLSB4KSAqIChweCAtIHgpICsgKHB5IC0geSkgKiAocHkgLSB5KSArIChweiAtIHopICogKHB6IC0geikpO1xuICB9XG4gIC8qKlxyXG4gICAqIEdldCBzcXVhcmVkIGRpc3RhbmNlIGZyb20gdGhpcyBwb2ludCB0byBhbm90aGVyIHBvaW50XHJcbiAgICogQG1ldGhvZCBkaXN0YW5jZVNxdWFyZWRcclxuICAgKiBAcGFyYW0gIHtWZWMzfSBwXHJcbiAgICogQHJldHVybiB7TnVtYmVyfVxyXG4gICAqL1xuXG5cbiAgZGlzdGFuY2VTcXVhcmVkKHApIHtcbiAgICBjb25zdCB4ID0gdGhpcy54O1xuICAgIGNvbnN0IHkgPSB0aGlzLnk7XG4gICAgY29uc3QgeiA9IHRoaXMuejtcbiAgICBjb25zdCBweCA9IHAueDtcbiAgICBjb25zdCBweSA9IHAueTtcbiAgICBjb25zdCBweiA9IHAuejtcbiAgICByZXR1cm4gKHB4IC0geCkgKiAocHggLSB4KSArIChweSAtIHkpICogKHB5IC0geSkgKyAocHogLSB6KSAqIChweiAtIHopO1xuICB9XG4gIC8qKlxyXG4gICAqIE11bHRpcGx5IGFsbCB0aGUgY29tcG9uZW50cyBvZiB0aGUgdmVjdG9yIHdpdGggYSBzY2FsYXIuXHJcbiAgICogQG1ldGhvZCBzY2FsZVxyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBzY2FsYXJcclxuICAgKiBAcGFyYW0ge1ZlYzN9IHRhcmdldCBUaGUgdmVjdG9yIHRvIHNhdmUgdGhlIHJlc3VsdCBpbi5cclxuICAgKiBAcmV0dXJuIHtWZWMzfVxyXG4gICAqL1xuXG5cbiAgc2NhbGUoc2NhbGFyLCB0YXJnZXQgPSBuZXcgVmVjMygpKSB7XG4gICAgY29uc3QgeCA9IHRoaXMueDtcbiAgICBjb25zdCB5ID0gdGhpcy55O1xuICAgIGNvbnN0IHogPSB0aGlzLno7XG4gICAgdGFyZ2V0LnggPSBzY2FsYXIgKiB4O1xuICAgIHRhcmdldC55ID0gc2NhbGFyICogeTtcbiAgICB0YXJnZXQueiA9IHNjYWxhciAqIHo7XG4gICAgcmV0dXJuIHRhcmdldDtcbiAgfVxuICAvKipcclxuICAgKiBNdWx0aXBseSB0aGUgdmVjdG9yIHdpdGggYW4gb3RoZXIgdmVjdG9yLCBjb21wb25lbnQtd2lzZS5cclxuICAgKiBAbWV0aG9kIHZtdWx0XHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHZlY3RvclxyXG4gICAqIEBwYXJhbSB7VmVjM30gdGFyZ2V0IFRoZSB2ZWN0b3IgdG8gc2F2ZSB0aGUgcmVzdWx0IGluLlxyXG4gICAqIEByZXR1cm4ge1ZlYzN9XHJcbiAgICovXG5cblxuICB2bXVsKHZlY3RvciwgdGFyZ2V0ID0gbmV3IFZlYzMoKSkge1xuICAgIHRhcmdldC54ID0gdmVjdG9yLnggKiB0aGlzLng7XG4gICAgdGFyZ2V0LnkgPSB2ZWN0b3IueSAqIHRoaXMueTtcbiAgICB0YXJnZXQueiA9IHZlY3Rvci56ICogdGhpcy56O1xuICAgIHJldHVybiB0YXJnZXQ7XG4gIH1cbiAgLyoqXHJcbiAgICogU2NhbGUgYSB2ZWN0b3IgYW5kIGFkZCBpdCB0byB0aGlzIHZlY3Rvci4gU2F2ZSB0aGUgcmVzdWx0IGluIFwidGFyZ2V0XCIuICh0YXJnZXQgPSB0aGlzICsgdmVjdG9yICogc2NhbGFyKVxyXG4gICAqIEBtZXRob2QgYWRkU2NhbGVkVmVjdG9yXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHNjYWxhclxyXG4gICAqIEBwYXJhbSB7VmVjM30gdmVjdG9yXHJcbiAgICogQHBhcmFtIHtWZWMzfSB0YXJnZXQgVGhlIHZlY3RvciB0byBzYXZlIHRoZSByZXN1bHQgaW4uXHJcbiAgICogQHJldHVybiB7VmVjM31cclxuICAgKi9cblxuXG4gIGFkZFNjYWxlZFZlY3RvcihzY2FsYXIsIHZlY3RvciwgdGFyZ2V0ID0gbmV3IFZlYzMoKSkge1xuICAgIHRhcmdldC54ID0gdGhpcy54ICsgc2NhbGFyICogdmVjdG9yLng7XG4gICAgdGFyZ2V0LnkgPSB0aGlzLnkgKyBzY2FsYXIgKiB2ZWN0b3IueTtcbiAgICB0YXJnZXQueiA9IHRoaXMueiArIHNjYWxhciAqIHZlY3Rvci56O1xuICAgIHJldHVybiB0YXJnZXQ7XG4gIH1cbiAgLyoqXHJcbiAgICogQ2FsY3VsYXRlIGRvdCBwcm9kdWN0XHJcbiAgICogQG1ldGhvZCBkb3RcclxuICAgKiBAcGFyYW0ge1ZlYzN9IHZcclxuICAgKiBAcmV0dXJuIHtOdW1iZXJ9XHJcbiAgICovXG5cblxuICBkb3QodmVjdG9yKSB7XG4gICAgcmV0dXJuIHRoaXMueCAqIHZlY3Rvci54ICsgdGhpcy55ICogdmVjdG9yLnkgKyB0aGlzLnogKiB2ZWN0b3IuejtcbiAgfVxuICAvKipcclxuICAgKiBAbWV0aG9kIGlzWmVyb1xyXG4gICAqIEByZXR1cm4gYm9vbFxyXG4gICAqL1xuXG5cbiAgaXNaZXJvKCkge1xuICAgIHJldHVybiB0aGlzLnggPT09IDAgJiYgdGhpcy55ID09PSAwICYmIHRoaXMueiA9PT0gMDtcbiAgfVxuICAvKipcclxuICAgKiBNYWtlIHRoZSB2ZWN0b3IgcG9pbnQgaW4gdGhlIG9wcG9zaXRlIGRpcmVjdGlvbi5cclxuICAgKiBAbWV0aG9kIG5lZ2F0ZVxyXG4gICAqIEBwYXJhbSB7VmVjM30gdGFyZ2V0IE9wdGlvbmFsIHRhcmdldCB0byBzYXZlIGluXHJcbiAgICogQHJldHVybiB7VmVjM31cclxuICAgKi9cblxuXG4gIG5lZ2F0ZSh0YXJnZXQgPSBuZXcgVmVjMygpKSB7XG4gICAgdGFyZ2V0LnggPSAtdGhpcy54O1xuICAgIHRhcmdldC55ID0gLXRoaXMueTtcbiAgICB0YXJnZXQueiA9IC10aGlzLno7XG4gICAgcmV0dXJuIHRhcmdldDtcbiAgfVxuICAvKipcclxuICAgKiBDb21wdXRlIHR3byBhcnRpZmljaWFsIHRhbmdlbnRzIHRvIHRoZSB2ZWN0b3JcclxuICAgKiBAbWV0aG9kIHRhbmdlbnRzXHJcbiAgICogQHBhcmFtIHtWZWMzfSB0MSBWZWN0b3Igb2JqZWN0IHRvIHNhdmUgdGhlIGZpcnN0IHRhbmdlbnQgaW5cclxuICAgKiBAcGFyYW0ge1ZlYzN9IHQyIFZlY3RvciBvYmplY3QgdG8gc2F2ZSB0aGUgc2Vjb25kIHRhbmdlbnQgaW5cclxuICAgKi9cblxuXG4gIHRhbmdlbnRzKHQxLCB0Mikge1xuICAgIGNvbnN0IG5vcm0gPSB0aGlzLmxlbmd0aCgpO1xuXG4gICAgaWYgKG5vcm0gPiAwLjApIHtcbiAgICAgIGNvbnN0IG4gPSBWZWMzX3RhbmdlbnRzX247XG4gICAgICBjb25zdCBpbm9ybSA9IDEgLyBub3JtO1xuICAgICAgbi5zZXQodGhpcy54ICogaW5vcm0sIHRoaXMueSAqIGlub3JtLCB0aGlzLnogKiBpbm9ybSk7XG4gICAgICBjb25zdCByYW5kVmVjID0gVmVjM190YW5nZW50c19yYW5kVmVjO1xuXG4gICAgICBpZiAoTWF0aC5hYnMobi54KSA8IDAuOSkge1xuICAgICAgICByYW5kVmVjLnNldCgxLCAwLCAwKTtcbiAgICAgICAgbi5jcm9zcyhyYW5kVmVjLCB0MSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByYW5kVmVjLnNldCgwLCAxLCAwKTtcbiAgICAgICAgbi5jcm9zcyhyYW5kVmVjLCB0MSk7XG4gICAgICB9XG5cbiAgICAgIG4uY3Jvc3ModDEsIHQyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gVGhlIG5vcm1hbCBsZW5ndGggaXMgemVybywgbWFrZSBzb21ldGhpbmcgdXBcbiAgICAgIHQxLnNldCgxLCAwLCAwKTtcbiAgICAgIHQyLnNldCgwLCAxLCAwKTtcbiAgICB9XG4gIH1cbiAgLyoqXHJcbiAgICogQ29udmVydHMgdG8gYSBtb3JlIHJlYWRhYmxlIGZvcm1hdFxyXG4gICAqIEBtZXRob2QgdG9TdHJpbmdcclxuICAgKiBAcmV0dXJuIHN0cmluZ1xyXG4gICAqL1xuXG5cbiAgdG9TdHJpbmcoKSB7XG4gICAgcmV0dXJuIHRoaXMueCArIFwiLFwiICsgdGhpcy55ICsgXCIsXCIgKyB0aGlzLno7XG4gIH1cbiAgLyoqXHJcbiAgICogQ29udmVydHMgdG8gYW4gYXJyYXlcclxuICAgKiBAbWV0aG9kIHRvQXJyYXlcclxuICAgKiBAcmV0dXJuIEFycmF5XHJcbiAgICovXG5cblxuICB0b0FycmF5KCkge1xuICAgIHJldHVybiBbdGhpcy54LCB0aGlzLnksIHRoaXMuel07XG4gIH1cbiAgLyoqXHJcbiAgICogQ29waWVzIHZhbHVlIG9mIHNvdXJjZSB0byB0aGlzIHZlY3Rvci5cclxuICAgKiBAbWV0aG9kIGNvcHlcclxuICAgKiBAcGFyYW0ge1ZlYzN9IHNvdXJjZVxyXG4gICAqIEByZXR1cm4ge1ZlYzN9IHRoaXNcclxuICAgKi9cblxuXG4gIGNvcHkodmVjdG9yKSB7XG4gICAgdGhpcy54ID0gdmVjdG9yLng7XG4gICAgdGhpcy55ID0gdmVjdG9yLnk7XG4gICAgdGhpcy56ID0gdmVjdG9yLno7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgLyoqXHJcbiAgICogRG8gYSBsaW5lYXIgaW50ZXJwb2xhdGlvbiBiZXR3ZWVuIHR3byB2ZWN0b3JzXHJcbiAgICogQG1ldGhvZCBsZXJwXHJcbiAgICogQHBhcmFtIHtWZWMzfSB2XHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHQgQSBudW1iZXIgYmV0d2VlbiAwIGFuZCAxLiAwIHdpbGwgbWFrZSB0aGlzIGZ1bmN0aW9uIHJldHVybiB1LCBhbmQgMSB3aWxsIG1ha2UgaXQgcmV0dXJuIHYuIE51bWJlcnMgaW4gYmV0d2VlbiB3aWxsIGdlbmVyYXRlIGEgdmVjdG9yIGluIGJldHdlZW4gdGhlbS5cclxuICAgKiBAcGFyYW0ge1ZlYzN9IHRhcmdldFxyXG4gICAqL1xuXG5cbiAgbGVycCh2ZWN0b3IsIHQsIHRhcmdldCkge1xuICAgIGNvbnN0IHggPSB0aGlzLng7XG4gICAgY29uc3QgeSA9IHRoaXMueTtcbiAgICBjb25zdCB6ID0gdGhpcy56O1xuICAgIHRhcmdldC54ID0geCArICh2ZWN0b3IueCAtIHgpICogdDtcbiAgICB0YXJnZXQueSA9IHkgKyAodmVjdG9yLnkgLSB5KSAqIHQ7XG4gICAgdGFyZ2V0LnogPSB6ICsgKHZlY3Rvci56IC0geikgKiB0O1xuICB9XG4gIC8qKlxyXG4gICAqIENoZWNrIGlmIGEgdmVjdG9yIGVxdWFscyBpcyBhbG1vc3QgZXF1YWwgdG8gYW5vdGhlciBvbmUuXHJcbiAgICogQG1ldGhvZCBhbG1vc3RFcXVhbHNcclxuICAgKiBAcGFyYW0ge1ZlYzN9IHZcclxuICAgKiBAcGFyYW0ge051bWJlcn0gcHJlY2lzaW9uXHJcbiAgICogQHJldHVybiBib29sXHJcbiAgICovXG5cblxuICBhbG1vc3RFcXVhbHModmVjdG9yLCBwcmVjaXNpb24gPSAxZS02KSB7XG4gICAgaWYgKE1hdGguYWJzKHRoaXMueCAtIHZlY3Rvci54KSA+IHByZWNpc2lvbiB8fCBNYXRoLmFicyh0aGlzLnkgLSB2ZWN0b3IueSkgPiBwcmVjaXNpb24gfHwgTWF0aC5hYnModGhpcy56IC0gdmVjdG9yLnopID4gcHJlY2lzaW9uKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgLyoqXHJcbiAgICogQ2hlY2sgaWYgYSB2ZWN0b3IgaXMgYWxtb3N0IHplcm9cclxuICAgKiBAbWV0aG9kIGFsbW9zdFplcm9cclxuICAgKiBAcGFyYW0ge051bWJlcn0gcHJlY2lzaW9uXHJcbiAgICovXG5cblxuICBhbG1vc3RaZXJvKHByZWNpc2lvbiA9IDFlLTYpIHtcbiAgICBpZiAoTWF0aC5hYnModGhpcy54KSA+IHByZWNpc2lvbiB8fCBNYXRoLmFicyh0aGlzLnkpID4gcHJlY2lzaW9uIHx8IE1hdGguYWJzKHRoaXMueikgPiBwcmVjaXNpb24pIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICAvKipcclxuICAgKiBDaGVjayBpZiB0aGUgdmVjdG9yIGlzIGFudGktcGFyYWxsZWwgdG8gYW5vdGhlciB2ZWN0b3IuXHJcbiAgICogQG1ldGhvZCBpc0FudGlwYXJhbGxlbFRvXHJcbiAgICogQHBhcmFtICB7VmVjM30gIHZcclxuICAgKiBAcGFyYW0gIHtOdW1iZXJ9ICBwcmVjaXNpb24gU2V0IHRvIHplcm8gZm9yIGV4YWN0IGNvbXBhcmlzb25zXHJcbiAgICogQHJldHVybiB7Qm9vbGVhbn1cclxuICAgKi9cblxuXG4gIGlzQW50aXBhcmFsbGVsVG8odmVjdG9yLCBwcmVjaXNpb24pIHtcbiAgICB0aGlzLm5lZ2F0ZShhbnRpcF9uZWcpO1xuICAgIHJldHVybiBhbnRpcF9uZWcuYWxtb3N0RXF1YWxzKHZlY3RvciwgcHJlY2lzaW9uKTtcbiAgfVxuICAvKipcclxuICAgKiBDbG9uZSB0aGUgdmVjdG9yXHJcbiAgICogQG1ldGhvZCBjbG9uZVxyXG4gICAqIEByZXR1cm4ge1ZlYzN9XHJcbiAgICovXG5cblxuICBjbG9uZSgpIHtcbiAgICByZXR1cm4gbmV3IFZlYzModGhpcy54LCB0aGlzLnksIHRoaXMueik7XG4gIH1cblxufVxuVmVjMy5aRVJPID0gbmV3IFZlYzMoMCwgMCwgMCk7XG5WZWMzLlVOSVRfWCA9IG5ldyBWZWMzKDEsIDAsIDApO1xuVmVjMy5VTklUX1kgPSBuZXcgVmVjMygwLCAxLCAwKTtcblZlYzMuVU5JVF9aID0gbmV3IFZlYzMoMCwgMCwgMSk7XG4vKipcclxuICogQ29tcHV0ZSB0d28gYXJ0aWZpY2lhbCB0YW5nZW50cyB0byB0aGUgdmVjdG9yXHJcbiAqIEBtZXRob2QgdGFuZ2VudHNcclxuICogQHBhcmFtIHtWZWMzfSB0MSBWZWN0b3Igb2JqZWN0IHRvIHNhdmUgdGhlIGZpcnN0IHRhbmdlbnQgaW5cclxuICogQHBhcmFtIHtWZWMzfSB0MiBWZWN0b3Igb2JqZWN0IHRvIHNhdmUgdGhlIHNlY29uZCB0YW5nZW50IGluXHJcbiAqL1xuXG5jb25zdCBWZWMzX3RhbmdlbnRzX24gPSBuZXcgVmVjMygpO1xuY29uc3QgVmVjM190YW5nZW50c19yYW5kVmVjID0gbmV3IFZlYzMoKTtcbmNvbnN0IGFudGlwX25lZyA9IG5ldyBWZWMzKCk7XG5cbi8qKlxyXG4gKiBBeGlzIGFsaWduZWQgYm91bmRpbmcgYm94IGNsYXNzLlxyXG4gKiBAY2xhc3MgQUFCQlxyXG4gKiBAY29uc3RydWN0b3JcclxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXVxyXG4gKiBAcGFyYW0ge1ZlYzN9ICAgW29wdGlvbnMudXBwZXJCb3VuZF0gVGhlIHVwcGVyIGJvdW5kIG9mIHRoZSBib3VuZGluZyBib3guXHJcbiAqIEBwYXJhbSB7VmVjM30gICBbb3B0aW9ucy5sb3dlckJvdW5kXSBUaGUgbG93ZXIgYm91bmQgb2YgdGhlIGJvdW5kaW5nIGJveFxyXG4gKi9cbmNsYXNzIEFBQkIge1xuICAvLyBUaGUgbG93ZXIgYm91bmQgb2YgdGhlIGJvdW5kaW5nIGJveFxuICAvLyBUaGUgdXBwZXIgYm91bmQgb2YgdGhlIGJvdW5kaW5nIGJveFxuICBjb25zdHJ1Y3RvcihvcHRpb25zID0ge30pIHtcbiAgICB0aGlzLmxvd2VyQm91bmQgPSBuZXcgVmVjMygpO1xuICAgIHRoaXMudXBwZXJCb3VuZCA9IG5ldyBWZWMzKCk7XG5cbiAgICBpZiAob3B0aW9ucy5sb3dlckJvdW5kKSB7XG4gICAgICB0aGlzLmxvd2VyQm91bmQuY29weShvcHRpb25zLmxvd2VyQm91bmQpO1xuICAgIH1cblxuICAgIGlmIChvcHRpb25zLnVwcGVyQm91bmQpIHtcbiAgICAgIHRoaXMudXBwZXJCb3VuZC5jb3B5KG9wdGlvbnMudXBwZXJCb3VuZCk7XG4gICAgfVxuICB9XG4gIC8qKlxyXG4gICAqIFNldCB0aGUgQUFCQiBib3VuZHMgZnJvbSBhIHNldCBvZiBwb2ludHMuXHJcbiAgICogQG1ldGhvZCBzZXRGcm9tUG9pbnRzXHJcbiAgICogQHBhcmFtIHtBcnJheX0gcG9pbnRzIEFuIGFycmF5IG9mIFZlYzMncy5cclxuICAgKiBAcGFyYW0ge1ZlYzN9IHBvc2l0aW9uIE9wdGlvbmFsLlxyXG4gICAqIEBwYXJhbSB7UXVhdGVybmlvbn0gcXVhdGVybmlvbiBPcHRpb25hbC5cclxuICAgKiBAcGFyYW0ge251bWJlcn0gc2tpblNpemUgT3B0aW9uYWwuXHJcbiAgICogQHJldHVybiB7QUFCQn0gVGhlIHNlbGYgb2JqZWN0XHJcbiAgICovXG5cblxuICBzZXRGcm9tUG9pbnRzKHBvaW50cywgcG9zaXRpb24sIHF1YXRlcm5pb24sIHNraW5TaXplKSB7XG4gICAgY29uc3QgbCA9IHRoaXMubG93ZXJCb3VuZDtcbiAgICBjb25zdCB1ID0gdGhpcy51cHBlckJvdW5kO1xuICAgIGNvbnN0IHEgPSBxdWF0ZXJuaW9uOyAvLyBTZXQgdG8gdGhlIGZpcnN0IHBvaW50XG5cbiAgICBsLmNvcHkocG9pbnRzWzBdKTtcblxuICAgIGlmIChxKSB7XG4gICAgICBxLnZtdWx0KGwsIGwpO1xuICAgIH1cblxuICAgIHUuY29weShsKTtcblxuICAgIGZvciAobGV0IGkgPSAxOyBpIDwgcG9pbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBsZXQgcCA9IHBvaW50c1tpXTtcblxuICAgICAgaWYgKHEpIHtcbiAgICAgICAgcS52bXVsdChwLCB0bXApO1xuICAgICAgICBwID0gdG1wO1xuICAgICAgfVxuXG4gICAgICBpZiAocC54ID4gdS54KSB7XG4gICAgICAgIHUueCA9IHAueDtcbiAgICAgIH1cblxuICAgICAgaWYgKHAueCA8IGwueCkge1xuICAgICAgICBsLnggPSBwLng7XG4gICAgICB9XG5cbiAgICAgIGlmIChwLnkgPiB1LnkpIHtcbiAgICAgICAgdS55ID0gcC55O1xuICAgICAgfVxuXG4gICAgICBpZiAocC55IDwgbC55KSB7XG4gICAgICAgIGwueSA9IHAueTtcbiAgICAgIH1cblxuICAgICAgaWYgKHAueiA+IHUueikge1xuICAgICAgICB1LnogPSBwLno7XG4gICAgICB9XG5cbiAgICAgIGlmIChwLnogPCBsLnopIHtcbiAgICAgICAgbC56ID0gcC56O1xuICAgICAgfVxuICAgIH0gLy8gQWRkIG9mZnNldFxuXG5cbiAgICBpZiAocG9zaXRpb24pIHtcbiAgICAgIHBvc2l0aW9uLnZhZGQobCwgbCk7XG4gICAgICBwb3NpdGlvbi52YWRkKHUsIHUpO1xuICAgIH1cblxuICAgIGlmIChza2luU2l6ZSkge1xuICAgICAgbC54IC09IHNraW5TaXplO1xuICAgICAgbC55IC09IHNraW5TaXplO1xuICAgICAgbC56IC09IHNraW5TaXplO1xuICAgICAgdS54ICs9IHNraW5TaXplO1xuICAgICAgdS55ICs9IHNraW5TaXplO1xuICAgICAgdS56ICs9IHNraW5TaXplO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIC8qKlxyXG4gICAqIENvcHkgYm91bmRzIGZyb20gYW4gQUFCQiB0byB0aGlzIEFBQkJcclxuICAgKiBAbWV0aG9kIGNvcHlcclxuICAgKiBAcGFyYW0gIHtBQUJCfSBhYWJiIFNvdXJjZSB0byBjb3B5IGZyb21cclxuICAgKiBAcmV0dXJuIHtBQUJCfSBUaGUgdGhpcyBvYmplY3QsIGZvciBjaGFpbmFiaWxpdHlcclxuICAgKi9cblxuXG4gIGNvcHkoYWFiYikge1xuICAgIHRoaXMubG93ZXJCb3VuZC5jb3B5KGFhYmIubG93ZXJCb3VuZCk7XG4gICAgdGhpcy51cHBlckJvdW5kLmNvcHkoYWFiYi51cHBlckJvdW5kKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICAvKipcclxuICAgKiBDbG9uZSBhbiBBQUJCXHJcbiAgICogQG1ldGhvZCBjbG9uZVxyXG4gICAqL1xuXG5cbiAgY2xvbmUoKSB7XG4gICAgcmV0dXJuIG5ldyBBQUJCKCkuY29weSh0aGlzKTtcbiAgfVxuICAvKipcclxuICAgKiBFeHRlbmQgdGhpcyBBQUJCIHNvIHRoYXQgaXQgY292ZXJzIHRoZSBnaXZlbiBBQUJCIHRvby5cclxuICAgKiBAbWV0aG9kIGV4dGVuZFxyXG4gICAqIEBwYXJhbSAge0FBQkJ9IGFhYmJcclxuICAgKi9cblxuXG4gIGV4dGVuZChhYWJiKSB7XG4gICAgdGhpcy5sb3dlckJvdW5kLnggPSBNYXRoLm1pbih0aGlzLmxvd2VyQm91bmQueCwgYWFiYi5sb3dlckJvdW5kLngpO1xuICAgIHRoaXMudXBwZXJCb3VuZC54ID0gTWF0aC5tYXgodGhpcy51cHBlckJvdW5kLngsIGFhYmIudXBwZXJCb3VuZC54KTtcbiAgICB0aGlzLmxvd2VyQm91bmQueSA9IE1hdGgubWluKHRoaXMubG93ZXJCb3VuZC55LCBhYWJiLmxvd2VyQm91bmQueSk7XG4gICAgdGhpcy51cHBlckJvdW5kLnkgPSBNYXRoLm1heCh0aGlzLnVwcGVyQm91bmQueSwgYWFiYi51cHBlckJvdW5kLnkpO1xuICAgIHRoaXMubG93ZXJCb3VuZC56ID0gTWF0aC5taW4odGhpcy5sb3dlckJvdW5kLnosIGFhYmIubG93ZXJCb3VuZC56KTtcbiAgICB0aGlzLnVwcGVyQm91bmQueiA9IE1hdGgubWF4KHRoaXMudXBwZXJCb3VuZC56LCBhYWJiLnVwcGVyQm91bmQueik7XG4gIH1cbiAgLyoqXHJcbiAgICogUmV0dXJucyB0cnVlIGlmIHRoZSBnaXZlbiBBQUJCIG92ZXJsYXBzIHRoaXMgQUFCQi5cclxuICAgKiBAbWV0aG9kIG92ZXJsYXBzXHJcbiAgICogQHBhcmFtICB7QUFCQn0gYWFiYlxyXG4gICAqIEByZXR1cm4ge0Jvb2xlYW59XHJcbiAgICovXG5cblxuICBvdmVybGFwcyhhYWJiKSB7XG4gICAgY29uc3QgbDEgPSB0aGlzLmxvd2VyQm91bmQ7XG4gICAgY29uc3QgdTEgPSB0aGlzLnVwcGVyQm91bmQ7XG4gICAgY29uc3QgbDIgPSBhYWJiLmxvd2VyQm91bmQ7XG4gICAgY29uc3QgdTIgPSBhYWJiLnVwcGVyQm91bmQ7IC8vICAgICAgbDIgICAgICAgIHUyXG4gICAgLy8gICAgICB8LS0tLS0tLS0tfFxuICAgIC8vIHwtLS0tLS0tLXxcbiAgICAvLyBsMSAgICAgICB1MVxuXG4gICAgY29uc3Qgb3ZlcmxhcHNYID0gbDIueCA8PSB1MS54ICYmIHUxLnggPD0gdTIueCB8fCBsMS54IDw9IHUyLnggJiYgdTIueCA8PSB1MS54O1xuICAgIGNvbnN0IG92ZXJsYXBzWSA9IGwyLnkgPD0gdTEueSAmJiB1MS55IDw9IHUyLnkgfHwgbDEueSA8PSB1Mi55ICYmIHUyLnkgPD0gdTEueTtcbiAgICBjb25zdCBvdmVybGFwc1ogPSBsMi56IDw9IHUxLnogJiYgdTEueiA8PSB1Mi56IHx8IGwxLnogPD0gdTIueiAmJiB1Mi56IDw9IHUxLno7XG4gICAgcmV0dXJuIG92ZXJsYXBzWCAmJiBvdmVybGFwc1kgJiYgb3ZlcmxhcHNaO1xuICB9IC8vIE1vc3RseSBmb3IgZGVidWdnaW5nXG5cblxuICB2b2x1bWUoKSB7XG4gICAgY29uc3QgbCA9IHRoaXMubG93ZXJCb3VuZDtcbiAgICBjb25zdCB1ID0gdGhpcy51cHBlckJvdW5kO1xuICAgIHJldHVybiAodS54IC0gbC54KSAqICh1LnkgLSBsLnkpICogKHUueiAtIGwueik7XG4gIH1cbiAgLyoqXHJcbiAgICogUmV0dXJucyB0cnVlIGlmIHRoZSBnaXZlbiBBQUJCIGlzIGZ1bGx5IGNvbnRhaW5lZCBpbiB0aGlzIEFBQkIuXHJcbiAgICogQG1ldGhvZCBjb250YWluc1xyXG4gICAqIEBwYXJhbSB7QUFCQn0gYWFiYlxyXG4gICAqIEByZXR1cm4ge0Jvb2xlYW59XHJcbiAgICovXG5cblxuICBjb250YWlucyhhYWJiKSB7XG4gICAgY29uc3QgbDEgPSB0aGlzLmxvd2VyQm91bmQ7XG4gICAgY29uc3QgdTEgPSB0aGlzLnVwcGVyQm91bmQ7XG4gICAgY29uc3QgbDIgPSBhYWJiLmxvd2VyQm91bmQ7XG4gICAgY29uc3QgdTIgPSBhYWJiLnVwcGVyQm91bmQ7IC8vICAgICAgbDIgICAgICAgIHUyXG4gICAgLy8gICAgICB8LS0tLS0tLS0tfFxuICAgIC8vIHwtLS0tLS0tLS0tLS0tLS18XG4gICAgLy8gbDEgICAgICAgICAgICAgIHUxXG5cbiAgICByZXR1cm4gbDEueCA8PSBsMi54ICYmIHUxLnggPj0gdTIueCAmJiBsMS55IDw9IGwyLnkgJiYgdTEueSA+PSB1Mi55ICYmIGwxLnogPD0gbDIueiAmJiB1MS56ID49IHUyLno7XG4gIH1cbiAgLyoqXHJcbiAgICogQG1ldGhvZCBnZXRDb3JuZXJzXHJcbiAgICogQHBhcmFtIHtWZWMzfSBhXHJcbiAgICogQHBhcmFtIHtWZWMzfSBiXHJcbiAgICogQHBhcmFtIHtWZWMzfSBjXHJcbiAgICogQHBhcmFtIHtWZWMzfSBkXHJcbiAgICogQHBhcmFtIHtWZWMzfSBlXHJcbiAgICogQHBhcmFtIHtWZWMzfSBmXHJcbiAgICogQHBhcmFtIHtWZWMzfSBnXHJcbiAgICogQHBhcmFtIHtWZWMzfSBoXHJcbiAgICovXG5cblxuICBnZXRDb3JuZXJzKGEsIGIsIGMsIGQsIGUsIGYsIGcsIGgpIHtcbiAgICBjb25zdCBsID0gdGhpcy5sb3dlckJvdW5kO1xuICAgIGNvbnN0IHUgPSB0aGlzLnVwcGVyQm91bmQ7XG4gICAgYS5jb3B5KGwpO1xuICAgIGIuc2V0KHUueCwgbC55LCBsLnopO1xuICAgIGMuc2V0KHUueCwgdS55LCBsLnopO1xuICAgIGQuc2V0KGwueCwgdS55LCB1LnopO1xuICAgIGUuc2V0KHUueCwgbC55LCB1LnopO1xuICAgIGYuc2V0KGwueCwgdS55LCBsLnopO1xuICAgIGcuc2V0KGwueCwgbC55LCB1LnopO1xuICAgIGguY29weSh1KTtcbiAgfVxuICAvKipcclxuICAgKiBHZXQgdGhlIHJlcHJlc2VudGF0aW9uIG9mIGFuIEFBQkIgaW4gYW5vdGhlciBmcmFtZS5cclxuICAgKiBAbWV0aG9kIHRvTG9jYWxGcmFtZVxyXG4gICAqIEBwYXJhbSAge1RyYW5zZm9ybX0gZnJhbWVcclxuICAgKiBAcGFyYW0gIHtBQUJCfSB0YXJnZXRcclxuICAgKiBAcmV0dXJuIHtBQUJCfSBUaGUgXCJ0YXJnZXRcIiBBQUJCIG9iamVjdC5cclxuICAgKi9cblxuXG4gIHRvTG9jYWxGcmFtZShmcmFtZSwgdGFyZ2V0KSB7XG4gICAgY29uc3QgY29ybmVycyA9IHRyYW5zZm9ybUludG9GcmFtZV9jb3JuZXJzO1xuICAgIGNvbnN0IGEgPSBjb3JuZXJzWzBdO1xuICAgIGNvbnN0IGIgPSBjb3JuZXJzWzFdO1xuICAgIGNvbnN0IGMgPSBjb3JuZXJzWzJdO1xuICAgIGNvbnN0IGQgPSBjb3JuZXJzWzNdO1xuICAgIGNvbnN0IGUgPSBjb3JuZXJzWzRdO1xuICAgIGNvbnN0IGYgPSBjb3JuZXJzWzVdO1xuICAgIGNvbnN0IGcgPSBjb3JuZXJzWzZdO1xuICAgIGNvbnN0IGggPSBjb3JuZXJzWzddOyAvLyBHZXQgY29ybmVycyBpbiBjdXJyZW50IGZyYW1lXG5cbiAgICB0aGlzLmdldENvcm5lcnMoYSwgYiwgYywgZCwgZSwgZiwgZywgaCk7IC8vIFRyYW5zZm9ybSB0aGVtIHRvIG5ldyBsb2NhbCBmcmFtZVxuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgIT09IDg7IGkrKykge1xuICAgICAgY29uc3QgY29ybmVyID0gY29ybmVyc1tpXTtcbiAgICAgIGZyYW1lLnBvaW50VG9Mb2NhbChjb3JuZXIsIGNvcm5lcik7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRhcmdldC5zZXRGcm9tUG9pbnRzKGNvcm5lcnMpO1xuICB9XG4gIC8qKlxyXG4gICAqIEdldCB0aGUgcmVwcmVzZW50YXRpb24gb2YgYW4gQUFCQiBpbiB0aGUgZ2xvYmFsIGZyYW1lLlxyXG4gICAqIEBtZXRob2QgdG9Xb3JsZEZyYW1lXHJcbiAgICogQHBhcmFtICB7VHJhbnNmb3JtfSBmcmFtZVxyXG4gICAqIEBwYXJhbSAge0FBQkJ9IHRhcmdldFxyXG4gICAqIEByZXR1cm4ge0FBQkJ9IFRoZSBcInRhcmdldFwiIEFBQkIgb2JqZWN0LlxyXG4gICAqL1xuXG5cbiAgdG9Xb3JsZEZyYW1lKGZyYW1lLCB0YXJnZXQpIHtcbiAgICBjb25zdCBjb3JuZXJzID0gdHJhbnNmb3JtSW50b0ZyYW1lX2Nvcm5lcnM7XG4gICAgY29uc3QgYSA9IGNvcm5lcnNbMF07XG4gICAgY29uc3QgYiA9IGNvcm5lcnNbMV07XG4gICAgY29uc3QgYyA9IGNvcm5lcnNbMl07XG4gICAgY29uc3QgZCA9IGNvcm5lcnNbM107XG4gICAgY29uc3QgZSA9IGNvcm5lcnNbNF07XG4gICAgY29uc3QgZiA9IGNvcm5lcnNbNV07XG4gICAgY29uc3QgZyA9IGNvcm5lcnNbNl07XG4gICAgY29uc3QgaCA9IGNvcm5lcnNbN107IC8vIEdldCBjb3JuZXJzIGluIGN1cnJlbnQgZnJhbWVcblxuICAgIHRoaXMuZ2V0Q29ybmVycyhhLCBiLCBjLCBkLCBlLCBmLCBnLCBoKTsgLy8gVHJhbnNmb3JtIHRoZW0gdG8gbmV3IGxvY2FsIGZyYW1lXG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSAhPT0gODsgaSsrKSB7XG4gICAgICBjb25zdCBjb3JuZXIgPSBjb3JuZXJzW2ldO1xuICAgICAgZnJhbWUucG9pbnRUb1dvcmxkKGNvcm5lciwgY29ybmVyKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGFyZ2V0LnNldEZyb21Qb2ludHMoY29ybmVycyk7XG4gIH1cbiAgLyoqXHJcbiAgICogQ2hlY2sgaWYgdGhlIEFBQkIgaXMgaGl0IGJ5IGEgcmF5LlxyXG4gICAqIEBwYXJhbSAge1JheX0gcmF5XHJcbiAgICogQHJldHVybiB7Qm9vbGVhbn1cclxuICAgKi9cblxuXG4gIG92ZXJsYXBzUmF5KHJheSkge1xuICAgIGNvbnN0IHtcbiAgICAgIGRpcmVjdGlvbixcbiAgICAgIGZyb21cbiAgICB9ID0gcmF5O1xuXG4gICAgY29uc3QgZGlyRnJhY1ggPSAxIC8gZGlyZWN0aW9uLng7XG4gICAgY29uc3QgZGlyRnJhY1kgPSAxIC8gZGlyZWN0aW9uLnk7XG4gICAgY29uc3QgZGlyRnJhY1ogPSAxIC8gZGlyZWN0aW9uLno7IC8vIHRoaXMubG93ZXJCb3VuZCBpcyB0aGUgY29ybmVyIG9mIEFBQkIgd2l0aCBtaW5pbWFsIGNvb3JkaW5hdGVzIC0gbGVmdCBib3R0b20sIHJ0IGlzIG1heGltYWwgY29ybmVyXG5cbiAgICBjb25zdCB0MSA9ICh0aGlzLmxvd2VyQm91bmQueCAtIGZyb20ueCkgKiBkaXJGcmFjWDtcbiAgICBjb25zdCB0MiA9ICh0aGlzLnVwcGVyQm91bmQueCAtIGZyb20ueCkgKiBkaXJGcmFjWDtcbiAgICBjb25zdCB0MyA9ICh0aGlzLmxvd2VyQm91bmQueSAtIGZyb20ueSkgKiBkaXJGcmFjWTtcbiAgICBjb25zdCB0NCA9ICh0aGlzLnVwcGVyQm91bmQueSAtIGZyb20ueSkgKiBkaXJGcmFjWTtcbiAgICBjb25zdCB0NSA9ICh0aGlzLmxvd2VyQm91bmQueiAtIGZyb20ueikgKiBkaXJGcmFjWjtcbiAgICBjb25zdCB0NiA9ICh0aGlzLnVwcGVyQm91bmQueiAtIGZyb20ueikgKiBkaXJGcmFjWjsgLy8gY29uc3QgdG1pbiA9IE1hdGgubWF4KE1hdGgubWF4KE1hdGgubWluKHQxLCB0MiksIE1hdGgubWluKHQzLCB0NCkpKTtcbiAgICAvLyBjb25zdCB0bWF4ID0gTWF0aC5taW4oTWF0aC5taW4oTWF0aC5tYXgodDEsIHQyKSwgTWF0aC5tYXgodDMsIHQ0KSkpO1xuXG4gICAgY29uc3QgdG1pbiA9IE1hdGgubWF4KE1hdGgubWF4KE1hdGgubWluKHQxLCB0MiksIE1hdGgubWluKHQzLCB0NCkpLCBNYXRoLm1pbih0NSwgdDYpKTtcbiAgICBjb25zdCB0bWF4ID0gTWF0aC5taW4oTWF0aC5taW4oTWF0aC5tYXgodDEsIHQyKSwgTWF0aC5tYXgodDMsIHQ0KSksIE1hdGgubWF4KHQ1LCB0NikpOyAvLyBpZiB0bWF4IDwgMCwgcmF5IChsaW5lKSBpcyBpbnRlcnNlY3RpbmcgQUFCQiwgYnV0IHdob2xlIEFBQkIgaXMgYmVoaW5nIHVzXG5cbiAgICBpZiAodG1heCA8IDApIHtcbiAgICAgIC8vdCA9IHRtYXg7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSAvLyBpZiB0bWluID4gdG1heCwgcmF5IGRvZXNuJ3QgaW50ZXJzZWN0IEFBQkJcblxuXG4gICAgaWYgKHRtaW4gPiB0bWF4KSB7XG4gICAgICAvL3QgPSB0bWF4O1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbn1cbmNvbnN0IHRtcCA9IG5ldyBWZWMzKCk7XG5jb25zdCB0cmFuc2Zvcm1JbnRvRnJhbWVfY29ybmVycyA9IFtuZXcgVmVjMygpLCBuZXcgVmVjMygpLCBuZXcgVmVjMygpLCBuZXcgVmVjMygpLCBuZXcgVmVjMygpLCBuZXcgVmVjMygpLCBuZXcgVmVjMygpLCBuZXcgVmVjMygpXTtcblxuLyoqXHJcbiAqIENvbGxpc2lvbiBcIm1hdHJpeFwiLiBJdCdzIGFjdHVhbGx5IGEgdHJpYW5ndWxhci1zaGFwZWQgYXJyYXkgb2Ygd2hldGhlciB0d28gYm9kaWVzIGFyZSB0b3VjaGluZyB0aGlzIHN0ZXAsIGZvciByZWZlcmVuY2UgbmV4dCBzdGVwXHJcbiAqIEBjbGFzcyBBcnJheUNvbGxpc2lvbk1hdHJpeFxyXG4gKiBAY29uc3RydWN0b3JcclxuICovXG5jbGFzcyBBcnJheUNvbGxpc2lvbk1hdHJpeCB7XG4gIC8vIFRoZSBtYXRyaXggc3RvcmFnZS5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5tYXRyaXggPSBbXTtcbiAgfVxuICAvKipcclxuICAgKiBHZXQgYW4gZWxlbWVudFxyXG4gICAqIEBtZXRob2QgZ2V0XHJcbiAgICogQHBhcmFtICB7Qm9keX0gaVxyXG4gICAqIEBwYXJhbSAge0JvZHl9IGpcclxuICAgKiBAcmV0dXJuIHtOdW1iZXJ9XHJcbiAgICovXG5cblxuICBnZXQoYmksIGJqKSB7XG4gICAgbGV0IHtcbiAgICAgIGluZGV4OiBpXG4gICAgfSA9IGJpO1xuICAgIGxldCB7XG4gICAgICBpbmRleDogalxuICAgIH0gPSBiajtcblxuICAgIGlmIChqID4gaSkge1xuICAgICAgY29uc3QgdGVtcCA9IGo7XG4gICAgICBqID0gaTtcbiAgICAgIGkgPSB0ZW1wO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLm1hdHJpeFsoaSAqIChpICsgMSkgPj4gMSkgKyBqIC0gMV07XG4gIH1cbiAgLyoqXHJcbiAgICogU2V0IGFuIGVsZW1lbnRcclxuICAgKiBAbWV0aG9kIHNldFxyXG4gICAqIEBwYXJhbSB7Qm9keX0gaVxyXG4gICAqIEBwYXJhbSB7Qm9keX0galxyXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gdmFsdWVcclxuICAgKi9cblxuXG4gIHNldChiaSwgYmosIHZhbHVlKSB7XG4gICAgbGV0IHtcbiAgICAgIGluZGV4OiBpXG4gICAgfSA9IGJpO1xuICAgIGxldCB7XG4gICAgICBpbmRleDogalxuICAgIH0gPSBiajtcblxuICAgIGlmIChqID4gaSkge1xuICAgICAgY29uc3QgdGVtcCA9IGo7XG4gICAgICBqID0gaTtcbiAgICAgIGkgPSB0ZW1wO1xuICAgIH1cblxuICAgIHRoaXMubWF0cml4WyhpICogKGkgKyAxKSA+PiAxKSArIGogLSAxXSA9IHZhbHVlID8gMSA6IDA7XG4gIH1cbiAgLyoqXHJcbiAgICogU2V0cyBhbGwgZWxlbWVudHMgdG8gemVyb1xyXG4gICAqIEBtZXRob2QgcmVzZXRcclxuICAgKi9cblxuXG4gIHJlc2V0KCkge1xuICAgIGZvciAobGV0IGkgPSAwLCBsID0gdGhpcy5tYXRyaXgubGVuZ3RoOyBpICE9PSBsOyBpKyspIHtcbiAgICAgIHRoaXMubWF0cml4W2ldID0gMDtcbiAgICB9XG4gIH1cbiAgLyoqXHJcbiAgICogU2V0cyB0aGUgbWF4IG51bWJlciBvZiBvYmplY3RzXHJcbiAgICogQG1ldGhvZCBzZXROdW1PYmplY3RzXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IG5cclxuICAgKi9cblxuXG4gIHNldE51bU9iamVjdHMobikge1xuICAgIHRoaXMubWF0cml4Lmxlbmd0aCA9IG4gKiAobiAtIDEpID4+IDE7XG4gIH1cblxufVxuXG4vKipcclxuICogQmFzZSBjbGFzcyBmb3Igb2JqZWN0cyB0aGF0IGRpc3BhdGNoZXMgZXZlbnRzLlxyXG4gKiBAY2xhc3MgRXZlbnRUYXJnZXRcclxuICogQGNvbnN0cnVjdG9yXHJcbiAqL1xuY2xhc3MgRXZlbnRUYXJnZXQge1xuICBjb25zdHJ1Y3RvcigpIHt9XG4gIC8qKlxyXG4gICAqIEFkZCBhbiBldmVudCBsaXN0ZW5lclxyXG4gICAqIEBtZXRob2QgYWRkRXZlbnRMaXN0ZW5lclxyXG4gICAqIEBwYXJhbSAge1N0cmluZ30gdHlwZVxyXG4gICAqIEBwYXJhbSAge0Z1bmN0aW9ufSBsaXN0ZW5lclxyXG4gICAqIEByZXR1cm4ge0V2ZW50VGFyZ2V0fSBUaGUgc2VsZiBvYmplY3QsIGZvciBjaGFpbmFiaWxpdHkuXHJcbiAgICovXG5cblxuICBhZGRFdmVudExpc3RlbmVyKHR5cGUsIGxpc3RlbmVyKSB7XG4gICAgaWYgKHRoaXMuX2xpc3RlbmVycyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aGlzLl9saXN0ZW5lcnMgPSB7fTtcbiAgICB9XG5cbiAgICBjb25zdCBsaXN0ZW5lcnMgPSB0aGlzLl9saXN0ZW5lcnM7XG5cbiAgICBpZiAobGlzdGVuZXJzW3R5cGVdID09PSB1bmRlZmluZWQpIHtcbiAgICAgIGxpc3RlbmVyc1t0eXBlXSA9IFtdO1xuICAgIH1cblxuICAgIGlmICghbGlzdGVuZXJzW3R5cGVdLmluY2x1ZGVzKGxpc3RlbmVyKSkge1xuICAgICAgbGlzdGVuZXJzW3R5cGVdLnB1c2gobGlzdGVuZXIpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIC8qKlxyXG4gICAqIENoZWNrIGlmIGFuIGV2ZW50IGxpc3RlbmVyIGlzIGFkZGVkXHJcbiAgICogQG1ldGhvZCBoYXNFdmVudExpc3RlbmVyXHJcbiAgICogQHBhcmFtICB7U3RyaW5nfSB0eXBlXHJcbiAgICogQHBhcmFtICB7RnVuY3Rpb259IGxpc3RlbmVyXHJcbiAgICogQHJldHVybiB7Qm9vbGVhbn1cclxuICAgKi9cblxuXG4gIGhhc0V2ZW50TGlzdGVuZXIodHlwZSwgbGlzdGVuZXIpIHtcbiAgICBpZiAodGhpcy5fbGlzdGVuZXJzID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBjb25zdCBsaXN0ZW5lcnMgPSB0aGlzLl9saXN0ZW5lcnM7XG5cbiAgICBpZiAobGlzdGVuZXJzW3R5cGVdICE9PSB1bmRlZmluZWQgJiYgbGlzdGVuZXJzW3R5cGVdLmluY2x1ZGVzKGxpc3RlbmVyKSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIC8qKlxyXG4gICAqIENoZWNrIGlmIGFueSBldmVudCBsaXN0ZW5lciBvZiB0aGUgZ2l2ZW4gdHlwZSBpcyBhZGRlZFxyXG4gICAqIEBtZXRob2QgaGFzQW55RXZlbnRMaXN0ZW5lclxyXG4gICAqIEBwYXJhbSAge1N0cmluZ30gdHlwZVxyXG4gICAqIEByZXR1cm4ge0Jvb2xlYW59XHJcbiAgICovXG5cblxuICBoYXNBbnlFdmVudExpc3RlbmVyKHR5cGUpIHtcbiAgICBpZiAodGhpcy5fbGlzdGVuZXJzID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBjb25zdCBsaXN0ZW5lcnMgPSB0aGlzLl9saXN0ZW5lcnM7XG4gICAgcmV0dXJuIGxpc3RlbmVyc1t0eXBlXSAhPT0gdW5kZWZpbmVkO1xuICB9XG4gIC8qKlxyXG4gICAqIFJlbW92ZSBhbiBldmVudCBsaXN0ZW5lclxyXG4gICAqIEBtZXRob2QgcmVtb3ZlRXZlbnRMaXN0ZW5lclxyXG4gICAqIEBwYXJhbSAge1N0cmluZ30gdHlwZVxyXG4gICAqIEBwYXJhbSAge0Z1bmN0aW9ufSBsaXN0ZW5lclxyXG4gICAqIEByZXR1cm4ge0V2ZW50VGFyZ2V0fSBUaGUgc2VsZiBvYmplY3QsIGZvciBjaGFpbmFiaWxpdHkuXHJcbiAgICovXG5cblxuICByZW1vdmVFdmVudExpc3RlbmVyKHR5cGUsIGxpc3RlbmVyKSB7XG4gICAgaWYgKHRoaXMuX2xpc3RlbmVycyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBjb25zdCBsaXN0ZW5lcnMgPSB0aGlzLl9saXN0ZW5lcnM7XG5cbiAgICBpZiAobGlzdGVuZXJzW3R5cGVdID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIGNvbnN0IGluZGV4ID0gbGlzdGVuZXJzW3R5cGVdLmluZGV4T2YobGlzdGVuZXIpO1xuXG4gICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgbGlzdGVuZXJzW3R5cGVdLnNwbGljZShpbmRleCwgMSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgLyoqXHJcbiAgICogRW1pdCBhbiBldmVudC5cclxuICAgKiBAbWV0aG9kIGRpc3BhdGNoRXZlbnRcclxuICAgKiBAcGFyYW0gIHtPYmplY3R9IGV2ZW50XHJcbiAgICogQHBhcmFtICB7U3RyaW5nfSBldmVudC50eXBlXHJcbiAgICogQHJldHVybiB7RXZlbnRUYXJnZXR9IFRoZSBzZWxmIG9iamVjdCwgZm9yIGNoYWluYWJpbGl0eS5cclxuICAgKi9cblxuXG4gIGRpc3BhdGNoRXZlbnQoZXZlbnQpIHtcbiAgICBpZiAodGhpcy5fbGlzdGVuZXJzID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIGNvbnN0IGxpc3RlbmVycyA9IHRoaXMuX2xpc3RlbmVycztcbiAgICBjb25zdCBsaXN0ZW5lckFycmF5ID0gbGlzdGVuZXJzW2V2ZW50LnR5cGVdO1xuXG4gICAgaWYgKGxpc3RlbmVyQXJyYXkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgZXZlbnQudGFyZ2V0ID0gdGhpcztcblxuICAgICAgZm9yIChsZXQgaSA9IDAsIGwgPSBsaXN0ZW5lckFycmF5Lmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICBsaXN0ZW5lckFycmF5W2ldLmNhbGwodGhpcywgZXZlbnQpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbn1cblxuLyoqXHJcbiAqIEEgUXVhdGVybmlvbiBkZXNjcmliZXMgYSByb3RhdGlvbiBpbiAzRCBzcGFjZS4gVGhlIFF1YXRlcm5pb24gaXMgbWF0aGVtYXRpY2FsbHkgZGVmaW5lZCBhcyBRID0geCppICsgeSpqICsgeiprICsgdywgd2hlcmUgKGksaixrKSBhcmUgaW1hZ2luYXJ5IGJhc2lzIHZlY3RvcnMuICh4LHkseikgY2FuIGJlIHNlZW4gYXMgYSB2ZWN0b3IgcmVsYXRlZCB0byB0aGUgYXhpcyBvZiByb3RhdGlvbiwgd2hpbGUgdGhlIHJlYWwgbXVsdGlwbGllciwgdywgaXMgcmVsYXRlZCB0byB0aGUgYW1vdW50IG9mIHJvdGF0aW9uLlxyXG4gKiBAcGFyYW0ge051bWJlcn0geCBNdWx0aXBsaWVyIG9mIHRoZSBpbWFnaW5hcnkgYmFzaXMgdmVjdG9yIGkuXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSB5IE11bHRpcGxpZXIgb2YgdGhlIGltYWdpbmFyeSBiYXNpcyB2ZWN0b3Igai5cclxuICogQHBhcmFtIHtOdW1iZXJ9IHogTXVsdGlwbGllciBvZiB0aGUgaW1hZ2luYXJ5IGJhc2lzIHZlY3RvciBrLlxyXG4gKiBAcGFyYW0ge051bWJlcn0gdyBNdWx0aXBsaWVyIG9mIHRoZSByZWFsIHBhcnQuXHJcbiAqIEBzZWUgaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9RdWF0ZXJuaW9uXHJcbiAqL1xuXG5jbGFzcyBRdWF0ZXJuaW9uIHtcbiAgY29uc3RydWN0b3IoeCA9IDAsIHkgPSAwLCB6ID0gMCwgdyA9IDEpIHtcbiAgICB0aGlzLnggPSB4O1xuICAgIHRoaXMueSA9IHk7XG4gICAgdGhpcy56ID0gejtcbiAgICB0aGlzLncgPSB3O1xuICB9XG4gIC8qKlxyXG4gICAqIFNldCB0aGUgdmFsdWUgb2YgdGhlIHF1YXRlcm5pb24uXHJcbiAgICovXG5cblxuICBzZXQoeCwgeSwgeiwgdykge1xuICAgIHRoaXMueCA9IHg7XG4gICAgdGhpcy55ID0geTtcbiAgICB0aGlzLnogPSB6O1xuICAgIHRoaXMudyA9IHc7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgLyoqXHJcbiAgICogQ29udmVydCB0byBhIHJlYWRhYmxlIGZvcm1hdFxyXG4gICAqIEByZXR1cm4ge1N0cmluZ30gXCJ4LHkseix3XCJcclxuICAgKi9cblxuXG4gIHRvU3RyaW5nKCkge1xuICAgIHJldHVybiB0aGlzLnggKyBcIixcIiArIHRoaXMueSArIFwiLFwiICsgdGhpcy56ICsgXCIsXCIgKyB0aGlzLnc7XG4gIH1cbiAgLyoqXHJcbiAgICogQ29udmVydCB0byBhbiBBcnJheVxyXG4gICAqIEByZXR1cm4ge0FycmF5fSBbeCwgeSwgeiwgd11cclxuICAgKi9cblxuXG4gIHRvQXJyYXkoKSB7XG4gICAgcmV0dXJuIFt0aGlzLngsIHRoaXMueSwgdGhpcy56LCB0aGlzLnddO1xuICB9XG4gIC8qKlxyXG4gICAqIFNldCB0aGUgcXVhdGVybmlvbiBjb21wb25lbnRzIGdpdmVuIGFuIGF4aXMgYW5kIGFuIGFuZ2xlIGluIHJhZGlhbnMuXHJcbiAgICovXG5cblxuICBzZXRGcm9tQXhpc0FuZ2xlKHZlY3RvciwgYW5nbGUpIHtcbiAgICBjb25zdCBzID0gTWF0aC5zaW4oYW5nbGUgKiAwLjUpO1xuICAgIHRoaXMueCA9IHZlY3Rvci54ICogcztcbiAgICB0aGlzLnkgPSB2ZWN0b3IueSAqIHM7XG4gICAgdGhpcy56ID0gdmVjdG9yLnogKiBzO1xuICAgIHRoaXMudyA9IE1hdGguY29zKGFuZ2xlICogMC41KTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICAvKipcclxuICAgKiBDb252ZXJ0cyB0aGUgcXVhdGVybmlvbiB0byBbIGF4aXMsIGFuZ2xlIF0gcmVwcmVzZW50YXRpb24uXHJcbiAgICogQHBhcmFtIHtWZWMzfSBbdGFyZ2V0QXhpc10gQSB2ZWN0b3Igb2JqZWN0IHRvIHJldXNlIGZvciBzdG9yaW5nIHRoZSBheGlzLlxyXG4gICAqIEByZXR1cm4ge0FycmF5fSBBbiBhcnJheSwgZmlyc3QgZWxlbWVudCBpcyB0aGUgYXhpcyBhbmQgdGhlIHNlY29uZCBpcyB0aGUgYW5nbGUgaW4gcmFkaWFucy5cclxuICAgKi9cblxuXG4gIHRvQXhpc0FuZ2xlKHRhcmdldEF4aXMgPSBuZXcgVmVjMygpKSB7XG4gICAgdGhpcy5ub3JtYWxpemUoKTsgLy8gaWYgdz4xIGFjb3MgYW5kIHNxcnQgd2lsbCBwcm9kdWNlIGVycm9ycywgdGhpcyBjYW50IGhhcHBlbiBpZiBxdWF0ZXJuaW9uIGlzIG5vcm1hbGlzZWRcblxuICAgIGNvbnN0IGFuZ2xlID0gMiAqIE1hdGguYWNvcyh0aGlzLncpO1xuICAgIGNvbnN0IHMgPSBNYXRoLnNxcnQoMSAtIHRoaXMudyAqIHRoaXMudyk7IC8vIGFzc3VtaW5nIHF1YXRlcm5pb24gbm9ybWFsaXNlZCB0aGVuIHcgaXMgbGVzcyB0aGFuIDEsIHNvIHRlcm0gYWx3YXlzIHBvc2l0aXZlLlxuXG4gICAgaWYgKHMgPCAwLjAwMSkge1xuICAgICAgLy8gdGVzdCB0byBhdm9pZCBkaXZpZGUgYnkgemVybywgcyBpcyBhbHdheXMgcG9zaXRpdmUgZHVlIHRvIHNxcnRcbiAgICAgIC8vIGlmIHMgY2xvc2UgdG8gemVybyB0aGVuIGRpcmVjdGlvbiBvZiBheGlzIG5vdCBpbXBvcnRhbnRcbiAgICAgIHRhcmdldEF4aXMueCA9IHRoaXMueDsgLy8gaWYgaXQgaXMgaW1wb3J0YW50IHRoYXQgYXhpcyBpcyBub3JtYWxpc2VkIHRoZW4gcmVwbGFjZSB3aXRoIHg9MTsgeT16PTA7XG5cbiAgICAgIHRhcmdldEF4aXMueSA9IHRoaXMueTtcbiAgICAgIHRhcmdldEF4aXMueiA9IHRoaXMuejtcbiAgICB9IGVsc2Uge1xuICAgICAgdGFyZ2V0QXhpcy54ID0gdGhpcy54IC8gczsgLy8gbm9ybWFsaXNlIGF4aXNcblxuICAgICAgdGFyZ2V0QXhpcy55ID0gdGhpcy55IC8gcztcbiAgICAgIHRhcmdldEF4aXMueiA9IHRoaXMueiAvIHM7XG4gICAgfVxuXG4gICAgcmV0dXJuIFt0YXJnZXRBeGlzLCBhbmdsZV07XG4gIH1cbiAgLyoqXHJcbiAgICogU2V0IHRoZSBxdWF0ZXJuaW9uIHZhbHVlIGdpdmVuIHR3byB2ZWN0b3JzLiBUaGUgcmVzdWx0aW5nIHJvdGF0aW9uIHdpbGwgYmUgdGhlIG5lZWRlZCByb3RhdGlvbiB0byByb3RhdGUgdSB0byB2LlxyXG4gICAqL1xuXG5cbiAgc2V0RnJvbVZlY3RvcnModSwgdikge1xuICAgIGlmICh1LmlzQW50aXBhcmFsbGVsVG8odikpIHtcbiAgICAgIGNvbnN0IHQxID0gc2Z2X3QxO1xuICAgICAgY29uc3QgdDIgPSBzZnZfdDI7XG4gICAgICB1LnRhbmdlbnRzKHQxLCB0Mik7XG4gICAgICB0aGlzLnNldEZyb21BeGlzQW5nbGUodDEsIE1hdGguUEkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBhID0gdS5jcm9zcyh2KTtcbiAgICAgIHRoaXMueCA9IGEueDtcbiAgICAgIHRoaXMueSA9IGEueTtcbiAgICAgIHRoaXMueiA9IGEuejtcbiAgICAgIHRoaXMudyA9IE1hdGguc3FydCh1Lmxlbmd0aCgpICoqIDIgKiB2Lmxlbmd0aCgpICoqIDIpICsgdS5kb3Qodik7XG4gICAgICB0aGlzLm5vcm1hbGl6ZSgpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIC8qKlxyXG4gICAqIE11bHRpcGx5IHRoZSBxdWF0ZXJuaW9uIHdpdGggYW4gb3RoZXIgcXVhdGVybmlvbi5cclxuICAgKi9cblxuXG4gIG11bHQocXVhdCwgdGFyZ2V0ID0gbmV3IFF1YXRlcm5pb24oKSkge1xuICAgIGNvbnN0IGF4ID0gdGhpcy54O1xuICAgIGNvbnN0IGF5ID0gdGhpcy55O1xuICAgIGNvbnN0IGF6ID0gdGhpcy56O1xuICAgIGNvbnN0IGF3ID0gdGhpcy53O1xuICAgIGNvbnN0IGJ4ID0gcXVhdC54O1xuICAgIGNvbnN0IGJ5ID0gcXVhdC55O1xuICAgIGNvbnN0IGJ6ID0gcXVhdC56O1xuICAgIGNvbnN0IGJ3ID0gcXVhdC53O1xuICAgIHRhcmdldC54ID0gYXggKiBidyArIGF3ICogYnggKyBheSAqIGJ6IC0gYXogKiBieTtcbiAgICB0YXJnZXQueSA9IGF5ICogYncgKyBhdyAqIGJ5ICsgYXogKiBieCAtIGF4ICogYno7XG4gICAgdGFyZ2V0LnogPSBheiAqIGJ3ICsgYXcgKiBieiArIGF4ICogYnkgLSBheSAqIGJ4O1xuICAgIHRhcmdldC53ID0gYXcgKiBidyAtIGF4ICogYnggLSBheSAqIGJ5IC0gYXogKiBiejtcbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9XG4gIC8qKlxyXG4gICAqIEdldCB0aGUgaW52ZXJzZSBxdWF0ZXJuaW9uIHJvdGF0aW9uLlxyXG4gICAqL1xuXG5cbiAgaW52ZXJzZSh0YXJnZXQgPSBuZXcgUXVhdGVybmlvbigpKSB7XG4gICAgY29uc3QgeCA9IHRoaXMueDtcbiAgICBjb25zdCB5ID0gdGhpcy55O1xuICAgIGNvbnN0IHogPSB0aGlzLno7XG4gICAgY29uc3QgdyA9IHRoaXMudztcbiAgICB0aGlzLmNvbmp1Z2F0ZSh0YXJnZXQpO1xuICAgIGNvbnN0IGlub3JtMiA9IDEgLyAoeCAqIHggKyB5ICogeSArIHogKiB6ICsgdyAqIHcpO1xuICAgIHRhcmdldC54ICo9IGlub3JtMjtcbiAgICB0YXJnZXQueSAqPSBpbm9ybTI7XG4gICAgdGFyZ2V0LnogKj0gaW5vcm0yO1xuICAgIHRhcmdldC53ICo9IGlub3JtMjtcbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9XG4gIC8qKlxyXG4gICAqIEdldCB0aGUgcXVhdGVybmlvbiBjb25qdWdhdGVcclxuICAgKi9cblxuXG4gIGNvbmp1Z2F0ZSh0YXJnZXQgPSBuZXcgUXVhdGVybmlvbigpKSB7XG4gICAgdGFyZ2V0LnggPSAtdGhpcy54O1xuICAgIHRhcmdldC55ID0gLXRoaXMueTtcbiAgICB0YXJnZXQueiA9IC10aGlzLno7XG4gICAgdGFyZ2V0LncgPSB0aGlzLnc7XG4gICAgcmV0dXJuIHRhcmdldDtcbiAgfVxuICAvKipcclxuICAgKiBOb3JtYWxpemUgdGhlIHF1YXRlcm5pb24uIE5vdGUgdGhhdCB0aGlzIGNoYW5nZXMgdGhlIHZhbHVlcyBvZiB0aGUgcXVhdGVybmlvbi5cclxuICAgKiBAbWV0aG9kIG5vcm1hbGl6ZVxyXG4gICAqL1xuXG5cbiAgbm9ybWFsaXplKCkge1xuICAgIGxldCBsID0gTWF0aC5zcXJ0KHRoaXMueCAqIHRoaXMueCArIHRoaXMueSAqIHRoaXMueSArIHRoaXMueiAqIHRoaXMueiArIHRoaXMudyAqIHRoaXMudyk7XG5cbiAgICBpZiAobCA9PT0gMCkge1xuICAgICAgdGhpcy54ID0gMDtcbiAgICAgIHRoaXMueSA9IDA7XG4gICAgICB0aGlzLnogPSAwO1xuICAgICAgdGhpcy53ID0gMDtcbiAgICB9IGVsc2Uge1xuICAgICAgbCA9IDEgLyBsO1xuICAgICAgdGhpcy54ICo9IGw7XG4gICAgICB0aGlzLnkgKj0gbDtcbiAgICAgIHRoaXMueiAqPSBsO1xuICAgICAgdGhpcy53ICo9IGw7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgLyoqXHJcbiAgICogQXBwcm94aW1hdGlvbiBvZiBxdWF0ZXJuaW9uIG5vcm1hbGl6YXRpb24uIFdvcmtzIGJlc3Qgd2hlbiBxdWF0IGlzIGFscmVhZHkgYWxtb3N0LW5vcm1hbGl6ZWQuXHJcbiAgICogQHNlZSBodHRwOi8vanNwZXJmLmNvbS9mYXN0LXF1YXRlcm5pb24tbm9ybWFsaXphdGlvblxyXG4gICAqIEBhdXRob3IgdW5waGFzZWQsIGh0dHBzOi8vZ2l0aHViLmNvbS91bnBoYXNlZFxyXG4gICAqL1xuXG5cbiAgbm9ybWFsaXplRmFzdCgpIHtcbiAgICBjb25zdCBmID0gKDMuMCAtICh0aGlzLnggKiB0aGlzLnggKyB0aGlzLnkgKiB0aGlzLnkgKyB0aGlzLnogKiB0aGlzLnogKyB0aGlzLncgKiB0aGlzLncpKSAvIDIuMDtcblxuICAgIGlmIChmID09PSAwKSB7XG4gICAgICB0aGlzLnggPSAwO1xuICAgICAgdGhpcy55ID0gMDtcbiAgICAgIHRoaXMueiA9IDA7XG4gICAgICB0aGlzLncgPSAwO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnggKj0gZjtcbiAgICAgIHRoaXMueSAqPSBmO1xuICAgICAgdGhpcy56ICo9IGY7XG4gICAgICB0aGlzLncgKj0gZjtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICAvKipcclxuICAgKiBNdWx0aXBseSB0aGUgcXVhdGVybmlvbiBieSBhIHZlY3RvclxyXG4gICAqL1xuXG5cbiAgdm11bHQodiwgdGFyZ2V0ID0gbmV3IFZlYzMoKSkge1xuICAgIGNvbnN0IHggPSB2Lng7XG4gICAgY29uc3QgeSA9IHYueTtcbiAgICBjb25zdCB6ID0gdi56O1xuICAgIGNvbnN0IHF4ID0gdGhpcy54O1xuICAgIGNvbnN0IHF5ID0gdGhpcy55O1xuICAgIGNvbnN0IHF6ID0gdGhpcy56O1xuICAgIGNvbnN0IHF3ID0gdGhpcy53OyAvLyBxKnZcblxuICAgIGNvbnN0IGl4ID0gcXcgKiB4ICsgcXkgKiB6IC0gcXogKiB5O1xuICAgIGNvbnN0IGl5ID0gcXcgKiB5ICsgcXogKiB4IC0gcXggKiB6O1xuICAgIGNvbnN0IGl6ID0gcXcgKiB6ICsgcXggKiB5IC0gcXkgKiB4O1xuICAgIGNvbnN0IGl3ID0gLXF4ICogeCAtIHF5ICogeSAtIHF6ICogejtcbiAgICB0YXJnZXQueCA9IGl4ICogcXcgKyBpdyAqIC1xeCArIGl5ICogLXF6IC0gaXogKiAtcXk7XG4gICAgdGFyZ2V0LnkgPSBpeSAqIHF3ICsgaXcgKiAtcXkgKyBpeiAqIC1xeCAtIGl4ICogLXF6O1xuICAgIHRhcmdldC56ID0gaXogKiBxdyArIGl3ICogLXF6ICsgaXggKiAtcXkgLSBpeSAqIC1xeDtcbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9XG4gIC8qKlxyXG4gICAqIENvcGllcyB2YWx1ZSBvZiBzb3VyY2UgdG8gdGhpcyBxdWF0ZXJuaW9uLlxyXG4gICAqIEBtZXRob2QgY29weVxyXG4gICAqIEBwYXJhbSB7UXVhdGVybmlvbn0gc291cmNlXHJcbiAgICogQHJldHVybiB7UXVhdGVybmlvbn0gdGhpc1xyXG4gICAqL1xuXG5cbiAgY29weShxdWF0KSB7XG4gICAgdGhpcy54ID0gcXVhdC54O1xuICAgIHRoaXMueSA9IHF1YXQueTtcbiAgICB0aGlzLnogPSBxdWF0Lno7XG4gICAgdGhpcy53ID0gcXVhdC53O1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIC8qKlxyXG4gICAqIENvbnZlcnQgdGhlIHF1YXRlcm5pb24gdG8gZXVsZXIgYW5nbGUgcmVwcmVzZW50YXRpb24uIE9yZGVyOiBZWlgsIGFzIHRoaXMgcGFnZSBkZXNjcmliZXM6IGh0dHA6Ly93d3cuZXVjbGlkZWFuc3BhY2UuY29tL21hdGhzL3N0YW5kYXJkcy9pbmRleC5odG1cclxuICAgKiBAbWV0aG9kIHRvRXVsZXJcclxuICAgKiBAcGFyYW0ge1ZlYzN9IHRhcmdldFxyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBvcmRlciBUaHJlZS1jaGFyYWN0ZXIgc3RyaW5nLCBkZWZhdWx0cyB0byBcIllaWFwiXHJcbiAgICovXG5cblxuICB0b0V1bGVyKHRhcmdldCwgb3JkZXIgPSAnWVpYJykge1xuICAgIGxldCBoZWFkaW5nO1xuICAgIGxldCBhdHRpdHVkZTtcbiAgICBsZXQgYmFuaztcbiAgICBjb25zdCB4ID0gdGhpcy54O1xuICAgIGNvbnN0IHkgPSB0aGlzLnk7XG4gICAgY29uc3QgeiA9IHRoaXMuejtcbiAgICBjb25zdCB3ID0gdGhpcy53O1xuXG4gICAgc3dpdGNoIChvcmRlcikge1xuICAgICAgY2FzZSAnWVpYJzpcbiAgICAgICAgY29uc3QgdGVzdCA9IHggKiB5ICsgeiAqIHc7XG5cbiAgICAgICAgaWYgKHRlc3QgPiAwLjQ5OSkge1xuICAgICAgICAgIC8vIHNpbmd1bGFyaXR5IGF0IG5vcnRoIHBvbGVcbiAgICAgICAgICBoZWFkaW5nID0gMiAqIE1hdGguYXRhbjIoeCwgdyk7XG4gICAgICAgICAgYXR0aXR1ZGUgPSBNYXRoLlBJIC8gMjtcbiAgICAgICAgICBiYW5rID0gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0ZXN0IDwgLTAuNDk5KSB7XG4gICAgICAgICAgLy8gc2luZ3VsYXJpdHkgYXQgc291dGggcG9sZVxuICAgICAgICAgIGhlYWRpbmcgPSAtMiAqIE1hdGguYXRhbjIoeCwgdyk7XG4gICAgICAgICAgYXR0aXR1ZGUgPSAtTWF0aC5QSSAvIDI7XG4gICAgICAgICAgYmFuayA9IDA7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaGVhZGluZyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgY29uc3Qgc3F4ID0geCAqIHg7XG4gICAgICAgICAgY29uc3Qgc3F5ID0geSAqIHk7XG4gICAgICAgICAgY29uc3Qgc3F6ID0geiAqIHo7XG4gICAgICAgICAgaGVhZGluZyA9IE1hdGguYXRhbjIoMiAqIHkgKiB3IC0gMiAqIHggKiB6LCAxIC0gMiAqIHNxeSAtIDIgKiBzcXopOyAvLyBIZWFkaW5nXG5cbiAgICAgICAgICBhdHRpdHVkZSA9IE1hdGguYXNpbigyICogdGVzdCk7IC8vIGF0dGl0dWRlXG5cbiAgICAgICAgICBiYW5rID0gTWF0aC5hdGFuMigyICogeCAqIHcgLSAyICogeSAqIHosIDEgLSAyICogc3F4IC0gMiAqIHNxeik7IC8vIGJhbmtcbiAgICAgICAgfVxuXG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJFdWxlciBvcmRlciBcIiArIG9yZGVyICsgXCIgbm90IHN1cHBvcnRlZCB5ZXQuXCIpO1xuICAgIH1cblxuICAgIHRhcmdldC55ID0gaGVhZGluZztcbiAgICB0YXJnZXQueiA9IGF0dGl0dWRlO1xuICAgIHRhcmdldC54ID0gYmFuaztcbiAgfVxuICAvKipcclxuICAgKiBAcGFyYW0ge051bWJlcn0geFxyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSB5XHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHpcclxuICAgKiBAcGFyYW0ge1N0cmluZ30gb3JkZXIgVGhlIG9yZGVyIHRvIGFwcGx5IGFuZ2xlczogJ1hZWicgb3IgJ1lYWicgb3IgYW55IG90aGVyIGNvbWJpbmF0aW9uXHJcbiAgICogQHNlZSBodHRwOi8vd3d3Lm1hdGh3b3Jrcy5jb20vbWF0bGFiY2VudHJhbC9maWxlZXhjaGFuZ2UvMjA2OTYtZnVuY3Rpb24tdG8tY29udmVydC1iZXR3ZWVuLWRjbS1ldWxlci1hbmdsZXMtcXVhdGVybmlvbnMtYW5kLWV1bGVyLXZlY3RvcnMvY29udGVudC9TcGluQ2FsYy5tXHJcbiAgICovXG5cblxuICBzZXRGcm9tRXVsZXIoeCwgeSwgeiwgb3JkZXIgPSAnWFlaJykge1xuICAgIGNvbnN0IGMxID0gTWF0aC5jb3MoeCAvIDIpO1xuICAgIGNvbnN0IGMyID0gTWF0aC5jb3MoeSAvIDIpO1xuICAgIGNvbnN0IGMzID0gTWF0aC5jb3MoeiAvIDIpO1xuICAgIGNvbnN0IHMxID0gTWF0aC5zaW4oeCAvIDIpO1xuICAgIGNvbnN0IHMyID0gTWF0aC5zaW4oeSAvIDIpO1xuICAgIGNvbnN0IHMzID0gTWF0aC5zaW4oeiAvIDIpO1xuXG4gICAgaWYgKG9yZGVyID09PSAnWFlaJykge1xuICAgICAgdGhpcy54ID0gczEgKiBjMiAqIGMzICsgYzEgKiBzMiAqIHMzO1xuICAgICAgdGhpcy55ID0gYzEgKiBzMiAqIGMzIC0gczEgKiBjMiAqIHMzO1xuICAgICAgdGhpcy56ID0gYzEgKiBjMiAqIHMzICsgczEgKiBzMiAqIGMzO1xuICAgICAgdGhpcy53ID0gYzEgKiBjMiAqIGMzIC0gczEgKiBzMiAqIHMzO1xuICAgIH0gZWxzZSBpZiAob3JkZXIgPT09ICdZWFonKSB7XG4gICAgICB0aGlzLnggPSBzMSAqIGMyICogYzMgKyBjMSAqIHMyICogczM7XG4gICAgICB0aGlzLnkgPSBjMSAqIHMyICogYzMgLSBzMSAqIGMyICogczM7XG4gICAgICB0aGlzLnogPSBjMSAqIGMyICogczMgLSBzMSAqIHMyICogYzM7XG4gICAgICB0aGlzLncgPSBjMSAqIGMyICogYzMgKyBzMSAqIHMyICogczM7XG4gICAgfSBlbHNlIGlmIChvcmRlciA9PT0gJ1pYWScpIHtcbiAgICAgIHRoaXMueCA9IHMxICogYzIgKiBjMyAtIGMxICogczIgKiBzMztcbiAgICAgIHRoaXMueSA9IGMxICogczIgKiBjMyArIHMxICogYzIgKiBzMztcbiAgICAgIHRoaXMueiA9IGMxICogYzIgKiBzMyArIHMxICogczIgKiBjMztcbiAgICAgIHRoaXMudyA9IGMxICogYzIgKiBjMyAtIHMxICogczIgKiBzMztcbiAgICB9IGVsc2UgaWYgKG9yZGVyID09PSAnWllYJykge1xuICAgICAgdGhpcy54ID0gczEgKiBjMiAqIGMzIC0gYzEgKiBzMiAqIHMzO1xuICAgICAgdGhpcy55ID0gYzEgKiBzMiAqIGMzICsgczEgKiBjMiAqIHMzO1xuICAgICAgdGhpcy56ID0gYzEgKiBjMiAqIHMzIC0gczEgKiBzMiAqIGMzO1xuICAgICAgdGhpcy53ID0gYzEgKiBjMiAqIGMzICsgczEgKiBzMiAqIHMzO1xuICAgIH0gZWxzZSBpZiAob3JkZXIgPT09ICdZWlgnKSB7XG4gICAgICB0aGlzLnggPSBzMSAqIGMyICogYzMgKyBjMSAqIHMyICogczM7XG4gICAgICB0aGlzLnkgPSBjMSAqIHMyICogYzMgKyBzMSAqIGMyICogczM7XG4gICAgICB0aGlzLnogPSBjMSAqIGMyICogczMgLSBzMSAqIHMyICogYzM7XG4gICAgICB0aGlzLncgPSBjMSAqIGMyICogYzMgLSBzMSAqIHMyICogczM7XG4gICAgfSBlbHNlIGlmIChvcmRlciA9PT0gJ1haWScpIHtcbiAgICAgIHRoaXMueCA9IHMxICogYzIgKiBjMyAtIGMxICogczIgKiBzMztcbiAgICAgIHRoaXMueSA9IGMxICogczIgKiBjMyAtIHMxICogYzIgKiBzMztcbiAgICAgIHRoaXMueiA9IGMxICogYzIgKiBzMyArIHMxICogczIgKiBjMztcbiAgICAgIHRoaXMudyA9IGMxICogYzIgKiBjMyArIHMxICogczIgKiBzMztcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICAvKipcclxuICAgKiBAbWV0aG9kIGNsb25lXHJcbiAgICogQHJldHVybiB7UXVhdGVybmlvbn1cclxuICAgKi9cblxuXG4gIGNsb25lKCkge1xuICAgIHJldHVybiBuZXcgUXVhdGVybmlvbih0aGlzLngsIHRoaXMueSwgdGhpcy56LCB0aGlzLncpO1xuICB9XG4gIC8qKlxyXG4gICAqIFBlcmZvcm1zIGEgc3BoZXJpY2FsIGxpbmVhciBpbnRlcnBvbGF0aW9uIGJldHdlZW4gdHdvIHF1YXRcclxuICAgKlxyXG4gICAqIEBwYXJhbSB7UXVhdGVybmlvbn0gdG9RdWF0IHNlY29uZCBvcGVyYW5kXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHQgaW50ZXJwb2xhdGlvbiBhbW91bnQgYmV0d2VlbiB0aGUgc2VsZiBxdWF0ZXJuaW9uIGFuZCB0b1F1YXRcclxuICAgKiBAcGFyYW0ge1F1YXRlcm5pb259IFt0YXJnZXRdIEEgcXVhdGVybmlvbiB0byBzdG9yZSB0aGUgcmVzdWx0IGluLiBJZiBub3QgcHJvdmlkZWQsIGEgbmV3IG9uZSB3aWxsIGJlIGNyZWF0ZWQuXHJcbiAgICogQHJldHVybnMge1F1YXRlcm5pb259IFRoZSBcInRhcmdldFwiIG9iamVjdFxyXG4gICAqL1xuXG5cbiAgc2xlcnAodG9RdWF0LCB0LCB0YXJnZXQgPSBuZXcgUXVhdGVybmlvbigpKSB7XG4gICAgY29uc3QgYXggPSB0aGlzLng7XG4gICAgY29uc3QgYXkgPSB0aGlzLnk7XG4gICAgY29uc3QgYXogPSB0aGlzLno7XG4gICAgY29uc3QgYXcgPSB0aGlzLnc7XG4gICAgbGV0IGJ4ID0gdG9RdWF0Lng7XG4gICAgbGV0IGJ5ID0gdG9RdWF0Lnk7XG4gICAgbGV0IGJ6ID0gdG9RdWF0Lno7XG4gICAgbGV0IGJ3ID0gdG9RdWF0Lnc7XG4gICAgbGV0IG9tZWdhO1xuICAgIGxldCBjb3NvbTtcbiAgICBsZXQgc2lub207XG4gICAgbGV0IHNjYWxlMDtcbiAgICBsZXQgc2NhbGUxOyAvLyBjYWxjIGNvc2luZVxuXG4gICAgY29zb20gPSBheCAqIGJ4ICsgYXkgKiBieSArIGF6ICogYnogKyBhdyAqIGJ3OyAvLyBhZGp1c3Qgc2lnbnMgKGlmIG5lY2Vzc2FyeSlcblxuICAgIGlmIChjb3NvbSA8IDAuMCkge1xuICAgICAgY29zb20gPSAtY29zb207XG4gICAgICBieCA9IC1ieDtcbiAgICAgIGJ5ID0gLWJ5O1xuICAgICAgYnogPSAtYno7XG4gICAgICBidyA9IC1idztcbiAgICB9IC8vIGNhbGN1bGF0ZSBjb2VmZmljaWVudHNcblxuXG4gICAgaWYgKDEuMCAtIGNvc29tID4gMC4wMDAwMDEpIHtcbiAgICAgIC8vIHN0YW5kYXJkIGNhc2UgKHNsZXJwKVxuICAgICAgb21lZ2EgPSBNYXRoLmFjb3MoY29zb20pO1xuICAgICAgc2lub20gPSBNYXRoLnNpbihvbWVnYSk7XG4gICAgICBzY2FsZTAgPSBNYXRoLnNpbigoMS4wIC0gdCkgKiBvbWVnYSkgLyBzaW5vbTtcbiAgICAgIHNjYWxlMSA9IE1hdGguc2luKHQgKiBvbWVnYSkgLyBzaW5vbTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gXCJmcm9tXCIgYW5kIFwidG9cIiBxdWF0ZXJuaW9ucyBhcmUgdmVyeSBjbG9zZVxuICAgICAgLy8gIC4uLiBzbyB3ZSBjYW4gZG8gYSBsaW5lYXIgaW50ZXJwb2xhdGlvblxuICAgICAgc2NhbGUwID0gMS4wIC0gdDtcbiAgICAgIHNjYWxlMSA9IHQ7XG4gICAgfSAvLyBjYWxjdWxhdGUgZmluYWwgdmFsdWVzXG5cblxuICAgIHRhcmdldC54ID0gc2NhbGUwICogYXggKyBzY2FsZTEgKiBieDtcbiAgICB0YXJnZXQueSA9IHNjYWxlMCAqIGF5ICsgc2NhbGUxICogYnk7XG4gICAgdGFyZ2V0LnogPSBzY2FsZTAgKiBheiArIHNjYWxlMSAqIGJ6O1xuICAgIHRhcmdldC53ID0gc2NhbGUwICogYXcgKyBzY2FsZTEgKiBidztcbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9XG4gIC8qKlxyXG4gICAqIFJvdGF0ZSBhbiBhYnNvbHV0ZSBvcmllbnRhdGlvbiBxdWF0ZXJuaW9uIGdpdmVuIGFuIGFuZ3VsYXIgdmVsb2NpdHkgYW5kIGEgdGltZSBzdGVwLlxyXG4gICAqL1xuXG5cbiAgaW50ZWdyYXRlKGFuZ3VsYXJWZWxvY2l0eSwgZHQsIGFuZ3VsYXJGYWN0b3IsIHRhcmdldCA9IG5ldyBRdWF0ZXJuaW9uKCkpIHtcbiAgICBjb25zdCBheCA9IGFuZ3VsYXJWZWxvY2l0eS54ICogYW5ndWxhckZhY3Rvci54LFxuICAgICAgICAgIGF5ID0gYW5ndWxhclZlbG9jaXR5LnkgKiBhbmd1bGFyRmFjdG9yLnksXG4gICAgICAgICAgYXogPSBhbmd1bGFyVmVsb2NpdHkueiAqIGFuZ3VsYXJGYWN0b3IueixcbiAgICAgICAgICBieCA9IHRoaXMueCxcbiAgICAgICAgICBieSA9IHRoaXMueSxcbiAgICAgICAgICBieiA9IHRoaXMueixcbiAgICAgICAgICBidyA9IHRoaXMudztcbiAgICBjb25zdCBoYWxmX2R0ID0gZHQgKiAwLjU7XG4gICAgdGFyZ2V0LnggKz0gaGFsZl9kdCAqIChheCAqIGJ3ICsgYXkgKiBieiAtIGF6ICogYnkpO1xuICAgIHRhcmdldC55ICs9IGhhbGZfZHQgKiAoYXkgKiBidyArIGF6ICogYnggLSBheCAqIGJ6KTtcbiAgICB0YXJnZXQueiArPSBoYWxmX2R0ICogKGF6ICogYncgKyBheCAqIGJ5IC0gYXkgKiBieCk7XG4gICAgdGFyZ2V0LncgKz0gaGFsZl9kdCAqICgtYXggKiBieCAtIGF5ICogYnkgLSBheiAqIGJ6KTtcbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9XG5cbn1cbmNvbnN0IHNmdl90MSA9IG5ldyBWZWMzKCk7XG5jb25zdCBzZnZfdDIgPSBuZXcgVmVjMygpO1xuXG5jb25zdCBTSEFQRV9UWVBFUyA9IHtcbiAgU1BIRVJFOiAxLFxuICBQTEFORTogMixcbiAgQk9YOiA0LFxuICBDT01QT1VORDogOCxcbiAgQ09OVkVYUE9MWUhFRFJPTjogMTYsXG4gIEhFSUdIVEZJRUxEOiAzMixcbiAgUEFSVElDTEU6IDY0LFxuICBDWUxJTkRFUjogMTI4LFxuICBUUklNRVNIOiAyNTZcbn07XG5cbi8qKlxyXG4gKiBCYXNlIGNsYXNzIGZvciBzaGFwZXNcclxuICogQGNsYXNzIFNoYXBlXHJcbiAqIEBjb25zdHJ1Y3RvclxyXG4gKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5jb2xsaXNpb25GaWx0ZXJHcm91cD0xXVxyXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuY29sbGlzaW9uRmlsdGVyTWFzaz0tMV1cclxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmNvbGxpc2lvblJlc3BvbnNlPXRydWVdXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5tYXRlcmlhbD1udWxsXVxyXG4gKiBAYXV0aG9yIHNjaHRlcHBlXHJcbiAqL1xuY2xhc3MgU2hhcGUge1xuICAvLyBJZGVudGlmeWVyIG9mIHRoZSBTaGFwZS5cbiAgLy8gVGhlIHR5cGUgb2YgdGhpcyBzaGFwZS4gTXVzdCBiZSBzZXQgdG8gYW4gaW50ID4gMCBieSBzdWJjbGFzc2VzLlxuICAvLyBUaGUgbG9jYWwgYm91bmRpbmcgc3BoZXJlIHJhZGl1cyBvZiB0aGlzIHNoYXBlLlxuICAvLyBXaGV0aGVyIHRvIHByb2R1Y2UgY29udGFjdCBmb3JjZXMgd2hlbiBpbiBjb250YWN0IHdpdGggb3RoZXIgYm9kaWVzLiBOb3RlIHRoYXQgY29udGFjdHMgd2lsbCBiZSBnZW5lcmF0ZWQsIGJ1dCB0aGV5IHdpbGwgYmUgZGlzYWJsZWQuXG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMgPSB7fSkge1xuICAgIHRoaXMuaWQgPSBTaGFwZS5pZENvdW50ZXIrKztcbiAgICB0aGlzLnR5cGUgPSBvcHRpb25zLnR5cGUgfHwgMDtcbiAgICB0aGlzLmJvdW5kaW5nU3BoZXJlUmFkaXVzID0gMDtcbiAgICB0aGlzLmNvbGxpc2lvblJlc3BvbnNlID0gb3B0aW9ucy5jb2xsaXNpb25SZXNwb25zZSA/IG9wdGlvbnMuY29sbGlzaW9uUmVzcG9uc2UgOiB0cnVlO1xuICAgIHRoaXMuY29sbGlzaW9uRmlsdGVyR3JvdXAgPSBvcHRpb25zLmNvbGxpc2lvbkZpbHRlckdyb3VwICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmNvbGxpc2lvbkZpbHRlckdyb3VwIDogMTtcbiAgICB0aGlzLmNvbGxpc2lvbkZpbHRlck1hc2sgPSBvcHRpb25zLmNvbGxpc2lvbkZpbHRlck1hc2sgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuY29sbGlzaW9uRmlsdGVyTWFzayA6IC0xO1xuICAgIHRoaXMubWF0ZXJpYWwgPSBvcHRpb25zLm1hdGVyaWFsID8gb3B0aW9ucy5tYXRlcmlhbCA6IG51bGw7XG4gICAgdGhpcy5ib2R5ID0gbnVsbDtcbiAgfVxuICAvKipcclxuICAgKiBDb21wdXRlcyB0aGUgYm91bmRpbmcgc3BoZXJlIHJhZGl1cy4gVGhlIHJlc3VsdCBpcyBzdG9yZWQgaW4gdGhlIHByb3BlcnR5IC5ib3VuZGluZ1NwaGVyZVJhZGl1c1xyXG4gICAqIEBtZXRob2QgdXBkYXRlQm91bmRpbmdTcGhlcmVSYWRpdXNcclxuICAgKi9cblxuXG4gIHVwZGF0ZUJvdW5kaW5nU3BoZXJlUmFkaXVzKCkge1xuICAgIHRocm93IFwiY29tcHV0ZUJvdW5kaW5nU3BoZXJlUmFkaXVzKCkgbm90IGltcGxlbWVudGVkIGZvciBzaGFwZSB0eXBlIFwiICsgdGhpcy50eXBlO1xuICB9XG4gIC8qKlxyXG4gICAqIEdldCB0aGUgdm9sdW1lIG9mIHRoaXMgc2hhcGVcclxuICAgKiBAbWV0aG9kIHZvbHVtZVxyXG4gICAqIEByZXR1cm4ge051bWJlcn1cclxuICAgKi9cblxuXG4gIHZvbHVtZSgpIHtcbiAgICB0aHJvdyBcInZvbHVtZSgpIG5vdCBpbXBsZW1lbnRlZCBmb3Igc2hhcGUgdHlwZSBcIiArIHRoaXMudHlwZTtcbiAgfVxuICAvKipcclxuICAgKiBDYWxjdWxhdGVzIHRoZSBpbmVydGlhIGluIHRoZSBsb2NhbCBmcmFtZSBmb3IgdGhpcyBzaGFwZS5cclxuICAgKiBAbWV0aG9kIGNhbGN1bGF0ZUxvY2FsSW5lcnRpYVxyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBtYXNzXHJcbiAgICogQHBhcmFtIHtWZWMzfSB0YXJnZXRcclxuICAgKiBAc2VlIGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvTGlzdF9vZl9tb21lbnRzX29mX2luZXJ0aWFcclxuICAgKi9cblxuXG4gIGNhbGN1bGF0ZUxvY2FsSW5lcnRpYShtYXNzLCB0YXJnZXQpIHtcbiAgICB0aHJvdyBcImNhbGN1bGF0ZUxvY2FsSW5lcnRpYSgpIG5vdCBpbXBsZW1lbnRlZCBmb3Igc2hhcGUgdHlwZSBcIiArIHRoaXMudHlwZTtcbiAgfVxuXG4gIGNhbGN1bGF0ZVdvcmxkQUFCQihwb3MsIHF1YXQsIG1pbiwgbWF4KSB7XG4gICAgdGhyb3cgXCJjYWxjdWxhdGVXb3JsZEFBQkIoKSBub3QgaW1wbGVtZW50ZWQgZm9yIHNoYXBlIHR5cGUgXCIgKyB0aGlzLnR5cGU7XG4gIH1cblxufVxuU2hhcGUuaWRDb3VudGVyID0gMDtcbi8qKlxyXG4gKiBUaGUgYXZhaWxhYmxlIHNoYXBlIHR5cGVzLlxyXG4gKiBAc3RhdGljXHJcbiAqIEBwcm9wZXJ0eSB0eXBlc1xyXG4gKiBAdHlwZSB7T2JqZWN0fVxyXG4gKi9cblxuU2hhcGUudHlwZXMgPSBTSEFQRV9UWVBFUztcblxuY2xhc3MgVHJhbnNmb3JtIHtcbiAgY29uc3RydWN0b3Iob3B0aW9ucyA9IHt9KSB7XG4gICAgdGhpcy5wb3NpdGlvbiA9IG5ldyBWZWMzKCk7XG4gICAgdGhpcy5xdWF0ZXJuaW9uID0gbmV3IFF1YXRlcm5pb24oKTtcblxuICAgIGlmIChvcHRpb25zLnBvc2l0aW9uKSB7XG4gICAgICB0aGlzLnBvc2l0aW9uLmNvcHkob3B0aW9ucy5wb3NpdGlvbik7XG4gICAgfVxuXG4gICAgaWYgKG9wdGlvbnMucXVhdGVybmlvbikge1xuICAgICAgdGhpcy5xdWF0ZXJuaW9uLmNvcHkob3B0aW9ucy5xdWF0ZXJuaW9uKTtcbiAgICB9XG4gIH1cbiAgLyoqXHJcbiAgICogR2V0IGEgZ2xvYmFsIHBvaW50IGluIGxvY2FsIHRyYW5zZm9ybSBjb29yZGluYXRlcy5cclxuICAgKi9cblxuXG4gIHBvaW50VG9Mb2NhbCh3b3JsZFBvaW50LCByZXN1bHQpIHtcbiAgICByZXR1cm4gVHJhbnNmb3JtLnBvaW50VG9Mb2NhbEZyYW1lKHRoaXMucG9zaXRpb24sIHRoaXMucXVhdGVybmlvbiwgd29ybGRQb2ludCwgcmVzdWx0KTtcbiAgfVxuICAvKipcclxuICAgKiBHZXQgYSBsb2NhbCBwb2ludCBpbiBnbG9iYWwgdHJhbnNmb3JtIGNvb3JkaW5hdGVzLlxyXG4gICAqL1xuXG5cbiAgcG9pbnRUb1dvcmxkKGxvY2FsUG9pbnQsIHJlc3VsdCkge1xuICAgIHJldHVybiBUcmFuc2Zvcm0ucG9pbnRUb1dvcmxkRnJhbWUodGhpcy5wb3NpdGlvbiwgdGhpcy5xdWF0ZXJuaW9uLCBsb2NhbFBvaW50LCByZXN1bHQpO1xuICB9XG5cbiAgdmVjdG9yVG9Xb3JsZEZyYW1lKGxvY2FsVmVjdG9yLCByZXN1bHQgPSBuZXcgVmVjMygpKSB7XG4gICAgdGhpcy5xdWF0ZXJuaW9uLnZtdWx0KGxvY2FsVmVjdG9yLCByZXN1bHQpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICBzdGF0aWMgcG9pbnRUb0xvY2FsRnJhbWUocG9zaXRpb24sIHF1YXRlcm5pb24sIHdvcmxkUG9pbnQsIHJlc3VsdCA9IG5ldyBWZWMzKCkpIHtcbiAgICB3b3JsZFBvaW50LnZzdWIocG9zaXRpb24sIHJlc3VsdCk7XG4gICAgcXVhdGVybmlvbi5jb25qdWdhdGUodG1wUXVhdCk7XG4gICAgdG1wUXVhdC52bXVsdChyZXN1bHQsIHJlc3VsdCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIHN0YXRpYyBwb2ludFRvV29ybGRGcmFtZShwb3NpdGlvbiwgcXVhdGVybmlvbiwgbG9jYWxQb2ludCwgcmVzdWx0ID0gbmV3IFZlYzMoKSkge1xuICAgIHF1YXRlcm5pb24udm11bHQobG9jYWxQb2ludCwgcmVzdWx0KTtcbiAgICByZXN1bHQudmFkZChwb3NpdGlvbiwgcmVzdWx0KTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgc3RhdGljIHZlY3RvclRvV29ybGRGcmFtZShxdWF0ZXJuaW9uLCBsb2NhbFZlY3RvciwgcmVzdWx0ID0gbmV3IFZlYzMoKSkge1xuICAgIHF1YXRlcm5pb24udm11bHQobG9jYWxWZWN0b3IsIHJlc3VsdCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIHN0YXRpYyB2ZWN0b3JUb0xvY2FsRnJhbWUocG9zaXRpb24sIHF1YXRlcm5pb24sIHdvcmxkVmVjdG9yLCByZXN1bHQgPSBuZXcgVmVjMygpKSB7XG4gICAgcXVhdGVybmlvbi53ICo9IC0xO1xuICAgIHF1YXRlcm5pb24udm11bHQod29ybGRWZWN0b3IsIHJlc3VsdCk7XG4gICAgcXVhdGVybmlvbi53ICo9IC0xO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxufVxuY29uc3QgdG1wUXVhdCA9IG5ldyBRdWF0ZXJuaW9uKCk7XG5cbi8qKlxyXG4gKiBBIHNldCBvZiBwb2x5Z29ucyBkZXNjcmliaW5nIGEgY29udmV4IHNoYXBlLlxyXG4gKiBAY2xhc3MgQ29udmV4UG9seWhlZHJvblxyXG4gKiBAY29uc3RydWN0b3JcclxuICogQGV4dGVuZHMgU2hhcGVcclxuICogQGRlc2NyaXB0aW9uIFRoZSBzaGFwZSBNVVNUIGJlIGNvbnZleCBmb3IgdGhlIGNvZGUgdG8gd29yayBwcm9wZXJseS4gTm8gcG9seWdvbnMgbWF5IGJlIGNvcGxhbmFyIChjb250YWluZWRcclxuICogaW4gdGhlIHNhbWUgM0QgcGxhbmUpLCBpbnN0ZWFkIHRoZXNlIHNob3VsZCBiZSBtZXJnZWQgaW50byBvbmUgcG9seWdvbi5cclxuICpcclxuICogQHBhcmFtIHthcnJheX0gcG9pbnRzIEFuIGFycmF5IG9mIFZlYzMnc1xyXG4gKiBAcGFyYW0ge2FycmF5fSBmYWNlcyBBcnJheSBvZiBpbnRlZ2VyIGFycmF5cywgZGVzY3JpYmluZyB3aGljaCB2ZXJ0aWNlcyB0aGF0IGlzIGluY2x1ZGVkIGluIGVhY2ggZmFjZS5cclxuICpcclxuICogQGF1dGhvciBxaWFvIC8gaHR0cHM6Ly9naXRodWIuY29tL3FpYW8gKG9yaWdpbmFsIGF1dGhvciwgc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9xaWFvL3RocmVlLmpzL2NvbW1pdC84NTAyNmYwYzc2OWU0MDAwMTQ4YTY3ZDQ1YTllOWI5YzUxMDg4MzZmKVxyXG4gKiBAYXV0aG9yIHNjaHRlcHBlIC8gaHR0cHM6Ly9naXRodWIuY29tL3NjaHRlcHBlXHJcbiAqIEBzZWUgaHR0cDovL3d3dy5hbHRkZXZibG9nYWRheS5jb20vMjAxMS8wNS8xMy9jb250YWN0LWdlbmVyYXRpb24tYmV0d2Vlbi0zZC1jb252ZXgtbWVzaGVzL1xyXG4gKlxyXG4gKiBAdG9kbyBNb3ZlIHRoZSBjbGlwcGluZyBmdW5jdGlvbnMgdG8gQ29udGFjdEdlbmVyYXRvcj9cclxuICogQHRvZG8gQXV0b21hdGljYWxseSBtZXJnZSBjb3BsYW5hciBwb2x5Z29ucyBpbiBjb25zdHJ1Y3Rvci5cclxuICovXG5jbGFzcyBDb252ZXhQb2x5aGVkcm9uIGV4dGVuZHMgU2hhcGUge1xuICAvLyBBcnJheSBvZiBpbnRlZ2VyIGFycmF5cywgaW5kaWNhdGluZyB3aGljaCB2ZXJ0aWNlcyBlYWNoIGZhY2UgY29uc2lzdHMgb2ZcbiAgLy8gSWYgZ2l2ZW4sIHRoZXNlIGxvY2FsbHkgZGVmaW5lZCwgbm9ybWFsaXplZCBheGVzIGFyZSB0aGUgb25seSBvbmVzIGJlaW5nIGNoZWNrZWQgd2hlbiBkb2luZyBzZXBhcmF0aW5nIGF4aXMgY2hlY2suXG4gIGNvbnN0cnVjdG9yKHByb3BzID0ge30pIHtcbiAgICBjb25zdCB7XG4gICAgICB2ZXJ0aWNlcyA9IFtdLFxuICAgICAgZmFjZXMgPSBbXSxcbiAgICAgIG5vcm1hbHMgPSBbXSxcbiAgICAgIGF4ZXMsXG4gICAgICBib3VuZGluZ1NwaGVyZVJhZGl1c1xuICAgIH0gPSBwcm9wcztcbiAgICBzdXBlcih7XG4gICAgICB0eXBlOiBTaGFwZS50eXBlcy5DT05WRVhQT0xZSEVEUk9OXG4gICAgfSk7XG4gICAgdGhpcy52ZXJ0aWNlcyA9IHZlcnRpY2VzO1xuICAgIHRoaXMuZmFjZXMgPSBmYWNlcztcbiAgICB0aGlzLmZhY2VOb3JtYWxzID0gbm9ybWFscztcblxuICAgIGlmICh0aGlzLmZhY2VOb3JtYWxzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgdGhpcy5jb21wdXRlTm9ybWFscygpO1xuICAgIH1cblxuICAgIGlmICghYm91bmRpbmdTcGhlcmVSYWRpdXMpIHtcbiAgICAgIHRoaXMudXBkYXRlQm91bmRpbmdTcGhlcmVSYWRpdXMoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5ib3VuZGluZ1NwaGVyZVJhZGl1cyA9IGJvdW5kaW5nU3BoZXJlUmFkaXVzO1xuICAgIH1cblxuICAgIHRoaXMud29ybGRWZXJ0aWNlcyA9IFtdOyAvLyBXb3JsZCB0cmFuc2Zvcm1lZCB2ZXJzaW9uIG9mIC52ZXJ0aWNlc1xuXG4gICAgdGhpcy53b3JsZFZlcnRpY2VzTmVlZHNVcGRhdGUgPSB0cnVlO1xuICAgIHRoaXMud29ybGRGYWNlTm9ybWFscyA9IFtdOyAvLyBXb3JsZCB0cmFuc2Zvcm1lZCB2ZXJzaW9uIG9mIC5mYWNlTm9ybWFsc1xuXG4gICAgdGhpcy53b3JsZEZhY2VOb3JtYWxzTmVlZHNVcGRhdGUgPSB0cnVlO1xuICAgIHRoaXMudW5pcXVlQXhlcyA9IGF4ZXMgPyBheGVzLnNsaWNlKCkgOiBudWxsO1xuICAgIHRoaXMudW5pcXVlRWRnZXMgPSBbXTtcbiAgICB0aGlzLmNvbXB1dGVFZGdlcygpO1xuICB9XG4gIC8qKlxyXG4gICAqIENvbXB1dGVzIHVuaXF1ZUVkZ2VzXHJcbiAgICogQG1ldGhvZCBjb21wdXRlRWRnZXNcclxuICAgKi9cblxuXG4gIGNvbXB1dGVFZGdlcygpIHtcbiAgICBjb25zdCBmYWNlcyA9IHRoaXMuZmFjZXM7XG4gICAgY29uc3QgdmVydGljZXMgPSB0aGlzLnZlcnRpY2VzO1xuICAgIGNvbnN0IGVkZ2VzID0gdGhpcy51bmlxdWVFZGdlcztcbiAgICBlZGdlcy5sZW5ndGggPSAwO1xuICAgIGNvbnN0IGVkZ2UgPSBuZXcgVmVjMygpO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgIT09IGZhY2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBmYWNlID0gZmFjZXNbaV07XG4gICAgICBjb25zdCBudW1WZXJ0aWNlcyA9IGZhY2UubGVuZ3RoO1xuXG4gICAgICBmb3IgKGxldCBqID0gMDsgaiAhPT0gbnVtVmVydGljZXM7IGorKykge1xuICAgICAgICBjb25zdCBrID0gKGogKyAxKSAlIG51bVZlcnRpY2VzO1xuICAgICAgICB2ZXJ0aWNlc1tmYWNlW2pdXS52c3ViKHZlcnRpY2VzW2ZhY2Vba11dLCBlZGdlKTtcbiAgICAgICAgZWRnZS5ub3JtYWxpemUoKTtcbiAgICAgICAgbGV0IGZvdW5kID0gZmFsc2U7XG5cbiAgICAgICAgZm9yIChsZXQgcCA9IDA7IHAgIT09IGVkZ2VzLmxlbmd0aDsgcCsrKSB7XG4gICAgICAgICAgaWYgKGVkZ2VzW3BdLmFsbW9zdEVxdWFscyhlZGdlKSB8fCBlZGdlc1twXS5hbG1vc3RFcXVhbHMoZWRnZSkpIHtcbiAgICAgICAgICAgIGZvdW5kID0gdHJ1ZTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghZm91bmQpIHtcbiAgICAgICAgICBlZGdlcy5wdXNoKGVkZ2UuY2xvbmUoKSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgLyoqXHJcbiAgICogQ29tcHV0ZSB0aGUgbm9ybWFscyBvZiB0aGUgZmFjZXMuIFdpbGwgcmV1c2UgZXhpc3RpbmcgVmVjMyBvYmplY3RzIGluIHRoZSAuZmFjZU5vcm1hbHMgYXJyYXkgaWYgdGhleSBleGlzdC5cclxuICAgKiBAbWV0aG9kIGNvbXB1dGVOb3JtYWxzXHJcbiAgICovXG5cblxuICBjb21wdXRlTm9ybWFscygpIHtcbiAgICB0aGlzLmZhY2VOb3JtYWxzLmxlbmd0aCA9IHRoaXMuZmFjZXMubGVuZ3RoOyAvLyBHZW5lcmF0ZSBub3JtYWxzXG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuZmFjZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIC8vIENoZWNrIHNvIGFsbCB2ZXJ0aWNlcyBleGlzdHMgZm9yIHRoaXMgZmFjZVxuICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCB0aGlzLmZhY2VzW2ldLmxlbmd0aDsgaisrKSB7XG4gICAgICAgIGlmICghdGhpcy52ZXJ0aWNlc1t0aGlzLmZhY2VzW2ldW2pdXSkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlZlcnRleCBcIiArIHRoaXMuZmFjZXNbaV1bal0gKyBcIiBub3QgZm91bmQhXCIpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IG4gPSB0aGlzLmZhY2VOb3JtYWxzW2ldIHx8IG5ldyBWZWMzKCk7XG4gICAgICB0aGlzLmdldEZhY2VOb3JtYWwoaSwgbik7XG4gICAgICBuLm5lZ2F0ZShuKTtcbiAgICAgIHRoaXMuZmFjZU5vcm1hbHNbaV0gPSBuO1xuICAgICAgY29uc3QgdmVydGV4ID0gdGhpcy52ZXJ0aWNlc1t0aGlzLmZhY2VzW2ldWzBdXTtcblxuICAgICAgaWYgKG4uZG90KHZlcnRleCkgPCAwKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCIuZmFjZU5vcm1hbHNbXCIgKyBpICsgXCJdID0gVmVjMyhcIiArIG4udG9TdHJpbmcoKSArIFwiKSBsb29rcyBsaWtlIGl0IHBvaW50cyBpbnRvIHRoZSBzaGFwZT8gVGhlIHZlcnRpY2VzIGZvbGxvdy4gTWFrZSBzdXJlIHRoZXkgYXJlIG9yZGVyZWQgQ0NXIGFyb3VuZCB0aGUgbm9ybWFsLCB1c2luZyB0aGUgcmlnaHQgaGFuZCBydWxlLlwiKTtcblxuICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHRoaXMuZmFjZXNbaV0ubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICBjb25zb2xlLndhcm4oXCIudmVydGljZXNbXCIgKyB0aGlzLmZhY2VzW2ldW2pdICsgXCJdID0gVmVjMyhcIiArIHRoaXMudmVydGljZXNbdGhpcy5mYWNlc1tpXVtqXV0udG9TdHJpbmcoKSArIFwiKVwiKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuICAvKipcclxuICAgKiBDb21wdXRlIHRoZSBub3JtYWwgb2YgYSBmYWNlIGZyb20gaXRzIHZlcnRpY2VzXHJcbiAgICogQG1ldGhvZCBnZXRGYWNlTm9ybWFsXHJcbiAgICogQHBhcmFtICB7TnVtYmVyfSBpXHJcbiAgICogQHBhcmFtICB7VmVjM30gdGFyZ2V0XHJcbiAgICovXG5cblxuICBnZXRGYWNlTm9ybWFsKGksIHRhcmdldCkge1xuICAgIGNvbnN0IGYgPSB0aGlzLmZhY2VzW2ldO1xuICAgIGNvbnN0IHZhID0gdGhpcy52ZXJ0aWNlc1tmWzBdXTtcbiAgICBjb25zdCB2YiA9IHRoaXMudmVydGljZXNbZlsxXV07XG4gICAgY29uc3QgdmMgPSB0aGlzLnZlcnRpY2VzW2ZbMl1dO1xuICAgIENvbnZleFBvbHloZWRyb24uY29tcHV0ZU5vcm1hbCh2YSwgdmIsIHZjLCB0YXJnZXQpO1xuICB9XG4gIC8qKlxyXG4gICAqIEBtZXRob2QgY2xpcEFnYWluc3RIdWxsXHJcbiAgICogQHBhcmFtIHtWZWMzfSBwb3NBXHJcbiAgICogQHBhcmFtIHtRdWF0ZXJuaW9ufSBxdWF0QVxyXG4gICAqIEBwYXJhbSB7Q29udmV4UG9seWhlZHJvbn0gaHVsbEJcclxuICAgKiBAcGFyYW0ge1ZlYzN9IHBvc0JcclxuICAgKiBAcGFyYW0ge1F1YXRlcm5pb259IHF1YXRCXHJcbiAgICogQHBhcmFtIHtWZWMzfSBzZXBhcmF0aW5nTm9ybWFsXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IG1pbkRpc3QgQ2xhbXAgZGlzdGFuY2VcclxuICAgKiBAcGFyYW0ge051bWJlcn0gbWF4RGlzdFxyXG4gICAqIEBwYXJhbSB7YXJyYXl9IHJlc3VsdCBUaGUgYW4gYXJyYXkgb2YgY29udGFjdCBwb2ludCBvYmplY3RzLCBzZWUgY2xpcEZhY2VBZ2FpbnN0SHVsbFxyXG4gICAqL1xuXG5cbiAgY2xpcEFnYWluc3RIdWxsKHBvc0EsIHF1YXRBLCBodWxsQiwgcG9zQiwgcXVhdEIsIHNlcGFyYXRpbmdOb3JtYWwsIG1pbkRpc3QsIG1heERpc3QsIHJlc3VsdCkge1xuICAgIGNvbnN0IFdvcmxkTm9ybWFsID0gbmV3IFZlYzMoKTtcbiAgICBsZXQgY2xvc2VzdEZhY2VCID0gLTE7XG4gICAgbGV0IGRtYXggPSAtTnVtYmVyLk1BWF9WQUxVRTtcblxuICAgIGZvciAobGV0IGZhY2UgPSAwOyBmYWNlIDwgaHVsbEIuZmFjZXMubGVuZ3RoOyBmYWNlKyspIHtcbiAgICAgIFdvcmxkTm9ybWFsLmNvcHkoaHVsbEIuZmFjZU5vcm1hbHNbZmFjZV0pO1xuICAgICAgcXVhdEIudm11bHQoV29ybGROb3JtYWwsIFdvcmxkTm9ybWFsKTtcbiAgICAgIGNvbnN0IGQgPSBXb3JsZE5vcm1hbC5kb3Qoc2VwYXJhdGluZ05vcm1hbCk7XG5cbiAgICAgIGlmIChkID4gZG1heCkge1xuICAgICAgICBkbWF4ID0gZDtcbiAgICAgICAgY2xvc2VzdEZhY2VCID0gZmFjZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCB3b3JsZFZlcnRzQjEgPSBbXTtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaHVsbEIuZmFjZXNbY2xvc2VzdEZhY2VCXS5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgYiA9IGh1bGxCLnZlcnRpY2VzW2h1bGxCLmZhY2VzW2Nsb3Nlc3RGYWNlQl1baV1dO1xuICAgICAgY29uc3Qgd29ybGRiID0gbmV3IFZlYzMoKTtcbiAgICAgIHdvcmxkYi5jb3B5KGIpO1xuICAgICAgcXVhdEIudm11bHQod29ybGRiLCB3b3JsZGIpO1xuICAgICAgcG9zQi52YWRkKHdvcmxkYiwgd29ybGRiKTtcbiAgICAgIHdvcmxkVmVydHNCMS5wdXNoKHdvcmxkYik7XG4gICAgfVxuXG4gICAgaWYgKGNsb3Nlc3RGYWNlQiA+PSAwKSB7XG4gICAgICB0aGlzLmNsaXBGYWNlQWdhaW5zdEh1bGwoc2VwYXJhdGluZ05vcm1hbCwgcG9zQSwgcXVhdEEsIHdvcmxkVmVydHNCMSwgbWluRGlzdCwgbWF4RGlzdCwgcmVzdWx0KTtcbiAgICB9XG4gIH1cbiAgLyoqXHJcbiAgICogRmluZCB0aGUgc2VwYXJhdGluZyBheGlzIGJldHdlZW4gdGhpcyBodWxsIGFuZCBhbm90aGVyXHJcbiAgICogQG1ldGhvZCBmaW5kU2VwYXJhdGluZ0F4aXNcclxuICAgKiBAcGFyYW0ge0NvbnZleFBvbHloZWRyb259IGh1bGxCXHJcbiAgICogQHBhcmFtIHtWZWMzfSBwb3NBXHJcbiAgICogQHBhcmFtIHtRdWF0ZXJuaW9ufSBxdWF0QVxyXG4gICAqIEBwYXJhbSB7VmVjM30gcG9zQlxyXG4gICAqIEBwYXJhbSB7UXVhdGVybmlvbn0gcXVhdEJcclxuICAgKiBAcGFyYW0ge1ZlYzN9IHRhcmdldCBUaGUgdGFyZ2V0IHZlY3RvciB0byBzYXZlIHRoZSBheGlzIGluXHJcbiAgICogQHJldHVybiB7Ym9vbH0gUmV0dXJucyBmYWxzZSBpZiBhIHNlcGFyYXRpb24gaXMgZm91bmQsIGVsc2UgdHJ1ZVxyXG4gICAqL1xuXG5cbiAgZmluZFNlcGFyYXRpbmdBeGlzKGh1bGxCLCBwb3NBLCBxdWF0QSwgcG9zQiwgcXVhdEIsIHRhcmdldCwgZmFjZUxpc3RBLCBmYWNlTGlzdEIpIHtcbiAgICBjb25zdCBmYWNlQU5vcm1hbFdTMyA9IG5ldyBWZWMzKCk7XG4gICAgY29uc3QgV29ybGRub3JtYWwxID0gbmV3IFZlYzMoKTtcbiAgICBjb25zdCBkZWx0YUMgPSBuZXcgVmVjMygpO1xuICAgIGNvbnN0IHdvcmxkRWRnZTAgPSBuZXcgVmVjMygpO1xuICAgIGNvbnN0IHdvcmxkRWRnZTEgPSBuZXcgVmVjMygpO1xuICAgIGNvbnN0IENyb3NzID0gbmV3IFZlYzMoKTtcbiAgICBsZXQgZG1pbiA9IE51bWJlci5NQVhfVkFMVUU7XG4gICAgY29uc3QgaHVsbEEgPSB0aGlzO1xuXG4gICAgaWYgKCFodWxsQS51bmlxdWVBeGVzKSB7XG4gICAgICBjb25zdCBudW1GYWNlc0EgPSBmYWNlTGlzdEEgPyBmYWNlTGlzdEEubGVuZ3RoIDogaHVsbEEuZmFjZXMubGVuZ3RoOyAvLyBUZXN0IGZhY2Ugbm9ybWFscyBmcm9tIGh1bGxBXG5cbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbnVtRmFjZXNBOyBpKyspIHtcbiAgICAgICAgY29uc3QgZmkgPSBmYWNlTGlzdEEgPyBmYWNlTGlzdEFbaV0gOiBpOyAvLyBHZXQgd29ybGQgZmFjZSBub3JtYWxcblxuICAgICAgICBmYWNlQU5vcm1hbFdTMy5jb3B5KGh1bGxBLmZhY2VOb3JtYWxzW2ZpXSk7XG4gICAgICAgIHF1YXRBLnZtdWx0KGZhY2VBTm9ybWFsV1MzLCBmYWNlQU5vcm1hbFdTMyk7XG4gICAgICAgIGNvbnN0IGQgPSBodWxsQS50ZXN0U2VwQXhpcyhmYWNlQU5vcm1hbFdTMywgaHVsbEIsIHBvc0EsIHF1YXRBLCBwb3NCLCBxdWF0Qik7XG5cbiAgICAgICAgaWYgKGQgPT09IGZhbHNlKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGQgPCBkbWluKSB7XG4gICAgICAgICAgZG1pbiA9IGQ7XG4gICAgICAgICAgdGFyZ2V0LmNvcHkoZmFjZUFOb3JtYWxXUzMpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFRlc3QgdW5pcXVlIGF4ZXNcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpICE9PSBodWxsQS51bmlxdWVBeGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIC8vIEdldCB3b3JsZCBheGlzXG4gICAgICAgIHF1YXRBLnZtdWx0KGh1bGxBLnVuaXF1ZUF4ZXNbaV0sIGZhY2VBTm9ybWFsV1MzKTtcbiAgICAgICAgY29uc3QgZCA9IGh1bGxBLnRlc3RTZXBBeGlzKGZhY2VBTm9ybWFsV1MzLCBodWxsQiwgcG9zQSwgcXVhdEEsIHBvc0IsIHF1YXRCKTtcblxuICAgICAgICBpZiAoZCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZCA8IGRtaW4pIHtcbiAgICAgICAgICBkbWluID0gZDtcbiAgICAgICAgICB0YXJnZXQuY29weShmYWNlQU5vcm1hbFdTMyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoIWh1bGxCLnVuaXF1ZUF4ZXMpIHtcbiAgICAgIC8vIFRlc3QgZmFjZSBub3JtYWxzIGZyb20gaHVsbEJcbiAgICAgIGNvbnN0IG51bUZhY2VzQiA9IGZhY2VMaXN0QiA/IGZhY2VMaXN0Qi5sZW5ndGggOiBodWxsQi5mYWNlcy5sZW5ndGg7XG5cbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbnVtRmFjZXNCOyBpKyspIHtcbiAgICAgICAgY29uc3QgZmkgPSBmYWNlTGlzdEIgPyBmYWNlTGlzdEJbaV0gOiBpO1xuICAgICAgICBXb3JsZG5vcm1hbDEuY29weShodWxsQi5mYWNlTm9ybWFsc1tmaV0pO1xuICAgICAgICBxdWF0Qi52bXVsdChXb3JsZG5vcm1hbDEsIFdvcmxkbm9ybWFsMSk7XG4gICAgICAgIGNvbnN0IGQgPSBodWxsQS50ZXN0U2VwQXhpcyhXb3JsZG5vcm1hbDEsIGh1bGxCLCBwb3NBLCBxdWF0QSwgcG9zQiwgcXVhdEIpO1xuXG4gICAgICAgIGlmIChkID09PSBmYWxzZSkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChkIDwgZG1pbikge1xuICAgICAgICAgIGRtaW4gPSBkO1xuICAgICAgICAgIHRhcmdldC5jb3B5KFdvcmxkbm9ybWFsMSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gVGVzdCB1bmlxdWUgYXhlcyBpbiBCXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSAhPT0gaHVsbEIudW5pcXVlQXhlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBxdWF0Qi52bXVsdChodWxsQi51bmlxdWVBeGVzW2ldLCBXb3JsZG5vcm1hbDEpO1xuICAgICAgICBjb25zdCBkID0gaHVsbEEudGVzdFNlcEF4aXMoV29ybGRub3JtYWwxLCBodWxsQiwgcG9zQSwgcXVhdEEsIHBvc0IsIHF1YXRCKTtcblxuICAgICAgICBpZiAoZCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZCA8IGRtaW4pIHtcbiAgICAgICAgICBkbWluID0gZDtcbiAgICAgICAgICB0YXJnZXQuY29weShXb3JsZG5vcm1hbDEpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSAvLyBUZXN0IGVkZ2VzXG5cblxuICAgIGZvciAobGV0IGUwID0gMDsgZTAgIT09IGh1bGxBLnVuaXF1ZUVkZ2VzLmxlbmd0aDsgZTArKykge1xuICAgICAgLy8gR2V0IHdvcmxkIGVkZ2VcbiAgICAgIHF1YXRBLnZtdWx0KGh1bGxBLnVuaXF1ZUVkZ2VzW2UwXSwgd29ybGRFZGdlMCk7XG5cbiAgICAgIGZvciAobGV0IGUxID0gMDsgZTEgIT09IGh1bGxCLnVuaXF1ZUVkZ2VzLmxlbmd0aDsgZTErKykge1xuICAgICAgICAvLyBHZXQgd29ybGQgZWRnZSAyXG4gICAgICAgIHF1YXRCLnZtdWx0KGh1bGxCLnVuaXF1ZUVkZ2VzW2UxXSwgd29ybGRFZGdlMSk7XG4gICAgICAgIHdvcmxkRWRnZTAuY3Jvc3Mod29ybGRFZGdlMSwgQ3Jvc3MpO1xuXG4gICAgICAgIGlmICghQ3Jvc3MuYWxtb3N0WmVybygpKSB7XG4gICAgICAgICAgQ3Jvc3Mubm9ybWFsaXplKCk7XG4gICAgICAgICAgY29uc3QgZGlzdCA9IGh1bGxBLnRlc3RTZXBBeGlzKENyb3NzLCBodWxsQiwgcG9zQSwgcXVhdEEsIHBvc0IsIHF1YXRCKTtcblxuICAgICAgICAgIGlmIChkaXN0ID09PSBmYWxzZSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChkaXN0IDwgZG1pbikge1xuICAgICAgICAgICAgZG1pbiA9IGRpc3Q7XG4gICAgICAgICAgICB0YXJnZXQuY29weShDcm9zcyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcG9zQi52c3ViKHBvc0EsIGRlbHRhQyk7XG5cbiAgICBpZiAoZGVsdGFDLmRvdCh0YXJnZXQpID4gMC4wKSB7XG4gICAgICB0YXJnZXQubmVnYXRlKHRhcmdldCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgLyoqXHJcbiAgICogVGVzdCBzZXBhcmF0aW5nIGF4aXMgYWdhaW5zdCB0d28gaHVsbHMuIEJvdGggaHVsbHMgYXJlIHByb2plY3RlZCBvbnRvIHRoZSBheGlzIGFuZCB0aGUgb3ZlcmxhcCBzaXplIGlzIHJldHVybmVkIGlmIHRoZXJlIGlzIG9uZS5cclxuICAgKiBAbWV0aG9kIHRlc3RTZXBBeGlzXHJcbiAgICogQHBhcmFtIHtWZWMzfSBheGlzXHJcbiAgICogQHBhcmFtIHtDb252ZXhQb2x5aGVkcm9ufSBodWxsQlxyXG4gICAqIEBwYXJhbSB7VmVjM30gcG9zQVxyXG4gICAqIEBwYXJhbSB7UXVhdGVybmlvbn0gcXVhdEFcclxuICAgKiBAcGFyYW0ge1ZlYzN9IHBvc0JcclxuICAgKiBAcGFyYW0ge1F1YXRlcm5pb259IHF1YXRCXHJcbiAgICogQHJldHVybiB7bnVtYmVyfSBUaGUgb3ZlcmxhcCBkZXB0aCwgb3IgRkFMU0UgaWYgbm8gcGVuZXRyYXRpb24uXHJcbiAgICovXG5cblxuICB0ZXN0U2VwQXhpcyhheGlzLCBodWxsQiwgcG9zQSwgcXVhdEEsIHBvc0IsIHF1YXRCKSB7XG4gICAgY29uc3QgaHVsbEEgPSB0aGlzO1xuICAgIENvbnZleFBvbHloZWRyb24ucHJvamVjdChodWxsQSwgYXhpcywgcG9zQSwgcXVhdEEsIG1heG1pbkEpO1xuICAgIENvbnZleFBvbHloZWRyb24ucHJvamVjdChodWxsQiwgYXhpcywgcG9zQiwgcXVhdEIsIG1heG1pbkIpO1xuICAgIGNvbnN0IG1heEEgPSBtYXhtaW5BWzBdO1xuICAgIGNvbnN0IG1pbkEgPSBtYXhtaW5BWzFdO1xuICAgIGNvbnN0IG1heEIgPSBtYXhtaW5CWzBdO1xuICAgIGNvbnN0IG1pbkIgPSBtYXhtaW5CWzFdO1xuXG4gICAgaWYgKG1heEEgPCBtaW5CIHx8IG1heEIgPCBtaW5BKSB7XG4gICAgICByZXR1cm4gZmFsc2U7IC8vIFNlcGFyYXRlZFxuICAgIH1cblxuICAgIGNvbnN0IGQwID0gbWF4QSAtIG1pbkI7XG4gICAgY29uc3QgZDEgPSBtYXhCIC0gbWluQTtcbiAgICBjb25zdCBkZXB0aCA9IGQwIDwgZDEgPyBkMCA6IGQxO1xuICAgIHJldHVybiBkZXB0aDtcbiAgfVxuICAvKipcclxuICAgKiBAbWV0aG9kIGNhbGN1bGF0ZUxvY2FsSW5lcnRpYVxyXG4gICAqIEBwYXJhbSAge051bWJlcn0gbWFzc1xyXG4gICAqIEBwYXJhbSAge1ZlYzN9IHRhcmdldFxyXG4gICAqL1xuXG5cbiAgY2FsY3VsYXRlTG9jYWxJbmVydGlhKG1hc3MsIHRhcmdldCkge1xuICAgIC8vIEFwcHJveGltYXRlIHdpdGggYm94IGluZXJ0aWFcbiAgICAvLyBFeGFjdCBpbmVydGlhIGNhbGN1bGF0aW9uIGlzIG92ZXJraWxsLCBidXQgc2VlIGh0dHA6Ly9nZW9tZXRyaWN0b29scy5jb20vRG9jdW1lbnRhdGlvbi9Qb2x5aGVkcmFsTWFzc1Byb3BlcnRpZXMucGRmIGZvciB0aGUgY29ycmVjdCB3YXkgdG8gZG8gaXRcbiAgICBjb25zdCBhYWJibWF4ID0gbmV3IFZlYzMoKTtcbiAgICBjb25zdCBhYWJibWluID0gbmV3IFZlYzMoKTtcbiAgICB0aGlzLmNvbXB1dGVMb2NhbEFBQkIoYWFiYm1pbiwgYWFiYm1heCk7XG4gICAgY29uc3QgeCA9IGFhYmJtYXgueCAtIGFhYmJtaW4ueDtcbiAgICBjb25zdCB5ID0gYWFiYm1heC55IC0gYWFiYm1pbi55O1xuICAgIGNvbnN0IHogPSBhYWJibWF4LnogLSBhYWJibWluLno7XG4gICAgdGFyZ2V0LnggPSAxLjAgLyAxMi4wICogbWFzcyAqICgyICogeSAqIDIgKiB5ICsgMiAqIHogKiAyICogeik7XG4gICAgdGFyZ2V0LnkgPSAxLjAgLyAxMi4wICogbWFzcyAqICgyICogeCAqIDIgKiB4ICsgMiAqIHogKiAyICogeik7XG4gICAgdGFyZ2V0LnogPSAxLjAgLyAxMi4wICogbWFzcyAqICgyICogeSAqIDIgKiB5ICsgMiAqIHggKiAyICogeCk7XG4gIH1cbiAgLyoqXHJcbiAgICogQG1ldGhvZCBnZXRQbGFuZUNvbnN0YW50T2ZGYWNlXHJcbiAgICogQHBhcmFtICB7TnVtYmVyfSBmYWNlX2kgSW5kZXggb2YgdGhlIGZhY2VcclxuICAgKiBAcmV0dXJuIHtOdW1iZXJ9XHJcbiAgICovXG5cblxuICBnZXRQbGFuZUNvbnN0YW50T2ZGYWNlKGZhY2VfaSkge1xuICAgIGNvbnN0IGYgPSB0aGlzLmZhY2VzW2ZhY2VfaV07XG4gICAgY29uc3QgbiA9IHRoaXMuZmFjZU5vcm1hbHNbZmFjZV9pXTtcbiAgICBjb25zdCB2ID0gdGhpcy52ZXJ0aWNlc1tmWzBdXTtcbiAgICBjb25zdCBjID0gLW4uZG90KHYpO1xuICAgIHJldHVybiBjO1xuICB9XG4gIC8qKlxyXG4gICAqIENsaXAgYSBmYWNlIGFnYWluc3QgYSBodWxsLlxyXG4gICAqIEBtZXRob2QgY2xpcEZhY2VBZ2FpbnN0SHVsbFxyXG4gICAqIEBwYXJhbSB7VmVjM30gc2VwYXJhdGluZ05vcm1hbFxyXG4gICAqIEBwYXJhbSB7VmVjM30gcG9zQVxyXG4gICAqIEBwYXJhbSB7UXVhdGVybmlvbn0gcXVhdEFcclxuICAgKiBAcGFyYW0ge0FycmF5fSB3b3JsZFZlcnRzQjEgQW4gYXJyYXkgb2YgVmVjMyB3aXRoIHZlcnRpY2VzIGluIHRoZSB3b3JsZCBmcmFtZS5cclxuICAgKiBAcGFyYW0ge051bWJlcn0gbWluRGlzdCBEaXN0YW5jZSBjbGFtcGluZ1xyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBtYXhEaXN0XHJcbiAgICogQHBhcmFtIEFycmF5IHJlc3VsdCBBcnJheSB0byBzdG9yZSByZXN1bHRpbmcgY29udGFjdCBwb2ludHMgaW4uIFdpbGwgYmUgb2JqZWN0cyB3aXRoIHByb3BlcnRpZXM6IHBvaW50LCBkZXB0aCwgbm9ybWFsLiBUaGVzZSBhcmUgcmVwcmVzZW50ZWQgaW4gd29ybGQgY29vcmRpbmF0ZXMuXHJcbiAgICovXG5cblxuICBjbGlwRmFjZUFnYWluc3RIdWxsKHNlcGFyYXRpbmdOb3JtYWwsIHBvc0EsIHF1YXRBLCB3b3JsZFZlcnRzQjEsIG1pbkRpc3QsIG1heERpc3QsIHJlc3VsdCkge1xuICAgIGNvbnN0IGZhY2VBTm9ybWFsV1MgPSBuZXcgVmVjMygpO1xuICAgIGNvbnN0IGVkZ2UwID0gbmV3IFZlYzMoKTtcbiAgICBjb25zdCBXb3JsZEVkZ2UwID0gbmV3IFZlYzMoKTtcbiAgICBjb25zdCB3b3JsZFBsYW5lQW5vcm1hbDEgPSBuZXcgVmVjMygpO1xuICAgIGNvbnN0IHBsYW5lTm9ybWFsV1MxID0gbmV3IFZlYzMoKTtcbiAgICBjb25zdCB3b3JsZEExID0gbmV3IFZlYzMoKTtcbiAgICBjb25zdCBsb2NhbFBsYW5lTm9ybWFsID0gbmV3IFZlYzMoKTtcbiAgICBjb25zdCBwbGFuZU5vcm1hbFdTID0gbmV3IFZlYzMoKTtcbiAgICBjb25zdCBodWxsQSA9IHRoaXM7XG4gICAgY29uc3Qgd29ybGRWZXJ0c0IyID0gW107XG4gICAgY29uc3QgcFZ0eEluID0gd29ybGRWZXJ0c0IxO1xuICAgIGNvbnN0IHBWdHhPdXQgPSB3b3JsZFZlcnRzQjI7XG4gICAgbGV0IGNsb3Nlc3RGYWNlQSA9IC0xO1xuICAgIGxldCBkbWluID0gTnVtYmVyLk1BWF9WQUxVRTsgLy8gRmluZCB0aGUgZmFjZSB3aXRoIG5vcm1hbCBjbG9zZXN0IHRvIHRoZSBzZXBhcmF0aW5nIGF4aXNcblxuICAgIGZvciAobGV0IGZhY2UgPSAwOyBmYWNlIDwgaHVsbEEuZmFjZXMubGVuZ3RoOyBmYWNlKyspIHtcbiAgICAgIGZhY2VBTm9ybWFsV1MuY29weShodWxsQS5mYWNlTm9ybWFsc1tmYWNlXSk7XG4gICAgICBxdWF0QS52bXVsdChmYWNlQU5vcm1hbFdTLCBmYWNlQU5vcm1hbFdTKTtcbiAgICAgIGNvbnN0IGQgPSBmYWNlQU5vcm1hbFdTLmRvdChzZXBhcmF0aW5nTm9ybWFsKTtcblxuICAgICAgaWYgKGQgPCBkbWluKSB7XG4gICAgICAgIGRtaW4gPSBkO1xuICAgICAgICBjbG9zZXN0RmFjZUEgPSBmYWNlO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChjbG9zZXN0RmFjZUEgPCAwKSB7XG4gICAgICByZXR1cm47XG4gICAgfSAvLyBHZXQgdGhlIGZhY2UgYW5kIGNvbnN0cnVjdCBjb25uZWN0ZWQgZmFjZXNcblxuXG4gICAgY29uc3QgcG9seUEgPSBodWxsQS5mYWNlc1tjbG9zZXN0RmFjZUFdO1xuICAgIHBvbHlBLmNvbm5lY3RlZEZhY2VzID0gW107XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGh1bGxBLmZhY2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGh1bGxBLmZhY2VzW2ldLmxlbmd0aDsgaisrKSB7XG4gICAgICAgIGlmIChcbiAgICAgICAgLyogU2hhcmluZyBhIHZlcnRleCovXG4gICAgICAgIHBvbHlBLmluZGV4T2YoaHVsbEEuZmFjZXNbaV1bal0pICE9PSAtMSAmJlxuICAgICAgICAvKiBOb3QgdGhlIG9uZSB3ZSBhcmUgbG9va2luZyBmb3IgY29ubmVjdGlvbnMgZnJvbSAqL1xuICAgICAgICBpICE9PSBjbG9zZXN0RmFjZUEgJiZcbiAgICAgICAgLyogTm90IGFscmVhZHkgYWRkZWQgKi9cbiAgICAgICAgcG9seUEuY29ubmVjdGVkRmFjZXMuaW5kZXhPZihpKSA9PT0gLTEpIHtcbiAgICAgICAgICBwb2x5QS5jb25uZWN0ZWRGYWNlcy5wdXNoKGkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSAvLyBDbGlwIHRoZSBwb2x5Z29uIHRvIHRoZSBiYWNrIG9mIHRoZSBwbGFuZXMgb2YgYWxsIGZhY2VzIG9mIGh1bGwgQSxcbiAgICAvLyB0aGF0IGFyZSBhZGphY2VudCB0byB0aGUgd2l0bmVzcyBmYWNlXG5cblxuICAgIGNvbnN0IG51bVZlcnRpY2VzQSA9IHBvbHlBLmxlbmd0aDtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbnVtVmVydGljZXNBOyBpKyspIHtcbiAgICAgIGNvbnN0IGEgPSBodWxsQS52ZXJ0aWNlc1twb2x5QVtpXV07XG4gICAgICBjb25zdCBiID0gaHVsbEEudmVydGljZXNbcG9seUFbKGkgKyAxKSAlIG51bVZlcnRpY2VzQV1dO1xuICAgICAgYS52c3ViKGIsIGVkZ2UwKTtcbiAgICAgIFdvcmxkRWRnZTAuY29weShlZGdlMCk7XG4gICAgICBxdWF0QS52bXVsdChXb3JsZEVkZ2UwLCBXb3JsZEVkZ2UwKTtcbiAgICAgIHBvc0EudmFkZChXb3JsZEVkZ2UwLCBXb3JsZEVkZ2UwKTtcbiAgICAgIHdvcmxkUGxhbmVBbm9ybWFsMS5jb3B5KHRoaXMuZmFjZU5vcm1hbHNbY2xvc2VzdEZhY2VBXSk7XG4gICAgICBxdWF0QS52bXVsdCh3b3JsZFBsYW5lQW5vcm1hbDEsIHdvcmxkUGxhbmVBbm9ybWFsMSk7XG4gICAgICBwb3NBLnZhZGQod29ybGRQbGFuZUFub3JtYWwxLCB3b3JsZFBsYW5lQW5vcm1hbDEpO1xuICAgICAgV29ybGRFZGdlMC5jcm9zcyh3b3JsZFBsYW5lQW5vcm1hbDEsIHBsYW5lTm9ybWFsV1MxKTtcbiAgICAgIHBsYW5lTm9ybWFsV1MxLm5lZ2F0ZShwbGFuZU5vcm1hbFdTMSk7XG4gICAgICB3b3JsZEExLmNvcHkoYSk7XG4gICAgICBxdWF0QS52bXVsdCh3b3JsZEExLCB3b3JsZEExKTtcbiAgICAgIHBvc0EudmFkZCh3b3JsZEExLCB3b3JsZEExKTtcbiAgICAgIGNvbnN0IG90aGVyRmFjZSA9IHBvbHlBLmNvbm5lY3RlZEZhY2VzW2ldO1xuICAgICAgbG9jYWxQbGFuZU5vcm1hbC5jb3B5KHRoaXMuZmFjZU5vcm1hbHNbb3RoZXJGYWNlXSk7XG4gICAgICBjb25zdCBsb2NhbFBsYW5lRXEgPSB0aGlzLmdldFBsYW5lQ29uc3RhbnRPZkZhY2Uob3RoZXJGYWNlKTtcbiAgICAgIHBsYW5lTm9ybWFsV1MuY29weShsb2NhbFBsYW5lTm9ybWFsKTtcbiAgICAgIHF1YXRBLnZtdWx0KHBsYW5lTm9ybWFsV1MsIHBsYW5lTm9ybWFsV1MpO1xuICAgICAgY29uc3QgcGxhbmVFcVdTID0gbG9jYWxQbGFuZUVxIC0gcGxhbmVOb3JtYWxXUy5kb3QocG9zQSk7IC8vIENsaXAgZmFjZSBhZ2FpbnN0IG91ciBjb25zdHJ1Y3RlZCBwbGFuZVxuXG4gICAgICB0aGlzLmNsaXBGYWNlQWdhaW5zdFBsYW5lKHBWdHhJbiwgcFZ0eE91dCwgcGxhbmVOb3JtYWxXUywgcGxhbmVFcVdTKTsgLy8gVGhyb3cgYXdheSBhbGwgY2xpcHBlZCBwb2ludHMsIGJ1dCBzYXZlIHRoZSByZW1haW5pbmcgdW50aWwgbmV4dCBjbGlwXG5cbiAgICAgIHdoaWxlIChwVnR4SW4ubGVuZ3RoKSB7XG4gICAgICAgIHBWdHhJbi5zaGlmdCgpO1xuICAgICAgfVxuXG4gICAgICB3aGlsZSAocFZ0eE91dC5sZW5ndGgpIHtcbiAgICAgICAgcFZ0eEluLnB1c2gocFZ0eE91dC5zaGlmdCgpKTtcbiAgICAgIH1cbiAgICB9IC8vIG9ubHkga2VlcCBjb250YWN0IHBvaW50cyB0aGF0IGFyZSBiZWhpbmQgdGhlIHdpdG5lc3MgZmFjZVxuXG5cbiAgICBsb2NhbFBsYW5lTm9ybWFsLmNvcHkodGhpcy5mYWNlTm9ybWFsc1tjbG9zZXN0RmFjZUFdKTtcbiAgICBjb25zdCBsb2NhbFBsYW5lRXEgPSB0aGlzLmdldFBsYW5lQ29uc3RhbnRPZkZhY2UoY2xvc2VzdEZhY2VBKTtcbiAgICBwbGFuZU5vcm1hbFdTLmNvcHkobG9jYWxQbGFuZU5vcm1hbCk7XG4gICAgcXVhdEEudm11bHQocGxhbmVOb3JtYWxXUywgcGxhbmVOb3JtYWxXUyk7XG4gICAgY29uc3QgcGxhbmVFcVdTID0gbG9jYWxQbGFuZUVxIC0gcGxhbmVOb3JtYWxXUy5kb3QocG9zQSk7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBWdHhJbi5sZW5ndGg7IGkrKykge1xuICAgICAgbGV0IGRlcHRoID0gcGxhbmVOb3JtYWxXUy5kb3QocFZ0eEluW2ldKSArIHBsYW5lRXFXUzsgLy8gPz8/XG5cbiAgICAgIGlmIChkZXB0aCA8PSBtaW5EaXN0KSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiY2xhbXBlZDogZGVwdGg9XCIgKyBkZXB0aCArIFwiIHRvIG1pbkRpc3Q9XCIgKyBtaW5EaXN0KTtcbiAgICAgICAgZGVwdGggPSBtaW5EaXN0O1xuICAgICAgfVxuXG4gICAgICBpZiAoZGVwdGggPD0gbWF4RGlzdCkge1xuICAgICAgICBjb25zdCBwb2ludCA9IHBWdHhJbltpXTtcblxuICAgICAgICBpZiAoZGVwdGggPD0gMWUtNikge1xuICAgICAgICAgIGNvbnN0IHAgPSB7XG4gICAgICAgICAgICBwb2ludCxcbiAgICAgICAgICAgIG5vcm1hbDogcGxhbmVOb3JtYWxXUyxcbiAgICAgICAgICAgIGRlcHRoXG4gICAgICAgICAgfTtcbiAgICAgICAgICByZXN1bHQucHVzaChwKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuICAvKipcclxuICAgKiBDbGlwIGEgZmFjZSBpbiBhIGh1bGwgYWdhaW5zdCB0aGUgYmFjayBvZiBhIHBsYW5lLlxyXG4gICAqIEBtZXRob2QgY2xpcEZhY2VBZ2FpbnN0UGxhbmVcclxuICAgKiBAcGFyYW0ge0FycmF5fSBpblZlcnRpY2VzXHJcbiAgICogQHBhcmFtIHtBcnJheX0gb3V0VmVydGljZXNcclxuICAgKiBAcGFyYW0ge1ZlYzN9IHBsYW5lTm9ybWFsXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHBsYW5lQ29uc3RhbnQgVGhlIGNvbnN0YW50IGluIHRoZSBtYXRoZW1hdGljYWwgcGxhbmUgZXF1YXRpb25cclxuICAgKi9cblxuXG4gIGNsaXBGYWNlQWdhaW5zdFBsYW5lKGluVmVydGljZXMsIG91dFZlcnRpY2VzLCBwbGFuZU5vcm1hbCwgcGxhbmVDb25zdGFudCkge1xuICAgIGxldCBuX2RvdF9maXJzdDtcbiAgICBsZXQgbl9kb3RfbGFzdDtcbiAgICBjb25zdCBudW1WZXJ0cyA9IGluVmVydGljZXMubGVuZ3RoO1xuXG4gICAgaWYgKG51bVZlcnRzIDwgMikge1xuICAgICAgcmV0dXJuIG91dFZlcnRpY2VzO1xuICAgIH1cblxuICAgIGxldCBmaXJzdFZlcnRleCA9IGluVmVydGljZXNbaW5WZXJ0aWNlcy5sZW5ndGggLSAxXTtcbiAgICBsZXQgbGFzdFZlcnRleCA9IGluVmVydGljZXNbMF07XG4gICAgbl9kb3RfZmlyc3QgPSBwbGFuZU5vcm1hbC5kb3QoZmlyc3RWZXJ0ZXgpICsgcGxhbmVDb25zdGFudDtcblxuICAgIGZvciAobGV0IHZpID0gMDsgdmkgPCBudW1WZXJ0czsgdmkrKykge1xuICAgICAgbGFzdFZlcnRleCA9IGluVmVydGljZXNbdmldO1xuICAgICAgbl9kb3RfbGFzdCA9IHBsYW5lTm9ybWFsLmRvdChsYXN0VmVydGV4KSArIHBsYW5lQ29uc3RhbnQ7XG5cbiAgICAgIGlmIChuX2RvdF9maXJzdCA8IDApIHtcbiAgICAgICAgaWYgKG5fZG90X2xhc3QgPCAwKSB7XG4gICAgICAgICAgLy8gU3RhcnQgPCAwLCBlbmQgPCAwLCBzbyBvdXRwdXQgbGFzdFZlcnRleFxuICAgICAgICAgIGNvbnN0IG5ld3YgPSBuZXcgVmVjMygpO1xuICAgICAgICAgIG5ld3YuY29weShsYXN0VmVydGV4KTtcbiAgICAgICAgICBvdXRWZXJ0aWNlcy5wdXNoKG5ld3YpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIFN0YXJ0IDwgMCwgZW5kID49IDAsIHNvIG91dHB1dCBpbnRlcnNlY3Rpb25cbiAgICAgICAgICBjb25zdCBuZXd2ID0gbmV3IFZlYzMoKTtcbiAgICAgICAgICBmaXJzdFZlcnRleC5sZXJwKGxhc3RWZXJ0ZXgsIG5fZG90X2ZpcnN0IC8gKG5fZG90X2ZpcnN0IC0gbl9kb3RfbGFzdCksIG5ld3YpO1xuICAgICAgICAgIG91dFZlcnRpY2VzLnB1c2gobmV3dik7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChuX2RvdF9sYXN0IDwgMCkge1xuICAgICAgICAgIC8vIFN0YXJ0ID49IDAsIGVuZCA8IDAgc28gb3V0cHV0IGludGVyc2VjdGlvbiBhbmQgZW5kXG4gICAgICAgICAgY29uc3QgbmV3diA9IG5ldyBWZWMzKCk7XG4gICAgICAgICAgZmlyc3RWZXJ0ZXgubGVycChsYXN0VmVydGV4LCBuX2RvdF9maXJzdCAvIChuX2RvdF9maXJzdCAtIG5fZG90X2xhc3QpLCBuZXd2KTtcbiAgICAgICAgICBvdXRWZXJ0aWNlcy5wdXNoKG5ld3YpO1xuICAgICAgICAgIG91dFZlcnRpY2VzLnB1c2gobGFzdFZlcnRleCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgZmlyc3RWZXJ0ZXggPSBsYXN0VmVydGV4O1xuICAgICAgbl9kb3RfZmlyc3QgPSBuX2RvdF9sYXN0O1xuICAgIH1cblxuICAgIHJldHVybiBvdXRWZXJ0aWNlcztcbiAgfSAvLyBVcGRhdGVzIC53b3JsZFZlcnRpY2VzIGFuZCBzZXRzIC53b3JsZFZlcnRpY2VzTmVlZHNVcGRhdGUgdG8gZmFsc2UuXG5cblxuICBjb21wdXRlV29ybGRWZXJ0aWNlcyhwb3NpdGlvbiwgcXVhdCkge1xuICAgIHdoaWxlICh0aGlzLndvcmxkVmVydGljZXMubGVuZ3RoIDwgdGhpcy52ZXJ0aWNlcy5sZW5ndGgpIHtcbiAgICAgIHRoaXMud29ybGRWZXJ0aWNlcy5wdXNoKG5ldyBWZWMzKCkpO1xuICAgIH1cblxuICAgIGNvbnN0IHZlcnRzID0gdGhpcy52ZXJ0aWNlcztcbiAgICBjb25zdCB3b3JsZFZlcnRzID0gdGhpcy53b3JsZFZlcnRpY2VzO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgIT09IHRoaXMudmVydGljZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHF1YXQudm11bHQodmVydHNbaV0sIHdvcmxkVmVydHNbaV0pO1xuICAgICAgcG9zaXRpb24udmFkZCh3b3JsZFZlcnRzW2ldLCB3b3JsZFZlcnRzW2ldKTtcbiAgICB9XG5cbiAgICB0aGlzLndvcmxkVmVydGljZXNOZWVkc1VwZGF0ZSA9IGZhbHNlO1xuICB9XG5cbiAgY29tcHV0ZUxvY2FsQUFCQihhYWJibWluLCBhYWJibWF4KSB7XG4gICAgY29uc3QgdmVydGljZXMgPSB0aGlzLnZlcnRpY2VzO1xuICAgIGFhYmJtaW4uc2V0KE51bWJlci5NQVhfVkFMVUUsIE51bWJlci5NQVhfVkFMVUUsIE51bWJlci5NQVhfVkFMVUUpO1xuICAgIGFhYmJtYXguc2V0KC1OdW1iZXIuTUFYX1ZBTFVFLCAtTnVtYmVyLk1BWF9WQUxVRSwgLU51bWJlci5NQVhfVkFMVUUpO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnZlcnRpY2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCB2ID0gdmVydGljZXNbaV07XG5cbiAgICAgIGlmICh2LnggPCBhYWJibWluLngpIHtcbiAgICAgICAgYWFiYm1pbi54ID0gdi54O1xuICAgICAgfSBlbHNlIGlmICh2LnggPiBhYWJibWF4LngpIHtcbiAgICAgICAgYWFiYm1heC54ID0gdi54O1xuICAgICAgfVxuXG4gICAgICBpZiAodi55IDwgYWFiYm1pbi55KSB7XG4gICAgICAgIGFhYmJtaW4ueSA9IHYueTtcbiAgICAgIH0gZWxzZSBpZiAodi55ID4gYWFiYm1heC55KSB7XG4gICAgICAgIGFhYmJtYXgueSA9IHYueTtcbiAgICAgIH1cblxuICAgICAgaWYgKHYueiA8IGFhYmJtaW4ueikge1xuICAgICAgICBhYWJibWluLnogPSB2Lno7XG4gICAgICB9IGVsc2UgaWYgKHYueiA+IGFhYmJtYXgueikge1xuICAgICAgICBhYWJibWF4LnogPSB2Lno7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIC8qKlxyXG4gICAqIFVwZGF0ZXMgLndvcmxkVmVydGljZXMgYW5kIHNldHMgLndvcmxkVmVydGljZXNOZWVkc1VwZGF0ZSB0byBmYWxzZS5cclxuICAgKiBAbWV0aG9kIGNvbXB1dGVXb3JsZEZhY2VOb3JtYWxzXHJcbiAgICogQHBhcmFtICB7UXVhdGVybmlvbn0gcXVhdFxyXG4gICAqL1xuXG5cbiAgY29tcHV0ZVdvcmxkRmFjZU5vcm1hbHMocXVhdCkge1xuICAgIGNvbnN0IE4gPSB0aGlzLmZhY2VOb3JtYWxzLmxlbmd0aDtcblxuICAgIHdoaWxlICh0aGlzLndvcmxkRmFjZU5vcm1hbHMubGVuZ3RoIDwgTikge1xuICAgICAgdGhpcy53b3JsZEZhY2VOb3JtYWxzLnB1c2gobmV3IFZlYzMoKSk7XG4gICAgfVxuXG4gICAgY29uc3Qgbm9ybWFscyA9IHRoaXMuZmFjZU5vcm1hbHM7XG4gICAgY29uc3Qgd29ybGROb3JtYWxzID0gdGhpcy53b3JsZEZhY2VOb3JtYWxzO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgIT09IE47IGkrKykge1xuICAgICAgcXVhdC52bXVsdChub3JtYWxzW2ldLCB3b3JsZE5vcm1hbHNbaV0pO1xuICAgIH1cblxuICAgIHRoaXMud29ybGRGYWNlTm9ybWFsc05lZWRzVXBkYXRlID0gZmFsc2U7XG4gIH1cbiAgLyoqXHJcbiAgICogQG1ldGhvZCB1cGRhdGVCb3VuZGluZ1NwaGVyZVJhZGl1c1xyXG4gICAqL1xuXG5cbiAgdXBkYXRlQm91bmRpbmdTcGhlcmVSYWRpdXMoKSB7XG4gICAgLy8gQXNzdW1lIHBvaW50cyBhcmUgZGlzdHJpYnV0ZWQgd2l0aCBsb2NhbCAoMCwwLDApIGFzIGNlbnRlclxuICAgIGxldCBtYXgyID0gMDtcbiAgICBjb25zdCB2ZXJ0cyA9IHRoaXMudmVydGljZXM7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSAhPT0gdmVydHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IG5vcm0yID0gdmVydHNbaV0ubGVuZ3RoU3F1YXJlZCgpO1xuXG4gICAgICBpZiAobm9ybTIgPiBtYXgyKSB7XG4gICAgICAgIG1heDIgPSBub3JtMjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLmJvdW5kaW5nU3BoZXJlUmFkaXVzID0gTWF0aC5zcXJ0KG1heDIpO1xuICB9XG4gIC8qKlxyXG4gICAqIEBtZXRob2QgY2FsY3VsYXRlV29ybGRBQUJCXHJcbiAgICogQHBhcmFtIHtWZWMzfSAgICAgICAgcG9zXHJcbiAgICogQHBhcmFtIHtRdWF0ZXJuaW9ufSAgcXVhdFxyXG4gICAqIEBwYXJhbSB7VmVjM30gICAgICAgIG1pblxyXG4gICAqIEBwYXJhbSB7VmVjM30gICAgICAgIG1heFxyXG4gICAqL1xuXG5cbiAgY2FsY3VsYXRlV29ybGRBQUJCKHBvcywgcXVhdCwgbWluLCBtYXgpIHtcbiAgICBjb25zdCB2ZXJ0cyA9IHRoaXMudmVydGljZXM7XG4gICAgbGV0IG1pbng7XG4gICAgbGV0IG1pbnk7XG4gICAgbGV0IG1pbno7XG4gICAgbGV0IG1heHg7XG4gICAgbGV0IG1heHk7XG4gICAgbGV0IG1heHo7XG4gICAgbGV0IHRlbXBXb3JsZFZlcnRleCA9IG5ldyBWZWMzKCk7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZlcnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB0ZW1wV29ybGRWZXJ0ZXguY29weSh2ZXJ0c1tpXSk7XG4gICAgICBxdWF0LnZtdWx0KHRlbXBXb3JsZFZlcnRleCwgdGVtcFdvcmxkVmVydGV4KTtcbiAgICAgIHBvcy52YWRkKHRlbXBXb3JsZFZlcnRleCwgdGVtcFdvcmxkVmVydGV4KTtcbiAgICAgIGNvbnN0IHYgPSB0ZW1wV29ybGRWZXJ0ZXg7XG5cbiAgICAgIGlmIChtaW54ID09PSB1bmRlZmluZWQgfHwgdi54IDwgbWlueCkge1xuICAgICAgICBtaW54ID0gdi54O1xuICAgICAgfVxuXG4gICAgICBpZiAobWF4eCA9PT0gdW5kZWZpbmVkIHx8IHYueCA+IG1heHgpIHtcbiAgICAgICAgbWF4eCA9IHYueDtcbiAgICAgIH1cblxuICAgICAgaWYgKG1pbnkgPT09IHVuZGVmaW5lZCB8fCB2LnkgPCBtaW55KSB7XG4gICAgICAgIG1pbnkgPSB2Lnk7XG4gICAgICB9XG5cbiAgICAgIGlmIChtYXh5ID09PSB1bmRlZmluZWQgfHwgdi55ID4gbWF4eSkge1xuICAgICAgICBtYXh5ID0gdi55O1xuICAgICAgfVxuXG4gICAgICBpZiAobWlueiA9PT0gdW5kZWZpbmVkIHx8IHYueiA8IG1pbnopIHtcbiAgICAgICAgbWlueiA9IHYuejtcbiAgICAgIH1cblxuICAgICAgaWYgKG1heHogPT09IHVuZGVmaW5lZCB8fCB2LnogPiBtYXh6KSB7XG4gICAgICAgIG1heHogPSB2Lno7XG4gICAgICB9XG4gICAgfVxuXG4gICAgbWluLnNldChtaW54LCBtaW55LCBtaW56KTtcbiAgICBtYXguc2V0KG1heHgsIG1heHksIG1heHopO1xuICB9XG4gIC8qKlxyXG4gICAqIEdldCBhcHByb3hpbWF0ZSBjb252ZXggdm9sdW1lXHJcbiAgICogQG1ldGhvZCB2b2x1bWVcclxuICAgKiBAcmV0dXJuIHtOdW1iZXJ9XHJcbiAgICovXG5cblxuICB2b2x1bWUoKSB7XG4gICAgcmV0dXJuIDQuMCAqIE1hdGguUEkgKiB0aGlzLmJvdW5kaW5nU3BoZXJlUmFkaXVzIC8gMy4wO1xuICB9XG4gIC8qKlxyXG4gICAqIEdldCBhbiBhdmVyYWdlIG9mIGFsbCB0aGUgdmVydGljZXMgcG9zaXRpb25zXHJcbiAgICogQG1ldGhvZCBnZXRBdmVyYWdlUG9pbnRMb2NhbFxyXG4gICAqIEBwYXJhbSAge1ZlYzN9IHRhcmdldFxyXG4gICAqIEByZXR1cm4ge1ZlYzN9XHJcbiAgICovXG5cblxuICBnZXRBdmVyYWdlUG9pbnRMb2NhbCh0YXJnZXQgPSBuZXcgVmVjMygpKSB7XG4gICAgY29uc3QgdmVydHMgPSB0aGlzLnZlcnRpY2VzO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB2ZXJ0cy5sZW5ndGg7IGkrKykge1xuICAgICAgdGFyZ2V0LnZhZGQodmVydHNbaV0sIHRhcmdldCk7XG4gICAgfVxuXG4gICAgdGFyZ2V0LnNjYWxlKDEgLyB2ZXJ0cy5sZW5ndGgsIHRhcmdldCk7XG4gICAgcmV0dXJuIHRhcmdldDtcbiAgfVxuICAvKipcclxuICAgKiBUcmFuc2Zvcm0gYWxsIGxvY2FsIHBvaW50cy4gV2lsbCBjaGFuZ2UgdGhlIC52ZXJ0aWNlc1xyXG4gICAqIEBtZXRob2QgdHJhbnNmb3JtQWxsUG9pbnRzXHJcbiAgICogQHBhcmFtICB7VmVjM30gb2Zmc2V0XHJcbiAgICogQHBhcmFtICB7UXVhdGVybmlvbn0gcXVhdFxyXG4gICAqL1xuXG5cbiAgdHJhbnNmb3JtQWxsUG9pbnRzKG9mZnNldCwgcXVhdCkge1xuICAgIGNvbnN0IG4gPSB0aGlzLnZlcnRpY2VzLmxlbmd0aDtcbiAgICBjb25zdCB2ZXJ0cyA9IHRoaXMudmVydGljZXM7IC8vIEFwcGx5IHJvdGF0aW9uXG5cbiAgICBpZiAocXVhdCkge1xuICAgICAgLy8gUm90YXRlIHZlcnRpY2VzXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG47IGkrKykge1xuICAgICAgICBjb25zdCB2ID0gdmVydHNbaV07XG4gICAgICAgIHF1YXQudm11bHQodiwgdik7XG4gICAgICB9IC8vIFJvdGF0ZSBmYWNlIG5vcm1hbHNcblxuXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuZmFjZU5vcm1hbHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgdiA9IHRoaXMuZmFjZU5vcm1hbHNbaV07XG4gICAgICAgIHF1YXQudm11bHQodiwgdik7XG4gICAgICB9XG4gICAgICAvKlxyXG4gICAgICAgICAgICAvLyBSb3RhdGUgZWRnZXNcclxuICAgICAgICAgICAgZm9yKGxldCBpPTA7IGk8dGhpcy51bmlxdWVFZGdlcy5sZW5ndGg7IGkrKyl7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB2ID0gdGhpcy51bmlxdWVFZGdlc1tpXTtcclxuICAgICAgICAgICAgICAgIHF1YXQudm11bHQodix2KTtcclxuICAgICAgICAgICAgfSovXG5cbiAgICB9IC8vIEFwcGx5IG9mZnNldFxuXG5cbiAgICBpZiAob2Zmc2V0KSB7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG47IGkrKykge1xuICAgICAgICBjb25zdCB2ID0gdmVydHNbaV07XG4gICAgICAgIHYudmFkZChvZmZzZXQsIHYpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICAvKipcclxuICAgKiBDaGVja3Mgd2hldGhlciBwIGlzIGluc2lkZSB0aGUgcG9seWhlZHJhLiBNdXN0IGJlIGluIGxvY2FsIGNvb3Jkcy5cclxuICAgKiBUaGUgcG9pbnQgbGllcyBvdXRzaWRlIG9mIHRoZSBjb252ZXggaHVsbCBvZiB0aGUgb3RoZXIgcG9pbnRzIGlmIGFuZCBvbmx5IGlmIHRoZSBkaXJlY3Rpb25cclxuICAgKiBvZiBhbGwgdGhlIHZlY3RvcnMgZnJvbSBpdCB0byB0aG9zZSBvdGhlciBwb2ludHMgYXJlIG9uIGxlc3MgdGhhbiBvbmUgaGFsZiBvZiBhIHNwaGVyZSBhcm91bmQgaXQuXHJcbiAgICogQG1ldGhvZCBwb2ludElzSW5zaWRlXHJcbiAgICogQHBhcmFtICB7VmVjM30gcCAgICAgIEEgcG9pbnQgZ2l2ZW4gaW4gbG9jYWwgY29vcmRpbmF0ZXNcclxuICAgKiBAcmV0dXJuIHtCb29sZWFufVxyXG4gICAqL1xuXG5cbiAgcG9pbnRJc0luc2lkZShwKSB7XG4gICAgY29uc3QgdmVydHMgPSB0aGlzLnZlcnRpY2VzO1xuICAgIGNvbnN0IGZhY2VzID0gdGhpcy5mYWNlcztcbiAgICBjb25zdCBub3JtYWxzID0gdGhpcy5mYWNlTm9ybWFscztcbiAgICBjb25zdCBwb2ludEluc2lkZSA9IG5ldyBWZWMzKCk7XG4gICAgdGhpcy5nZXRBdmVyYWdlUG9pbnRMb2NhbChwb2ludEluc2lkZSk7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuZmFjZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGxldCBuID0gbm9ybWFsc1tpXTtcbiAgICAgIGNvbnN0IHYgPSB2ZXJ0c1tmYWNlc1tpXVswXV07IC8vIFdlIG9ubHkgbmVlZCBvbmUgcG9pbnQgaW4gdGhlIGZhY2VcbiAgICAgIC8vIFRoaXMgZG90IHByb2R1Y3QgZGV0ZXJtaW5lcyB3aGljaCBzaWRlIG9mIHRoZSBlZGdlIHRoZSBwb2ludCBpc1xuXG4gICAgICBjb25zdCB2VG9QID0gbmV3IFZlYzMoKTtcbiAgICAgIHAudnN1Yih2LCB2VG9QKTtcbiAgICAgIGNvbnN0IHIxID0gbi5kb3QodlRvUCk7XG4gICAgICBjb25zdCB2VG9Qb2ludEluc2lkZSA9IG5ldyBWZWMzKCk7XG4gICAgICBwb2ludEluc2lkZS52c3ViKHYsIHZUb1BvaW50SW5zaWRlKTtcbiAgICAgIGNvbnN0IHIyID0gbi5kb3QodlRvUG9pbnRJbnNpZGUpO1xuXG4gICAgICBpZiAocjEgPCAwICYmIHIyID4gMCB8fCByMSA+IDAgJiYgcjIgPCAwKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTsgLy8gRW5jb3VudGVyZWQgc29tZSBvdGhlciBzaWduLiBFeGl0LlxuICAgICAgfVxuICAgIH0gLy8gSWYgd2UgZ290IGhlcmUsIGFsbCBkb3QgcHJvZHVjdHMgd2VyZSBvZiB0aGUgc2FtZSBzaWduLlxuXG5cbiAgICByZXR1cm4gIC0xO1xuICB9XG5cbn1cbi8qKlxyXG4gKiBHZXQgZmFjZSBub3JtYWwgZ2l2ZW4gMyB2ZXJ0aWNlc1xyXG4gKiBAc3RhdGljXHJcbiAqIEBtZXRob2QgY29tcHV0ZU5vcm1hbFxyXG4gKiBAcGFyYW0ge1ZlYzN9IHZhXHJcbiAqIEBwYXJhbSB7VmVjM30gdmJcclxuICogQHBhcmFtIHtWZWMzfSB2Y1xyXG4gKiBAcGFyYW0ge1ZlYzN9IHRhcmdldFxyXG4gKi9cblxuQ29udmV4UG9seWhlZHJvbi5jb21wdXRlTm9ybWFsID0gKHZhLCB2YiwgdmMsIHRhcmdldCkgPT4ge1xuICBjb25zdCBjYiA9IG5ldyBWZWMzKCk7XG4gIGNvbnN0IGFiID0gbmV3IFZlYzMoKTtcbiAgdmIudnN1Yih2YSwgYWIpO1xuICB2Yy52c3ViKHZiLCBjYik7XG4gIGNiLmNyb3NzKGFiLCB0YXJnZXQpO1xuXG4gIGlmICghdGFyZ2V0LmlzWmVybygpKSB7XG4gICAgdGFyZ2V0Lm5vcm1hbGl6ZSgpO1xuICB9XG59O1xuXG5jb25zdCBtYXhtaW5BID0gW107XG5jb25zdCBtYXhtaW5CID0gW107XG4vKipcclxuICogR2V0IG1heCBhbmQgbWluIGRvdCBwcm9kdWN0IG9mIGEgY29udmV4IGh1bGwgYXQgcG9zaXRpb24gKHBvcyxxdWF0KSBwcm9qZWN0ZWQgb250byBhbiBheGlzLlxyXG4gKiBSZXN1bHRzIGFyZSBzYXZlZCBpbiB0aGUgYXJyYXkgbWF4bWluLlxyXG4gKiBAc3RhdGljXHJcbiAqIEBtZXRob2QgcHJvamVjdFxyXG4gKiBAcGFyYW0ge0NvbnZleFBvbHloZWRyb259IGh1bGxcclxuICogQHBhcmFtIHtWZWMzfSBheGlzXHJcbiAqIEBwYXJhbSB7VmVjM30gcG9zXHJcbiAqIEBwYXJhbSB7UXVhdGVybmlvbn0gcXVhdFxyXG4gKiBAcGFyYW0ge2FycmF5fSByZXN1bHQgcmVzdWx0WzBdIGFuZCByZXN1bHRbMV0gd2lsbCBiZSBzZXQgdG8gbWF4aW11bSBhbmQgbWluaW11bSwgcmVzcGVjdGl2ZWx5LlxyXG4gKi9cblxuQ29udmV4UG9seWhlZHJvbi5wcm9qZWN0ID0gKHNoYXBlLCBheGlzLCBwb3MsIHF1YXQsIHJlc3VsdCkgPT4ge1xuICBjb25zdCBuID0gc2hhcGUudmVydGljZXMubGVuZ3RoO1xuICBjb25zdCBsb2NhbEF4aXMgPSBuZXcgVmVjMygpO1xuICBsZXQgbWF4ID0gMDtcbiAgbGV0IG1pbiA9IDA7XG4gIGNvbnN0IGxvY2FsT3JpZ2luID0gbmV3IFZlYzMoKTtcbiAgY29uc3QgdnMgPSBzaGFwZS52ZXJ0aWNlcztcbiAgbG9jYWxPcmlnaW4uc2V0WmVybygpOyAvLyBUcmFuc2Zvcm0gdGhlIGF4aXMgdG8gbG9jYWxcblxuICBUcmFuc2Zvcm0udmVjdG9yVG9Mb2NhbEZyYW1lKHBvcywgcXVhdCwgYXhpcywgbG9jYWxBeGlzKTtcbiAgVHJhbnNmb3JtLnBvaW50VG9Mb2NhbEZyYW1lKHBvcywgcXVhdCwgbG9jYWxPcmlnaW4sIGxvY2FsT3JpZ2luKTtcbiAgY29uc3QgYWRkID0gbG9jYWxPcmlnaW4uZG90KGxvY2FsQXhpcyk7XG4gIG1pbiA9IG1heCA9IHZzWzBdLmRvdChsb2NhbEF4aXMpO1xuXG4gIGZvciAobGV0IGkgPSAxOyBpIDwgbjsgaSsrKSB7XG4gICAgY29uc3QgdmFsID0gdnNbaV0uZG90KGxvY2FsQXhpcyk7XG5cbiAgICBpZiAodmFsID4gbWF4KSB7XG4gICAgICBtYXggPSB2YWw7XG4gICAgfVxuXG4gICAgaWYgKHZhbCA8IG1pbikge1xuICAgICAgbWluID0gdmFsO1xuICAgIH1cbiAgfVxuXG4gIG1pbiAtPSBhZGQ7XG4gIG1heCAtPSBhZGQ7XG5cbiAgaWYgKG1pbiA+IG1heCkge1xuICAgIC8vIEluY29uc2lzdGVudCAtIHN3YXBcbiAgICBjb25zdCB0ZW1wID0gbWluO1xuICAgIG1pbiA9IG1heDtcbiAgICBtYXggPSB0ZW1wO1xuICB9IC8vIE91dHB1dFxuXG5cbiAgcmVzdWx0WzBdID0gbWF4O1xuICByZXN1bHRbMV0gPSBtaW47XG59O1xuXG4vKipcclxuICogQSAzZCBib3ggc2hhcGUuXHJcbiAqIEBjbGFzcyBCb3hcclxuICogQGNvbnN0cnVjdG9yXHJcbiAqIEBwYXJhbSB7VmVjM30gaGFsZkV4dGVudHNcclxuICogQGF1dGhvciBzY2h0ZXBwZVxyXG4gKiBAZXh0ZW5kcyBTaGFwZVxyXG4gKi9cbmNsYXNzIEJveCBleHRlbmRzIFNoYXBlIHtcbiAgLy8gVXNlZCBieSB0aGUgY29udGFjdCBnZW5lcmF0b3IgdG8gbWFrZSBjb250YWN0cyB3aXRoIG90aGVyIGNvbnZleCBwb2x5aGVkcmEgZm9yIGV4YW1wbGUuXG4gIGNvbnN0cnVjdG9yKGhhbGZFeHRlbnRzKSB7XG4gICAgc3VwZXIoe1xuICAgICAgdHlwZTogU2hhcGUudHlwZXMuQk9YXG4gICAgfSk7XG4gICAgdGhpcy5oYWxmRXh0ZW50cyA9IGhhbGZFeHRlbnRzO1xuICAgIHRoaXMuY29udmV4UG9seWhlZHJvblJlcHJlc2VudGF0aW9uID0gbnVsbDtcbiAgICB0aGlzLnVwZGF0ZUNvbnZleFBvbHloZWRyb25SZXByZXNlbnRhdGlvbigpO1xuICAgIHRoaXMudXBkYXRlQm91bmRpbmdTcGhlcmVSYWRpdXMoKTtcbiAgfVxuICAvKipcclxuICAgKiBVcGRhdGVzIHRoZSBsb2NhbCBjb252ZXggcG9seWhlZHJvbiByZXByZXNlbnRhdGlvbiB1c2VkIGZvciBzb21lIGNvbGxpc2lvbnMuXHJcbiAgICogQG1ldGhvZCB1cGRhdGVDb252ZXhQb2x5aGVkcm9uUmVwcmVzZW50YXRpb25cclxuICAgKi9cblxuXG4gIHVwZGF0ZUNvbnZleFBvbHloZWRyb25SZXByZXNlbnRhdGlvbigpIHtcbiAgICBjb25zdCBzeCA9IHRoaXMuaGFsZkV4dGVudHMueDtcbiAgICBjb25zdCBzeSA9IHRoaXMuaGFsZkV4dGVudHMueTtcbiAgICBjb25zdCBzeiA9IHRoaXMuaGFsZkV4dGVudHMuejtcbiAgICBjb25zdCBWID0gVmVjMztcbiAgICBjb25zdCB2ZXJ0aWNlcyA9IFtuZXcgVigtc3gsIC1zeSwgLXN6KSwgbmV3IFYoc3gsIC1zeSwgLXN6KSwgbmV3IFYoc3gsIHN5LCAtc3opLCBuZXcgVigtc3gsIHN5LCAtc3opLCBuZXcgVigtc3gsIC1zeSwgc3opLCBuZXcgVihzeCwgLXN5LCBzeiksIG5ldyBWKHN4LCBzeSwgc3opLCBuZXcgVigtc3gsIHN5LCBzeildO1xuICAgIGNvbnN0IGZhY2VzID0gW1szLCAyLCAxLCAwXSwgLy8gLXpcbiAgICBbNCwgNSwgNiwgN10sIC8vICt6XG4gICAgWzUsIDQsIDAsIDFdLCAvLyAteVxuICAgIFsyLCAzLCA3LCA2XSwgLy8gK3lcbiAgICBbMCwgNCwgNywgM10sIC8vIC14XG4gICAgWzEsIDIsIDYsIDVdIC8vICt4XG4gICAgXTtcbiAgICBjb25zdCBheGVzID0gW25ldyBWKDAsIDAsIDEpLCBuZXcgVigwLCAxLCAwKSwgbmV3IFYoMSwgMCwgMCldO1xuICAgIGNvbnN0IGggPSBuZXcgQ29udmV4UG9seWhlZHJvbih7XG4gICAgICB2ZXJ0aWNlcyxcbiAgICAgIGZhY2VzLFxuICAgICAgYXhlc1xuICAgIH0pO1xuICAgIHRoaXMuY29udmV4UG9seWhlZHJvblJlcHJlc2VudGF0aW9uID0gaDtcbiAgICBoLm1hdGVyaWFsID0gdGhpcy5tYXRlcmlhbDtcbiAgfVxuICAvKipcclxuICAgKiBAbWV0aG9kIGNhbGN1bGF0ZUxvY2FsSW5lcnRpYVxyXG4gICAqIEBwYXJhbSAge051bWJlcn0gbWFzc1xyXG4gICAqIEBwYXJhbSAge1ZlYzN9IHRhcmdldFxyXG4gICAqIEByZXR1cm4ge1ZlYzN9XHJcbiAgICovXG5cblxuICBjYWxjdWxhdGVMb2NhbEluZXJ0aWEobWFzcywgdGFyZ2V0ID0gbmV3IFZlYzMoKSkge1xuICAgIEJveC5jYWxjdWxhdGVJbmVydGlhKHRoaXMuaGFsZkV4dGVudHMsIG1hc3MsIHRhcmdldCk7XG4gICAgcmV0dXJuIHRhcmdldDtcbiAgfVxuICAvKipcclxuICAgKiBHZXQgdGhlIGJveCA2IHNpZGUgbm9ybWFsc1xyXG4gICAqIEBtZXRob2QgZ2V0U2lkZU5vcm1hbHNcclxuICAgKiBAcGFyYW0ge2FycmF5fSAgICAgIHNpeFRhcmdldFZlY3RvcnMgQW4gYXJyYXkgb2YgNiB2ZWN0b3JzLCB0byBzdG9yZSB0aGUgcmVzdWx0aW5nIHNpZGUgbm9ybWFscyBpbi5cclxuICAgKiBAcGFyYW0ge1F1YXRlcm5pb259IHF1YXQgICAgICAgICAgICAgT3JpZW50YXRpb24gdG8gYXBwbHkgdG8gdGhlIG5vcm1hbCB2ZWN0b3JzLiBJZiBub3QgcHJvdmlkZWQsIHRoZSB2ZWN0b3JzIHdpbGwgYmUgaW4gcmVzcGVjdCB0byB0aGUgbG9jYWwgZnJhbWUuXHJcbiAgICogQHJldHVybiB7YXJyYXl9XHJcbiAgICovXG5cblxuICBnZXRTaWRlTm9ybWFscyhzaXhUYXJnZXRWZWN0b3JzLCBxdWF0KSB7XG4gICAgY29uc3Qgc2lkZXMgPSBzaXhUYXJnZXRWZWN0b3JzO1xuICAgIGNvbnN0IGV4ID0gdGhpcy5oYWxmRXh0ZW50cztcbiAgICBzaWRlc1swXS5zZXQoZXgueCwgMCwgMCk7XG4gICAgc2lkZXNbMV0uc2V0KDAsIGV4LnksIDApO1xuICAgIHNpZGVzWzJdLnNldCgwLCAwLCBleC56KTtcbiAgICBzaWRlc1szXS5zZXQoLWV4LngsIDAsIDApO1xuICAgIHNpZGVzWzRdLnNldCgwLCAtZXgueSwgMCk7XG4gICAgc2lkZXNbNV0uc2V0KDAsIDAsIC1leC56KTtcblxuICAgIGlmIChxdWF0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpICE9PSBzaWRlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBxdWF0LnZtdWx0KHNpZGVzW2ldLCBzaWRlc1tpXSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHNpZGVzO1xuICB9XG5cbiAgdm9sdW1lKCkge1xuICAgIHJldHVybiA4LjAgKiB0aGlzLmhhbGZFeHRlbnRzLnggKiB0aGlzLmhhbGZFeHRlbnRzLnkgKiB0aGlzLmhhbGZFeHRlbnRzLno7XG4gIH1cblxuICB1cGRhdGVCb3VuZGluZ1NwaGVyZVJhZGl1cygpIHtcbiAgICB0aGlzLmJvdW5kaW5nU3BoZXJlUmFkaXVzID0gdGhpcy5oYWxmRXh0ZW50cy5sZW5ndGgoKTtcbiAgfVxuXG4gIGZvckVhY2hXb3JsZENvcm5lcihwb3MsIHF1YXQsIGNhbGxiYWNrKSB7XG4gICAgY29uc3QgZSA9IHRoaXMuaGFsZkV4dGVudHM7XG4gICAgY29uc3QgY29ybmVycyA9IFtbZS54LCBlLnksIGUuel0sIFstZS54LCBlLnksIGUuel0sIFstZS54LCAtZS55LCBlLnpdLCBbLWUueCwgLWUueSwgLWUuel0sIFtlLngsIC1lLnksIC1lLnpdLCBbZS54LCBlLnksIC1lLnpdLCBbLWUueCwgZS55LCAtZS56XSwgW2UueCwgLWUueSwgZS56XV07XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvcm5lcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHdvcmxkQ29ybmVyVGVtcFBvcy5zZXQoY29ybmVyc1tpXVswXSwgY29ybmVyc1tpXVsxXSwgY29ybmVyc1tpXVsyXSk7XG4gICAgICBxdWF0LnZtdWx0KHdvcmxkQ29ybmVyVGVtcFBvcywgd29ybGRDb3JuZXJUZW1wUG9zKTtcbiAgICAgIHBvcy52YWRkKHdvcmxkQ29ybmVyVGVtcFBvcywgd29ybGRDb3JuZXJUZW1wUG9zKTtcbiAgICAgIGNhbGxiYWNrKHdvcmxkQ29ybmVyVGVtcFBvcy54LCB3b3JsZENvcm5lclRlbXBQb3MueSwgd29ybGRDb3JuZXJUZW1wUG9zLnopO1xuICAgIH1cbiAgfVxuXG4gIGNhbGN1bGF0ZVdvcmxkQUFCQihwb3MsIHF1YXQsIG1pbiwgbWF4KSB7XG4gICAgY29uc3QgZSA9IHRoaXMuaGFsZkV4dGVudHM7XG4gICAgd29ybGRDb3JuZXJzVGVtcFswXS5zZXQoZS54LCBlLnksIGUueik7XG4gICAgd29ybGRDb3JuZXJzVGVtcFsxXS5zZXQoLWUueCwgZS55LCBlLnopO1xuICAgIHdvcmxkQ29ybmVyc1RlbXBbMl0uc2V0KC1lLngsIC1lLnksIGUueik7XG4gICAgd29ybGRDb3JuZXJzVGVtcFszXS5zZXQoLWUueCwgLWUueSwgLWUueik7XG4gICAgd29ybGRDb3JuZXJzVGVtcFs0XS5zZXQoZS54LCAtZS55LCAtZS56KTtcbiAgICB3b3JsZENvcm5lcnNUZW1wWzVdLnNldChlLngsIGUueSwgLWUueik7XG4gICAgd29ybGRDb3JuZXJzVGVtcFs2XS5zZXQoLWUueCwgZS55LCAtZS56KTtcbiAgICB3b3JsZENvcm5lcnNUZW1wWzddLnNldChlLngsIC1lLnksIGUueik7XG4gICAgY29uc3Qgd2MgPSB3b3JsZENvcm5lcnNUZW1wWzBdO1xuICAgIHF1YXQudm11bHQod2MsIHdjKTtcbiAgICBwb3MudmFkZCh3Yywgd2MpO1xuICAgIG1heC5jb3B5KHdjKTtcbiAgICBtaW4uY29weSh3Yyk7XG5cbiAgICBmb3IgKGxldCBpID0gMTsgaSA8IDg7IGkrKykge1xuICAgICAgY29uc3Qgd2MgPSB3b3JsZENvcm5lcnNUZW1wW2ldO1xuICAgICAgcXVhdC52bXVsdCh3Yywgd2MpO1xuICAgICAgcG9zLnZhZGQod2MsIHdjKTtcbiAgICAgIGNvbnN0IHggPSB3Yy54O1xuICAgICAgY29uc3QgeSA9IHdjLnk7XG4gICAgICBjb25zdCB6ID0gd2MuejtcblxuICAgICAgaWYgKHggPiBtYXgueCkge1xuICAgICAgICBtYXgueCA9IHg7XG4gICAgICB9XG5cbiAgICAgIGlmICh5ID4gbWF4LnkpIHtcbiAgICAgICAgbWF4LnkgPSB5O1xuICAgICAgfVxuXG4gICAgICBpZiAoeiA+IG1heC56KSB7XG4gICAgICAgIG1heC56ID0gejtcbiAgICAgIH1cblxuICAgICAgaWYgKHggPCBtaW4ueCkge1xuICAgICAgICBtaW4ueCA9IHg7XG4gICAgICB9XG5cbiAgICAgIGlmICh5IDwgbWluLnkpIHtcbiAgICAgICAgbWluLnkgPSB5O1xuICAgICAgfVxuXG4gICAgICBpZiAoeiA8IG1pbi56KSB7XG4gICAgICAgIG1pbi56ID0gejtcbiAgICAgIH1cbiAgICB9IC8vIEdldCBlYWNoIGF4aXMgbWF4XG4gICAgLy8gbWluLnNldChJbmZpbml0eSxJbmZpbml0eSxJbmZpbml0eSk7XG4gICAgLy8gbWF4LnNldCgtSW5maW5pdHksLUluZmluaXR5LC1JbmZpbml0eSk7XG4gICAgLy8gdGhpcy5mb3JFYWNoV29ybGRDb3JuZXIocG9zLHF1YXQsZnVuY3Rpb24oeCx5LHope1xuICAgIC8vICAgICBpZih4ID4gbWF4Lngpe1xuICAgIC8vICAgICAgICAgbWF4LnggPSB4O1xuICAgIC8vICAgICB9XG4gICAgLy8gICAgIGlmKHkgPiBtYXgueSl7XG4gICAgLy8gICAgICAgICBtYXgueSA9IHk7XG4gICAgLy8gICAgIH1cbiAgICAvLyAgICAgaWYoeiA+IG1heC56KXtcbiAgICAvLyAgICAgICAgIG1heC56ID0gejtcbiAgICAvLyAgICAgfVxuICAgIC8vICAgICBpZih4IDwgbWluLngpe1xuICAgIC8vICAgICAgICAgbWluLnggPSB4O1xuICAgIC8vICAgICB9XG4gICAgLy8gICAgIGlmKHkgPCBtaW4ueSl7XG4gICAgLy8gICAgICAgICBtaW4ueSA9IHk7XG4gICAgLy8gICAgIH1cbiAgICAvLyAgICAgaWYoeiA8IG1pbi56KXtcbiAgICAvLyAgICAgICAgIG1pbi56ID0gejtcbiAgICAvLyAgICAgfVxuICAgIC8vIH0pO1xuXG4gIH1cblxufVxuXG5Cb3guY2FsY3VsYXRlSW5lcnRpYSA9IChoYWxmRXh0ZW50cywgbWFzcywgdGFyZ2V0KSA9PiB7XG4gIGNvbnN0IGUgPSBoYWxmRXh0ZW50cztcbiAgdGFyZ2V0LnggPSAxLjAgLyAxMi4wICogbWFzcyAqICgyICogZS55ICogMiAqIGUueSArIDIgKiBlLnogKiAyICogZS56KTtcbiAgdGFyZ2V0LnkgPSAxLjAgLyAxMi4wICogbWFzcyAqICgyICogZS54ICogMiAqIGUueCArIDIgKiBlLnogKiAyICogZS56KTtcbiAgdGFyZ2V0LnogPSAxLjAgLyAxMi4wICogbWFzcyAqICgyICogZS55ICogMiAqIGUueSArIDIgKiBlLnggKiAyICogZS54KTtcbn07XG5cbmNvbnN0IHdvcmxkQ29ybmVyVGVtcFBvcyA9IG5ldyBWZWMzKCk7XG5jb25zdCB3b3JsZENvcm5lcnNUZW1wID0gW25ldyBWZWMzKCksIG5ldyBWZWMzKCksIG5ldyBWZWMzKCksIG5ldyBWZWMzKCksIG5ldyBWZWMzKCksIG5ldyBWZWMzKCksIG5ldyBWZWMzKCksIG5ldyBWZWMzKCldO1xuXG5jb25zdCBCT0RZX1RZUEVTID0ge1xuICBEWU5BTUlDOiAxLFxuICBTVEFUSUM6IDIsXG4gIEtJTkVNQVRJQzogNFxufTtcbmNvbnN0IEJPRFlfU0xFRVBfU1RBVEVTID0ge1xuICBBV0FLRTogMCxcbiAgU0xFRVBZOiAxLFxuICBTTEVFUElORzogMlxufTtcblxuLyoqXHJcbiAqIEJhc2UgY2xhc3MgZm9yIGFsbCBib2R5IHR5cGVzLlxyXG4gKiBAY2xhc3MgQm9keVxyXG4gKiBAY29uc3RydWN0b3JcclxuICogQGV4dGVuZHMgRXZlbnRUYXJnZXRcclxuICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXVxyXG4gKiBAcGFyYW0ge1ZlYzN9IFtvcHRpb25zLnBvc2l0aW9uXVxyXG4gKiBAcGFyYW0ge1ZlYzN9IFtvcHRpb25zLnZlbG9jaXR5XVxyXG4gKiBAcGFyYW0ge1ZlYzN9IFtvcHRpb25zLmFuZ3VsYXJWZWxvY2l0eV1cclxuICogQHBhcmFtIHtRdWF0ZXJuaW9ufSBbb3B0aW9ucy5xdWF0ZXJuaW9uXVxyXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMubWFzc11cclxuICogQHBhcmFtIHtNYXRlcmlhbH0gW29wdGlvbnMubWF0ZXJpYWxdXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy50eXBlXVxyXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMubGluZWFyRGFtcGluZz0wLjAxXVxyXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuYW5ndWxhckRhbXBpbmc9MC4wMV1cclxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5hbGxvd1NsZWVwPXRydWVdXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5zbGVlcFNwZWVkTGltaXQ9MC4xXVxyXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuc2xlZXBUaW1lTGltaXQ9MV1cclxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmNvbGxpc2lvbkZpbHRlckdyb3VwPTFdXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5jb2xsaXNpb25GaWx0ZXJNYXNrPS0xXVxyXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmZpeGVkUm90YXRpb249ZmFsc2VdXHJcbiAqIEBwYXJhbSB7VmVjM30gW29wdGlvbnMubGluZWFyRmFjdG9yXVxyXG4gKiBAcGFyYW0ge1ZlYzN9IFtvcHRpb25zLmFuZ3VsYXJGYWN0b3JdXHJcbiAqIEBwYXJhbSB7U2hhcGV9IFtvcHRpb25zLnNoYXBlXVxyXG4gKiBAZXhhbXBsZVxyXG4gKiAgICAgY29uc3QgYm9keSA9IG5ldyBCb2R5KHtcclxuICogICAgICAgICBtYXNzOiAxXHJcbiAqICAgICB9KTtcclxuICogICAgIGNvbnN0IHNoYXBlID0gbmV3IFNwaGVyZSgxKTtcclxuICogICAgIGJvZHkuYWRkU2hhcGUoc2hhcGUpO1xyXG4gKiAgICAgd29ybGQuYWRkQm9keShib2R5KTtcclxuICovXG5jbGFzcyBCb2R5IGV4dGVuZHMgRXZlbnRUYXJnZXQge1xuICAvLyBQb3NpdGlvbiBvZiBib2R5IGluIFdvcmxkLmJvZGllcy4gVXBkYXRlZCBieSBXb3JsZCBhbmQgdXNlZCBpbiBBcnJheUNvbGxpc2lvbk1hdHJpeC5cbiAgLy8gUmVmZXJlbmNlIHRvIHRoZSB3b3JsZCB0aGUgYm9keSBpcyBsaXZpbmcgaW4uXG4gIC8vIENhbGxiYWNrIGZ1bmN0aW9uIHRoYXQgaXMgdXNlZCBCRUZPUkUgc3RlcHBpbmcgdGhlIHN5c3RlbS4gVXNlIGl0IHRvIGFwcGx5IGZvcmNlcywgZm9yIGV4YW1wbGUuIEluc2lkZSB0aGUgZnVuY3Rpb24sIFwidGhpc1wiIHdpbGwgcmVmZXIgdG8gdGhpcyBCb2R5IG9iamVjdC4gRGVwcmVjYXRlZCAtIHVzZSBXb3JsZCBldmVudHMgaW5zdGVhZC5cbiAgLy8gQ2FsbGJhY2sgZnVuY3Rpb24gdGhhdCBpcyB1c2VkIEFGVEVSIHN0ZXBwaW5nIHRoZSBzeXN0ZW0uIEluc2lkZSB0aGUgZnVuY3Rpb24sIFwidGhpc1wiIHdpbGwgcmVmZXIgdG8gdGhpcyBCb2R5IG9iamVjdC4gRGVwcmVjYXRlZCAtIHVzZSBXb3JsZCBldmVudHMgaW5zdGVhZC5cbiAgLy8gV2hldGhlciB0byBwcm9kdWNlIGNvbnRhY3QgZm9yY2VzIHdoZW4gaW4gY29udGFjdCB3aXRoIG90aGVyIGJvZGllcy4gTm90ZSB0aGF0IGNvbnRhY3RzIHdpbGwgYmUgZ2VuZXJhdGVkLCBidXQgdGhleSB3aWxsIGJlIGRpc2FibGVkIC0gaS5lLiBcImNvbGxpZGVcIiBldmVudHMgd2lsbCBiZSByYWlzZWQsIGJ1dCBmb3JjZXMgd2lsbCBub3QgYmUgYWx0ZXJlZC5cbiAgLy8gV29ybGQgc3BhY2UgcG9zaXRpb24gb2YgdGhlIGJvZHkuXG4gIC8vIEludGVycG9sYXRlZCBwb3NpdGlvbiBvZiB0aGUgYm9keS5cbiAgLy8gSW5pdGlhbCBwb3NpdGlvbiBvZiB0aGUgYm9keS5cbiAgLy8gV29ybGQgc3BhY2UgdmVsb2NpdHkgb2YgdGhlIGJvZHkuXG4gIC8vIExpbmVhciBmb3JjZSBvbiB0aGUgYm9keSBpbiB3b3JsZCBzcGFjZS5cbiAgLy8gT25lIG9mOiBCb2R5LkRZTkFNSUMsIEJvZHkuU1RBVElDIGFuZCBCb2R5LktJTkVNQVRJQy5cbiAgLy8gSWYgdHJ1ZSwgdGhlIGJvZHkgd2lsbCBhdXRvbWF0aWNhbGx5IGZhbGwgdG8gc2xlZXAuXG4gIC8vIEN1cnJlbnQgc2xlZXAgc3RhdGUuXG4gIC8vIElmIHRoZSBzcGVlZCAodGhlIG5vcm0gb2YgdGhlIHZlbG9jaXR5KSBpcyBzbWFsbGVyIHRoYW4gdGhpcyB2YWx1ZSwgdGhlIGJvZHkgaXMgY29uc2lkZXJlZCBzbGVlcHkuXG4gIC8vIElmIHRoZSBib2R5IGhhcyBiZWVuIHNsZWVweSBmb3IgdGhpcyBzbGVlcFRpbWVMaW1pdCBzZWNvbmRzLCBpdCBpcyBjb25zaWRlcmVkIHNsZWVwaW5nLlxuICAvLyBXb3JsZCBzcGFjZSByb3RhdGlvbmFsIGZvcmNlIG9uIHRoZSBib2R5LCBhcm91bmQgY2VudGVyIG9mIG1hc3MuXG4gIC8vIFdvcmxkIHNwYWNlIG9yaWVudGF0aW9uIG9mIHRoZSBib2R5LlxuICAvLyBJbnRlcnBvbGF0ZWQgb3JpZW50YXRpb24gb2YgdGhlIGJvZHkuXG4gIC8vIEFuZ3VsYXIgdmVsb2NpdHkgb2YgdGhlIGJvZHksIGluIHdvcmxkIHNwYWNlLiBUaGluayBvZiB0aGUgYW5ndWxhciB2ZWxvY2l0eSBhcyBhIHZlY3Rvciwgd2hpY2ggdGhlIGJvZHkgcm90YXRlcyBhcm91bmQuIFRoZSBsZW5ndGggb2YgdGhpcyB2ZWN0b3IgZGV0ZXJtaW5lcyBob3cgZmFzdCAoaW4gcmFkaWFucyBwZXIgc2Vjb25kKSB0aGUgYm9keSByb3RhdGVzLlxuICAvLyBQb3NpdGlvbiBvZiBlYWNoIFNoYXBlIGluIHRoZSBib2R5LCBnaXZlbiBpbiBsb2NhbCBCb2R5IHNwYWNlLlxuICAvLyBPcmllbnRhdGlvbiBvZiBlYWNoIFNoYXBlLCBnaXZlbiBpbiBsb2NhbCBCb2R5IHNwYWNlLlxuICAvLyBTZXQgdG8gdHJ1ZSBpZiB5b3UgZG9uJ3Qgd2FudCB0aGUgYm9keSB0byByb3RhdGUuIE1ha2Ugc3VyZSB0byBydW4gLnVwZGF0ZU1hc3NQcm9wZXJ0aWVzKCkgYWZ0ZXIgY2hhbmdpbmcgdGhpcy5cbiAgLy8gVXNlIHRoaXMgcHJvcGVydHkgdG8gbGltaXQgdGhlIG1vdGlvbiBhbG9uZyBhbnkgd29ybGQgYXhpcy4gKDEsMSwxKSB3aWxsIGFsbG93IG1vdGlvbiBhbG9uZyBhbGwgYXhlcyB3aGlsZSAoMCwwLDApIGFsbG93cyBub25lLlxuICAvLyBVc2UgdGhpcyBwcm9wZXJ0eSB0byBsaW1pdCB0aGUgcm90YXRpb25hbCBtb3Rpb24gYWxvbmcgYW55IHdvcmxkIGF4aXMuICgxLDEsMSkgd2lsbCBhbGxvdyByb3RhdGlvbiBhbG9uZyBhbGwgYXhlcyB3aGlsZSAoMCwwLDApIGFsbG93cyBub25lLlxuICAvLyBXb3JsZCBzcGFjZSBib3VuZGluZyBib3ggb2YgdGhlIGJvZHkgYW5kIGl0cyBzaGFwZXMuXG4gIC8vIEluZGljYXRlcyBpZiB0aGUgQUFCQiBuZWVkcyB0byBiZSB1cGRhdGVkIGJlZm9yZSB1c2UuXG4gIC8vIFRvdGFsIGJvdW5kaW5nIHJhZGl1cyBvZiB0aGUgQm9keSBpbmNsdWRpbmcgaXRzIHNoYXBlcywgcmVsYXRpdmUgdG8gYm9keS5wb3NpdGlvbi5cbiAgY29uc3RydWN0b3Iob3B0aW9ucyA9IHt9KSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLmlkID0gQm9keS5pZENvdW50ZXIrKztcbiAgICB0aGlzLmluZGV4ID0gLTE7XG4gICAgdGhpcy53b3JsZCA9IG51bGw7XG4gICAgdGhpcy5wcmVTdGVwID0gbnVsbDtcbiAgICB0aGlzLnBvc3RTdGVwID0gbnVsbDtcbiAgICB0aGlzLnZsYW1iZGEgPSBuZXcgVmVjMygpO1xuICAgIHRoaXMuY29sbGlzaW9uRmlsdGVyR3JvdXAgPSB0eXBlb2Ygb3B0aW9ucy5jb2xsaXNpb25GaWx0ZXJHcm91cCA9PT0gJ251bWJlcicgPyBvcHRpb25zLmNvbGxpc2lvbkZpbHRlckdyb3VwIDogMTtcbiAgICB0aGlzLmNvbGxpc2lvbkZpbHRlck1hc2sgPSB0eXBlb2Ygb3B0aW9ucy5jb2xsaXNpb25GaWx0ZXJNYXNrID09PSAnbnVtYmVyJyA/IG9wdGlvbnMuY29sbGlzaW9uRmlsdGVyTWFzayA6IC0xO1xuICAgIHRoaXMuY29sbGlzaW9uUmVzcG9uc2UgPSB0eXBlb2Ygb3B0aW9ucy5jb2xsaXNpb25SZXNwb25zZSA9PT0gJ2Jvb2xlYW4nID8gb3B0aW9ucy5jb2xsaXNpb25SZXNwb25zZSA6IHRydWU7XG4gICAgdGhpcy5wb3NpdGlvbiA9IG5ldyBWZWMzKCk7XG4gICAgdGhpcy5wcmV2aW91c1Bvc2l0aW9uID0gbmV3IFZlYzMoKTtcbiAgICB0aGlzLmludGVycG9sYXRlZFBvc2l0aW9uID0gbmV3IFZlYzMoKTtcbiAgICB0aGlzLmluaXRQb3NpdGlvbiA9IG5ldyBWZWMzKCk7XG5cbiAgICBpZiAob3B0aW9ucy5wb3NpdGlvbikge1xuICAgICAgdGhpcy5wb3NpdGlvbi5jb3B5KG9wdGlvbnMucG9zaXRpb24pO1xuICAgICAgdGhpcy5wcmV2aW91c1Bvc2l0aW9uLmNvcHkob3B0aW9ucy5wb3NpdGlvbik7XG4gICAgICB0aGlzLmludGVycG9sYXRlZFBvc2l0aW9uLmNvcHkob3B0aW9ucy5wb3NpdGlvbik7XG4gICAgICB0aGlzLmluaXRQb3NpdGlvbi5jb3B5KG9wdGlvbnMucG9zaXRpb24pO1xuICAgIH1cblxuICAgIHRoaXMudmVsb2NpdHkgPSBuZXcgVmVjMygpO1xuXG4gICAgaWYgKG9wdGlvbnMudmVsb2NpdHkpIHtcbiAgICAgIHRoaXMudmVsb2NpdHkuY29weShvcHRpb25zLnZlbG9jaXR5KTtcbiAgICB9XG5cbiAgICB0aGlzLmluaXRWZWxvY2l0eSA9IG5ldyBWZWMzKCk7XG4gICAgdGhpcy5mb3JjZSA9IG5ldyBWZWMzKCk7XG4gICAgY29uc3QgbWFzcyA9IHR5cGVvZiBvcHRpb25zLm1hc3MgPT09ICdudW1iZXInID8gb3B0aW9ucy5tYXNzIDogMDtcbiAgICB0aGlzLm1hc3MgPSBtYXNzO1xuICAgIHRoaXMuaW52TWFzcyA9IG1hc3MgPiAwID8gMS4wIC8gbWFzcyA6IDA7XG4gICAgdGhpcy5tYXRlcmlhbCA9IG9wdGlvbnMubWF0ZXJpYWwgfHwgbnVsbDtcbiAgICB0aGlzLmxpbmVhckRhbXBpbmcgPSB0eXBlb2Ygb3B0aW9ucy5saW5lYXJEYW1waW5nID09PSAnbnVtYmVyJyA/IG9wdGlvbnMubGluZWFyRGFtcGluZyA6IDAuMDE7XG4gICAgdGhpcy50eXBlID0gbWFzcyA8PSAwLjAgPyBCb2R5LlNUQVRJQyA6IEJvZHkuRFlOQU1JQztcblxuICAgIGlmICh0eXBlb2Ygb3B0aW9ucy50eXBlID09PSB0eXBlb2YgQm9keS5TVEFUSUMpIHtcbiAgICAgIHRoaXMudHlwZSA9IG9wdGlvbnMudHlwZTtcbiAgICB9XG5cbiAgICB0aGlzLmFsbG93U2xlZXAgPSB0eXBlb2Ygb3B0aW9ucy5hbGxvd1NsZWVwICE9PSAndW5kZWZpbmVkJyA/IG9wdGlvbnMuYWxsb3dTbGVlcCA6IHRydWU7XG4gICAgdGhpcy5zbGVlcFN0YXRlID0gMDtcbiAgICB0aGlzLnNsZWVwU3BlZWRMaW1pdCA9IHR5cGVvZiBvcHRpb25zLnNsZWVwU3BlZWRMaW1pdCAhPT0gJ3VuZGVmaW5lZCcgPyBvcHRpb25zLnNsZWVwU3BlZWRMaW1pdCA6IDAuMTtcbiAgICB0aGlzLnNsZWVwVGltZUxpbWl0ID0gdHlwZW9mIG9wdGlvbnMuc2xlZXBUaW1lTGltaXQgIT09ICd1bmRlZmluZWQnID8gb3B0aW9ucy5zbGVlcFRpbWVMaW1pdCA6IDE7XG4gICAgdGhpcy50aW1lTGFzdFNsZWVweSA9IDA7XG4gICAgdGhpcy53YWtlVXBBZnRlck5hcnJvd3BoYXNlID0gZmFsc2U7XG4gICAgdGhpcy50b3JxdWUgPSBuZXcgVmVjMygpO1xuICAgIHRoaXMucXVhdGVybmlvbiA9IG5ldyBRdWF0ZXJuaW9uKCk7XG4gICAgdGhpcy5pbml0UXVhdGVybmlvbiA9IG5ldyBRdWF0ZXJuaW9uKCk7XG4gICAgdGhpcy5wcmV2aW91c1F1YXRlcm5pb24gPSBuZXcgUXVhdGVybmlvbigpO1xuICAgIHRoaXMuaW50ZXJwb2xhdGVkUXVhdGVybmlvbiA9IG5ldyBRdWF0ZXJuaW9uKCk7XG5cbiAgICBpZiAob3B0aW9ucy5xdWF0ZXJuaW9uKSB7XG4gICAgICB0aGlzLnF1YXRlcm5pb24uY29weShvcHRpb25zLnF1YXRlcm5pb24pO1xuICAgICAgdGhpcy5pbml0UXVhdGVybmlvbi5jb3B5KG9wdGlvbnMucXVhdGVybmlvbik7XG4gICAgICB0aGlzLnByZXZpb3VzUXVhdGVybmlvbi5jb3B5KG9wdGlvbnMucXVhdGVybmlvbik7XG4gICAgICB0aGlzLmludGVycG9sYXRlZFF1YXRlcm5pb24uY29weShvcHRpb25zLnF1YXRlcm5pb24pO1xuICAgIH1cblxuICAgIHRoaXMuYW5ndWxhclZlbG9jaXR5ID0gbmV3IFZlYzMoKTtcblxuICAgIGlmIChvcHRpb25zLmFuZ3VsYXJWZWxvY2l0eSkge1xuICAgICAgdGhpcy5hbmd1bGFyVmVsb2NpdHkuY29weShvcHRpb25zLmFuZ3VsYXJWZWxvY2l0eSk7XG4gICAgfVxuXG4gICAgdGhpcy5pbml0QW5ndWxhclZlbG9jaXR5ID0gbmV3IFZlYzMoKTtcbiAgICB0aGlzLnNoYXBlcyA9IFtdO1xuICAgIHRoaXMuc2hhcGVPZmZzZXRzID0gW107XG4gICAgdGhpcy5zaGFwZU9yaWVudGF0aW9ucyA9IFtdO1xuICAgIHRoaXMuaW5lcnRpYSA9IG5ldyBWZWMzKCk7XG4gICAgdGhpcy5pbnZJbmVydGlhID0gbmV3IFZlYzMoKTtcbiAgICB0aGlzLmludkluZXJ0aWFXb3JsZCA9IG5ldyBNYXQzKCk7XG4gICAgdGhpcy5pbnZNYXNzU29sdmUgPSAwO1xuICAgIHRoaXMuaW52SW5lcnRpYVNvbHZlID0gbmV3IFZlYzMoKTtcbiAgICB0aGlzLmludkluZXJ0aWFXb3JsZFNvbHZlID0gbmV3IE1hdDMoKTtcbiAgICB0aGlzLmZpeGVkUm90YXRpb24gPSB0eXBlb2Ygb3B0aW9ucy5maXhlZFJvdGF0aW9uICE9PSAndW5kZWZpbmVkJyA/IG9wdGlvbnMuZml4ZWRSb3RhdGlvbiA6IGZhbHNlO1xuICAgIHRoaXMuYW5ndWxhckRhbXBpbmcgPSB0eXBlb2Ygb3B0aW9ucy5hbmd1bGFyRGFtcGluZyAhPT0gJ3VuZGVmaW5lZCcgPyBvcHRpb25zLmFuZ3VsYXJEYW1waW5nIDogMC4wMTtcbiAgICB0aGlzLmxpbmVhckZhY3RvciA9IG5ldyBWZWMzKDEsIDEsIDEpO1xuXG4gICAgaWYgKG9wdGlvbnMubGluZWFyRmFjdG9yKSB7XG4gICAgICB0aGlzLmxpbmVhckZhY3Rvci5jb3B5KG9wdGlvbnMubGluZWFyRmFjdG9yKTtcbiAgICB9XG5cbiAgICB0aGlzLmFuZ3VsYXJGYWN0b3IgPSBuZXcgVmVjMygxLCAxLCAxKTtcblxuICAgIGlmIChvcHRpb25zLmFuZ3VsYXJGYWN0b3IpIHtcbiAgICAgIHRoaXMuYW5ndWxhckZhY3Rvci5jb3B5KG9wdGlvbnMuYW5ndWxhckZhY3Rvcik7XG4gICAgfVxuXG4gICAgdGhpcy5hYWJiID0gbmV3IEFBQkIoKTtcbiAgICB0aGlzLmFhYmJOZWVkc1VwZGF0ZSA9IHRydWU7XG4gICAgdGhpcy5ib3VuZGluZ1JhZGl1cyA9IDA7XG4gICAgdGhpcy53bGFtYmRhID0gbmV3IFZlYzMoKTtcblxuICAgIGlmIChvcHRpb25zLnNoYXBlKSB7XG4gICAgICB0aGlzLmFkZFNoYXBlKG9wdGlvbnMuc2hhcGUpO1xuICAgIH1cblxuICAgIHRoaXMudXBkYXRlTWFzc1Byb3BlcnRpZXMoKTtcbiAgfVxuICAvKipcclxuICAgKiBXYWtlIHRoZSBib2R5IHVwLlxyXG4gICAqIEBtZXRob2Qgd2FrZVVwXHJcbiAgICovXG5cblxuICB3YWtlVXAoKSB7XG4gICAgY29uc3QgcHJldlN0YXRlID0gdGhpcy5zbGVlcFN0YXRlO1xuICAgIHRoaXMuc2xlZXBTdGF0ZSA9IDA7XG4gICAgdGhpcy53YWtlVXBBZnRlck5hcnJvd3BoYXNlID0gZmFsc2U7XG5cbiAgICBpZiAocHJldlN0YXRlID09PSBCb2R5LlNMRUVQSU5HKSB7XG4gICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoQm9keS53YWtldXBFdmVudCk7XG4gICAgfVxuICB9XG4gIC8qKlxyXG4gICAqIEZvcmNlIGJvZHkgc2xlZXBcclxuICAgKiBAbWV0aG9kIHNsZWVwXHJcbiAgICovXG5cblxuICBzbGVlcCgpIHtcbiAgICB0aGlzLnNsZWVwU3RhdGUgPSBCb2R5LlNMRUVQSU5HO1xuICAgIHRoaXMudmVsb2NpdHkuc2V0KDAsIDAsIDApO1xuICAgIHRoaXMuYW5ndWxhclZlbG9jaXR5LnNldCgwLCAwLCAwKTtcbiAgICB0aGlzLndha2VVcEFmdGVyTmFycm93cGhhc2UgPSBmYWxzZTtcbiAgfVxuICAvKipcclxuICAgKiBDYWxsZWQgZXZlcnkgdGltZXN0ZXAgdG8gdXBkYXRlIGludGVybmFsIHNsZWVwIHRpbWVyIGFuZCBjaGFuZ2Ugc2xlZXAgc3RhdGUgaWYgbmVlZGVkLlxyXG4gICAqIEBtZXRob2Qgc2xlZXBUaWNrXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHRpbWUgVGhlIHdvcmxkIHRpbWUgaW4gc2Vjb25kc1xyXG4gICAqL1xuXG5cbiAgc2xlZXBUaWNrKHRpbWUpIHtcbiAgICBpZiAodGhpcy5hbGxvd1NsZWVwKSB7XG4gICAgICBjb25zdCBzbGVlcFN0YXRlID0gdGhpcy5zbGVlcFN0YXRlO1xuICAgICAgY29uc3Qgc3BlZWRTcXVhcmVkID0gdGhpcy52ZWxvY2l0eS5sZW5ndGhTcXVhcmVkKCkgKyB0aGlzLmFuZ3VsYXJWZWxvY2l0eS5sZW5ndGhTcXVhcmVkKCk7XG4gICAgICBjb25zdCBzcGVlZExpbWl0U3F1YXJlZCA9IHRoaXMuc2xlZXBTcGVlZExpbWl0ICoqIDI7XG5cbiAgICAgIGlmIChzbGVlcFN0YXRlID09PSBCb2R5LkFXQUtFICYmIHNwZWVkU3F1YXJlZCA8IHNwZWVkTGltaXRTcXVhcmVkKSB7XG4gICAgICAgIHRoaXMuc2xlZXBTdGF0ZSA9IEJvZHkuU0xFRVBZOyAvLyBTbGVlcHlcblxuICAgICAgICB0aGlzLnRpbWVMYXN0U2xlZXB5ID0gdGltZTtcbiAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KEJvZHkuc2xlZXB5RXZlbnQpO1xuICAgICAgfSBlbHNlIGlmIChzbGVlcFN0YXRlID09PSBCb2R5LlNMRUVQWSAmJiBzcGVlZFNxdWFyZWQgPiBzcGVlZExpbWl0U3F1YXJlZCkge1xuICAgICAgICB0aGlzLndha2VVcCgpOyAvLyBXYWtlIHVwXG4gICAgICB9IGVsc2UgaWYgKHNsZWVwU3RhdGUgPT09IEJvZHkuU0xFRVBZICYmIHRpbWUgLSB0aGlzLnRpbWVMYXN0U2xlZXB5ID4gdGhpcy5zbGVlcFRpbWVMaW1pdCkge1xuICAgICAgICB0aGlzLnNsZWVwKCk7IC8vIFNsZWVwaW5nXG5cbiAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KEJvZHkuc2xlZXBFdmVudCk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIC8qKlxyXG4gICAqIElmIHRoZSBib2R5IGlzIHNsZWVwaW5nLCBpdCBzaG91bGQgYmUgaW1tb3ZhYmxlIC8gaGF2ZSBpbmZpbml0ZSBtYXNzIGR1cmluZyBzb2x2ZS4gV2Ugc29sdmUgaXQgYnkgaGF2aW5nIGEgc2VwYXJhdGUgXCJzb2x2ZSBtYXNzXCIuXHJcbiAgICogQG1ldGhvZCB1cGRhdGVTb2x2ZU1hc3NQcm9wZXJ0aWVzXHJcbiAgICovXG5cblxuICB1cGRhdGVTb2x2ZU1hc3NQcm9wZXJ0aWVzKCkge1xuICAgIGlmICh0aGlzLnNsZWVwU3RhdGUgPT09IEJvZHkuU0xFRVBJTkcgfHwgdGhpcy50eXBlID09PSBCb2R5LktJTkVNQVRJQykge1xuICAgICAgdGhpcy5pbnZNYXNzU29sdmUgPSAwO1xuICAgICAgdGhpcy5pbnZJbmVydGlhU29sdmUuc2V0WmVybygpO1xuICAgICAgdGhpcy5pbnZJbmVydGlhV29ybGRTb2x2ZS5zZXRaZXJvKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuaW52TWFzc1NvbHZlID0gdGhpcy5pbnZNYXNzO1xuICAgICAgdGhpcy5pbnZJbmVydGlhU29sdmUuY29weSh0aGlzLmludkluZXJ0aWEpO1xuICAgICAgdGhpcy5pbnZJbmVydGlhV29ybGRTb2x2ZS5jb3B5KHRoaXMuaW52SW5lcnRpYVdvcmxkKTtcbiAgICB9XG4gIH1cbiAgLyoqXHJcbiAgICogQ29udmVydCBhIHdvcmxkIHBvaW50IHRvIGxvY2FsIGJvZHkgZnJhbWUuXHJcbiAgICogQG1ldGhvZCBwb2ludFRvTG9jYWxGcmFtZVxyXG4gICAqIEBwYXJhbSAge1ZlYzN9IHdvcmxkUG9pbnRcclxuICAgKiBAcGFyYW0gIHtWZWMzfSByZXN1bHRcclxuICAgKiBAcmV0dXJuIHtWZWMzfVxyXG4gICAqL1xuXG5cbiAgcG9pbnRUb0xvY2FsRnJhbWUod29ybGRQb2ludCwgcmVzdWx0ID0gbmV3IFZlYzMoKSkge1xuICAgIHdvcmxkUG9pbnQudnN1Yih0aGlzLnBvc2l0aW9uLCByZXN1bHQpO1xuICAgIHRoaXMucXVhdGVybmlvbi5jb25qdWdhdGUoKS52bXVsdChyZXN1bHQsIHJlc3VsdCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuICAvKipcclxuICAgKiBDb252ZXJ0IGEgd29ybGQgdmVjdG9yIHRvIGxvY2FsIGJvZHkgZnJhbWUuXHJcbiAgICogQG1ldGhvZCB2ZWN0b3JUb0xvY2FsRnJhbWVcclxuICAgKiBAcGFyYW0gIHtWZWMzfSB3b3JsZFBvaW50XHJcbiAgICogQHBhcmFtICB7VmVjM30gcmVzdWx0XHJcbiAgICogQHJldHVybiB7VmVjM31cclxuICAgKi9cblxuXG4gIHZlY3RvclRvTG9jYWxGcmFtZSh3b3JsZFZlY3RvciwgcmVzdWx0ID0gbmV3IFZlYzMoKSkge1xuICAgIHRoaXMucXVhdGVybmlvbi5jb25qdWdhdGUoKS52bXVsdCh3b3JsZFZlY3RvciwgcmVzdWx0KTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG4gIC8qKlxyXG4gICAqIENvbnZlcnQgYSBsb2NhbCBib2R5IHBvaW50IHRvIHdvcmxkIGZyYW1lLlxyXG4gICAqIEBtZXRob2QgcG9pbnRUb1dvcmxkRnJhbWVcclxuICAgKiBAcGFyYW0gIHtWZWMzfSBsb2NhbFBvaW50XHJcbiAgICogQHBhcmFtICB7VmVjM30gcmVzdWx0XHJcbiAgICogQHJldHVybiB7VmVjM31cclxuICAgKi9cblxuXG4gIHBvaW50VG9Xb3JsZEZyYW1lKGxvY2FsUG9pbnQsIHJlc3VsdCA9IG5ldyBWZWMzKCkpIHtcbiAgICB0aGlzLnF1YXRlcm5pb24udm11bHQobG9jYWxQb2ludCwgcmVzdWx0KTtcbiAgICByZXN1bHQudmFkZCh0aGlzLnBvc2l0aW9uLCByZXN1bHQpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbiAgLyoqXHJcbiAgICogQ29udmVydCBhIGxvY2FsIGJvZHkgcG9pbnQgdG8gd29ybGQgZnJhbWUuXHJcbiAgICogQG1ldGhvZCB2ZWN0b3JUb1dvcmxkRnJhbWVcclxuICAgKiBAcGFyYW0gIHtWZWMzfSBsb2NhbFZlY3RvclxyXG4gICAqIEBwYXJhbSAge1ZlYzN9IHJlc3VsdFxyXG4gICAqIEByZXR1cm4ge1ZlYzN9XHJcbiAgICovXG5cblxuICB2ZWN0b3JUb1dvcmxkRnJhbWUobG9jYWxWZWN0b3IsIHJlc3VsdCA9IG5ldyBWZWMzKCkpIHtcbiAgICB0aGlzLnF1YXRlcm5pb24udm11bHQobG9jYWxWZWN0b3IsIHJlc3VsdCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuICAvKipcclxuICAgKiBBZGQgYSBzaGFwZSB0byB0aGUgYm9keSB3aXRoIGEgbG9jYWwgb2Zmc2V0IGFuZCBvcmllbnRhdGlvbi5cclxuICAgKiBAbWV0aG9kIGFkZFNoYXBlXHJcbiAgICogQHBhcmFtIHtTaGFwZX0gc2hhcGVcclxuICAgKiBAcGFyYW0ge1ZlYzN9IFtfb2Zmc2V0XVxyXG4gICAqIEBwYXJhbSB7UXVhdGVybmlvbn0gW19vcmllbnRhdGlvbl1cclxuICAgKiBAcmV0dXJuIHtCb2R5fSBUaGUgYm9keSBvYmplY3QsIGZvciBjaGFpbmFiaWxpdHkuXHJcbiAgICovXG5cblxuICBhZGRTaGFwZShzaGFwZSwgX29mZnNldCwgX29yaWVudGF0aW9uKSB7XG4gICAgY29uc3Qgb2Zmc2V0ID0gbmV3IFZlYzMoKTtcbiAgICBjb25zdCBvcmllbnRhdGlvbiA9IG5ldyBRdWF0ZXJuaW9uKCk7XG5cbiAgICBpZiAoX29mZnNldCkge1xuICAgICAgb2Zmc2V0LmNvcHkoX29mZnNldCk7XG4gICAgfVxuXG4gICAgaWYgKF9vcmllbnRhdGlvbikge1xuICAgICAgb3JpZW50YXRpb24uY29weShfb3JpZW50YXRpb24pO1xuICAgIH1cblxuICAgIHRoaXMuc2hhcGVzLnB1c2goc2hhcGUpO1xuICAgIHRoaXMuc2hhcGVPZmZzZXRzLnB1c2gob2Zmc2V0KTtcbiAgICB0aGlzLnNoYXBlT3JpZW50YXRpb25zLnB1c2gob3JpZW50YXRpb24pO1xuICAgIHRoaXMudXBkYXRlTWFzc1Byb3BlcnRpZXMoKTtcbiAgICB0aGlzLnVwZGF0ZUJvdW5kaW5nUmFkaXVzKCk7XG4gICAgdGhpcy5hYWJiTmVlZHNVcGRhdGUgPSB0cnVlO1xuICAgIHNoYXBlLmJvZHkgPSB0aGlzO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIC8qKlxyXG4gICAqIFVwZGF0ZSB0aGUgYm91bmRpbmcgcmFkaXVzIG9mIHRoZSBib2R5LiBTaG91bGQgYmUgZG9uZSBpZiBhbnkgb2YgdGhlIHNoYXBlcyBhcmUgY2hhbmdlZC5cclxuICAgKiBAbWV0aG9kIHVwZGF0ZUJvdW5kaW5nUmFkaXVzXHJcbiAgICovXG5cblxuICB1cGRhdGVCb3VuZGluZ1JhZGl1cygpIHtcbiAgICBjb25zdCBzaGFwZXMgPSB0aGlzLnNoYXBlcztcbiAgICBjb25zdCBzaGFwZU9mZnNldHMgPSB0aGlzLnNoYXBlT2Zmc2V0cztcbiAgICBjb25zdCBOID0gc2hhcGVzLmxlbmd0aDtcbiAgICBsZXQgcmFkaXVzID0gMDtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpICE9PSBOOyBpKyspIHtcbiAgICAgIGNvbnN0IHNoYXBlID0gc2hhcGVzW2ldO1xuICAgICAgc2hhcGUudXBkYXRlQm91bmRpbmdTcGhlcmVSYWRpdXMoKTtcbiAgICAgIGNvbnN0IG9mZnNldCA9IHNoYXBlT2Zmc2V0c1tpXS5sZW5ndGgoKTtcbiAgICAgIGNvbnN0IHIgPSBzaGFwZS5ib3VuZGluZ1NwaGVyZVJhZGl1cztcblxuICAgICAgaWYgKG9mZnNldCArIHIgPiByYWRpdXMpIHtcbiAgICAgICAgcmFkaXVzID0gb2Zmc2V0ICsgcjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLmJvdW5kaW5nUmFkaXVzID0gcmFkaXVzO1xuICB9XG4gIC8qKlxyXG4gICAqIFVwZGF0ZXMgdGhlIC5hYWJiXHJcbiAgICogQG1ldGhvZCBjb21wdXRlQUFCQlxyXG4gICAqIEB0b2RvIHJlbmFtZSB0byB1cGRhdGVBQUJCKClcclxuICAgKi9cblxuXG4gIGNvbXB1dGVBQUJCKCkge1xuICAgIGNvbnN0IHNoYXBlcyA9IHRoaXMuc2hhcGVzO1xuICAgIGNvbnN0IHNoYXBlT2Zmc2V0cyA9IHRoaXMuc2hhcGVPZmZzZXRzO1xuICAgIGNvbnN0IHNoYXBlT3JpZW50YXRpb25zID0gdGhpcy5zaGFwZU9yaWVudGF0aW9ucztcbiAgICBjb25zdCBOID0gc2hhcGVzLmxlbmd0aDtcbiAgICBjb25zdCBvZmZzZXQgPSB0bXBWZWM7XG4gICAgY29uc3Qgb3JpZW50YXRpb24gPSB0bXBRdWF0JDE7XG4gICAgY29uc3QgYm9keVF1YXQgPSB0aGlzLnF1YXRlcm5pb247XG4gICAgY29uc3QgYWFiYiA9IHRoaXMuYWFiYjtcbiAgICBjb25zdCBzaGFwZUFBQkIgPSBjb21wdXRlQUFCQl9zaGFwZUFBQkI7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSAhPT0gTjsgaSsrKSB7XG4gICAgICBjb25zdCBzaGFwZSA9IHNoYXBlc1tpXTsgLy8gR2V0IHNoYXBlIHdvcmxkIHBvc2l0aW9uXG5cbiAgICAgIGJvZHlRdWF0LnZtdWx0KHNoYXBlT2Zmc2V0c1tpXSwgb2Zmc2V0KTtcbiAgICAgIG9mZnNldC52YWRkKHRoaXMucG9zaXRpb24sIG9mZnNldCk7IC8vIEdldCBzaGFwZSB3b3JsZCBxdWF0ZXJuaW9uXG5cbiAgICAgIGJvZHlRdWF0Lm11bHQoc2hhcGVPcmllbnRhdGlvbnNbaV0sIG9yaWVudGF0aW9uKTsgLy8gR2V0IHNoYXBlIEFBQkJcblxuICAgICAgc2hhcGUuY2FsY3VsYXRlV29ybGRBQUJCKG9mZnNldCwgb3JpZW50YXRpb24sIHNoYXBlQUFCQi5sb3dlckJvdW5kLCBzaGFwZUFBQkIudXBwZXJCb3VuZCk7XG5cbiAgICAgIGlmIChpID09PSAwKSB7XG4gICAgICAgIGFhYmIuY29weShzaGFwZUFBQkIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYWFiYi5leHRlbmQoc2hhcGVBQUJCKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLmFhYmJOZWVkc1VwZGF0ZSA9IGZhbHNlO1xuICB9XG4gIC8qKlxyXG4gICAqIFVwZGF0ZSAuaW5lcnRpYVdvcmxkIGFuZCAuaW52SW5lcnRpYVdvcmxkXHJcbiAgICogQG1ldGhvZCB1cGRhdGVJbmVydGlhV29ybGRcclxuICAgKi9cblxuXG4gIHVwZGF0ZUluZXJ0aWFXb3JsZChmb3JjZSkge1xuICAgIGNvbnN0IEkgPSB0aGlzLmludkluZXJ0aWE7XG5cbiAgICBpZiAoSS54ID09PSBJLnkgJiYgSS55ID09PSBJLnogJiYgIWZvcmNlKSA7IGVsc2Uge1xuICAgICAgY29uc3QgbTEgPSB1aXdfbTE7XG4gICAgICBjb25zdCBtMiA9IHVpd19tMjtcbiAgICAgIG0xLnNldFJvdGF0aW9uRnJvbVF1YXRlcm5pb24odGhpcy5xdWF0ZXJuaW9uKTtcbiAgICAgIG0xLnRyYW5zcG9zZShtMik7XG4gICAgICBtMS5zY2FsZShJLCBtMSk7XG4gICAgICBtMS5tbXVsdChtMiwgdGhpcy5pbnZJbmVydGlhV29ybGQpO1xuICAgIH1cbiAgfVxuXG4gIGFwcGx5Rm9yY2UoZm9yY2UsIHJlbGF0aXZlUG9pbnQpIHtcbiAgICBpZiAodGhpcy50eXBlICE9PSBCb2R5LkRZTkFNSUMpIHtcbiAgICAgIC8vIE5lZWRlZD9cbiAgICAgIHJldHVybjtcbiAgICB9IC8vIENvbXB1dGUgcHJvZHVjZWQgcm90YXRpb25hbCBmb3JjZVxuXG5cbiAgICBjb25zdCByb3RGb3JjZSA9IEJvZHlfYXBwbHlGb3JjZV9yb3RGb3JjZTtcbiAgICByZWxhdGl2ZVBvaW50LmNyb3NzKGZvcmNlLCByb3RGb3JjZSk7IC8vIEFkZCBsaW5lYXIgZm9yY2VcblxuICAgIHRoaXMuZm9yY2UudmFkZChmb3JjZSwgdGhpcy5mb3JjZSk7IC8vIEFkZCByb3RhdGlvbmFsIGZvcmNlXG5cbiAgICB0aGlzLnRvcnF1ZS52YWRkKHJvdEZvcmNlLCB0aGlzLnRvcnF1ZSk7XG4gIH1cblxuICBhcHBseUxvY2FsRm9yY2UobG9jYWxGb3JjZSwgbG9jYWxQb2ludCkge1xuICAgIGlmICh0aGlzLnR5cGUgIT09IEJvZHkuRFlOQU1JQykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHdvcmxkRm9yY2UgPSBCb2R5X2FwcGx5TG9jYWxGb3JjZV93b3JsZEZvcmNlO1xuICAgIGNvbnN0IHJlbGF0aXZlUG9pbnRXb3JsZCA9IEJvZHlfYXBwbHlMb2NhbEZvcmNlX3JlbGF0aXZlUG9pbnRXb3JsZDsgLy8gVHJhbnNmb3JtIHRoZSBmb3JjZSB2ZWN0b3IgdG8gd29ybGQgc3BhY2VcblxuICAgIHRoaXMudmVjdG9yVG9Xb3JsZEZyYW1lKGxvY2FsRm9yY2UsIHdvcmxkRm9yY2UpO1xuICAgIHRoaXMudmVjdG9yVG9Xb3JsZEZyYW1lKGxvY2FsUG9pbnQsIHJlbGF0aXZlUG9pbnRXb3JsZCk7XG4gICAgdGhpcy5hcHBseUZvcmNlKHdvcmxkRm9yY2UsIHJlbGF0aXZlUG9pbnRXb3JsZCk7XG4gIH1cblxuICBhcHBseUltcHVsc2UoaW1wdWxzZSwgcmVsYXRpdmVQb2ludCkge1xuICAgIGlmICh0aGlzLnR5cGUgIT09IEJvZHkuRFlOQU1JQykge1xuICAgICAgcmV0dXJuO1xuICAgIH0gLy8gQ29tcHV0ZSBwb2ludCBwb3NpdGlvbiByZWxhdGl2ZSB0byB0aGUgYm9keSBjZW50ZXJcblxuXG4gICAgY29uc3QgciA9IHJlbGF0aXZlUG9pbnQ7IC8vIENvbXB1dGUgcHJvZHVjZWQgY2VudHJhbCBpbXB1bHNlIHZlbG9jaXR5XG5cbiAgICBjb25zdCB2ZWxvID0gQm9keV9hcHBseUltcHVsc2VfdmVsbztcbiAgICB2ZWxvLmNvcHkoaW1wdWxzZSk7XG4gICAgdmVsby5zY2FsZSh0aGlzLmludk1hc3MsIHZlbG8pOyAvLyBBZGQgbGluZWFyIGltcHVsc2VcblxuICAgIHRoaXMudmVsb2NpdHkudmFkZCh2ZWxvLCB0aGlzLnZlbG9jaXR5KTsgLy8gQ29tcHV0ZSBwcm9kdWNlZCByb3RhdGlvbmFsIGltcHVsc2UgdmVsb2NpdHlcblxuICAgIGNvbnN0IHJvdFZlbG8gPSBCb2R5X2FwcGx5SW1wdWxzZV9yb3RWZWxvO1xuICAgIHIuY3Jvc3MoaW1wdWxzZSwgcm90VmVsbyk7XG4gICAgLypcclxuICAgICByb3RWZWxvLnggKj0gdGhpcy5pbnZJbmVydGlhLng7XHJcbiAgICAgcm90VmVsby55ICo9IHRoaXMuaW52SW5lcnRpYS55O1xyXG4gICAgIHJvdFZlbG8ueiAqPSB0aGlzLmludkluZXJ0aWEuejtcclxuICAgICAqL1xuXG4gICAgdGhpcy5pbnZJbmVydGlhV29ybGQudm11bHQocm90VmVsbywgcm90VmVsbyk7IC8vIEFkZCByb3RhdGlvbmFsIEltcHVsc2VcblxuICAgIHRoaXMuYW5ndWxhclZlbG9jaXR5LnZhZGQocm90VmVsbywgdGhpcy5hbmd1bGFyVmVsb2NpdHkpO1xuICB9XG5cbiAgYXBwbHlMb2NhbEltcHVsc2UobG9jYWxJbXB1bHNlLCBsb2NhbFBvaW50KSB7XG4gICAgaWYgKHRoaXMudHlwZSAhPT0gQm9keS5EWU5BTUlDKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3Qgd29ybGRJbXB1bHNlID0gQm9keV9hcHBseUxvY2FsSW1wdWxzZV93b3JsZEltcHVsc2U7XG4gICAgY29uc3QgcmVsYXRpdmVQb2ludFdvcmxkID0gQm9keV9hcHBseUxvY2FsSW1wdWxzZV9yZWxhdGl2ZVBvaW50OyAvLyBUcmFuc2Zvcm0gdGhlIGZvcmNlIHZlY3RvciB0byB3b3JsZCBzcGFjZVxuXG4gICAgdGhpcy52ZWN0b3JUb1dvcmxkRnJhbWUobG9jYWxJbXB1bHNlLCB3b3JsZEltcHVsc2UpO1xuICAgIHRoaXMudmVjdG9yVG9Xb3JsZEZyYW1lKGxvY2FsUG9pbnQsIHJlbGF0aXZlUG9pbnRXb3JsZCk7XG4gICAgdGhpcy5hcHBseUltcHVsc2Uod29ybGRJbXB1bHNlLCByZWxhdGl2ZVBvaW50V29ybGQpO1xuICB9XG4gIC8qKlxyXG4gICAqIFNob3VsZCBiZSBjYWxsZWQgd2hlbmV2ZXIgeW91IGNoYW5nZSB0aGUgYm9keSBzaGFwZSBvciBtYXNzLlxyXG4gICAqIEBtZXRob2QgdXBkYXRlTWFzc1Byb3BlcnRpZXNcclxuICAgKi9cblxuXG4gIHVwZGF0ZU1hc3NQcm9wZXJ0aWVzKCkge1xuICAgIGNvbnN0IGhhbGZFeHRlbnRzID0gQm9keV91cGRhdGVNYXNzUHJvcGVydGllc19oYWxmRXh0ZW50cztcbiAgICB0aGlzLmludk1hc3MgPSB0aGlzLm1hc3MgPiAwID8gMS4wIC8gdGhpcy5tYXNzIDogMDtcbiAgICBjb25zdCBJID0gdGhpcy5pbmVydGlhO1xuICAgIGNvbnN0IGZpeGVkID0gdGhpcy5maXhlZFJvdGF0aW9uOyAvLyBBcHByb3hpbWF0ZSB3aXRoIEFBQkIgYm94XG5cbiAgICB0aGlzLmNvbXB1dGVBQUJCKCk7XG4gICAgaGFsZkV4dGVudHMuc2V0KCh0aGlzLmFhYmIudXBwZXJCb3VuZC54IC0gdGhpcy5hYWJiLmxvd2VyQm91bmQueCkgLyAyLCAodGhpcy5hYWJiLnVwcGVyQm91bmQueSAtIHRoaXMuYWFiYi5sb3dlckJvdW5kLnkpIC8gMiwgKHRoaXMuYWFiYi51cHBlckJvdW5kLnogLSB0aGlzLmFhYmIubG93ZXJCb3VuZC56KSAvIDIpO1xuICAgIEJveC5jYWxjdWxhdGVJbmVydGlhKGhhbGZFeHRlbnRzLCB0aGlzLm1hc3MsIEkpO1xuICAgIHRoaXMuaW52SW5lcnRpYS5zZXQoSS54ID4gMCAmJiAhZml4ZWQgPyAxLjAgLyBJLnggOiAwLCBJLnkgPiAwICYmICFmaXhlZCA/IDEuMCAvIEkueSA6IDAsIEkueiA+IDAgJiYgIWZpeGVkID8gMS4wIC8gSS56IDogMCk7XG4gICAgdGhpcy51cGRhdGVJbmVydGlhV29ybGQodHJ1ZSk7XG4gIH1cbiAgLyoqXHJcbiAgICogR2V0IHdvcmxkIHZlbG9jaXR5IG9mIGEgcG9pbnQgaW4gdGhlIGJvZHkuXHJcbiAgICogQG1ldGhvZCBnZXRWZWxvY2l0eUF0V29ybGRQb2ludFxyXG4gICAqIEBwYXJhbSAge1ZlYzN9IHdvcmxkUG9pbnRcclxuICAgKiBAcGFyYW0gIHtWZWMzfSByZXN1bHRcclxuICAgKiBAcmV0dXJuIHtWZWMzfSBUaGUgcmVzdWx0IHZlY3Rvci5cclxuICAgKi9cblxuXG4gIGdldFZlbG9jaXR5QXRXb3JsZFBvaW50KHdvcmxkUG9pbnQsIHJlc3VsdCkge1xuICAgIGNvbnN0IHIgPSBuZXcgVmVjMygpO1xuICAgIHdvcmxkUG9pbnQudnN1Yih0aGlzLnBvc2l0aW9uLCByKTtcbiAgICB0aGlzLmFuZ3VsYXJWZWxvY2l0eS5jcm9zcyhyLCByZXN1bHQpO1xuICAgIHRoaXMudmVsb2NpdHkudmFkZChyZXN1bHQsIHJlc3VsdCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuICAvKipcclxuICAgKiBNb3ZlIHRoZSBib2R5IGZvcndhcmQgaW4gdGltZS5cclxuICAgKiBAcGFyYW0ge251bWJlcn0gZHQgVGltZSBzdGVwXHJcbiAgICogQHBhcmFtIHtib29sZWFufSBxdWF0Tm9ybWFsaXplIFNldCB0byB0cnVlIHRvIG5vcm1hbGl6ZSB0aGUgYm9keSBxdWF0ZXJuaW9uXHJcbiAgICogQHBhcmFtIHtib29sZWFufSBxdWF0Tm9ybWFsaXplRmFzdCBJZiB0aGUgcXVhdGVybmlvbiBzaG91bGQgYmUgbm9ybWFsaXplZCB1c2luZyBcImZhc3RcIiBxdWF0ZXJuaW9uIG5vcm1hbGl6YXRpb25cclxuICAgKi9cblxuXG4gIGludGVncmF0ZShkdCwgcXVhdE5vcm1hbGl6ZSwgcXVhdE5vcm1hbGl6ZUZhc3QpIHtcbiAgICAvLyBTYXZlIHByZXZpb3VzIHBvc2l0aW9uXG4gICAgdGhpcy5wcmV2aW91c1Bvc2l0aW9uLmNvcHkodGhpcy5wb3NpdGlvbik7XG4gICAgdGhpcy5wcmV2aW91c1F1YXRlcm5pb24uY29weSh0aGlzLnF1YXRlcm5pb24pO1xuXG4gICAgaWYgKCEodGhpcy50eXBlID09PSBCb2R5LkRZTkFNSUMgfHwgdGhpcy50eXBlID09PSBCb2R5LktJTkVNQVRJQykgfHwgdGhpcy5zbGVlcFN0YXRlID09PSBCb2R5LlNMRUVQSU5HKSB7XG4gICAgICAvLyBPbmx5IGZvciBkeW5hbWljXG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgdmVsbyA9IHRoaXMudmVsb2NpdHk7XG4gICAgY29uc3QgYW5ndWxhclZlbG8gPSB0aGlzLmFuZ3VsYXJWZWxvY2l0eTtcbiAgICBjb25zdCBwb3MgPSB0aGlzLnBvc2l0aW9uO1xuICAgIGNvbnN0IGZvcmNlID0gdGhpcy5mb3JjZTtcbiAgICBjb25zdCB0b3JxdWUgPSB0aGlzLnRvcnF1ZTtcbiAgICBjb25zdCBxdWF0ID0gdGhpcy5xdWF0ZXJuaW9uO1xuICAgIGNvbnN0IGludk1hc3MgPSB0aGlzLmludk1hc3M7XG4gICAgY29uc3QgaW52SW5lcnRpYSA9IHRoaXMuaW52SW5lcnRpYVdvcmxkO1xuICAgIGNvbnN0IGxpbmVhckZhY3RvciA9IHRoaXMubGluZWFyRmFjdG9yO1xuICAgIGNvbnN0IGlNZHQgPSBpbnZNYXNzICogZHQ7XG4gICAgdmVsby54ICs9IGZvcmNlLnggKiBpTWR0ICogbGluZWFyRmFjdG9yLng7XG4gICAgdmVsby55ICs9IGZvcmNlLnkgKiBpTWR0ICogbGluZWFyRmFjdG9yLnk7XG4gICAgdmVsby56ICs9IGZvcmNlLnogKiBpTWR0ICogbGluZWFyRmFjdG9yLno7XG4gICAgY29uc3QgZSA9IGludkluZXJ0aWEuZWxlbWVudHM7XG4gICAgY29uc3QgYW5ndWxhckZhY3RvciA9IHRoaXMuYW5ndWxhckZhY3RvcjtcbiAgICBjb25zdCB0eCA9IHRvcnF1ZS54ICogYW5ndWxhckZhY3Rvci54O1xuICAgIGNvbnN0IHR5ID0gdG9ycXVlLnkgKiBhbmd1bGFyRmFjdG9yLnk7XG4gICAgY29uc3QgdHogPSB0b3JxdWUueiAqIGFuZ3VsYXJGYWN0b3IuejtcbiAgICBhbmd1bGFyVmVsby54ICs9IGR0ICogKGVbMF0gKiB0eCArIGVbMV0gKiB0eSArIGVbMl0gKiB0eik7XG4gICAgYW5ndWxhclZlbG8ueSArPSBkdCAqIChlWzNdICogdHggKyBlWzRdICogdHkgKyBlWzVdICogdHopO1xuICAgIGFuZ3VsYXJWZWxvLnogKz0gZHQgKiAoZVs2XSAqIHR4ICsgZVs3XSAqIHR5ICsgZVs4XSAqIHR6KTsgLy8gVXNlIG5ldyB2ZWxvY2l0eSAgLSBsZWFwIGZyb2dcblxuICAgIHBvcy54ICs9IHZlbG8ueCAqIGR0O1xuICAgIHBvcy55ICs9IHZlbG8ueSAqIGR0O1xuICAgIHBvcy56ICs9IHZlbG8ueiAqIGR0O1xuICAgIHF1YXQuaW50ZWdyYXRlKHRoaXMuYW5ndWxhclZlbG9jaXR5LCBkdCwgdGhpcy5hbmd1bGFyRmFjdG9yLCBxdWF0KTtcblxuICAgIGlmIChxdWF0Tm9ybWFsaXplKSB7XG4gICAgICBpZiAocXVhdE5vcm1hbGl6ZUZhc3QpIHtcbiAgICAgICAgcXVhdC5ub3JtYWxpemVGYXN0KCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBxdWF0Lm5vcm1hbGl6ZSgpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuYWFiYk5lZWRzVXBkYXRlID0gdHJ1ZTsgLy8gVXBkYXRlIHdvcmxkIGluZXJ0aWFcblxuICAgIHRoaXMudXBkYXRlSW5lcnRpYVdvcmxkKCk7XG4gIH1cblxufVxuLyoqXHJcbiAqIERpc3BhdGNoZWQgYWZ0ZXIgdHdvIGJvZGllcyBjb2xsaWRlLiBUaGlzIGV2ZW50IGlzIGRpc3BhdGNoZWQgb24gZWFjaFxyXG4gKiBvZiB0aGUgdHdvIGJvZGllcyBpbnZvbHZlZCBpbiB0aGUgY29sbGlzaW9uLlxyXG4gKiBAZXZlbnQgY29sbGlkZVxyXG4gKiBAcGFyYW0ge0JvZHl9IGJvZHkgVGhlIGJvZHkgdGhhdCB3YXMgaW52b2x2ZWQgaW4gdGhlIGNvbGxpc2lvbi5cclxuICogQHBhcmFtIHtDb250YWN0RXF1YXRpb259IGNvbnRhY3QgVGhlIGRldGFpbHMgb2YgdGhlIGNvbGxpc2lvbi5cclxuICovXG5cbkJvZHkuQ09MTElERV9FVkVOVF9OQU1FID0gJ2NvbGxpZGUnO1xuLyoqXHJcbiAqIEEgZHluYW1pYyBib2R5IGlzIGZ1bGx5IHNpbXVsYXRlZC4gQ2FuIGJlIG1vdmVkIG1hbnVhbGx5IGJ5IHRoZSB1c2VyLCBidXQgbm9ybWFsbHkgdGhleSBtb3ZlIGFjY29yZGluZyB0byBmb3JjZXMuIEEgZHluYW1pYyBib2R5IGNhbiBjb2xsaWRlIHdpdGggYWxsIGJvZHkgdHlwZXMuIEEgZHluYW1pYyBib2R5IGFsd2F5cyBoYXMgZmluaXRlLCBub24temVybyBtYXNzLlxyXG4gKiBAc3RhdGljXHJcbiAqIEBwcm9wZXJ0eSBEWU5BTUlDXHJcbiAqIEB0eXBlIHtOdW1iZXJ9XHJcbiAqL1xuXG5Cb2R5LkRZTkFNSUMgPSAxO1xuLyoqXHJcbiAqIEEgc3RhdGljIGJvZHkgZG9lcyBub3QgbW92ZSBkdXJpbmcgc2ltdWxhdGlvbiBhbmQgYmVoYXZlcyBhcyBpZiBpdCBoYXMgaW5maW5pdGUgbWFzcy4gU3RhdGljIGJvZGllcyBjYW4gYmUgbW92ZWQgbWFudWFsbHkgYnkgc2V0dGluZyB0aGUgcG9zaXRpb24gb2YgdGhlIGJvZHkuIFRoZSB2ZWxvY2l0eSBvZiBhIHN0YXRpYyBib2R5IGlzIGFsd2F5cyB6ZXJvLiBTdGF0aWMgYm9kaWVzIGRvIG5vdCBjb2xsaWRlIHdpdGggb3RoZXIgc3RhdGljIG9yIGtpbmVtYXRpYyBib2RpZXMuXHJcbiAqIEBzdGF0aWNcclxuICogQHByb3BlcnR5IFNUQVRJQ1xyXG4gKiBAdHlwZSB7TnVtYmVyfVxyXG4gKi9cblxuQm9keS5TVEFUSUMgPSAyO1xuLyoqXHJcbiAqIEEga2luZW1hdGljIGJvZHkgbW92ZXMgdW5kZXIgc2ltdWxhdGlvbiBhY2NvcmRpbmcgdG8gaXRzIHZlbG9jaXR5LiBUaGV5IGRvIG5vdCByZXNwb25kIHRvIGZvcmNlcy4gVGhleSBjYW4gYmUgbW92ZWQgbWFudWFsbHksIGJ1dCBub3JtYWxseSBhIGtpbmVtYXRpYyBib2R5IGlzIG1vdmVkIGJ5IHNldHRpbmcgaXRzIHZlbG9jaXR5LiBBIGtpbmVtYXRpYyBib2R5IGJlaGF2ZXMgYXMgaWYgaXQgaGFzIGluZmluaXRlIG1hc3MuIEtpbmVtYXRpYyBib2RpZXMgZG8gbm90IGNvbGxpZGUgd2l0aCBvdGhlciBzdGF0aWMgb3Iga2luZW1hdGljIGJvZGllcy5cclxuICogQHN0YXRpY1xyXG4gKiBAcHJvcGVydHkgS0lORU1BVElDXHJcbiAqIEB0eXBlIHtOdW1iZXJ9XHJcbiAqL1xuXG5Cb2R5LktJTkVNQVRJQyA9IDQ7XG4vKipcclxuICogQHN0YXRpY1xyXG4gKiBAcHJvcGVydHkgQVdBS0VcclxuICogQHR5cGUge251bWJlcn1cclxuICovXG5cbkJvZHkuQVdBS0UgPSBCT0RZX1NMRUVQX1NUQVRFUy5BV0FLRTtcbkJvZHkuU0xFRVBZID0gQk9EWV9TTEVFUF9TVEFURVMuU0xFRVBZO1xuQm9keS5TTEVFUElORyA9IEJPRFlfU0xFRVBfU1RBVEVTLlNMRUVQSU5HO1xuQm9keS5pZENvdW50ZXIgPSAwO1xuLyoqXHJcbiAqIERpc3BhdGNoZWQgYWZ0ZXIgYSBzbGVlcGluZyBib2R5IGhhcyB3b2tlbiB1cC5cclxuICogQGV2ZW50IHdha2V1cFxyXG4gKi9cblxuQm9keS53YWtldXBFdmVudCA9IHtcbiAgdHlwZTogJ3dha2V1cCdcbn07XG4vKipcclxuICogRGlzcGF0Y2hlZCBhZnRlciBhIGJvZHkgaGFzIGdvbmUgaW4gdG8gdGhlIHNsZWVweSBzdGF0ZS5cclxuICogQGV2ZW50IHNsZWVweVxyXG4gKi9cblxuQm9keS5zbGVlcHlFdmVudCA9IHtcbiAgdHlwZTogJ3NsZWVweSdcbn07XG4vKipcclxuICogRGlzcGF0Y2hlZCBhZnRlciBhIGJvZHkgaGFzIGZhbGxlbiBhc2xlZXAuXHJcbiAqIEBldmVudCBzbGVlcFxyXG4gKi9cblxuQm9keS5zbGVlcEV2ZW50ID0ge1xuICB0eXBlOiAnc2xlZXAnXG59O1xuY29uc3QgdG1wVmVjID0gbmV3IFZlYzMoKTtcbmNvbnN0IHRtcFF1YXQkMSA9IG5ldyBRdWF0ZXJuaW9uKCk7XG5jb25zdCBjb21wdXRlQUFCQl9zaGFwZUFBQkIgPSBuZXcgQUFCQigpO1xuY29uc3QgdWl3X20xID0gbmV3IE1hdDMoKTtcbmNvbnN0IHVpd19tMiA9IG5ldyBNYXQzKCk7XG4vKipcclxuICogQXBwbHkgZm9yY2UgdG8gYSB3b3JsZCBwb2ludC4gVGhpcyBjb3VsZCBmb3IgZXhhbXBsZSBiZSBhIHBvaW50IG9uIHRoZSBCb2R5IHN1cmZhY2UuIEFwcGx5aW5nIGZvcmNlIHRoaXMgd2F5IHdpbGwgYWRkIHRvIEJvZHkuZm9yY2UgYW5kIEJvZHkudG9ycXVlLlxyXG4gKiBAbWV0aG9kIGFwcGx5Rm9yY2VcclxuICogQHBhcmFtICB7VmVjM30gZm9yY2UgVGhlIGFtb3VudCBvZiBmb3JjZSB0byBhZGQuXHJcbiAqIEBwYXJhbSAge1ZlYzN9IHJlbGF0aXZlUG9pbnQgQSBwb2ludCByZWxhdGl2ZSB0byB0aGUgY2VudGVyIG9mIG1hc3MgdG8gYXBwbHkgdGhlIGZvcmNlIG9uLlxyXG4gKi9cblxuY29uc3QgQm9keV9hcHBseUZvcmNlX3JvdEZvcmNlID0gbmV3IFZlYzMoKTtcbi8qKlxyXG4gKiBBcHBseSBmb3JjZSB0byBhIGxvY2FsIHBvaW50IGluIHRoZSBib2R5LlxyXG4gKiBAbWV0aG9kIGFwcGx5TG9jYWxGb3JjZVxyXG4gKiBAcGFyYW0gIHtWZWMzfSBmb3JjZSBUaGUgZm9yY2UgdmVjdG9yIHRvIGFwcGx5LCBkZWZpbmVkIGxvY2FsbHkgaW4gdGhlIGJvZHkgZnJhbWUuXHJcbiAqIEBwYXJhbSAge1ZlYzN9IGxvY2FsUG9pbnQgQSBsb2NhbCBwb2ludCBpbiB0aGUgYm9keSB0byBhcHBseSB0aGUgZm9yY2Ugb24uXHJcbiAqL1xuXG5jb25zdCBCb2R5X2FwcGx5TG9jYWxGb3JjZV93b3JsZEZvcmNlID0gbmV3IFZlYzMoKTtcbmNvbnN0IEJvZHlfYXBwbHlMb2NhbEZvcmNlX3JlbGF0aXZlUG9pbnRXb3JsZCA9IG5ldyBWZWMzKCk7XG4vKipcclxuICogQXBwbHkgaW1wdWxzZSB0byBhIHdvcmxkIHBvaW50LiBUaGlzIGNvdWxkIGZvciBleGFtcGxlIGJlIGEgcG9pbnQgb24gdGhlIEJvZHkgc3VyZmFjZS4gQW4gaW1wdWxzZSBpcyBhIGZvcmNlIGFkZGVkIHRvIGEgYm9keSBkdXJpbmcgYSBzaG9ydCBwZXJpb2Qgb2YgdGltZSAoaW1wdWxzZSA9IGZvcmNlICogdGltZSkuIEltcHVsc2VzIHdpbGwgYmUgYWRkZWQgdG8gQm9keS52ZWxvY2l0eSBhbmQgQm9keS5hbmd1bGFyVmVsb2NpdHkuXHJcbiAqIEBtZXRob2QgYXBwbHlJbXB1bHNlXHJcbiAqIEBwYXJhbSAge1ZlYzN9IGltcHVsc2UgVGhlIGFtb3VudCBvZiBpbXB1bHNlIHRvIGFkZC5cclxuICogQHBhcmFtICB7VmVjM30gcmVsYXRpdmVQb2ludCBBIHBvaW50IHJlbGF0aXZlIHRvIHRoZSBjZW50ZXIgb2YgbWFzcyB0byBhcHBseSB0aGUgZm9yY2Ugb24uXHJcbiAqL1xuXG5jb25zdCBCb2R5X2FwcGx5SW1wdWxzZV92ZWxvID0gbmV3IFZlYzMoKTtcbmNvbnN0IEJvZHlfYXBwbHlJbXB1bHNlX3JvdFZlbG8gPSBuZXcgVmVjMygpO1xuLyoqXHJcbiAqIEFwcGx5IGxvY2FsbHktZGVmaW5lZCBpbXB1bHNlIHRvIGEgbG9jYWwgcG9pbnQgaW4gdGhlIGJvZHkuXHJcbiAqIEBtZXRob2QgYXBwbHlMb2NhbEltcHVsc2VcclxuICogQHBhcmFtICB7VmVjM30gZm9yY2UgVGhlIGZvcmNlIHZlY3RvciB0byBhcHBseSwgZGVmaW5lZCBsb2NhbGx5IGluIHRoZSBib2R5IGZyYW1lLlxyXG4gKiBAcGFyYW0gIHtWZWMzfSBsb2NhbFBvaW50IEEgbG9jYWwgcG9pbnQgaW4gdGhlIGJvZHkgdG8gYXBwbHkgdGhlIGZvcmNlIG9uLlxyXG4gKi9cblxuY29uc3QgQm9keV9hcHBseUxvY2FsSW1wdWxzZV93b3JsZEltcHVsc2UgPSBuZXcgVmVjMygpO1xuY29uc3QgQm9keV9hcHBseUxvY2FsSW1wdWxzZV9yZWxhdGl2ZVBvaW50ID0gbmV3IFZlYzMoKTtcbmNvbnN0IEJvZHlfdXBkYXRlTWFzc1Byb3BlcnRpZXNfaGFsZkV4dGVudHMgPSBuZXcgVmVjMygpO1xuXG4vKipcclxuICogQmFzZSBjbGFzcyBmb3IgYnJvYWRwaGFzZSBpbXBsZW1lbnRhdGlvbnNcclxuICogQGNsYXNzIEJyb2FkcGhhc2VcclxuICogQGNvbnN0cnVjdG9yXHJcbiAqIEBhdXRob3Igc2NodGVwcGVcclxuICovXG5jbGFzcyBCcm9hZHBoYXNlIHtcbiAgLy8gVGhlIHdvcmxkIHRvIHNlYXJjaCBmb3IgY29sbGlzaW9ucyBpbi5cbiAgLy8gSWYgc2V0IHRvIHRydWUsIHRoZSBicm9hZHBoYXNlIHVzZXMgYm91bmRpbmcgYm94ZXMgZm9yIGludGVyc2VjdGlvbiB0ZXN0LCBlbHNlIGl0IHVzZXMgYm91bmRpbmcgc3BoZXJlcy5cbiAgLy8gU2V0IHRvIHRydWUgaWYgdGhlIG9iamVjdHMgaW4gdGhlIHdvcmxkIG1vdmVkLlxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLndvcmxkID0gbnVsbDtcbiAgICB0aGlzLnVzZUJvdW5kaW5nQm94ZXMgPSBmYWxzZTtcbiAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgfVxuICAvKipcclxuICAgKiBHZXQgdGhlIGNvbGxpc2lvbiBwYWlycyBmcm9tIHRoZSB3b3JsZFxyXG4gICAqIEBtZXRob2QgY29sbGlzaW9uUGFpcnNcclxuICAgKiBAcGFyYW0ge1dvcmxkfSB3b3JsZCBUaGUgd29ybGQgdG8gc2VhcmNoIGluXHJcbiAgICogQHBhcmFtIHtBcnJheX0gcDEgRW1wdHkgYXJyYXkgdG8gYmUgZmlsbGVkIHdpdGggYm9keSBvYmplY3RzXHJcbiAgICogQHBhcmFtIHtBcnJheX0gcDIgRW1wdHkgYXJyYXkgdG8gYmUgZmlsbGVkIHdpdGggYm9keSBvYmplY3RzXHJcbiAgICovXG5cblxuICBjb2xsaXNpb25QYWlycyh3b3JsZCwgcDEsIHAyKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdjb2xsaXNpb25QYWlycyBub3QgaW1wbGVtZW50ZWQgZm9yIHRoaXMgQnJvYWRQaGFzZSBjbGFzcyEnKTtcbiAgfVxuICAvKipcclxuICAgKiBDaGVjayBpZiBhIGJvZHkgcGFpciBuZWVkcyB0byBiZSBpbnRlcnNlY3Rpb24gdGVzdGVkIGF0IGFsbC5cclxuICAgKiBAbWV0aG9kIG5lZWRCcm9hZHBoYXNlQ29sbGlzaW9uXHJcbiAgICogQHBhcmFtIHtCb2R5fSBib2R5QVxyXG4gICAqIEBwYXJhbSB7Qm9keX0gYm9keUJcclxuICAgKiBAcmV0dXJuIHtib29sfVxyXG4gICAqL1xuXG5cbiAgbmVlZEJyb2FkcGhhc2VDb2xsaXNpb24oYm9keUEsIGJvZHlCKSB7XG4gICAgLy8gQ2hlY2sgY29sbGlzaW9uIGZpbHRlciBtYXNrc1xuICAgIGlmICgoYm9keUEuY29sbGlzaW9uRmlsdGVyR3JvdXAgJiBib2R5Qi5jb2xsaXNpb25GaWx0ZXJNYXNrKSA9PT0gMCB8fCAoYm9keUIuY29sbGlzaW9uRmlsdGVyR3JvdXAgJiBib2R5QS5jb2xsaXNpb25GaWx0ZXJNYXNrKSA9PT0gMCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0gLy8gQ2hlY2sgdHlwZXNcblxuXG4gICAgaWYgKCgoYm9keUEudHlwZSAmIEJvZHkuU1RBVElDKSAhPT0gMCB8fCBib2R5QS5zbGVlcFN0YXRlID09PSBCb2R5LlNMRUVQSU5HKSAmJiAoKGJvZHlCLnR5cGUgJiBCb2R5LlNUQVRJQykgIT09IDAgfHwgYm9keUIuc2xlZXBTdGF0ZSA9PT0gQm9keS5TTEVFUElORykpIHtcbiAgICAgIC8vIEJvdGggYm9kaWVzIGFyZSBzdGF0aWMgb3Igc2xlZXBpbmcuIFNraXAuXG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgLyoqXHJcbiAgICogQ2hlY2sgaWYgdGhlIGJvdW5kaW5nIHZvbHVtZXMgb2YgdHdvIGJvZGllcyBpbnRlcnNlY3QuXHJcbiAgICogQG1ldGhvZCBpbnRlcnNlY3Rpb25UZXN0XHJcbiAgICogQHBhcmFtIHtCb2R5fSBib2R5QVxyXG4gICAqIEBwYXJhbSB7Qm9keX0gYm9keUJcclxuICAgKiBAcGFyYW0ge2FycmF5fSBwYWlyczFcclxuICAgKiBAcGFyYW0ge2FycmF5fSBwYWlyczJcclxuICAgKi9cblxuXG4gIGludGVyc2VjdGlvblRlc3QoYm9keUEsIGJvZHlCLCBwYWlyczEsIHBhaXJzMikge1xuICAgIGlmICh0aGlzLnVzZUJvdW5kaW5nQm94ZXMpIHtcbiAgICAgIHRoaXMuZG9Cb3VuZGluZ0JveEJyb2FkcGhhc2UoYm9keUEsIGJvZHlCLCBwYWlyczEsIHBhaXJzMik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZG9Cb3VuZGluZ1NwaGVyZUJyb2FkcGhhc2UoYm9keUEsIGJvZHlCLCBwYWlyczEsIHBhaXJzMik7XG4gICAgfVxuICB9XG5cbiAgZG9Cb3VuZGluZ1NwaGVyZUJyb2FkcGhhc2UoYm9keUEsIGJvZHlCLCBwYWlyczEsIHBhaXJzMikge1xuICAgIGNvbnN0IHIgPSBCcm9hZHBoYXNlX2NvbGxpc2lvblBhaXJzX3I7XG4gICAgYm9keUIucG9zaXRpb24udnN1Yihib2R5QS5wb3NpdGlvbiwgcik7XG4gICAgY29uc3QgYm91bmRpbmdSYWRpdXNTdW0yID0gKGJvZHlBLmJvdW5kaW5nUmFkaXVzICsgYm9keUIuYm91bmRpbmdSYWRpdXMpICoqIDI7XG4gICAgY29uc3Qgbm9ybTIgPSByLmxlbmd0aFNxdWFyZWQoKTtcblxuICAgIGlmIChub3JtMiA8IGJvdW5kaW5nUmFkaXVzU3VtMikge1xuICAgICAgcGFpcnMxLnB1c2goYm9keUEpO1xuICAgICAgcGFpcnMyLnB1c2goYm9keUIpO1xuICAgIH1cbiAgfVxuICAvKipcclxuICAgKiBDaGVjayBpZiB0aGUgYm91bmRpbmcgYm94ZXMgb2YgdHdvIGJvZGllcyBhcmUgaW50ZXJzZWN0aW5nLlxyXG4gICAqIEBtZXRob2QgZG9Cb3VuZGluZ0JveEJyb2FkcGhhc2VcclxuICAgKiBAcGFyYW0ge0JvZHl9IGJvZHlBXHJcbiAgICogQHBhcmFtIHtCb2R5fSBib2R5QlxyXG4gICAqIEBwYXJhbSB7QXJyYXl9IHBhaXJzMVxyXG4gICAqIEBwYXJhbSB7QXJyYXl9IHBhaXJzMlxyXG4gICAqL1xuXG5cbiAgZG9Cb3VuZGluZ0JveEJyb2FkcGhhc2UoYm9keUEsIGJvZHlCLCBwYWlyczEsIHBhaXJzMikge1xuICAgIGlmIChib2R5QS5hYWJiTmVlZHNVcGRhdGUpIHtcbiAgICAgIGJvZHlBLmNvbXB1dGVBQUJCKCk7XG4gICAgfVxuXG4gICAgaWYgKGJvZHlCLmFhYmJOZWVkc1VwZGF0ZSkge1xuICAgICAgYm9keUIuY29tcHV0ZUFBQkIoKTtcbiAgICB9IC8vIENoZWNrIEFBQkIgLyBBQUJCXG5cblxuICAgIGlmIChib2R5QS5hYWJiLm92ZXJsYXBzKGJvZHlCLmFhYmIpKSB7XG4gICAgICBwYWlyczEucHVzaChib2R5QSk7XG4gICAgICBwYWlyczIucHVzaChib2R5Qik7XG4gICAgfVxuICB9XG5cbiAgbWFrZVBhaXJzVW5pcXVlKHBhaXJzMSwgcGFpcnMyKSB7XG4gICAgY29uc3QgdCA9IEJyb2FkcGhhc2VfbWFrZVBhaXJzVW5pcXVlX3RlbXA7XG4gICAgY29uc3QgcDEgPSBCcm9hZHBoYXNlX21ha2VQYWlyc1VuaXF1ZV9wMTtcbiAgICBjb25zdCBwMiA9IEJyb2FkcGhhc2VfbWFrZVBhaXJzVW5pcXVlX3AyO1xuICAgIGNvbnN0IE4gPSBwYWlyczEubGVuZ3RoO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgIT09IE47IGkrKykge1xuICAgICAgcDFbaV0gPSBwYWlyczFbaV07XG4gICAgICBwMltpXSA9IHBhaXJzMltpXTtcbiAgICB9XG5cbiAgICBwYWlyczEubGVuZ3RoID0gMDtcbiAgICBwYWlyczIubGVuZ3RoID0gMDtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpICE9PSBOOyBpKyspIHtcbiAgICAgIGNvbnN0IGlkMSA9IHAxW2ldLmlkO1xuICAgICAgY29uc3QgaWQyID0gcDJbaV0uaWQ7XG4gICAgICBjb25zdCBrZXkgPSBpZDEgPCBpZDIgPyBpZDEgKyBcIixcIiArIGlkMiA6IGlkMiArIFwiLFwiICsgaWQxO1xuICAgICAgdFtrZXldID0gaTtcbiAgICAgIHQua2V5cy5wdXNoKGtleSk7XG4gICAgfVxuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgIT09IHQua2V5cy5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3Qga2V5ID0gdC5rZXlzLnBvcCgpO1xuICAgICAgY29uc3QgcGFpckluZGV4ID0gdFtrZXldO1xuICAgICAgcGFpcnMxLnB1c2gocDFbcGFpckluZGV4XSk7XG4gICAgICBwYWlyczIucHVzaChwMltwYWlySW5kZXhdKTtcbiAgICAgIGRlbGV0ZSB0W2tleV07XG4gICAgfVxuICB9XG4gIC8qKlxyXG4gICAqIFRvIGJlIGltcGxlbWVudGVkIGJ5IHN1YmNhc3Nlc1xyXG4gICAqIEBtZXRob2Qgc2V0V29ybGRcclxuICAgKiBAcGFyYW0ge1dvcmxkfSB3b3JsZFxyXG4gICAqL1xuXG5cbiAgc2V0V29ybGQod29ybGQpIHt9XG4gIC8qKlxyXG4gICAqIFJldHVybnMgYWxsIHRoZSBib2RpZXMgd2l0aGluIHRoZSBBQUJCLlxyXG4gICAqIEBtZXRob2QgYWFiYlF1ZXJ5XHJcbiAgICogQHBhcmFtICB7V29ybGR9IHdvcmxkXHJcbiAgICogQHBhcmFtICB7QUFCQn0gYWFiYlxyXG4gICAqIEBwYXJhbSAge2FycmF5fSByZXN1bHQgQW4gYXJyYXkgdG8gc3RvcmUgcmVzdWx0aW5nIGJvZGllcyBpbi5cclxuICAgKiBAcmV0dXJuIHthcnJheX1cclxuICAgKi9cblxuXG4gIGFhYmJRdWVyeSh3b3JsZCwgYWFiYiwgcmVzdWx0KSB7XG4gICAgY29uc29sZS53YXJuKCcuYWFiYlF1ZXJ5IGlzIG5vdCBpbXBsZW1lbnRlZCBpbiB0aGlzIEJyb2FkcGhhc2Ugc3ViY2xhc3MuJyk7XG4gICAgcmV0dXJuIFtdO1xuICB9XG5cbn1cbi8qKlxyXG4gKiBDaGVjayBpZiB0aGUgYm91bmRpbmcgc3BoZXJlcyBvZiB0d28gYm9kaWVzIGFyZSBpbnRlcnNlY3RpbmcuXHJcbiAqIEBtZXRob2QgZG9Cb3VuZGluZ1NwaGVyZUJyb2FkcGhhc2VcclxuICogQHBhcmFtIHtCb2R5fSBib2R5QVxyXG4gKiBAcGFyYW0ge0JvZHl9IGJvZHlCXHJcbiAqIEBwYXJhbSB7QXJyYXl9IHBhaXJzMSBib2R5QSBpcyBhcHBlbmRlZCB0byB0aGlzIGFycmF5IGlmIGludGVyc2VjdGlvblxyXG4gKiBAcGFyYW0ge0FycmF5fSBwYWlyczIgYm9keUIgaXMgYXBwZW5kZWQgdG8gdGhpcyBhcnJheSBpZiBpbnRlcnNlY3Rpb25cclxuICovXG5cbmNvbnN0IC8vIFRlbXAgb2JqZWN0c1xuQnJvYWRwaGFzZV9jb2xsaXNpb25QYWlyc19yID0gbmV3IFZlYzMoKTtcbi8qKlxyXG4gKiBSZW1vdmVzIGR1cGxpY2F0ZSBwYWlycyBmcm9tIHRoZSBwYWlyIGFycmF5cy5cclxuICogQG1ldGhvZCBtYWtlUGFpcnNVbmlxdWVcclxuICogQHBhcmFtIHtBcnJheX0gcGFpcnMxXHJcbiAqIEBwYXJhbSB7QXJyYXl9IHBhaXJzMlxyXG4gKi9cblxuY29uc3QgQnJvYWRwaGFzZV9tYWtlUGFpcnNVbmlxdWVfdGVtcCA9IHtcbiAga2V5czogW11cbn07XG5jb25zdCBCcm9hZHBoYXNlX21ha2VQYWlyc1VuaXF1ZV9wMSA9IFtdO1xuY29uc3QgQnJvYWRwaGFzZV9tYWtlUGFpcnNVbmlxdWVfcDIgPSBbXTtcblxuQnJvYWRwaGFzZS5ib3VuZGluZ1NwaGVyZUNoZWNrID0gKGJvZHlBLCBib2R5QikgPT4ge1xuICBjb25zdCBkaXN0ID0gbmV3IFZlYzMoKTsgLy8gYnNjX2Rpc3Q7XG5cbiAgYm9keUEucG9zaXRpb24udnN1Yihib2R5Qi5wb3NpdGlvbiwgZGlzdCk7XG4gIGNvbnN0IHNhID0gYm9keUEuc2hhcGVzWzBdO1xuICBjb25zdCBzYiA9IGJvZHlCLnNoYXBlc1swXTtcbiAgcmV0dXJuIE1hdGgucG93KHNhLmJvdW5kaW5nU3BoZXJlUmFkaXVzICsgc2IuYm91bmRpbmdTcGhlcmVSYWRpdXMsIDIpID4gZGlzdC5sZW5ndGhTcXVhcmVkKCk7XG59O1xuXG4vKipcclxuICogQXhpcyBhbGlnbmVkIHVuaWZvcm0gZ3JpZCBicm9hZHBoYXNlLlxyXG4gKiBAY2xhc3MgR3JpZEJyb2FkcGhhc2VcclxuICogQGNvbnN0cnVjdG9yXHJcbiAqIEBleHRlbmRzIEJyb2FkcGhhc2VcclxuICogQHRvZG8gTmVlZHMgc3VwcG9ydCBmb3IgbW9yZSB0aGFuIGp1c3QgcGxhbmVzIGFuZCBzcGhlcmVzLlxyXG4gKiBAcGFyYW0ge1ZlYzN9IGFhYmJNaW5cclxuICogQHBhcmFtIHtWZWMzfSBhYWJiTWF4XHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBueCBOdW1iZXIgb2YgYm94ZXMgYWxvbmcgeFxyXG4gKiBAcGFyYW0ge051bWJlcn0gbnkgTnVtYmVyIG9mIGJveGVzIGFsb25nIHlcclxuICogQHBhcmFtIHtOdW1iZXJ9IG56IE51bWJlciBvZiBib3hlcyBhbG9uZyB6XHJcbiAqL1xuY2xhc3MgR3JpZEJyb2FkcGhhc2UgZXh0ZW5kcyBCcm9hZHBoYXNlIHtcbiAgY29uc3RydWN0b3IoYWFiYk1pbiA9IG5ldyBWZWMzKDEwMCwgMTAwLCAxMDApLCBhYWJiTWF4ID0gbmV3IFZlYzMoLTEwMCwgLTEwMCwgLTEwMCksIG54ID0gMTAsIG55ID0gMTAsIG56ID0gMTApIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMubnggPSBueDtcbiAgICB0aGlzLm55ID0gbnk7XG4gICAgdGhpcy5ueiA9IG56O1xuICAgIHRoaXMuYWFiYk1pbiA9IGFhYmJNaW47XG4gICAgdGhpcy5hYWJiTWF4ID0gYWFiYk1heDtcbiAgICBjb25zdCBuYmlucyA9IHRoaXMubnggKiB0aGlzLm55ICogdGhpcy5uejtcblxuICAgIGlmIChuYmlucyA8PSAwKSB7XG4gICAgICB0aHJvdyBcIkdyaWRCcm9hZHBoYXNlOiBFYWNoIGRpbWVuc2lvbidzIG4gbXVzdCBiZSA+MFwiO1xuICAgIH1cblxuICAgIHRoaXMuYmlucyA9IFtdO1xuICAgIHRoaXMuYmluTGVuZ3RocyA9IFtdOyAvL1JhdGhlciB0aGFuIGNvbnRpbnVhbGx5IHJlc2l6aW5nIGFycmF5cyAodGhyYXNoaW5nIHRoZSBtZW1vcnkpLCBqdXN0IHJlY29yZCBsZW5ndGggYW5kIGFsbG93IHRoZW0gdG8gZ3Jvd1xuXG4gICAgdGhpcy5iaW5zLmxlbmd0aCA9IG5iaW5zO1xuICAgIHRoaXMuYmluTGVuZ3Rocy5sZW5ndGggPSBuYmlucztcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbmJpbnM7IGkrKykge1xuICAgICAgdGhpcy5iaW5zW2ldID0gW107XG4gICAgICB0aGlzLmJpbkxlbmd0aHNbaV0gPSAwO1xuICAgIH1cbiAgfVxuXG4gIGNvbGxpc2lvblBhaXJzKHdvcmxkLCBwYWlyczEsIHBhaXJzMikge1xuICAgIGNvbnN0IE4gPSB3b3JsZC5udW1PYmplY3RzKCk7XG4gICAgY29uc3QgYm9kaWVzID0gd29ybGQuYm9kaWVzO1xuICAgIGNvbnN0IG1heCA9IHRoaXMuYWFiYk1heDtcbiAgICBjb25zdCBtaW4gPSB0aGlzLmFhYmJNaW47XG4gICAgY29uc3QgbnggPSB0aGlzLm54O1xuICAgIGNvbnN0IG55ID0gdGhpcy5ueTtcbiAgICBjb25zdCBueiA9IHRoaXMubno7XG4gICAgY29uc3QgeHN0ZXAgPSBueSAqIG56O1xuICAgIGNvbnN0IHlzdGVwID0gbno7XG4gICAgY29uc3QgenN0ZXAgPSAxO1xuICAgIGNvbnN0IHhtYXggPSBtYXgueDtcbiAgICBjb25zdCB5bWF4ID0gbWF4Lnk7XG4gICAgY29uc3Qgem1heCA9IG1heC56O1xuICAgIGNvbnN0IHhtaW4gPSBtaW4ueDtcbiAgICBjb25zdCB5bWluID0gbWluLnk7XG4gICAgY29uc3Qgem1pbiA9IG1pbi56O1xuICAgIGNvbnN0IHhtdWx0ID0gbnggLyAoeG1heCAtIHhtaW4pO1xuICAgIGNvbnN0IHltdWx0ID0gbnkgLyAoeW1heCAtIHltaW4pO1xuICAgIGNvbnN0IHptdWx0ID0gbnogLyAoem1heCAtIHptaW4pO1xuICAgIGNvbnN0IGJpbnNpemVYID0gKHhtYXggLSB4bWluKSAvIG54O1xuICAgIGNvbnN0IGJpbnNpemVZID0gKHltYXggLSB5bWluKSAvIG55O1xuICAgIGNvbnN0IGJpbnNpemVaID0gKHptYXggLSB6bWluKSAvIG56O1xuICAgIGNvbnN0IGJpblJhZGl1cyA9IE1hdGguc3FydChiaW5zaXplWCAqIGJpbnNpemVYICsgYmluc2l6ZVkgKiBiaW5zaXplWSArIGJpbnNpemVaICogYmluc2l6ZVopICogMC41O1xuICAgIGNvbnN0IHR5cGVzID0gU2hhcGUudHlwZXM7XG4gICAgY29uc3QgU1BIRVJFID0gdHlwZXMuU1BIRVJFO1xuICAgIGNvbnN0IFBMQU5FID0gdHlwZXMuUExBTkU7XG4gICAgY29uc3QgQk9YID0gdHlwZXMuQk9YO1xuICAgIGNvbnN0IENPTVBPVU5EID0gdHlwZXMuQ09NUE9VTkQ7XG4gICAgY29uc3QgQ09OVkVYUE9MWUhFRFJPTiA9IHR5cGVzLkNPTlZFWFBPTFlIRURST047XG4gICAgY29uc3QgYmlucyA9IHRoaXMuYmlucztcbiAgICBjb25zdCBiaW5MZW5ndGhzID0gdGhpcy5iaW5MZW5ndGhzO1xuICAgIGNvbnN0IE5iaW5zID0gdGhpcy5iaW5zLmxlbmd0aDsgLy8gUmVzZXQgYmluc1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgIT09IE5iaW5zOyBpKyspIHtcbiAgICAgIGJpbkxlbmd0aHNbaV0gPSAwO1xuICAgIH1cblxuICAgIGNvbnN0IGNlaWwgPSBNYXRoLmNlaWw7XG5cbiAgICBmdW5jdGlvbiBhZGRCb3hUb0JpbnMoeDAsIHkwLCB6MCwgeDEsIHkxLCB6MSwgYmkpIHtcbiAgICAgIGxldCB4b2ZmMCA9ICh4MCAtIHhtaW4pICogeG11bHQgfCAwO1xuICAgICAgbGV0IHlvZmYwID0gKHkwIC0geW1pbikgKiB5bXVsdCB8IDA7XG4gICAgICBsZXQgem9mZjAgPSAoejAgLSB6bWluKSAqIHptdWx0IHwgMDtcbiAgICAgIGxldCB4b2ZmMSA9IGNlaWwoKHgxIC0geG1pbikgKiB4bXVsdCk7XG4gICAgICBsZXQgeW9mZjEgPSBjZWlsKCh5MSAtIHltaW4pICogeW11bHQpO1xuICAgICAgbGV0IHpvZmYxID0gY2VpbCgoejEgLSB6bWluKSAqIHptdWx0KTtcblxuICAgICAgaWYgKHhvZmYwIDwgMCkge1xuICAgICAgICB4b2ZmMCA9IDA7XG4gICAgICB9IGVsc2UgaWYgKHhvZmYwID49IG54KSB7XG4gICAgICAgIHhvZmYwID0gbnggLSAxO1xuICAgICAgfVxuXG4gICAgICBpZiAoeW9mZjAgPCAwKSB7XG4gICAgICAgIHlvZmYwID0gMDtcbiAgICAgIH0gZWxzZSBpZiAoeW9mZjAgPj0gbnkpIHtcbiAgICAgICAgeW9mZjAgPSBueSAtIDE7XG4gICAgICB9XG5cbiAgICAgIGlmICh6b2ZmMCA8IDApIHtcbiAgICAgICAgem9mZjAgPSAwO1xuICAgICAgfSBlbHNlIGlmICh6b2ZmMCA+PSBueikge1xuICAgICAgICB6b2ZmMCA9IG56IC0gMTtcbiAgICAgIH1cblxuICAgICAgaWYgKHhvZmYxIDwgMCkge1xuICAgICAgICB4b2ZmMSA9IDA7XG4gICAgICB9IGVsc2UgaWYgKHhvZmYxID49IG54KSB7XG4gICAgICAgIHhvZmYxID0gbnggLSAxO1xuICAgICAgfVxuXG4gICAgICBpZiAoeW9mZjEgPCAwKSB7XG4gICAgICAgIHlvZmYxID0gMDtcbiAgICAgIH0gZWxzZSBpZiAoeW9mZjEgPj0gbnkpIHtcbiAgICAgICAgeW9mZjEgPSBueSAtIDE7XG4gICAgICB9XG5cbiAgICAgIGlmICh6b2ZmMSA8IDApIHtcbiAgICAgICAgem9mZjEgPSAwO1xuICAgICAgfSBlbHNlIGlmICh6b2ZmMSA+PSBueikge1xuICAgICAgICB6b2ZmMSA9IG56IC0gMTtcbiAgICAgIH1cblxuICAgICAgeG9mZjAgKj0geHN0ZXA7XG4gICAgICB5b2ZmMCAqPSB5c3RlcDtcbiAgICAgIHpvZmYwICo9IHpzdGVwO1xuICAgICAgeG9mZjEgKj0geHN0ZXA7XG4gICAgICB5b2ZmMSAqPSB5c3RlcDtcbiAgICAgIHpvZmYxICo9IHpzdGVwO1xuXG4gICAgICBmb3IgKGxldCB4b2ZmID0geG9mZjA7IHhvZmYgPD0geG9mZjE7IHhvZmYgKz0geHN0ZXApIHtcbiAgICAgICAgZm9yIChsZXQgeW9mZiA9IHlvZmYwOyB5b2ZmIDw9IHlvZmYxOyB5b2ZmICs9IHlzdGVwKSB7XG4gICAgICAgICAgZm9yIChsZXQgem9mZiA9IHpvZmYwOyB6b2ZmIDw9IHpvZmYxOyB6b2ZmICs9IHpzdGVwKSB7XG4gICAgICAgICAgICBjb25zdCBpZHggPSB4b2ZmICsgeW9mZiArIHpvZmY7XG4gICAgICAgICAgICBiaW5zW2lkeF1bYmluTGVuZ3Roc1tpZHhdKytdID0gYmk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSAvLyBQdXQgYWxsIGJvZGllcyBpbnRvIHRoZSBiaW5zXG5cblxuICAgIGZvciAobGV0IGkgPSAwOyBpICE9PSBOOyBpKyspIHtcbiAgICAgIGNvbnN0IGJpID0gYm9kaWVzW2ldO1xuICAgICAgY29uc3Qgc2kgPSBiaS5zaGFwZXNbMF07XG5cbiAgICAgIHN3aXRjaCAoc2kudHlwZSkge1xuICAgICAgICBjYXNlIFNQSEVSRTpcbiAgICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBzaGFwZSA9IHNpOyAvLyBQdXQgaW4gYmluXG4gICAgICAgICAgICAvLyBjaGVjayBpZiBvdmVybGFwIHdpdGggb3RoZXIgYmluc1xuXG4gICAgICAgICAgICBjb25zdCB4ID0gYmkucG9zaXRpb24ueDtcbiAgICAgICAgICAgIGNvbnN0IHkgPSBiaS5wb3NpdGlvbi55O1xuICAgICAgICAgICAgY29uc3QgeiA9IGJpLnBvc2l0aW9uLno7XG4gICAgICAgICAgICBjb25zdCByID0gc2hhcGUucmFkaXVzO1xuICAgICAgICAgICAgYWRkQm94VG9CaW5zKHggLSByLCB5IC0gciwgeiAtIHIsIHggKyByLCB5ICsgciwgeiArIHIsIGJpKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cblxuICAgICAgICBjYXNlIFBMQU5FOlxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IHNoYXBlID0gc2k7XG5cbiAgICAgICAgICAgIGlmIChzaGFwZS53b3JsZE5vcm1hbE5lZWRzVXBkYXRlKSB7XG4gICAgICAgICAgICAgIHNoYXBlLmNvbXB1dGVXb3JsZE5vcm1hbChiaS5xdWF0ZXJuaW9uKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgcGxhbmVOb3JtYWwgPSBzaGFwZS53b3JsZE5vcm1hbDsgLy9SZWxhdGl2ZSBwb3NpdGlvbiBmcm9tIG9yaWdpbiBvZiBwbGFuZSBvYmplY3QgdG8gdGhlIGZpcnN0IGJpblxuICAgICAgICAgICAgLy9JbmNyZW1lbnRlZCBhcyB3ZSBpdGVyYXRlIHRocm91Z2ggdGhlIGJpbnNcblxuICAgICAgICAgICAgY29uc3QgeHJlc2V0ID0geG1pbiArIGJpbnNpemVYICogMC41IC0gYmkucG9zaXRpb24ueDtcbiAgICAgICAgICAgIGNvbnN0IHlyZXNldCA9IHltaW4gKyBiaW5zaXplWSAqIDAuNSAtIGJpLnBvc2l0aW9uLnk7XG4gICAgICAgICAgICBjb25zdCB6cmVzZXQgPSB6bWluICsgYmluc2l6ZVogKiAwLjUgLSBiaS5wb3NpdGlvbi56O1xuICAgICAgICAgICAgY29uc3QgZCA9IEdyaWRCcm9hZHBoYXNlX2NvbGxpc2lvblBhaXJzX2Q7XG4gICAgICAgICAgICBkLnNldCh4cmVzZXQsIHlyZXNldCwgenJlc2V0KTtcblxuICAgICAgICAgICAgZm9yIChsZXQgeGkgPSAwLCB4b2ZmID0gMDsgeGkgIT09IG54OyB4aSsrLCB4b2ZmICs9IHhzdGVwLCBkLnkgPSB5cmVzZXQsIGQueCArPSBiaW5zaXplWCkge1xuICAgICAgICAgICAgICBmb3IgKGxldCB5aSA9IDAsIHlvZmYgPSAwOyB5aSAhPT0gbnk7IHlpKyssIHlvZmYgKz0geXN0ZXAsIGQueiA9IHpyZXNldCwgZC55ICs9IGJpbnNpemVZKSB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgemkgPSAwLCB6b2ZmID0gMDsgemkgIT09IG56OyB6aSsrLCB6b2ZmICs9IHpzdGVwLCBkLnogKz0gYmluc2l6ZVopIHtcbiAgICAgICAgICAgICAgICAgIGlmIChkLmRvdChwbGFuZU5vcm1hbCkgPCBiaW5SYWRpdXMpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaWR4ID0geG9mZiArIHlvZmYgKyB6b2ZmO1xuICAgICAgICAgICAgICAgICAgICBiaW5zW2lkeF1bYmluTGVuZ3Roc1tpZHhdKytdID0gYmk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cblxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGlmIChiaS5hYWJiTmVlZHNVcGRhdGUpIHtcbiAgICAgICAgICAgICAgYmkuY29tcHV0ZUFBQkIoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYWRkQm94VG9CaW5zKGJpLmFhYmIubG93ZXJCb3VuZC54LCBiaS5hYWJiLmxvd2VyQm91bmQueSwgYmkuYWFiYi5sb3dlckJvdW5kLnosIGJpLmFhYmIudXBwZXJCb3VuZC54LCBiaS5hYWJiLnVwcGVyQm91bmQueSwgYmkuYWFiYi51cHBlckJvdW5kLnosIGJpKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgIH1cbiAgICB9IC8vIENoZWNrIGVhY2ggYmluXG5cblxuICAgIGZvciAobGV0IGkgPSAwOyBpICE9PSBOYmluczsgaSsrKSB7XG4gICAgICBjb25zdCBiaW5MZW5ndGggPSBiaW5MZW5ndGhzW2ldOyAvL1NraXAgYmlucyB3aXRoIG5vIHBvdGVudGlhbCBjb2xsaXNpb25zXG5cbiAgICAgIGlmIChiaW5MZW5ndGggPiAxKSB7XG4gICAgICAgIGNvbnN0IGJpbiA9IGJpbnNbaV07IC8vIERvIE5eMiBicm9hZHBoYXNlIGluc2lkZVxuXG4gICAgICAgIGZvciAobGV0IHhpID0gMDsgeGkgIT09IGJpbkxlbmd0aDsgeGkrKykge1xuICAgICAgICAgIGNvbnN0IGJpID0gYmluW3hpXTtcblxuICAgICAgICAgIGZvciAobGV0IHlpID0gMDsgeWkgIT09IHhpOyB5aSsrKSB7XG4gICAgICAgICAgICBjb25zdCBiaiA9IGJpblt5aV07XG5cbiAgICAgICAgICAgIGlmICh0aGlzLm5lZWRCcm9hZHBoYXNlQ29sbGlzaW9uKGJpLCBiaikpIHtcbiAgICAgICAgICAgICAgdGhpcy5pbnRlcnNlY3Rpb25UZXN0KGJpLCBiaiwgcGFpcnMxLCBwYWlyczIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gLy9cdGZvciAobGV0IHppID0gMCwgem9mZj0wOyB6aSA8IG56OyB6aSsrLCB6b2ZmKz0genN0ZXApIHtcbiAgICAvL1x0XHRjb25zb2xlLmxvZyhcImxheWVyIFwiK3ppKTtcbiAgICAvL1x0XHRmb3IgKGxldCB5aSA9IDAsIHlvZmY9MDsgeWkgPCBueTsgeWkrKywgeW9mZiArPSB5c3RlcCkge1xuICAgIC8vXHRcdFx0Y29uc3Qgcm93ID0gJyc7XG4gICAgLy9cdFx0XHRmb3IgKGxldCB4aSA9IDAsIHhvZmY9MDsgeGkgPCBueDsgeGkrKywgeG9mZiArPSB4c3RlcCkge1xuICAgIC8vXHRcdFx0XHRjb25zdCBpZHggPSB4b2ZmICsgeW9mZiArIHpvZmY7XG4gICAgLy9cdFx0XHRcdHJvdyArPSAnICcgKyBiaW5MZW5ndGhzW2lkeF07XG4gICAgLy9cdFx0XHR9XG4gICAgLy9cdFx0XHRjb25zb2xlLmxvZyhyb3cpO1xuICAgIC8vXHRcdH1cbiAgICAvL1x0fVxuXG5cbiAgICB0aGlzLm1ha2VQYWlyc1VuaXF1ZShwYWlyczEsIHBhaXJzMik7XG4gIH1cblxufVxuLyoqXHJcbiAqIEdldCBhbGwgdGhlIGNvbGxpc2lvbiBwYWlycyBpbiB0aGUgcGh5c2ljcyB3b3JsZFxyXG4gKiBAbWV0aG9kIGNvbGxpc2lvblBhaXJzXHJcbiAqIEBwYXJhbSB7V29ybGR9IHdvcmxkXHJcbiAqIEBwYXJhbSB7QXJyYXl9IHBhaXJzMVxyXG4gKiBAcGFyYW0ge0FycmF5fSBwYWlyczJcclxuICovXG5cbmNvbnN0IEdyaWRCcm9hZHBoYXNlX2NvbGxpc2lvblBhaXJzX2QgPSBuZXcgVmVjMygpO1xuXG4vKipcclxuICogTmFpdmUgYnJvYWRwaGFzZSBpbXBsZW1lbnRhdGlvbiwgdXNlZCBpbiBsYWNrIG9mIGJldHRlciBvbmVzLlxyXG4gKiBAY2xhc3MgTmFpdmVCcm9hZHBoYXNlXHJcbiAqIEBjb25zdHJ1Y3RvclxyXG4gKiBAZGVzY3JpcHRpb24gVGhlIG5haXZlIGJyb2FkcGhhc2UgbG9va3MgYXQgYWxsIHBvc3NpYmxlIHBhaXJzIHdpdGhvdXQgcmVzdHJpY3Rpb24sIHRoZXJlZm9yZSBpdCBoYXMgY29tcGxleGl0eSBOXjIgKHdoaWNoIGlzIGJhZClcclxuICogQGV4dGVuZHMgQnJvYWRwaGFzZVxyXG4gKi9cbmNsYXNzIE5haXZlQnJvYWRwaGFzZSBleHRlbmRzIEJyb2FkcGhhc2Uge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICB9XG4gIC8qKlxyXG4gICAqIEdldCBhbGwgdGhlIGNvbGxpc2lvbiBwYWlycyBpbiB0aGUgcGh5c2ljcyB3b3JsZFxyXG4gICAqIEBtZXRob2QgY29sbGlzaW9uUGFpcnNcclxuICAgKiBAcGFyYW0ge1dvcmxkfSB3b3JsZFxyXG4gICAqIEBwYXJhbSB7QXJyYXl9IHBhaXJzMVxyXG4gICAqIEBwYXJhbSB7QXJyYXl9IHBhaXJzMlxyXG4gICAqL1xuXG5cbiAgY29sbGlzaW9uUGFpcnMod29ybGQsIHBhaXJzMSwgcGFpcnMyKSB7XG4gICAgY29uc3QgYm9kaWVzID0gd29ybGQuYm9kaWVzO1xuICAgIGNvbnN0IG4gPSBib2RpZXMubGVuZ3RoO1xuICAgIGxldCBiaTtcbiAgICBsZXQgYmo7IC8vIE5haXZlIE5eMiBmdHchXG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSAhPT0gbjsgaSsrKSB7XG4gICAgICBmb3IgKGxldCBqID0gMDsgaiAhPT0gaTsgaisrKSB7XG4gICAgICAgIGJpID0gYm9kaWVzW2ldO1xuICAgICAgICBiaiA9IGJvZGllc1tqXTtcblxuICAgICAgICBpZiAoIXRoaXMubmVlZEJyb2FkcGhhc2VDb2xsaXNpb24oYmksIGJqKSkge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5pbnRlcnNlY3Rpb25UZXN0KGJpLCBiaiwgcGFpcnMxLCBwYWlyczIpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICAvKipcclxuICAgKiBSZXR1cm5zIGFsbCB0aGUgYm9kaWVzIHdpdGhpbiBhbiBBQUJCLlxyXG4gICAqIEBtZXRob2QgYWFiYlF1ZXJ5XHJcbiAgICogQHBhcmFtICB7V29ybGR9IHdvcmxkXHJcbiAgICogQHBhcmFtICB7QUFCQn0gYWFiYlxyXG4gICAqIEBwYXJhbSB7YXJyYXl9IHJlc3VsdCBBbiBhcnJheSB0byBzdG9yZSByZXN1bHRpbmcgYm9kaWVzIGluLlxyXG4gICAqIEByZXR1cm4ge2FycmF5fVxyXG4gICAqL1xuXG5cbiAgYWFiYlF1ZXJ5KHdvcmxkLCBhYWJiLCByZXN1bHQgPSBbXSkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgd29ybGQuYm9kaWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBiID0gd29ybGQuYm9kaWVzW2ldO1xuXG4gICAgICBpZiAoYi5hYWJiTmVlZHNVcGRhdGUpIHtcbiAgICAgICAgYi5jb21wdXRlQUFCQigpO1xuICAgICAgfSAvLyBVZ2x5IGhhY2sgdW50aWwgQm9keSBnZXRzIGFhYmJcblxuXG4gICAgICBpZiAoYi5hYWJiLm92ZXJsYXBzKGFhYmIpKSB7XG4gICAgICAgIHJlc3VsdC5wdXNoKGIpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxufVxuXG4vKipcclxuICogU3RvcmFnZSBmb3IgUmF5IGNhc3RpbmcgZGF0YS5cclxuICogQGNsYXNzIFJheWNhc3RSZXN1bHRcclxuICogQGNvbnN0cnVjdG9yXHJcbiAqL1xuY2xhc3MgUmF5Y2FzdFJlc3VsdCB7XG4gIC8vIFRoZSBpbmRleCBvZiB0aGUgaGl0IHRyaWFuZ2xlLCBpZiB0aGUgaGl0IHNoYXBlIHdhcyBhIHRyaW1lc2guXG4gIC8vIERpc3RhbmNlIHRvIHRoZSBoaXQuIFdpbGwgYmUgc2V0IHRvIC0xIGlmIHRoZXJlIHdhcyBubyBoaXQuXG4gIC8vIElmIHRoZSByYXkgc2hvdWxkIHN0b3AgdHJhdmVyc2luZyB0aGUgYm9kaWVzLlxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLnJheUZyb21Xb3JsZCA9IG5ldyBWZWMzKCk7XG4gICAgdGhpcy5yYXlUb1dvcmxkID0gbmV3IFZlYzMoKTtcbiAgICB0aGlzLmhpdE5vcm1hbFdvcmxkID0gbmV3IFZlYzMoKTtcbiAgICB0aGlzLmhpdFBvaW50V29ybGQgPSBuZXcgVmVjMygpO1xuICAgIHRoaXMuaGFzSGl0ID0gZmFsc2U7XG4gICAgdGhpcy5zaGFwZSA9IG51bGw7XG4gICAgdGhpcy5ib2R5ID0gbnVsbDtcbiAgICB0aGlzLmhpdEZhY2VJbmRleCA9IC0xO1xuICAgIHRoaXMuZGlzdGFuY2UgPSAtMTtcbiAgICB0aGlzLnNob3VsZFN0b3AgPSBmYWxzZTtcbiAgfVxuICAvKipcclxuICAgKiBSZXNldCBhbGwgcmVzdWx0IGRhdGEuXHJcbiAgICogQG1ldGhvZCByZXNldFxyXG4gICAqL1xuXG5cbiAgcmVzZXQoKSB7XG4gICAgdGhpcy5yYXlGcm9tV29ybGQuc2V0WmVybygpO1xuICAgIHRoaXMucmF5VG9Xb3JsZC5zZXRaZXJvKCk7XG4gICAgdGhpcy5oaXROb3JtYWxXb3JsZC5zZXRaZXJvKCk7XG4gICAgdGhpcy5oaXRQb2ludFdvcmxkLnNldFplcm8oKTtcbiAgICB0aGlzLmhhc0hpdCA9IGZhbHNlO1xuICAgIHRoaXMuc2hhcGUgPSBudWxsO1xuICAgIHRoaXMuYm9keSA9IG51bGw7XG4gICAgdGhpcy5oaXRGYWNlSW5kZXggPSAtMTtcbiAgICB0aGlzLmRpc3RhbmNlID0gLTE7XG4gICAgdGhpcy5zaG91bGRTdG9wID0gZmFsc2U7XG4gIH1cbiAgLyoqXHJcbiAgICogQG1ldGhvZCBhYm9ydFxyXG4gICAqL1xuXG5cbiAgYWJvcnQoKSB7XG4gICAgdGhpcy5zaG91bGRTdG9wID0gdHJ1ZTtcbiAgfVxuICAvKipcclxuICAgKiBAbWV0aG9kIHNldFxyXG4gICAqIEBwYXJhbSB7VmVjM30gcmF5RnJvbVdvcmxkXHJcbiAgICogQHBhcmFtIHtWZWMzfSByYXlUb1dvcmxkXHJcbiAgICogQHBhcmFtIHtWZWMzfSBoaXROb3JtYWxXb3JsZFxyXG4gICAqIEBwYXJhbSB7VmVjM30gaGl0UG9pbnRXb3JsZFxyXG4gICAqIEBwYXJhbSB7U2hhcGV9IHNoYXBlXHJcbiAgICogQHBhcmFtIHtCb2R5fSBib2R5XHJcbiAgICogQHBhcmFtIHtudW1iZXJ9IGRpc3RhbmNlXHJcbiAgICovXG5cblxuICBzZXQocmF5RnJvbVdvcmxkLCByYXlUb1dvcmxkLCBoaXROb3JtYWxXb3JsZCwgaGl0UG9pbnRXb3JsZCwgc2hhcGUsIGJvZHksIGRpc3RhbmNlKSB7XG4gICAgdGhpcy5yYXlGcm9tV29ybGQuY29weShyYXlGcm9tV29ybGQpO1xuICAgIHRoaXMucmF5VG9Xb3JsZC5jb3B5KHJheVRvV29ybGQpO1xuICAgIHRoaXMuaGl0Tm9ybWFsV29ybGQuY29weShoaXROb3JtYWxXb3JsZCk7XG4gICAgdGhpcy5oaXRQb2ludFdvcmxkLmNvcHkoaGl0UG9pbnRXb3JsZCk7XG4gICAgdGhpcy5zaGFwZSA9IHNoYXBlO1xuICAgIHRoaXMuYm9keSA9IGJvZHk7XG4gICAgdGhpcy5kaXN0YW5jZSA9IGRpc3RhbmNlO1xuICB9XG5cbn1cblxuY29uc3QgUkFZX01PREVTID0ge1xuICBDTE9TRVNUOiAxLFxuICBBTlk6IDIsXG4gIEFMTDogNFxufTtcblxuLyoqXHJcbiAqIEEgbGluZSBpbiAzRCBzcGFjZSB0aGF0IGludGVyc2VjdHMgYm9kaWVzIGFuZCByZXR1cm4gcG9pbnRzLlxyXG4gKiBAY2xhc3MgUmF5XHJcbiAqIEBjb25zdHJ1Y3RvclxyXG4gKiBAcGFyYW0ge1ZlYzN9IGZyb21cclxuICogQHBhcmFtIHtWZWMzfSB0b1xyXG4gKi9cbmNsYXNzIFJheSB7XG4gIC8vIFRoZSBwcmVjaXNpb24gb2YgdGhlIHJheS4gVXNlZCB3aGVuIGNoZWNraW5nIHBhcmFsbGVsaXR5IGV0Yy5cbiAgLy8gU2V0IHRvIHRydWUgaWYgeW91IHdhbnQgdGhlIFJheSB0byB0YWtlIC5jb2xsaXNpb25SZXNwb25zZSBmbGFncyBpbnRvIGFjY291bnQgb24gYm9kaWVzIGFuZCBzaGFwZXMuXG4gIC8vIElmIHNldCB0byB0cnVlLCB0aGUgcmF5IHNraXBzIGFueSBoaXRzIHdpdGggbm9ybWFsLmRvdChyYXlEaXJlY3Rpb24pIDwgMC5cbiAgLy8gVGhlIGludGVyc2VjdGlvbiBtb2RlLiBTaG91bGQgYmUgUmF5LkFOWSwgUmF5LkFMTCBvciBSYXkuQ0xPU0VTVC5cbiAgLy8gQ3VycmVudCByZXN1bHQgb2JqZWN0LlxuICAvLyBXaWxsIGJlIHNldCB0byB0cnVlIGR1cmluZyBpbnRlcnNlY3RXb3JsZCgpIGlmIHRoZSByYXkgaGl0IGFueXRoaW5nLlxuICAvLyBVc2VyLXByb3ZpZGVkIHJlc3VsdCBjYWxsYmFjay4gV2lsbCBiZSB1c2VkIGlmIG1vZGUgaXMgUmF5LkFMTC5cbiAgY29uc3RydWN0b3IoZnJvbSA9IG5ldyBWZWMzKCksIHRvID0gbmV3IFZlYzMoKSkge1xuICAgIHRoaXMuZnJvbSA9IGZyb20uY2xvbmUoKTtcbiAgICB0aGlzLnRvID0gdG8uY2xvbmUoKTtcbiAgICB0aGlzLmRpcmVjdGlvbiA9IG5ldyBWZWMzKCk7XG4gICAgdGhpcy5wcmVjaXNpb24gPSAwLjAwMDE7XG4gICAgdGhpcy5jaGVja0NvbGxpc2lvblJlc3BvbnNlID0gdHJ1ZTtcbiAgICB0aGlzLnNraXBCYWNrZmFjZXMgPSBmYWxzZTtcbiAgICB0aGlzLmNvbGxpc2lvbkZpbHRlck1hc2sgPSAtMTtcbiAgICB0aGlzLmNvbGxpc2lvbkZpbHRlckdyb3VwID0gLTE7XG4gICAgdGhpcy5tb2RlID0gUmF5LkFOWTtcbiAgICB0aGlzLnJlc3VsdCA9IG5ldyBSYXljYXN0UmVzdWx0KCk7XG4gICAgdGhpcy5oYXNIaXQgPSBmYWxzZTtcblxuICAgIHRoaXMuY2FsbGJhY2sgPSByZXN1bHQgPT4ge307XG4gIH1cbiAgLyoqXHJcbiAgICogRG8gaXRlcnNlY3Rpb24gYWdhaW5zdCBhbGwgYm9kaWVzIGluIHRoZSBnaXZlbiBXb3JsZC5cclxuICAgKiBAbWV0aG9kIGludGVyc2VjdFdvcmxkXHJcbiAgICogQHBhcmFtICB7V29ybGR9IHdvcmxkXHJcbiAgICogQHBhcmFtICB7b2JqZWN0fSBvcHRpb25zXHJcbiAgICogQHJldHVybiB7Qm9vbGVhbn0gVHJ1ZSBpZiB0aGUgcmF5IGhpdCBhbnl0aGluZywgb3RoZXJ3aXNlIGZhbHNlLlxyXG4gICAqL1xuXG5cbiAgaW50ZXJzZWN0V29ybGQod29ybGQsIG9wdGlvbnMpIHtcbiAgICB0aGlzLm1vZGUgPSBvcHRpb25zLm1vZGUgfHwgUmF5LkFOWTtcbiAgICB0aGlzLnJlc3VsdCA9IG9wdGlvbnMucmVzdWx0IHx8IG5ldyBSYXljYXN0UmVzdWx0KCk7XG4gICAgdGhpcy5za2lwQmFja2ZhY2VzID0gISFvcHRpb25zLnNraXBCYWNrZmFjZXM7XG4gICAgdGhpcy5jb2xsaXNpb25GaWx0ZXJNYXNrID0gdHlwZW9mIG9wdGlvbnMuY29sbGlzaW9uRmlsdGVyTWFzayAhPT0gJ3VuZGVmaW5lZCcgPyBvcHRpb25zLmNvbGxpc2lvbkZpbHRlck1hc2sgOiAtMTtcbiAgICB0aGlzLmNvbGxpc2lvbkZpbHRlckdyb3VwID0gdHlwZW9mIG9wdGlvbnMuY29sbGlzaW9uRmlsdGVyR3JvdXAgIT09ICd1bmRlZmluZWQnID8gb3B0aW9ucy5jb2xsaXNpb25GaWx0ZXJHcm91cCA6IC0xO1xuICAgIHRoaXMuY2hlY2tDb2xsaXNpb25SZXNwb25zZSA9IHR5cGVvZiBvcHRpb25zLmNoZWNrQ29sbGlzaW9uUmVzcG9uc2UgIT09ICd1bmRlZmluZWQnID8gb3B0aW9ucy5jaGVja0NvbGxpc2lvblJlc3BvbnNlIDogdHJ1ZTtcblxuICAgIGlmIChvcHRpb25zLmZyb20pIHtcbiAgICAgIHRoaXMuZnJvbS5jb3B5KG9wdGlvbnMuZnJvbSk7XG4gICAgfVxuXG4gICAgaWYgKG9wdGlvbnMudG8pIHtcbiAgICAgIHRoaXMudG8uY29weShvcHRpb25zLnRvKTtcbiAgICB9XG5cbiAgICB0aGlzLmNhbGxiYWNrID0gb3B0aW9ucy5jYWxsYmFjayB8fCAoKCkgPT4ge30pO1xuXG4gICAgdGhpcy5oYXNIaXQgPSBmYWxzZTtcbiAgICB0aGlzLnJlc3VsdC5yZXNldCgpO1xuICAgIHRoaXMudXBkYXRlRGlyZWN0aW9uKCk7XG4gICAgdGhpcy5nZXRBQUJCKHRtcEFBQkIpO1xuICAgIHRtcEFycmF5Lmxlbmd0aCA9IDA7XG4gICAgd29ybGQuYnJvYWRwaGFzZS5hYWJiUXVlcnkod29ybGQsIHRtcEFBQkIsIHRtcEFycmF5KTtcbiAgICB0aGlzLmludGVyc2VjdEJvZGllcyh0bXBBcnJheSk7XG4gICAgcmV0dXJuIHRoaXMuaGFzSGl0O1xuICB9XG4gIC8qKlxyXG4gICAqIFNob290IGEgcmF5IGF0IGEgYm9keSwgZ2V0IGJhY2sgaW5mb3JtYXRpb24gYWJvdXQgdGhlIGhpdC5cclxuICAgKiBAcGFyYW0ge0JvZHl9IGJvZHlcclxuICAgKiBAcGFyYW0ge1JheWNhc3RSZXN1bHR9IFtyZXN1bHRdIERlcHJlY2F0ZWQgLSBzZXQgdGhlIHJlc3VsdCBwcm9wZXJ0eSBvZiB0aGUgUmF5IGluc3RlYWQuXHJcbiAgICovXG5cblxuICBpbnRlcnNlY3RCb2R5KGJvZHksIHJlc3VsdCkge1xuICAgIGlmIChyZXN1bHQpIHtcbiAgICAgIHRoaXMucmVzdWx0ID0gcmVzdWx0O1xuICAgICAgdGhpcy51cGRhdGVEaXJlY3Rpb24oKTtcbiAgICB9XG5cbiAgICBjb25zdCBjaGVja0NvbGxpc2lvblJlc3BvbnNlID0gdGhpcy5jaGVja0NvbGxpc2lvblJlc3BvbnNlO1xuXG4gICAgaWYgKGNoZWNrQ29sbGlzaW9uUmVzcG9uc2UgJiYgIWJvZHkuY29sbGlzaW9uUmVzcG9uc2UpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoKHRoaXMuY29sbGlzaW9uRmlsdGVyR3JvdXAgJiBib2R5LmNvbGxpc2lvbkZpbHRlck1hc2spID09PSAwIHx8IChib2R5LmNvbGxpc2lvbkZpbHRlckdyb3VwICYgdGhpcy5jb2xsaXNpb25GaWx0ZXJNYXNrKSA9PT0gMCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHhpID0gaW50ZXJzZWN0Qm9keV94aTtcbiAgICBjb25zdCBxaSA9IGludGVyc2VjdEJvZHlfcWk7XG5cbiAgICBmb3IgKGxldCBpID0gMCwgTiA9IGJvZHkuc2hhcGVzLmxlbmd0aDsgaSA8IE47IGkrKykge1xuICAgICAgY29uc3Qgc2hhcGUgPSBib2R5LnNoYXBlc1tpXTtcblxuICAgICAgaWYgKGNoZWNrQ29sbGlzaW9uUmVzcG9uc2UgJiYgIXNoYXBlLmNvbGxpc2lvblJlc3BvbnNlKSB7XG4gICAgICAgIGNvbnRpbnVlOyAvLyBTa2lwXG4gICAgICB9XG5cbiAgICAgIGJvZHkucXVhdGVybmlvbi5tdWx0KGJvZHkuc2hhcGVPcmllbnRhdGlvbnNbaV0sIHFpKTtcbiAgICAgIGJvZHkucXVhdGVybmlvbi52bXVsdChib2R5LnNoYXBlT2Zmc2V0c1tpXSwgeGkpO1xuICAgICAgeGkudmFkZChib2R5LnBvc2l0aW9uLCB4aSk7XG4gICAgICB0aGlzLmludGVyc2VjdFNoYXBlKHNoYXBlLCBxaSwgeGksIGJvZHkpO1xuXG4gICAgICBpZiAodGhpcy5yZXN1bHQuc2hvdWxkU3RvcCkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgLyoqXHJcbiAgICogQG1ldGhvZCBpbnRlcnNlY3RCb2RpZXNcclxuICAgKiBAcGFyYW0ge0FycmF5fSBib2RpZXMgQW4gYXJyYXkgb2YgQm9keSBvYmplY3RzLlxyXG4gICAqIEBwYXJhbSB7UmF5Y2FzdFJlc3VsdH0gW3Jlc3VsdF0gRGVwcmVjYXRlZFxyXG4gICAqL1xuXG5cbiAgaW50ZXJzZWN0Qm9kaWVzKGJvZGllcywgcmVzdWx0KSB7XG4gICAgaWYgKHJlc3VsdCkge1xuICAgICAgdGhpcy5yZXN1bHQgPSByZXN1bHQ7XG4gICAgICB0aGlzLnVwZGF0ZURpcmVjdGlvbigpO1xuICAgIH1cblxuICAgIGZvciAobGV0IGkgPSAwLCBsID0gYm9kaWVzLmxlbmd0aDsgIXRoaXMucmVzdWx0LnNob3VsZFN0b3AgJiYgaSA8IGw7IGkrKykge1xuICAgICAgdGhpcy5pbnRlcnNlY3RCb2R5KGJvZGllc1tpXSk7XG4gICAgfVxuICB9XG4gIC8qKlxyXG4gICAqIFVwZGF0ZXMgdGhlIGRpcmVjdGlvbiB2ZWN0b3IuXHJcbiAgICovXG5cblxuICB1cGRhdGVEaXJlY3Rpb24oKSB7XG4gICAgdGhpcy50by52c3ViKHRoaXMuZnJvbSwgdGhpcy5kaXJlY3Rpb24pO1xuICAgIHRoaXMuZGlyZWN0aW9uLm5vcm1hbGl6ZSgpO1xuICB9XG5cbiAgaW50ZXJzZWN0U2hhcGUoc2hhcGUsIHF1YXQsIHBvc2l0aW9uLCBib2R5KSB7XG4gICAgY29uc3QgZnJvbSA9IHRoaXMuZnJvbTsgLy8gQ2hlY2tpbmcgYm91bmRpbmdTcGhlcmVcblxuICAgIGNvbnN0IGRpc3RhbmNlID0gZGlzdGFuY2VGcm9tSW50ZXJzZWN0aW9uKGZyb20sIHRoaXMuZGlyZWN0aW9uLCBwb3NpdGlvbik7XG5cbiAgICBpZiAoZGlzdGFuY2UgPiBzaGFwZS5ib3VuZGluZ1NwaGVyZVJhZGl1cykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGludGVyc2VjdE1ldGhvZCA9IHRoaXNbc2hhcGUudHlwZV07XG5cbiAgICBpZiAoaW50ZXJzZWN0TWV0aG9kKSB7XG4gICAgICBpbnRlcnNlY3RNZXRob2QuY2FsbCh0aGlzLCBzaGFwZSwgcXVhdCwgcG9zaXRpb24sIGJvZHksIHNoYXBlKTtcbiAgICB9XG4gIH1cblxuICBfaW50ZXJzZWN0Qm94KGJveCwgcXVhdCwgcG9zaXRpb24sIGJvZHksIHJlcG9ydGVkU2hhcGUpIHtcbiAgICByZXR1cm4gdGhpcy5faW50ZXJzZWN0Q29udmV4KGJveC5jb252ZXhQb2x5aGVkcm9uUmVwcmVzZW50YXRpb24sIHF1YXQsIHBvc2l0aW9uLCBib2R5LCByZXBvcnRlZFNoYXBlKTtcbiAgfVxuXG4gIF9pbnRlcnNlY3RQbGFuZShzaGFwZSwgcXVhdCwgcG9zaXRpb24sIGJvZHksIHJlcG9ydGVkU2hhcGUpIHtcbiAgICBjb25zdCBmcm9tID0gdGhpcy5mcm9tO1xuICAgIGNvbnN0IHRvID0gdGhpcy50bztcbiAgICBjb25zdCBkaXJlY3Rpb24gPSB0aGlzLmRpcmVjdGlvbjsgLy8gR2V0IHBsYW5lIG5vcm1hbFxuXG4gICAgY29uc3Qgd29ybGROb3JtYWwgPSBuZXcgVmVjMygwLCAwLCAxKTtcbiAgICBxdWF0LnZtdWx0KHdvcmxkTm9ybWFsLCB3b3JsZE5vcm1hbCk7XG4gICAgY29uc3QgbGVuID0gbmV3IFZlYzMoKTtcbiAgICBmcm9tLnZzdWIocG9zaXRpb24sIGxlbik7XG4gICAgY29uc3QgcGxhbmVUb0Zyb20gPSBsZW4uZG90KHdvcmxkTm9ybWFsKTtcbiAgICB0by52c3ViKHBvc2l0aW9uLCBsZW4pO1xuICAgIGNvbnN0IHBsYW5lVG9UbyA9IGxlbi5kb3Qod29ybGROb3JtYWwpO1xuXG4gICAgaWYgKHBsYW5lVG9Gcm9tICogcGxhbmVUb1RvID4gMCkge1xuICAgICAgLy8gXCJmcm9tXCIgYW5kIFwidG9cIiBhcmUgb24gdGhlIHNhbWUgc2lkZSBvZiB0aGUgcGxhbmUuLi4gYmFpbCBvdXRcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoZnJvbS5kaXN0YW5jZVRvKHRvKSA8IHBsYW5lVG9Gcm9tKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3Qgbl9kb3RfZGlyID0gd29ybGROb3JtYWwuZG90KGRpcmVjdGlvbik7XG5cbiAgICBpZiAoTWF0aC5hYnMobl9kb3RfZGlyKSA8IHRoaXMucHJlY2lzaW9uKSB7XG4gICAgICAvLyBObyBpbnRlcnNlY3Rpb25cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBwbGFuZVBvaW50VG9Gcm9tID0gbmV3IFZlYzMoKTtcbiAgICBjb25zdCBkaXJfc2NhbGVkX3dpdGhfdCA9IG5ldyBWZWMzKCk7XG4gICAgY29uc3QgaGl0UG9pbnRXb3JsZCA9IG5ldyBWZWMzKCk7XG4gICAgZnJvbS52c3ViKHBvc2l0aW9uLCBwbGFuZVBvaW50VG9Gcm9tKTtcbiAgICBjb25zdCB0ID0gLXdvcmxkTm9ybWFsLmRvdChwbGFuZVBvaW50VG9Gcm9tKSAvIG5fZG90X2RpcjtcbiAgICBkaXJlY3Rpb24uc2NhbGUodCwgZGlyX3NjYWxlZF93aXRoX3QpO1xuICAgIGZyb20udmFkZChkaXJfc2NhbGVkX3dpdGhfdCwgaGl0UG9pbnRXb3JsZCk7XG4gICAgdGhpcy5yZXBvcnRJbnRlcnNlY3Rpb24od29ybGROb3JtYWwsIGhpdFBvaW50V29ybGQsIHJlcG9ydGVkU2hhcGUsIGJvZHksIC0xKTtcbiAgfVxuICAvKipcclxuICAgKiBHZXQgdGhlIHdvcmxkIEFBQkIgb2YgdGhlIHJheS5cclxuICAgKi9cblxuXG4gIGdldEFBQkIoYWFiYikge1xuICAgIGNvbnN0IHtcbiAgICAgIGxvd2VyQm91bmQsXG4gICAgICB1cHBlckJvdW5kXG4gICAgfSA9IGFhYmI7XG4gICAgY29uc3QgdG8gPSB0aGlzLnRvO1xuICAgIGNvbnN0IGZyb20gPSB0aGlzLmZyb207XG4gICAgbG93ZXJCb3VuZC54ID0gTWF0aC5taW4odG8ueCwgZnJvbS54KTtcbiAgICBsb3dlckJvdW5kLnkgPSBNYXRoLm1pbih0by55LCBmcm9tLnkpO1xuICAgIGxvd2VyQm91bmQueiA9IE1hdGgubWluKHRvLnosIGZyb20ueik7XG4gICAgdXBwZXJCb3VuZC54ID0gTWF0aC5tYXgodG8ueCwgZnJvbS54KTtcbiAgICB1cHBlckJvdW5kLnkgPSBNYXRoLm1heCh0by55LCBmcm9tLnkpO1xuICAgIHVwcGVyQm91bmQueiA9IE1hdGgubWF4KHRvLnosIGZyb20ueik7XG4gIH1cblxuICBfaW50ZXJzZWN0SGVpZ2h0ZmllbGQoc2hhcGUsIHF1YXQsIHBvc2l0aW9uLCBib2R5LCByZXBvcnRlZFNoYXBlKSB7XG4gICAgY29uc3QgZGF0YSA9IHNoYXBlLmRhdGE7XG4gICAgY29uc3QgdyA9IHNoYXBlLmVsZW1lbnRTaXplOyAvLyBDb252ZXJ0IHRoZSByYXkgdG8gbG9jYWwgaGVpZ2h0ZmllbGQgY29vcmRpbmF0ZXNcblxuICAgIGNvbnN0IGxvY2FsUmF5ID0gaW50ZXJzZWN0SGVpZ2h0ZmllbGRfbG9jYWxSYXk7IC8vbmV3IFJheSh0aGlzLmZyb20sIHRoaXMudG8pO1xuXG4gICAgbG9jYWxSYXkuZnJvbS5jb3B5KHRoaXMuZnJvbSk7XG4gICAgbG9jYWxSYXkudG8uY29weSh0aGlzLnRvKTtcbiAgICBUcmFuc2Zvcm0ucG9pbnRUb0xvY2FsRnJhbWUocG9zaXRpb24sIHF1YXQsIGxvY2FsUmF5LmZyb20sIGxvY2FsUmF5LmZyb20pO1xuICAgIFRyYW5zZm9ybS5wb2ludFRvTG9jYWxGcmFtZShwb3NpdGlvbiwgcXVhdCwgbG9jYWxSYXkudG8sIGxvY2FsUmF5LnRvKTtcbiAgICBsb2NhbFJheS51cGRhdGVEaXJlY3Rpb24oKTsgLy8gR2V0IHRoZSBpbmRleCBvZiB0aGUgZGF0YSBwb2ludHMgdG8gdGVzdCBhZ2FpbnN0XG5cbiAgICBjb25zdCBpbmRleCA9IGludGVyc2VjdEhlaWdodGZpZWxkX2luZGV4O1xuICAgIGxldCBpTWluWDtcbiAgICBsZXQgaU1pblk7XG4gICAgbGV0IGlNYXhYO1xuICAgIGxldCBpTWF4WTsgLy8gU2V0IHRvIG1heFxuXG4gICAgaU1pblggPSBpTWluWSA9IDA7XG4gICAgaU1heFggPSBpTWF4WSA9IHNoYXBlLmRhdGEubGVuZ3RoIC0gMTtcbiAgICBjb25zdCBhYWJiID0gbmV3IEFBQkIoKTtcbiAgICBsb2NhbFJheS5nZXRBQUJCKGFhYmIpO1xuICAgIHNoYXBlLmdldEluZGV4T2ZQb3NpdGlvbihhYWJiLmxvd2VyQm91bmQueCwgYWFiYi5sb3dlckJvdW5kLnksIGluZGV4LCB0cnVlKTtcbiAgICBpTWluWCA9IE1hdGgubWF4KGlNaW5YLCBpbmRleFswXSk7XG4gICAgaU1pblkgPSBNYXRoLm1heChpTWluWSwgaW5kZXhbMV0pO1xuICAgIHNoYXBlLmdldEluZGV4T2ZQb3NpdGlvbihhYWJiLnVwcGVyQm91bmQueCwgYWFiYi51cHBlckJvdW5kLnksIGluZGV4LCB0cnVlKTtcbiAgICBpTWF4WCA9IE1hdGgubWluKGlNYXhYLCBpbmRleFswXSArIDEpO1xuICAgIGlNYXhZID0gTWF0aC5taW4oaU1heFksIGluZGV4WzFdICsgMSk7XG5cbiAgICBmb3IgKGxldCBpID0gaU1pblg7IGkgPCBpTWF4WDsgaSsrKSB7XG4gICAgICBmb3IgKGxldCBqID0gaU1pblk7IGogPCBpTWF4WTsgaisrKSB7XG4gICAgICAgIGlmICh0aGlzLnJlc3VsdC5zaG91bGRTdG9wKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgc2hhcGUuZ2V0QWFiYkF0SW5kZXgoaSwgaiwgYWFiYik7XG5cbiAgICAgICAgaWYgKCFhYWJiLm92ZXJsYXBzUmF5KGxvY2FsUmF5KSkge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9IC8vIExvd2VyIHRyaWFuZ2xlXG5cblxuICAgICAgICBzaGFwZS5nZXRDb252ZXhUcmlhbmdsZVBpbGxhcihpLCBqLCBmYWxzZSk7XG4gICAgICAgIFRyYW5zZm9ybS5wb2ludFRvV29ybGRGcmFtZShwb3NpdGlvbiwgcXVhdCwgc2hhcGUucGlsbGFyT2Zmc2V0LCB3b3JsZFBpbGxhck9mZnNldCk7XG5cbiAgICAgICAgdGhpcy5faW50ZXJzZWN0Q29udmV4KHNoYXBlLnBpbGxhckNvbnZleCwgcXVhdCwgd29ybGRQaWxsYXJPZmZzZXQsIGJvZHksIHJlcG9ydGVkU2hhcGUsIGludGVyc2VjdENvbnZleE9wdGlvbnMpO1xuXG4gICAgICAgIGlmICh0aGlzLnJlc3VsdC5zaG91bGRTdG9wKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9IC8vIFVwcGVyIHRyaWFuZ2xlXG5cblxuICAgICAgICBzaGFwZS5nZXRDb252ZXhUcmlhbmdsZVBpbGxhcihpLCBqLCB0cnVlKTtcbiAgICAgICAgVHJhbnNmb3JtLnBvaW50VG9Xb3JsZEZyYW1lKHBvc2l0aW9uLCBxdWF0LCBzaGFwZS5waWxsYXJPZmZzZXQsIHdvcmxkUGlsbGFyT2Zmc2V0KTtcblxuICAgICAgICB0aGlzLl9pbnRlcnNlY3RDb252ZXgoc2hhcGUucGlsbGFyQ29udmV4LCBxdWF0LCB3b3JsZFBpbGxhck9mZnNldCwgYm9keSwgcmVwb3J0ZWRTaGFwZSwgaW50ZXJzZWN0Q29udmV4T3B0aW9ucyk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgX2ludGVyc2VjdFNwaGVyZShzcGhlcmUsIHF1YXQsIHBvc2l0aW9uLCBib2R5LCByZXBvcnRlZFNoYXBlKSB7XG4gICAgY29uc3QgZnJvbSA9IHRoaXMuZnJvbTtcbiAgICBjb25zdCB0byA9IHRoaXMudG87XG4gICAgY29uc3QgciA9IHNwaGVyZS5yYWRpdXM7XG4gICAgY29uc3QgYSA9ICh0by54IC0gZnJvbS54KSAqKiAyICsgKHRvLnkgLSBmcm9tLnkpICoqIDIgKyAodG8ueiAtIGZyb20ueikgKiogMjtcbiAgICBjb25zdCBiID0gMiAqICgodG8ueCAtIGZyb20ueCkgKiAoZnJvbS54IC0gcG9zaXRpb24ueCkgKyAodG8ueSAtIGZyb20ueSkgKiAoZnJvbS55IC0gcG9zaXRpb24ueSkgKyAodG8ueiAtIGZyb20ueikgKiAoZnJvbS56IC0gcG9zaXRpb24ueikpO1xuICAgIGNvbnN0IGMgPSAoZnJvbS54IC0gcG9zaXRpb24ueCkgKiogMiArIChmcm9tLnkgLSBwb3NpdGlvbi55KSAqKiAyICsgKGZyb20ueiAtIHBvc2l0aW9uLnopICoqIDIgLSByICoqIDI7XG4gICAgY29uc3QgZGVsdGEgPSBiICoqIDIgLSA0ICogYSAqIGM7XG4gICAgY29uc3QgaW50ZXJzZWN0aW9uUG9pbnQgPSBSYXlfaW50ZXJzZWN0U3BoZXJlX2ludGVyc2VjdGlvblBvaW50O1xuICAgIGNvbnN0IG5vcm1hbCA9IFJheV9pbnRlcnNlY3RTcGhlcmVfbm9ybWFsO1xuXG4gICAgaWYgKGRlbHRhIDwgMCkge1xuICAgICAgLy8gTm8gaW50ZXJzZWN0aW9uXG4gICAgICByZXR1cm47XG4gICAgfSBlbHNlIGlmIChkZWx0YSA9PT0gMCkge1xuICAgICAgLy8gc2luZ2xlIGludGVyc2VjdGlvbiBwb2ludFxuICAgICAgZnJvbS5sZXJwKHRvLCBkZWx0YSwgaW50ZXJzZWN0aW9uUG9pbnQpO1xuICAgICAgaW50ZXJzZWN0aW9uUG9pbnQudnN1Yihwb3NpdGlvbiwgbm9ybWFsKTtcbiAgICAgIG5vcm1hbC5ub3JtYWxpemUoKTtcbiAgICAgIHRoaXMucmVwb3J0SW50ZXJzZWN0aW9uKG5vcm1hbCwgaW50ZXJzZWN0aW9uUG9pbnQsIHJlcG9ydGVkU2hhcGUsIGJvZHksIC0xKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgZDEgPSAoLWIgLSBNYXRoLnNxcnQoZGVsdGEpKSAvICgyICogYSk7XG4gICAgICBjb25zdCBkMiA9ICgtYiArIE1hdGguc3FydChkZWx0YSkpIC8gKDIgKiBhKTtcblxuICAgICAgaWYgKGQxID49IDAgJiYgZDEgPD0gMSkge1xuICAgICAgICBmcm9tLmxlcnAodG8sIGQxLCBpbnRlcnNlY3Rpb25Qb2ludCk7XG4gICAgICAgIGludGVyc2VjdGlvblBvaW50LnZzdWIocG9zaXRpb24sIG5vcm1hbCk7XG4gICAgICAgIG5vcm1hbC5ub3JtYWxpemUoKTtcbiAgICAgICAgdGhpcy5yZXBvcnRJbnRlcnNlY3Rpb24obm9ybWFsLCBpbnRlcnNlY3Rpb25Qb2ludCwgcmVwb3J0ZWRTaGFwZSwgYm9keSwgLTEpO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5yZXN1bHQuc2hvdWxkU3RvcCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmIChkMiA+PSAwICYmIGQyIDw9IDEpIHtcbiAgICAgICAgZnJvbS5sZXJwKHRvLCBkMiwgaW50ZXJzZWN0aW9uUG9pbnQpO1xuICAgICAgICBpbnRlcnNlY3Rpb25Qb2ludC52c3ViKHBvc2l0aW9uLCBub3JtYWwpO1xuICAgICAgICBub3JtYWwubm9ybWFsaXplKCk7XG4gICAgICAgIHRoaXMucmVwb3J0SW50ZXJzZWN0aW9uKG5vcm1hbCwgaW50ZXJzZWN0aW9uUG9pbnQsIHJlcG9ydGVkU2hhcGUsIGJvZHksIC0xKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBfaW50ZXJzZWN0Q29udmV4KHNoYXBlLCBxdWF0LCBwb3NpdGlvbiwgYm9keSwgcmVwb3J0ZWRTaGFwZSwgb3B0aW9ucykge1xuICAgIGNvbnN0IG5vcm1hbCA9IGludGVyc2VjdENvbnZleF9ub3JtYWw7XG4gICAgY29uc3QgdmVjdG9yID0gaW50ZXJzZWN0Q29udmV4X3ZlY3RvcjtcbiAgICBjb25zdCBmYWNlTGlzdCA9IG9wdGlvbnMgJiYgb3B0aW9ucy5mYWNlTGlzdCB8fCBudWxsOyAvLyBDaGVja2luZyBmYWNlc1xuXG4gICAgY29uc3QgZmFjZXMgPSBzaGFwZS5mYWNlcztcbiAgICBjb25zdCB2ZXJ0aWNlcyA9IHNoYXBlLnZlcnRpY2VzO1xuICAgIGNvbnN0IG5vcm1hbHMgPSBzaGFwZS5mYWNlTm9ybWFscztcbiAgICBjb25zdCBkaXJlY3Rpb24gPSB0aGlzLmRpcmVjdGlvbjtcbiAgICBjb25zdCBmcm9tID0gdGhpcy5mcm9tO1xuICAgIGNvbnN0IHRvID0gdGhpcy50bztcbiAgICBjb25zdCBmcm9tVG9EaXN0YW5jZSA9IGZyb20uZGlzdGFuY2VUbyh0byk7XG4gICAgY29uc3QgTmZhY2VzID0gZmFjZUxpc3QgPyBmYWNlTGlzdC5sZW5ndGggOiBmYWNlcy5sZW5ndGg7XG4gICAgY29uc3QgcmVzdWx0ID0gdGhpcy5yZXN1bHQ7XG5cbiAgICBmb3IgKGxldCBqID0gMDsgIXJlc3VsdC5zaG91bGRTdG9wICYmIGogPCBOZmFjZXM7IGorKykge1xuICAgICAgY29uc3QgZmkgPSBmYWNlTGlzdCA/IGZhY2VMaXN0W2pdIDogajtcbiAgICAgIGNvbnN0IGZhY2UgPSBmYWNlc1tmaV07XG4gICAgICBjb25zdCBmYWNlTm9ybWFsID0gbm9ybWFsc1tmaV07XG4gICAgICBjb25zdCBxID0gcXVhdDtcbiAgICAgIGNvbnN0IHggPSBwb3NpdGlvbjsgLy8gZGV0ZXJtaW5lIGlmIHJheSBpbnRlcnNlY3RzIHRoZSBwbGFuZSBvZiB0aGUgZmFjZVxuICAgICAgLy8gbm90ZTogdGhpcyB3b3JrcyByZWdhcmRsZXNzIG9mIHRoZSBkaXJlY3Rpb24gb2YgdGhlIGZhY2Ugbm9ybWFsXG4gICAgICAvLyBHZXQgcGxhbmUgcG9pbnQgaW4gd29ybGQgY29vcmRpbmF0ZXMuLi5cblxuICAgICAgdmVjdG9yLmNvcHkodmVydGljZXNbZmFjZVswXV0pO1xuICAgICAgcS52bXVsdCh2ZWN0b3IsIHZlY3Rvcik7XG4gICAgICB2ZWN0b3IudmFkZCh4LCB2ZWN0b3IpOyAvLyAuLi5idXQgbWFrZSBpdCByZWxhdGl2ZSB0byB0aGUgcmF5IGZyb20uIFdlJ2xsIGZpeCB0aGlzIGxhdGVyLlxuXG4gICAgICB2ZWN0b3IudnN1Yihmcm9tLCB2ZWN0b3IpOyAvLyBHZXQgcGxhbmUgbm9ybWFsXG5cbiAgICAgIHEudm11bHQoZmFjZU5vcm1hbCwgbm9ybWFsKTsgLy8gSWYgdGhpcyBkb3QgcHJvZHVjdCBpcyBuZWdhdGl2ZSwgd2UgaGF2ZSBzb21ldGhpbmcgaW50ZXJlc3RpbmdcblxuICAgICAgY29uc3QgZG90ID0gZGlyZWN0aW9uLmRvdChub3JtYWwpOyAvLyBCYWlsIG91dCBpZiByYXkgYW5kIHBsYW5lIGFyZSBwYXJhbGxlbFxuXG4gICAgICBpZiAoTWF0aC5hYnMoZG90KSA8IHRoaXMucHJlY2lzaW9uKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfSAvLyBjYWxjIGRpc3RhbmNlIHRvIHBsYW5lXG5cblxuICAgICAgY29uc3Qgc2NhbGFyID0gbm9ybWFsLmRvdCh2ZWN0b3IpIC8gZG90OyAvLyBpZiBuZWdhdGl2ZSBkaXN0YW5jZSwgdGhlbiBwbGFuZSBpcyBiZWhpbmQgcmF5XG5cbiAgICAgIGlmIChzY2FsYXIgPCAwKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfSAvLyBpZiAoZG90IDwgMCkge1xuICAgICAgLy8gSW50ZXJzZWN0aW9uIHBvaW50IGlzIGZyb20gKyBkaXJlY3Rpb24gKiBzY2FsYXJcblxuXG4gICAgICBkaXJlY3Rpb24uc2NhbGUoc2NhbGFyLCBpbnRlcnNlY3RQb2ludCk7XG4gICAgICBpbnRlcnNlY3RQb2ludC52YWRkKGZyb20sIGludGVyc2VjdFBvaW50KTsgLy8gYSBpcyB0aGUgcG9pbnQgd2UgY29tcGFyZSBwb2ludHMgYiBhbmQgYyB3aXRoLlxuXG4gICAgICBhLmNvcHkodmVydGljZXNbZmFjZVswXV0pO1xuICAgICAgcS52bXVsdChhLCBhKTtcbiAgICAgIHgudmFkZChhLCBhKTtcblxuICAgICAgZm9yIChsZXQgaSA9IDE7ICFyZXN1bHQuc2hvdWxkU3RvcCAmJiBpIDwgZmFjZS5sZW5ndGggLSAxOyBpKyspIHtcbiAgICAgICAgLy8gVHJhbnNmb3JtIDMgdmVydGljZXMgdG8gd29ybGQgY29vcmRzXG4gICAgICAgIGIuY29weSh2ZXJ0aWNlc1tmYWNlW2ldXSk7XG4gICAgICAgIGMuY29weSh2ZXJ0aWNlc1tmYWNlW2kgKyAxXV0pO1xuICAgICAgICBxLnZtdWx0KGIsIGIpO1xuICAgICAgICBxLnZtdWx0KGMsIGMpO1xuICAgICAgICB4LnZhZGQoYiwgYik7XG4gICAgICAgIHgudmFkZChjLCBjKTtcbiAgICAgICAgY29uc3QgZGlzdGFuY2UgPSBpbnRlcnNlY3RQb2ludC5kaXN0YW5jZVRvKGZyb20pO1xuXG4gICAgICAgIGlmICghKHBvaW50SW5UcmlhbmdsZShpbnRlcnNlY3RQb2ludCwgYSwgYiwgYykgfHwgcG9pbnRJblRyaWFuZ2xlKGludGVyc2VjdFBvaW50LCBiLCBhLCBjKSkgfHwgZGlzdGFuY2UgPiBmcm9tVG9EaXN0YW5jZSkge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5yZXBvcnRJbnRlcnNlY3Rpb24obm9ybWFsLCBpbnRlcnNlY3RQb2ludCwgcmVwb3J0ZWRTaGFwZSwgYm9keSwgZmkpO1xuICAgICAgfSAvLyB9XG5cbiAgICB9XG4gIH1cbiAgLyoqXHJcbiAgICogQHRvZG8gT3B0aW1pemUgYnkgdHJhbnNmb3JtaW5nIHRoZSB3b3JsZCB0byBsb2NhbCBzcGFjZSBmaXJzdC5cclxuICAgKiBAdG9kbyBVc2UgT2N0cmVlIGxvb2t1cFxyXG4gICAqL1xuXG5cbiAgX2ludGVyc2VjdFRyaW1lc2gobWVzaCwgcXVhdCwgcG9zaXRpb24sIGJvZHksIHJlcG9ydGVkU2hhcGUsIG9wdGlvbnMpIHtcbiAgICBjb25zdCBub3JtYWwgPSBpbnRlcnNlY3RUcmltZXNoX25vcm1hbDtcbiAgICBjb25zdCB0cmlhbmdsZXMgPSBpbnRlcnNlY3RUcmltZXNoX3RyaWFuZ2xlcztcbiAgICBjb25zdCB0cmVlVHJhbnNmb3JtID0gaW50ZXJzZWN0VHJpbWVzaF90cmVlVHJhbnNmb3JtO1xuICAgIGNvbnN0IHZlY3RvciA9IGludGVyc2VjdENvbnZleF92ZWN0b3I7XG4gICAgY29uc3QgbG9jYWxEaXJlY3Rpb24gPSBpbnRlcnNlY3RUcmltZXNoX2xvY2FsRGlyZWN0aW9uO1xuICAgIGNvbnN0IGxvY2FsRnJvbSA9IGludGVyc2VjdFRyaW1lc2hfbG9jYWxGcm9tO1xuICAgIGNvbnN0IGxvY2FsVG8gPSBpbnRlcnNlY3RUcmltZXNoX2xvY2FsVG87XG4gICAgY29uc3Qgd29ybGRJbnRlcnNlY3RQb2ludCA9IGludGVyc2VjdFRyaW1lc2hfd29ybGRJbnRlcnNlY3RQb2ludDtcbiAgICBjb25zdCB3b3JsZE5vcm1hbCA9IGludGVyc2VjdFRyaW1lc2hfd29ybGROb3JtYWw7XG4gICAgY29uc3QgZmFjZUxpc3QgPSBvcHRpb25zICYmIG9wdGlvbnMuZmFjZUxpc3QgfHwgbnVsbDsgLy8gQ2hlY2tpbmcgZmFjZXNcblxuICAgIGNvbnN0IGluZGljZXMgPSBtZXNoLmluZGljZXM7XG4gICAgY29uc3QgdmVydGljZXMgPSBtZXNoLnZlcnRpY2VzOyAvLyBjb25zdCBub3JtYWxzID0gbWVzaC5mYWNlTm9ybWFsc1xuXG4gICAgY29uc3QgZnJvbSA9IHRoaXMuZnJvbTtcbiAgICBjb25zdCB0byA9IHRoaXMudG87XG4gICAgY29uc3QgZGlyZWN0aW9uID0gdGhpcy5kaXJlY3Rpb247XG4gICAgdHJlZVRyYW5zZm9ybS5wb3NpdGlvbi5jb3B5KHBvc2l0aW9uKTtcbiAgICB0cmVlVHJhbnNmb3JtLnF1YXRlcm5pb24uY29weShxdWF0KTsgLy8gVHJhbnNmb3JtIHJheSB0byBsb2NhbCBzcGFjZSFcblxuICAgIFRyYW5zZm9ybS52ZWN0b3JUb0xvY2FsRnJhbWUocG9zaXRpb24sIHF1YXQsIGRpcmVjdGlvbiwgbG9jYWxEaXJlY3Rpb24pO1xuICAgIFRyYW5zZm9ybS5wb2ludFRvTG9jYWxGcmFtZShwb3NpdGlvbiwgcXVhdCwgZnJvbSwgbG9jYWxGcm9tKTtcbiAgICBUcmFuc2Zvcm0ucG9pbnRUb0xvY2FsRnJhbWUocG9zaXRpb24sIHF1YXQsIHRvLCBsb2NhbFRvKTtcbiAgICBsb2NhbFRvLnggKj0gbWVzaC5zY2FsZS54O1xuICAgIGxvY2FsVG8ueSAqPSBtZXNoLnNjYWxlLnk7XG4gICAgbG9jYWxUby56ICo9IG1lc2guc2NhbGUuejtcbiAgICBsb2NhbEZyb20ueCAqPSBtZXNoLnNjYWxlLng7XG4gICAgbG9jYWxGcm9tLnkgKj0gbWVzaC5zY2FsZS55O1xuICAgIGxvY2FsRnJvbS56ICo9IG1lc2guc2NhbGUuejtcbiAgICBsb2NhbFRvLnZzdWIobG9jYWxGcm9tLCBsb2NhbERpcmVjdGlvbik7XG4gICAgbG9jYWxEaXJlY3Rpb24ubm9ybWFsaXplKCk7XG4gICAgY29uc3QgZnJvbVRvRGlzdGFuY2VTcXVhcmVkID0gbG9jYWxGcm9tLmRpc3RhbmNlU3F1YXJlZChsb2NhbFRvKTtcbiAgICBtZXNoLnRyZWUucmF5UXVlcnkodGhpcywgdHJlZVRyYW5zZm9ybSwgdHJpYW5nbGVzKTtcblxuICAgIGZvciAobGV0IGkgPSAwLCBOID0gdHJpYW5nbGVzLmxlbmd0aDsgIXRoaXMucmVzdWx0LnNob3VsZFN0b3AgJiYgaSAhPT0gTjsgaSsrKSB7XG4gICAgICBjb25zdCB0cmlhbmdsZXNJbmRleCA9IHRyaWFuZ2xlc1tpXTtcbiAgICAgIG1lc2guZ2V0Tm9ybWFsKHRyaWFuZ2xlc0luZGV4LCBub3JtYWwpOyAvLyBkZXRlcm1pbmUgaWYgcmF5IGludGVyc2VjdHMgdGhlIHBsYW5lIG9mIHRoZSBmYWNlXG4gICAgICAvLyBub3RlOiB0aGlzIHdvcmtzIHJlZ2FyZGxlc3Mgb2YgdGhlIGRpcmVjdGlvbiBvZiB0aGUgZmFjZSBub3JtYWxcbiAgICAgIC8vIEdldCBwbGFuZSBwb2ludCBpbiB3b3JsZCBjb29yZGluYXRlcy4uLlxuXG4gICAgICBtZXNoLmdldFZlcnRleChpbmRpY2VzW3RyaWFuZ2xlc0luZGV4ICogM10sIGEpOyAvLyAuLi5idXQgbWFrZSBpdCByZWxhdGl2ZSB0byB0aGUgcmF5IGZyb20uIFdlJ2xsIGZpeCB0aGlzIGxhdGVyLlxuXG4gICAgICBhLnZzdWIobG9jYWxGcm9tLCB2ZWN0b3IpOyAvLyBJZiB0aGlzIGRvdCBwcm9kdWN0IGlzIG5lZ2F0aXZlLCB3ZSBoYXZlIHNvbWV0aGluZyBpbnRlcmVzdGluZ1xuXG4gICAgICBjb25zdCBkb3QgPSBsb2NhbERpcmVjdGlvbi5kb3Qobm9ybWFsKTsgLy8gQmFpbCBvdXQgaWYgcmF5IGFuZCBwbGFuZSBhcmUgcGFyYWxsZWxcbiAgICAgIC8vIGlmIChNYXRoLmFicyggZG90ICkgPCB0aGlzLnByZWNpc2lvbil7XG4gICAgICAvLyAgICAgY29udGludWU7XG4gICAgICAvLyB9XG4gICAgICAvLyBjYWxjIGRpc3RhbmNlIHRvIHBsYW5lXG5cbiAgICAgIGNvbnN0IHNjYWxhciA9IG5vcm1hbC5kb3QodmVjdG9yKSAvIGRvdDsgLy8gaWYgbmVnYXRpdmUgZGlzdGFuY2UsIHRoZW4gcGxhbmUgaXMgYmVoaW5kIHJheVxuXG4gICAgICBpZiAoc2NhbGFyIDwgMCkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH0gLy8gSW50ZXJzZWN0aW9uIHBvaW50IGlzIGZyb20gKyBkaXJlY3Rpb24gKiBzY2FsYXJcblxuXG4gICAgICBsb2NhbERpcmVjdGlvbi5zY2FsZShzY2FsYXIsIGludGVyc2VjdFBvaW50KTtcbiAgICAgIGludGVyc2VjdFBvaW50LnZhZGQobG9jYWxGcm9tLCBpbnRlcnNlY3RQb2ludCk7IC8vIEdldCB0cmlhbmdsZSB2ZXJ0aWNlc1xuXG4gICAgICBtZXNoLmdldFZlcnRleChpbmRpY2VzW3RyaWFuZ2xlc0luZGV4ICogMyArIDFdLCBiKTtcbiAgICAgIG1lc2guZ2V0VmVydGV4KGluZGljZXNbdHJpYW5nbGVzSW5kZXggKiAzICsgMl0sIGMpO1xuICAgICAgY29uc3Qgc3F1YXJlZERpc3RhbmNlID0gaW50ZXJzZWN0UG9pbnQuZGlzdGFuY2VTcXVhcmVkKGxvY2FsRnJvbSk7XG5cbiAgICAgIGlmICghKHBvaW50SW5UcmlhbmdsZShpbnRlcnNlY3RQb2ludCwgYiwgYSwgYykgfHwgcG9pbnRJblRyaWFuZ2xlKGludGVyc2VjdFBvaW50LCBhLCBiLCBjKSkgfHwgc3F1YXJlZERpc3RhbmNlID4gZnJvbVRvRGlzdGFuY2VTcXVhcmVkKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfSAvLyB0cmFuc2Zvcm0gaW50ZXJzZWN0cG9pbnQgYW5kIG5vcm1hbCB0byB3b3JsZFxuXG5cbiAgICAgIFRyYW5zZm9ybS52ZWN0b3JUb1dvcmxkRnJhbWUocXVhdCwgbm9ybWFsLCB3b3JsZE5vcm1hbCk7XG4gICAgICBUcmFuc2Zvcm0ucG9pbnRUb1dvcmxkRnJhbWUocG9zaXRpb24sIHF1YXQsIGludGVyc2VjdFBvaW50LCB3b3JsZEludGVyc2VjdFBvaW50KTtcbiAgICAgIHRoaXMucmVwb3J0SW50ZXJzZWN0aW9uKHdvcmxkTm9ybWFsLCB3b3JsZEludGVyc2VjdFBvaW50LCByZXBvcnRlZFNoYXBlLCBib2R5LCB0cmlhbmdsZXNJbmRleCk7XG4gICAgfVxuXG4gICAgdHJpYW5nbGVzLmxlbmd0aCA9IDA7XG4gIH1cbiAgLyoqXHJcbiAgICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgaW50ZXJzZWN0aW9ucyBzaG91bGQgY29udGludWVcclxuICAgKi9cblxuXG4gIHJlcG9ydEludGVyc2VjdGlvbihub3JtYWwsIGhpdFBvaW50V29ybGQsIHNoYXBlLCBib2R5LCBoaXRGYWNlSW5kZXgpIHtcbiAgICBjb25zdCBmcm9tID0gdGhpcy5mcm9tO1xuICAgIGNvbnN0IHRvID0gdGhpcy50bztcbiAgICBjb25zdCBkaXN0YW5jZSA9IGZyb20uZGlzdGFuY2VUbyhoaXRQb2ludFdvcmxkKTtcbiAgICBjb25zdCByZXN1bHQgPSB0aGlzLnJlc3VsdDsgLy8gU2tpcCBiYWNrIGZhY2VzP1xuXG4gICAgaWYgKHRoaXMuc2tpcEJhY2tmYWNlcyAmJiBub3JtYWwuZG90KHRoaXMuZGlyZWN0aW9uKSA+IDApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICByZXN1bHQuaGl0RmFjZUluZGV4ID0gdHlwZW9mIGhpdEZhY2VJbmRleCAhPT0gJ3VuZGVmaW5lZCcgPyBoaXRGYWNlSW5kZXggOiAtMTtcblxuICAgIHN3aXRjaCAodGhpcy5tb2RlKSB7XG4gICAgICBjYXNlIFJheS5BTEw6XG4gICAgICAgIHRoaXMuaGFzSGl0ID0gdHJ1ZTtcbiAgICAgICAgcmVzdWx0LnNldChmcm9tLCB0bywgbm9ybWFsLCBoaXRQb2ludFdvcmxkLCBzaGFwZSwgYm9keSwgZGlzdGFuY2UpO1xuICAgICAgICByZXN1bHQuaGFzSGl0ID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5jYWxsYmFjayhyZXN1bHQpO1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSBSYXkuQ0xPU0VTVDpcbiAgICAgICAgLy8gU3RvcmUgaWYgY2xvc2VyIHRoYW4gY3VycmVudCBjbG9zZXN0XG4gICAgICAgIGlmIChkaXN0YW5jZSA8IHJlc3VsdC5kaXN0YW5jZSB8fCAhcmVzdWx0Lmhhc0hpdCkge1xuICAgICAgICAgIHRoaXMuaGFzSGl0ID0gdHJ1ZTtcbiAgICAgICAgICByZXN1bHQuaGFzSGl0ID0gdHJ1ZTtcbiAgICAgICAgICByZXN1bHQuc2V0KGZyb20sIHRvLCBub3JtYWwsIGhpdFBvaW50V29ybGQsIHNoYXBlLCBib2R5LCBkaXN0YW5jZSk7XG4gICAgICAgIH1cblxuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSBSYXkuQU5ZOlxuICAgICAgICAvLyBSZXBvcnQgYW5kIHN0b3AuXG4gICAgICAgIHRoaXMuaGFzSGl0ID0gdHJ1ZTtcbiAgICAgICAgcmVzdWx0Lmhhc0hpdCA9IHRydWU7XG4gICAgICAgIHJlc3VsdC5zZXQoZnJvbSwgdG8sIG5vcm1hbCwgaGl0UG9pbnRXb3JsZCwgc2hhcGUsIGJvZHksIGRpc3RhbmNlKTtcbiAgICAgICAgcmVzdWx0LnNob3VsZFN0b3AgPSB0cnVlO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gIH1cblxufVxuUmF5LkNMT1NFU1QgPSAxO1xuUmF5LkFOWSA9IDI7XG5SYXkuQUxMID0gNDtcbmNvbnN0IHRtcEFBQkIgPSBuZXcgQUFCQigpO1xuY29uc3QgdG1wQXJyYXkgPSBbXTtcbmNvbnN0IHYxID0gbmV3IFZlYzMoKTtcbmNvbnN0IHYyID0gbmV3IFZlYzMoKTtcbi8qXHJcbiAqIEFzIHBlciBcIkJhcnljZW50cmljIFRlY2huaXF1ZVwiIGFzIG5hbWVkIGhlcmUgaHR0cDovL3d3dy5ibGFja3Bhd24uY29tL3RleHRzL3BvaW50aW5wb2x5L2RlZmF1bHQuaHRtbCBCdXQgd2l0aG91dCB0aGUgZGl2aXNpb25cclxuICovXG5cblJheS5wb2ludEluVHJpYW5nbGUgPSBwb2ludEluVHJpYW5nbGU7XG5cbmZ1bmN0aW9uIHBvaW50SW5UcmlhbmdsZShwLCBhLCBiLCBjKSB7XG4gIGMudnN1YihhLCB2MCk7XG4gIGIudnN1YihhLCB2MSk7XG4gIHAudnN1YihhLCB2Mik7XG4gIGNvbnN0IGRvdDAwID0gdjAuZG90KHYwKTtcbiAgY29uc3QgZG90MDEgPSB2MC5kb3QodjEpO1xuICBjb25zdCBkb3QwMiA9IHYwLmRvdCh2Mik7XG4gIGNvbnN0IGRvdDExID0gdjEuZG90KHYxKTtcbiAgY29uc3QgZG90MTIgPSB2MS5kb3QodjIpO1xuICBsZXQgdTtcbiAgbGV0IHY7XG4gIHJldHVybiAodSA9IGRvdDExICogZG90MDIgLSBkb3QwMSAqIGRvdDEyKSA+PSAwICYmICh2ID0gZG90MDAgKiBkb3QxMiAtIGRvdDAxICogZG90MDIpID49IDAgJiYgdSArIHYgPCBkb3QwMCAqIGRvdDExIC0gZG90MDEgKiBkb3QwMTtcbn1cblxuY29uc3QgaW50ZXJzZWN0Qm9keV94aSA9IG5ldyBWZWMzKCk7XG5jb25zdCBpbnRlcnNlY3RCb2R5X3FpID0gbmV3IFF1YXRlcm5pb24oKTtcbmNvbnN0IGludGVyc2VjdFBvaW50ID0gbmV3IFZlYzMoKTtcbmNvbnN0IGEgPSBuZXcgVmVjMygpO1xuY29uc3QgYiA9IG5ldyBWZWMzKCk7XG5jb25zdCBjID0gbmV3IFZlYzMoKTtcblJheS5wcm90b3R5cGVbU2hhcGUudHlwZXMuQk9YXSA9IFJheS5wcm90b3R5cGUuX2ludGVyc2VjdEJveDtcblJheS5wcm90b3R5cGVbU2hhcGUudHlwZXMuUExBTkVdID0gUmF5LnByb3RvdHlwZS5faW50ZXJzZWN0UGxhbmU7XG5jb25zdCBpbnRlcnNlY3RDb252ZXhPcHRpb25zID0ge1xuICBmYWNlTGlzdDogWzBdXG59O1xuY29uc3Qgd29ybGRQaWxsYXJPZmZzZXQgPSBuZXcgVmVjMygpO1xuY29uc3QgaW50ZXJzZWN0SGVpZ2h0ZmllbGRfbG9jYWxSYXkgPSBuZXcgUmF5KCk7XG5jb25zdCBpbnRlcnNlY3RIZWlnaHRmaWVsZF9pbmRleCA9IFtdO1xuUmF5LnByb3RvdHlwZVtTaGFwZS50eXBlcy5IRUlHSFRGSUVMRF0gPSBSYXkucHJvdG90eXBlLl9pbnRlcnNlY3RIZWlnaHRmaWVsZDtcbmNvbnN0IFJheV9pbnRlcnNlY3RTcGhlcmVfaW50ZXJzZWN0aW9uUG9pbnQgPSBuZXcgVmVjMygpO1xuY29uc3QgUmF5X2ludGVyc2VjdFNwaGVyZV9ub3JtYWwgPSBuZXcgVmVjMygpO1xuUmF5LnByb3RvdHlwZVtTaGFwZS50eXBlcy5TUEhFUkVdID0gUmF5LnByb3RvdHlwZS5faW50ZXJzZWN0U3BoZXJlO1xuY29uc3QgaW50ZXJzZWN0Q29udmV4X25vcm1hbCA9IG5ldyBWZWMzKCk7XG5jb25zdCBpbnRlcnNlY3RDb252ZXhfdmVjdG9yID0gbmV3IFZlYzMoKTtcblJheS5wcm90b3R5cGVbU2hhcGUudHlwZXMuQ09OVkVYUE9MWUhFRFJPTl0gPSBSYXkucHJvdG90eXBlLl9pbnRlcnNlY3RDb252ZXg7XG5jb25zdCBpbnRlcnNlY3RUcmltZXNoX25vcm1hbCA9IG5ldyBWZWMzKCk7XG5jb25zdCBpbnRlcnNlY3RUcmltZXNoX2xvY2FsRGlyZWN0aW9uID0gbmV3IFZlYzMoKTtcbmNvbnN0IGludGVyc2VjdFRyaW1lc2hfbG9jYWxGcm9tID0gbmV3IFZlYzMoKTtcbmNvbnN0IGludGVyc2VjdFRyaW1lc2hfbG9jYWxUbyA9IG5ldyBWZWMzKCk7XG5jb25zdCBpbnRlcnNlY3RUcmltZXNoX3dvcmxkTm9ybWFsID0gbmV3IFZlYzMoKTtcbmNvbnN0IGludGVyc2VjdFRyaW1lc2hfd29ybGRJbnRlcnNlY3RQb2ludCA9IG5ldyBWZWMzKCk7XG5jb25zdCBpbnRlcnNlY3RUcmltZXNoX2xvY2FsQUFCQiA9IG5ldyBBQUJCKCk7XG5jb25zdCBpbnRlcnNlY3RUcmltZXNoX3RyaWFuZ2xlcyA9IFtdO1xuY29uc3QgaW50ZXJzZWN0VHJpbWVzaF90cmVlVHJhbnNmb3JtID0gbmV3IFRyYW5zZm9ybSgpO1xuUmF5LnByb3RvdHlwZVtTaGFwZS50eXBlcy5UUklNRVNIXSA9IFJheS5wcm90b3R5cGUuX2ludGVyc2VjdFRyaW1lc2g7XG5jb25zdCB2MCA9IG5ldyBWZWMzKCk7XG5jb25zdCBpbnRlcnNlY3QgPSBuZXcgVmVjMygpO1xuXG5mdW5jdGlvbiBkaXN0YW5jZUZyb21JbnRlcnNlY3Rpb24oZnJvbSwgZGlyZWN0aW9uLCBwb3NpdGlvbikge1xuICAvLyB2MCBpcyB2ZWN0b3IgZnJvbSBmcm9tIHRvIHBvc2l0aW9uXG4gIHBvc2l0aW9uLnZzdWIoZnJvbSwgdjApO1xuICBjb25zdCBkb3QgPSB2MC5kb3QoZGlyZWN0aW9uKTsgLy8gaW50ZXJzZWN0ID0gZGlyZWN0aW9uKmRvdCArIGZyb21cblxuICBkaXJlY3Rpb24uc2NhbGUoZG90LCBpbnRlcnNlY3QpO1xuICBpbnRlcnNlY3QudmFkZChmcm9tLCBpbnRlcnNlY3QpO1xuICBjb25zdCBkaXN0YW5jZSA9IHBvc2l0aW9uLmRpc3RhbmNlVG8oaW50ZXJzZWN0KTtcbiAgcmV0dXJuIGRpc3RhbmNlO1xufVxuXG4vKipcclxuICogU3dlZXAgYW5kIHBydW5lIGJyb2FkcGhhc2UgYWxvbmcgb25lIGF4aXMuXHJcbiAqXHJcbiAqIEBjbGFzcyBTQVBCcm9hZHBoYXNlXHJcbiAqIEBjb25zdHJ1Y3RvclxyXG4gKiBAcGFyYW0ge1dvcmxkfSBbd29ybGRdXHJcbiAqIEBleHRlbmRzIEJyb2FkcGhhc2VcclxuICovXG5jbGFzcyBTQVBCcm9hZHBoYXNlIGV4dGVuZHMgQnJvYWRwaGFzZSB7XG4gIC8vIExpc3Qgb2YgYm9kaWVzIGN1cnJlbnRseSBpbiB0aGUgYnJvYWRwaGFzZS5cbiAgLy8gVGhlIHdvcmxkIHRvIHNlYXJjaCBpbi5cbiAgLy8gQXhpcyB0byBzb3J0IHRoZSBib2RpZXMgYWxvbmcuIFNldCB0byAwIGZvciB4IGF4aXMsIGFuZCAxIGZvciB5IGF4aXMuIEZvciBiZXN0IHBlcmZvcm1hbmNlLCBjaG9vc2UgYW4gYXhpcyB0aGF0IHRoZSBib2RpZXMgYXJlIHNwcmVhZCBvdXQgbW9yZSBvbi5cbiAgY29uc3RydWN0b3Iod29ybGQpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuYXhpc0xpc3QgPSBbXTtcbiAgICB0aGlzLndvcmxkID0gbnVsbDtcbiAgICB0aGlzLmF4aXNJbmRleCA9IDA7XG4gICAgY29uc3QgYXhpc0xpc3QgPSB0aGlzLmF4aXNMaXN0O1xuXG4gICAgdGhpcy5fYWRkQm9keUhhbmRsZXIgPSBldmVudCA9PiB7XG4gICAgICBheGlzTGlzdC5wdXNoKGV2ZW50LmJvZHkpO1xuICAgIH07XG5cbiAgICB0aGlzLl9yZW1vdmVCb2R5SGFuZGxlciA9IGV2ZW50ID0+IHtcbiAgICAgIGNvbnN0IGlkeCA9IGF4aXNMaXN0LmluZGV4T2YoZXZlbnQuYm9keSk7XG5cbiAgICAgIGlmIChpZHggIT09IC0xKSB7XG4gICAgICAgIGF4aXNMaXN0LnNwbGljZShpZHgsIDEpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBpZiAod29ybGQpIHtcbiAgICAgIHRoaXMuc2V0V29ybGQod29ybGQpO1xuICAgIH1cbiAgfVxuICAvKipcclxuICAgKiBDaGFuZ2UgdGhlIHdvcmxkXHJcbiAgICogQG1ldGhvZCBzZXRXb3JsZFxyXG4gICAqIEBwYXJhbSAge1dvcmxkfSB3b3JsZFxyXG4gICAqL1xuXG5cbiAgc2V0V29ybGQod29ybGQpIHtcbiAgICAvLyBDbGVhciB0aGUgb2xkIGF4aXMgYXJyYXlcbiAgICB0aGlzLmF4aXNMaXN0Lmxlbmd0aCA9IDA7IC8vIEFkZCBhbGwgYm9kaWVzIGZyb20gdGhlIG5ldyB3b3JsZFxuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB3b3JsZC5ib2RpZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHRoaXMuYXhpc0xpc3QucHVzaCh3b3JsZC5ib2RpZXNbaV0pO1xuICAgIH0gLy8gUmVtb3ZlIG9sZCBoYW5kbGVycywgaWYgYW55XG5cblxuICAgIHdvcmxkLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2FkZEJvZHknLCB0aGlzLl9hZGRCb2R5SGFuZGxlcik7XG4gICAgd29ybGQucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVtb3ZlQm9keScsIHRoaXMuX3JlbW92ZUJvZHlIYW5kbGVyKTsgLy8gQWRkIGhhbmRsZXJzIHRvIHVwZGF0ZSB0aGUgbGlzdCBvZiBib2RpZXMuXG5cbiAgICB3b3JsZC5hZGRFdmVudExpc3RlbmVyKCdhZGRCb2R5JywgdGhpcy5fYWRkQm9keUhhbmRsZXIpO1xuICAgIHdvcmxkLmFkZEV2ZW50TGlzdGVuZXIoJ3JlbW92ZUJvZHknLCB0aGlzLl9yZW1vdmVCb2R5SGFuZGxlcik7XG4gICAgdGhpcy53b3JsZCA9IHdvcmxkO1xuICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICB9XG4gIC8qKlxyXG4gICAqIENvbGxlY3QgYWxsIGNvbGxpc2lvbiBwYWlyc1xyXG4gICAqIEBtZXRob2QgY29sbGlzaW9uUGFpcnNcclxuICAgKiBAcGFyYW0gIHtXb3JsZH0gd29ybGRcclxuICAgKiBAcGFyYW0gIHtBcnJheX0gcDFcclxuICAgKiBAcGFyYW0gIHtBcnJheX0gcDJcclxuICAgKi9cblxuXG4gIGNvbGxpc2lvblBhaXJzKHdvcmxkLCBwMSwgcDIpIHtcbiAgICBjb25zdCBib2RpZXMgPSB0aGlzLmF4aXNMaXN0O1xuICAgIGNvbnN0IE4gPSBib2RpZXMubGVuZ3RoO1xuICAgIGNvbnN0IGF4aXNJbmRleCA9IHRoaXMuYXhpc0luZGV4O1xuICAgIGxldCBpO1xuICAgIGxldCBqO1xuXG4gICAgaWYgKHRoaXMuZGlydHkpIHtcbiAgICAgIHRoaXMuc29ydExpc3QoKTtcbiAgICAgIHRoaXMuZGlydHkgPSBmYWxzZTtcbiAgICB9IC8vIExvb2sgdGhyb3VnaCB0aGUgbGlzdFxuXG5cbiAgICBmb3IgKGkgPSAwOyBpICE9PSBOOyBpKyspIHtcbiAgICAgIGNvbnN0IGJpID0gYm9kaWVzW2ldO1xuXG4gICAgICBmb3IgKGogPSBpICsgMTsgaiA8IE47IGorKykge1xuICAgICAgICBjb25zdCBiaiA9IGJvZGllc1tqXTtcblxuICAgICAgICBpZiAoIXRoaXMubmVlZEJyb2FkcGhhc2VDb2xsaXNpb24oYmksIGJqKSkge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFTQVBCcm9hZHBoYXNlLmNoZWNrQm91bmRzKGJpLCBiaiwgYXhpc0luZGV4KSkge1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5pbnRlcnNlY3Rpb25UZXN0KGJpLCBiaiwgcDEsIHAyKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBzb3J0TGlzdCgpIHtcbiAgICBjb25zdCBheGlzTGlzdCA9IHRoaXMuYXhpc0xpc3Q7XG4gICAgY29uc3QgYXhpc0luZGV4ID0gdGhpcy5heGlzSW5kZXg7XG4gICAgY29uc3QgTiA9IGF4aXNMaXN0Lmxlbmd0aDsgLy8gVXBkYXRlIEFBQkJzXG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSAhPT0gTjsgaSsrKSB7XG4gICAgICBjb25zdCBiaSA9IGF4aXNMaXN0W2ldO1xuXG4gICAgICBpZiAoYmkuYWFiYk5lZWRzVXBkYXRlKSB7XG4gICAgICAgIGJpLmNvbXB1dGVBQUJCKCk7XG4gICAgICB9XG4gICAgfSAvLyBTb3J0IHRoZSBsaXN0XG5cblxuICAgIGlmIChheGlzSW5kZXggPT09IDApIHtcbiAgICAgIFNBUEJyb2FkcGhhc2UuaW5zZXJ0aW9uU29ydFgoYXhpc0xpc3QpO1xuICAgIH0gZWxzZSBpZiAoYXhpc0luZGV4ID09PSAxKSB7XG4gICAgICBTQVBCcm9hZHBoYXNlLmluc2VydGlvblNvcnRZKGF4aXNMaXN0KTtcbiAgICB9IGVsc2UgaWYgKGF4aXNJbmRleCA9PT0gMikge1xuICAgICAgU0FQQnJvYWRwaGFzZS5pbnNlcnRpb25Tb3J0WihheGlzTGlzdCk7XG4gICAgfVxuICB9XG4gIC8qKlxyXG4gICAqIENvbXB1dGVzIHRoZSB2YXJpYW5jZSBvZiB0aGUgYm9keSBwb3NpdGlvbnMgYW5kIGVzdGltYXRlcyB0aGUgYmVzdFxyXG4gICAqIGF4aXMgdG8gdXNlLiBXaWxsIGF1dG9tYXRpY2FsbHkgc2V0IHByb3BlcnR5IC5heGlzSW5kZXguXHJcbiAgICogQG1ldGhvZCBhdXRvRGV0ZWN0QXhpc1xyXG4gICAqL1xuXG5cbiAgYXV0b0RldGVjdEF4aXMoKSB7XG4gICAgbGV0IHN1bVggPSAwO1xuICAgIGxldCBzdW1YMiA9IDA7XG4gICAgbGV0IHN1bVkgPSAwO1xuICAgIGxldCBzdW1ZMiA9IDA7XG4gICAgbGV0IHN1bVogPSAwO1xuICAgIGxldCBzdW1aMiA9IDA7XG4gICAgY29uc3QgYm9kaWVzID0gdGhpcy5heGlzTGlzdDtcbiAgICBjb25zdCBOID0gYm9kaWVzLmxlbmd0aDtcbiAgICBjb25zdCBpbnZOID0gMSAvIE47XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSAhPT0gTjsgaSsrKSB7XG4gICAgICBjb25zdCBiID0gYm9kaWVzW2ldO1xuICAgICAgY29uc3QgY2VudGVyWCA9IGIucG9zaXRpb24ueDtcbiAgICAgIHN1bVggKz0gY2VudGVyWDtcbiAgICAgIHN1bVgyICs9IGNlbnRlclggKiBjZW50ZXJYO1xuICAgICAgY29uc3QgY2VudGVyWSA9IGIucG9zaXRpb24ueTtcbiAgICAgIHN1bVkgKz0gY2VudGVyWTtcbiAgICAgIHN1bVkyICs9IGNlbnRlclkgKiBjZW50ZXJZO1xuICAgICAgY29uc3QgY2VudGVyWiA9IGIucG9zaXRpb24uejtcbiAgICAgIHN1bVogKz0gY2VudGVyWjtcbiAgICAgIHN1bVoyICs9IGNlbnRlclogKiBjZW50ZXJaO1xuICAgIH1cblxuICAgIGNvbnN0IHZhcmlhbmNlWCA9IHN1bVgyIC0gc3VtWCAqIHN1bVggKiBpbnZOO1xuICAgIGNvbnN0IHZhcmlhbmNlWSA9IHN1bVkyIC0gc3VtWSAqIHN1bVkgKiBpbnZOO1xuICAgIGNvbnN0IHZhcmlhbmNlWiA9IHN1bVoyIC0gc3VtWiAqIHN1bVogKiBpbnZOO1xuXG4gICAgaWYgKHZhcmlhbmNlWCA+IHZhcmlhbmNlWSkge1xuICAgICAgaWYgKHZhcmlhbmNlWCA+IHZhcmlhbmNlWikge1xuICAgICAgICB0aGlzLmF4aXNJbmRleCA9IDA7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmF4aXNJbmRleCA9IDI7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICh2YXJpYW5jZVkgPiB2YXJpYW5jZVopIHtcbiAgICAgIHRoaXMuYXhpc0luZGV4ID0gMTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5heGlzSW5kZXggPSAyO1xuICAgIH1cbiAgfVxuICAvKipcclxuICAgKiBSZXR1cm5zIGFsbCB0aGUgYm9kaWVzIHdpdGhpbiBhbiBBQUJCLlxyXG4gICAqIEBtZXRob2QgYWFiYlF1ZXJ5XHJcbiAgICogQHBhcmFtICB7V29ybGR9IHdvcmxkXHJcbiAgICogQHBhcmFtICB7QUFCQn0gYWFiYlxyXG4gICAqIEBwYXJhbSB7YXJyYXl9IHJlc3VsdCBBbiBhcnJheSB0byBzdG9yZSByZXN1bHRpbmcgYm9kaWVzIGluLlxyXG4gICAqIEByZXR1cm4ge2FycmF5fVxyXG4gICAqL1xuXG5cbiAgYWFiYlF1ZXJ5KHdvcmxkLCBhYWJiLCByZXN1bHQgPSBbXSkge1xuICAgIGlmICh0aGlzLmRpcnR5KSB7XG4gICAgICB0aGlzLnNvcnRMaXN0KCk7XG4gICAgICB0aGlzLmRpcnR5ID0gZmFsc2U7XG4gICAgfVxuXG4gICAgY29uc3QgYXhpc0luZGV4ID0gdGhpcy5heGlzSW5kZXg7XG4gICAgbGV0IGF4aXMgPSAneCc7XG5cbiAgICBpZiAoYXhpc0luZGV4ID09PSAxKSB7XG4gICAgICBheGlzID0gJ3knO1xuICAgIH1cblxuICAgIGlmIChheGlzSW5kZXggPT09IDIpIHtcbiAgICAgIGF4aXMgPSAneic7XG4gICAgfVxuXG4gICAgY29uc3QgYXhpc0xpc3QgPSB0aGlzLmF4aXNMaXN0O1xuICAgIGNvbnN0IGxvd2VyID0gYWFiYi5sb3dlckJvdW5kW2F4aXNdO1xuICAgIGNvbnN0IHVwcGVyID0gYWFiYi51cHBlckJvdW5kW2F4aXNdO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBheGlzTGlzdC5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgYiA9IGF4aXNMaXN0W2ldO1xuXG4gICAgICBpZiAoYi5hYWJiTmVlZHNVcGRhdGUpIHtcbiAgICAgICAgYi5jb21wdXRlQUFCQigpO1xuICAgICAgfVxuXG4gICAgICBpZiAoYi5hYWJiLm92ZXJsYXBzKGFhYmIpKSB7XG4gICAgICAgIHJlc3VsdC5wdXNoKGIpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxufVxuLyoqXHJcbiAqIEBzdGF0aWNcclxuICogQG1ldGhvZCBpbnNlcnRpb25Tb3J0WFxyXG4gKiBAcGFyYW0gIHtBcnJheX0gYVxyXG4gKiBAcmV0dXJuIHtBcnJheX1cclxuICovXG5cblNBUEJyb2FkcGhhc2UuaW5zZXJ0aW9uU29ydFggPSBhID0+IHtcbiAgZm9yIChsZXQgaSA9IDEsIGwgPSBhLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgIGNvbnN0IHYgPSBhW2ldO1xuICAgIGxldCBqO1xuXG4gICAgZm9yIChqID0gaSAtIDE7IGogPj0gMDsgai0tKSB7XG4gICAgICBpZiAoYVtqXS5hYWJiLmxvd2VyQm91bmQueCA8PSB2LmFhYmIubG93ZXJCb3VuZC54KSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuXG4gICAgICBhW2ogKyAxXSA9IGFbal07XG4gICAgfVxuXG4gICAgYVtqICsgMV0gPSB2O1xuICB9XG5cbiAgcmV0dXJuIGE7XG59O1xuLyoqXHJcbiAqIEBzdGF0aWNcclxuICogQG1ldGhvZCBpbnNlcnRpb25Tb3J0WVxyXG4gKiBAcGFyYW0gIHtBcnJheX0gYVxyXG4gKiBAcmV0dXJuIHtBcnJheX1cclxuICovXG5cblxuU0FQQnJvYWRwaGFzZS5pbnNlcnRpb25Tb3J0WSA9IGEgPT4ge1xuICBmb3IgKGxldCBpID0gMSwgbCA9IGEubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgY29uc3QgdiA9IGFbaV07XG4gICAgbGV0IGo7XG5cbiAgICBmb3IgKGogPSBpIC0gMTsgaiA+PSAwOyBqLS0pIHtcbiAgICAgIGlmIChhW2pdLmFhYmIubG93ZXJCb3VuZC55IDw9IHYuYWFiYi5sb3dlckJvdW5kLnkpIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG5cbiAgICAgIGFbaiArIDFdID0gYVtqXTtcbiAgICB9XG5cbiAgICBhW2ogKyAxXSA9IHY7XG4gIH1cblxuICByZXR1cm4gYTtcbn07XG4vKipcclxuICogQHN0YXRpY1xyXG4gKiBAbWV0aG9kIGluc2VydGlvblNvcnRaXHJcbiAqIEBwYXJhbSAge0FycmF5fSBhXHJcbiAqIEByZXR1cm4ge0FycmF5fVxyXG4gKi9cblxuXG5TQVBCcm9hZHBoYXNlLmluc2VydGlvblNvcnRaID0gYSA9PiB7XG4gIGZvciAobGV0IGkgPSAxLCBsID0gYS5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICBjb25zdCB2ID0gYVtpXTtcbiAgICBsZXQgajtcblxuICAgIGZvciAoaiA9IGkgLSAxOyBqID49IDA7IGotLSkge1xuICAgICAgaWYgKGFbal0uYWFiYi5sb3dlckJvdW5kLnogPD0gdi5hYWJiLmxvd2VyQm91bmQueikge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cblxuICAgICAgYVtqICsgMV0gPSBhW2pdO1xuICAgIH1cblxuICAgIGFbaiArIDFdID0gdjtcbiAgfVxuXG4gIHJldHVybiBhO1xufTtcbi8qKlxyXG4gKiBDaGVjayBpZiB0aGUgYm91bmRzIG9mIHR3byBib2RpZXMgb3ZlcmxhcCwgYWxvbmcgdGhlIGdpdmVuIFNBUCBheGlzLlxyXG4gKiBAc3RhdGljXHJcbiAqIEBtZXRob2QgY2hlY2tCb3VuZHNcclxuICogQHBhcmFtICB7Qm9keX0gYmlcclxuICogQHBhcmFtICB7Qm9keX0gYmpcclxuICogQHBhcmFtICB7TnVtYmVyfSBheGlzSW5kZXhcclxuICogQHJldHVybiB7Qm9vbGVhbn1cclxuICovXG5cblxuU0FQQnJvYWRwaGFzZS5jaGVja0JvdW5kcyA9IChiaSwgYmosIGF4aXNJbmRleCkgPT4ge1xuICBsZXQgYmlQb3M7XG4gIGxldCBialBvcztcblxuICBpZiAoYXhpc0luZGV4ID09PSAwKSB7XG4gICAgYmlQb3MgPSBiaS5wb3NpdGlvbi54O1xuICAgIGJqUG9zID0gYmoucG9zaXRpb24ueDtcbiAgfSBlbHNlIGlmIChheGlzSW5kZXggPT09IDEpIHtcbiAgICBiaVBvcyA9IGJpLnBvc2l0aW9uLnk7XG4gICAgYmpQb3MgPSBiai5wb3NpdGlvbi55O1xuICB9IGVsc2UgaWYgKGF4aXNJbmRleCA9PT0gMikge1xuICAgIGJpUG9zID0gYmkucG9zaXRpb24uejtcbiAgICBialBvcyA9IGJqLnBvc2l0aW9uLno7XG4gIH1cblxuICBjb25zdCByaSA9IGJpLmJvdW5kaW5nUmFkaXVzLFxuICAgICAgICByaiA9IGJqLmJvdW5kaW5nUmFkaXVzLFxuICAgICAgICAvLyBib3VuZEExID0gYmlQb3MgLSByaSxcbiAgYm91bmRBMiA9IGJpUG9zICsgcmksXG4gICAgICAgIGJvdW5kQjEgPSBialBvcyAtIHJqOyAvLyBib3VuZEIyID0gYmpQb3MgKyByajtcblxuICByZXR1cm4gYm91bmRCMSA8IGJvdW5kQTI7XG59O1xuXG5mdW5jdGlvbiBVdGlscygpIHt9XG4vKipcclxuICogRXh0ZW5kIGFuIG9wdGlvbnMgb2JqZWN0IHdpdGggZGVmYXVsdCB2YWx1ZXMuXHJcbiAqIEBzdGF0aWNcclxuICogQG1ldGhvZCBkZWZhdWx0c1xyXG4gKiBAcGFyYW0gIHtvYmplY3R9IG9wdGlvbnMgVGhlIG9wdGlvbnMgb2JqZWN0LiBNYXkgYmUgZmFsc3k6IGluIHRoaXMgY2FzZSwgYSBuZXcgb2JqZWN0IGlzIGNyZWF0ZWQgYW5kIHJldHVybmVkLlxyXG4gKiBAcGFyYW0gIHtvYmplY3R9IGRlZmF1bHRzIEFuIG9iamVjdCBjb250YWluaW5nIGRlZmF1bHQgdmFsdWVzLlxyXG4gKiBAcmV0dXJuIHtvYmplY3R9IFRoZSBtb2RpZmllZCBvcHRpb25zIG9iamVjdC5cclxuICovXG5cblV0aWxzLmRlZmF1bHRzID0gKG9wdGlvbnMgPSB7fSwgZGVmYXVsdHMpID0+IHtcbiAgZm9yIChsZXQga2V5IGluIGRlZmF1bHRzKSB7XG4gICAgaWYgKCEoa2V5IGluIG9wdGlvbnMpKSB7XG4gICAgICBvcHRpb25zW2tleV0gPSBkZWZhdWx0c1trZXldO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBvcHRpb25zO1xufTtcblxuLyoqXHJcbiAqIENvbnN0cmFpbnQgYmFzZSBjbGFzc1xyXG4gKiBAY2xhc3MgQ29uc3RyYWludFxyXG4gKiBAYXV0aG9yIHNjaHRlcHBlXHJcbiAqIEBjb25zdHJ1Y3RvclxyXG4gKiBAcGFyYW0ge0JvZHl9IGJvZHlBXHJcbiAqIEBwYXJhbSB7Qm9keX0gYm9keUJcclxuICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXVxyXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmNvbGxpZGVDb25uZWN0ZWQ9dHJ1ZV1cclxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy53YWtlVXBCb2RpZXM9dHJ1ZV1cclxuICovXG5jbGFzcyBDb25zdHJhaW50IHtcbiAgLy8gRXF1YXRpb25zIHRvIGJlIHNvbHZlZCBpbiB0aGlzIGNvbnN0cmFpbnQuXG4gIC8vIFNldCB0byB0cnVlIGlmIHlvdSB3YW50IHRoZSBib2RpZXMgdG8gY29sbGlkZSB3aGVuIHRoZXkgYXJlIGNvbm5lY3RlZC5cbiAgY29uc3RydWN0b3IoYm9keUEsIGJvZHlCLCBvcHRpb25zID0ge30pIHtcbiAgICBvcHRpb25zID0gVXRpbHMuZGVmYXVsdHMob3B0aW9ucywge1xuICAgICAgY29sbGlkZUNvbm5lY3RlZDogdHJ1ZSxcbiAgICAgIHdha2VVcEJvZGllczogdHJ1ZVxuICAgIH0pO1xuICAgIHRoaXMuZXF1YXRpb25zID0gW107XG4gICAgdGhpcy5ib2R5QSA9IGJvZHlBO1xuICAgIHRoaXMuYm9keUIgPSBib2R5QjtcbiAgICB0aGlzLmlkID0gQ29uc3RyYWludC5pZENvdW50ZXIrKztcbiAgICB0aGlzLmNvbGxpZGVDb25uZWN0ZWQgPSBvcHRpb25zLmNvbGxpZGVDb25uZWN0ZWQ7XG5cbiAgICBpZiAob3B0aW9ucy53YWtlVXBCb2RpZXMpIHtcbiAgICAgIGlmIChib2R5QSkge1xuICAgICAgICBib2R5QS53YWtlVXAoKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGJvZHlCKSB7XG4gICAgICAgIGJvZHlCLndha2VVcCgpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICAvKipcclxuICAgKiBVcGRhdGUgYWxsIHRoZSBlcXVhdGlvbnMgd2l0aCBkYXRhLlxyXG4gICAqIEBtZXRob2QgdXBkYXRlXHJcbiAgICovXG5cblxuICB1cGRhdGUoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdtZXRob2QgdXBkYXRlKCkgbm90IGltcGxtZW1lbnRlZCBpbiB0aGlzIENvbnN0cmFpbnQgc3ViY2xhc3MhJyk7XG4gIH1cbiAgLyoqXHJcbiAgICogRW5hYmxlcyBhbGwgZXF1YXRpb25zIGluIHRoZSBjb25zdHJhaW50LlxyXG4gICAqIEBtZXRob2QgZW5hYmxlXHJcbiAgICovXG5cblxuICBlbmFibGUoKSB7XG4gICAgY29uc3QgZXFzID0gdGhpcy5lcXVhdGlvbnM7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGVxcy5sZW5ndGg7IGkrKykge1xuICAgICAgZXFzW2ldLmVuYWJsZWQgPSB0cnVlO1xuICAgIH1cbiAgfVxuICAvKipcclxuICAgKiBEaXNhYmxlcyBhbGwgZXF1YXRpb25zIGluIHRoZSBjb25zdHJhaW50LlxyXG4gICAqIEBtZXRob2QgZGlzYWJsZVxyXG4gICAqL1xuXG5cbiAgZGlzYWJsZSgpIHtcbiAgICBjb25zdCBlcXMgPSB0aGlzLmVxdWF0aW9ucztcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZXFzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBlcXNbaV0uZW5hYmxlZCA9IGZhbHNlO1xuICAgIH1cbiAgfVxuXG59XG5Db25zdHJhaW50LmlkQ291bnRlciA9IDA7XG5cbi8qKlxyXG4gKiBBbiBlbGVtZW50IGNvbnRhaW5pbmcgNiBlbnRyaWVzLCAzIHNwYXRpYWwgYW5kIDMgcm90YXRpb25hbCBkZWdyZWVzIG9mIGZyZWVkb20uXHJcbiAqL1xuXG5jbGFzcyBKYWNvYmlhbkVsZW1lbnQge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLnNwYXRpYWwgPSBuZXcgVmVjMygpO1xuICAgIHRoaXMucm90YXRpb25hbCA9IG5ldyBWZWMzKCk7XG4gIH1cbiAgLyoqXHJcbiAgICogTXVsdGlwbHkgd2l0aCBvdGhlciBKYWNvYmlhbkVsZW1lbnRcclxuICAgKi9cblxuXG4gIG11bHRpcGx5RWxlbWVudChlbGVtZW50KSB7XG4gICAgcmV0dXJuIGVsZW1lbnQuc3BhdGlhbC5kb3QodGhpcy5zcGF0aWFsKSArIGVsZW1lbnQucm90YXRpb25hbC5kb3QodGhpcy5yb3RhdGlvbmFsKTtcbiAgfVxuICAvKipcclxuICAgKiBNdWx0aXBseSB3aXRoIHR3byB2ZWN0b3JzXHJcbiAgICovXG5cblxuICBtdWx0aXBseVZlY3RvcnMoc3BhdGlhbCwgcm90YXRpb25hbCkge1xuICAgIHJldHVybiBzcGF0aWFsLmRvdCh0aGlzLnNwYXRpYWwpICsgcm90YXRpb25hbC5kb3QodGhpcy5yb3RhdGlvbmFsKTtcbiAgfVxuXG59XG5cbi8qKlxyXG4gKiBFcXVhdGlvbiBiYXNlIGNsYXNzXHJcbiAqIEBjbGFzcyBFcXVhdGlvblxyXG4gKiBAY29uc3RydWN0b3JcclxuICogQGF1dGhvciBzY2h0ZXBwZVxyXG4gKiBAcGFyYW0ge0JvZHl9IGJpXHJcbiAqIEBwYXJhbSB7Qm9keX0gYmpcclxuICogQHBhcmFtIHtOdW1iZXJ9IG1pbkZvcmNlIE1pbmltdW0gKHJlYWQ6IG5lZ2F0aXZlIG1heCkgZm9yY2UgdG8gYmUgYXBwbGllZCBieSB0aGUgY29uc3RyYWludC5cclxuICogQHBhcmFtIHtOdW1iZXJ9IG1heEZvcmNlIE1heGltdW0gKHJlYWQ6IHBvc2l0aXZlIG1heCkgZm9yY2UgdG8gYmUgYXBwbGllZCBieSB0aGUgY29uc3RyYWludC5cclxuICovXG5jbGFzcyBFcXVhdGlvbiB7XG4gIC8vIFNQT09LIHBhcmFtZXRlclxuICAvLyBTUE9PSyBwYXJhbWV0ZXJcbiAgLy8gU1BPT0sgcGFyYW1ldGVyXG4gIC8vIEEgbnVtYmVyLCBwcm9wb3J0aW9uYWwgdG8gdGhlIGZvcmNlIGFkZGVkIHRvIHRoZSBib2RpZXMuXG4gIGNvbnN0cnVjdG9yKGJpLCBiaiwgbWluRm9yY2UgPSAtMWU2LCBtYXhGb3JjZSA9IDFlNikge1xuICAgIHRoaXMuaWQgPSBFcXVhdGlvbi5pZCsrO1xuICAgIHRoaXMubWluRm9yY2UgPSBtaW5Gb3JjZTtcbiAgICB0aGlzLm1heEZvcmNlID0gbWF4Rm9yY2U7XG4gICAgdGhpcy5iaSA9IGJpO1xuICAgIHRoaXMuYmogPSBiajtcbiAgICB0aGlzLmEgPSAwLjA7IC8vIFNQT09LIHBhcmFtZXRlclxuXG4gICAgdGhpcy5iID0gMC4wOyAvLyBTUE9PSyBwYXJhbWV0ZXJcblxuICAgIHRoaXMuZXBzID0gMC4wOyAvLyBTUE9PSyBwYXJhbWV0ZXJcblxuICAgIHRoaXMuamFjb2JpYW5FbGVtZW50QSA9IG5ldyBKYWNvYmlhbkVsZW1lbnQoKTtcbiAgICB0aGlzLmphY29iaWFuRWxlbWVudEIgPSBuZXcgSmFjb2JpYW5FbGVtZW50KCk7XG4gICAgdGhpcy5lbmFibGVkID0gdHJ1ZTtcbiAgICB0aGlzLm11bHRpcGxpZXIgPSAwO1xuICAgIHRoaXMuc2V0U3Bvb2tQYXJhbXMoMWU3LCA0LCAxIC8gNjApOyAvLyBTZXQgdHlwaWNhbCBzcG9vayBwYXJhbXNcbiAgfVxuICAvKipcclxuICAgKiBSZWNhbGN1bGF0ZXMgYSxiLGVwcy5cclxuICAgKiBAbWV0aG9kIHNldFNwb29rUGFyYW1zXHJcbiAgICovXG5cblxuICBzZXRTcG9va1BhcmFtcyhzdGlmZm5lc3MsIHJlbGF4YXRpb24sIHRpbWVTdGVwKSB7XG4gICAgY29uc3QgZCA9IHJlbGF4YXRpb247XG4gICAgY29uc3QgayA9IHN0aWZmbmVzcztcbiAgICBjb25zdCBoID0gdGltZVN0ZXA7XG4gICAgdGhpcy5hID0gNC4wIC8gKGggKiAoMSArIDQgKiBkKSk7XG4gICAgdGhpcy5iID0gNC4wICogZCAvICgxICsgNCAqIGQpO1xuICAgIHRoaXMuZXBzID0gNC4wIC8gKGggKiBoICogayAqICgxICsgNCAqIGQpKTtcbiAgfVxuICAvKipcclxuICAgKiBDb21wdXRlcyB0aGUgcmlnaHQgaGFuZCBzaWRlIG9mIHRoZSBTUE9PSyBlcXVhdGlvblxyXG4gICAqIEBtZXRob2QgY29tcHV0ZUJcclxuICAgKiBAcmV0dXJuIHtOdW1iZXJ9XHJcbiAgICovXG5cblxuICBjb21wdXRlQihhLCBiLCBoKSB7XG4gICAgY29uc3QgR1cgPSB0aGlzLmNvbXB1dGVHVygpO1xuICAgIGNvbnN0IEdxID0gdGhpcy5jb21wdXRlR3EoKTtcbiAgICBjb25zdCBHaU1mID0gdGhpcy5jb21wdXRlR2lNZigpO1xuICAgIHJldHVybiAtR3EgKiBhIC0gR1cgKiBiIC0gR2lNZiAqIGg7XG4gIH1cbiAgLyoqXHJcbiAgICogQ29tcHV0ZXMgRypxLCB3aGVyZSBxIGFyZSB0aGUgZ2VuZXJhbGl6ZWQgYm9keSBjb29yZGluYXRlc1xyXG4gICAqIEBtZXRob2QgY29tcHV0ZUdxXHJcbiAgICogQHJldHVybiB7TnVtYmVyfVxyXG4gICAqL1xuXG5cbiAgY29tcHV0ZUdxKCkge1xuICAgIGNvbnN0IEdBID0gdGhpcy5qYWNvYmlhbkVsZW1lbnRBO1xuICAgIGNvbnN0IEdCID0gdGhpcy5qYWNvYmlhbkVsZW1lbnRCO1xuICAgIGNvbnN0IGJpID0gdGhpcy5iaTtcbiAgICBjb25zdCBiaiA9IHRoaXMuYmo7XG4gICAgY29uc3QgeGkgPSBiaS5wb3NpdGlvbjtcbiAgICBjb25zdCB4aiA9IGJqLnBvc2l0aW9uO1xuICAgIHJldHVybiBHQS5zcGF0aWFsLmRvdCh4aSkgKyBHQi5zcGF0aWFsLmRvdCh4aik7XG4gIH1cbiAgLyoqXHJcbiAgICogQ29tcHV0ZXMgRypXLCB3aGVyZSBXIGFyZSB0aGUgYm9keSB2ZWxvY2l0aWVzXHJcbiAgICogQG1ldGhvZCBjb21wdXRlR1dcclxuICAgKiBAcmV0dXJuIHtOdW1iZXJ9XHJcbiAgICovXG5cblxuICBjb21wdXRlR1coKSB7XG4gICAgY29uc3QgR0EgPSB0aGlzLmphY29iaWFuRWxlbWVudEE7XG4gICAgY29uc3QgR0IgPSB0aGlzLmphY29iaWFuRWxlbWVudEI7XG4gICAgY29uc3QgYmkgPSB0aGlzLmJpO1xuICAgIGNvbnN0IGJqID0gdGhpcy5iajtcbiAgICBjb25zdCB2aSA9IGJpLnZlbG9jaXR5O1xuICAgIGNvbnN0IHZqID0gYmoudmVsb2NpdHk7XG4gICAgY29uc3Qgd2kgPSBiaS5hbmd1bGFyVmVsb2NpdHk7XG4gICAgY29uc3Qgd2ogPSBiai5hbmd1bGFyVmVsb2NpdHk7XG4gICAgcmV0dXJuIEdBLm11bHRpcGx5VmVjdG9ycyh2aSwgd2kpICsgR0IubXVsdGlwbHlWZWN0b3JzKHZqLCB3aik7XG4gIH1cbiAgLyoqXHJcbiAgICogQ29tcHV0ZXMgRypXbGFtYmRhLCB3aGVyZSBXIGFyZSB0aGUgYm9keSB2ZWxvY2l0aWVzXHJcbiAgICogQG1ldGhvZCBjb21wdXRlR1dsYW1iZGFcclxuICAgKiBAcmV0dXJuIHtOdW1iZXJ9XHJcbiAgICovXG5cblxuICBjb21wdXRlR1dsYW1iZGEoKSB7XG4gICAgY29uc3QgR0EgPSB0aGlzLmphY29iaWFuRWxlbWVudEE7XG4gICAgY29uc3QgR0IgPSB0aGlzLmphY29iaWFuRWxlbWVudEI7XG4gICAgY29uc3QgYmkgPSB0aGlzLmJpO1xuICAgIGNvbnN0IGJqID0gdGhpcy5iajtcbiAgICBjb25zdCB2aSA9IGJpLnZsYW1iZGE7XG4gICAgY29uc3QgdmogPSBiai52bGFtYmRhO1xuICAgIGNvbnN0IHdpID0gYmkud2xhbWJkYTtcbiAgICBjb25zdCB3aiA9IGJqLndsYW1iZGE7XG4gICAgcmV0dXJuIEdBLm11bHRpcGx5VmVjdG9ycyh2aSwgd2kpICsgR0IubXVsdGlwbHlWZWN0b3JzKHZqLCB3aik7XG4gIH1cblxuICBjb21wdXRlR2lNZigpIHtcbiAgICBjb25zdCBHQSA9IHRoaXMuamFjb2JpYW5FbGVtZW50QTtcbiAgICBjb25zdCBHQiA9IHRoaXMuamFjb2JpYW5FbGVtZW50QjtcbiAgICBjb25zdCBiaSA9IHRoaXMuYmk7XG4gICAgY29uc3QgYmogPSB0aGlzLmJqO1xuICAgIGNvbnN0IGZpID0gYmkuZm9yY2U7XG4gICAgY29uc3QgdGkgPSBiaS50b3JxdWU7XG4gICAgY29uc3QgZmogPSBiai5mb3JjZTtcbiAgICBjb25zdCB0aiA9IGJqLnRvcnF1ZTtcbiAgICBjb25zdCBpbnZNYXNzaSA9IGJpLmludk1hc3NTb2x2ZTtcbiAgICBjb25zdCBpbnZNYXNzaiA9IGJqLmludk1hc3NTb2x2ZTtcbiAgICBmaS5zY2FsZShpbnZNYXNzaSwgaU1maSk7XG4gICAgZmouc2NhbGUoaW52TWFzc2osIGlNZmopO1xuICAgIGJpLmludkluZXJ0aWFXb3JsZFNvbHZlLnZtdWx0KHRpLCBpbnZJaV92bXVsdF90YXVpKTtcbiAgICBiai5pbnZJbmVydGlhV29ybGRTb2x2ZS52bXVsdCh0aiwgaW52SWpfdm11bHRfdGF1aik7XG4gICAgcmV0dXJuIEdBLm11bHRpcGx5VmVjdG9ycyhpTWZpLCBpbnZJaV92bXVsdF90YXVpKSArIEdCLm11bHRpcGx5VmVjdG9ycyhpTWZqLCBpbnZJal92bXVsdF90YXVqKTtcbiAgfVxuXG4gIGNvbXB1dGVHaU1HdCgpIHtcbiAgICBjb25zdCBHQSA9IHRoaXMuamFjb2JpYW5FbGVtZW50QTtcbiAgICBjb25zdCBHQiA9IHRoaXMuamFjb2JpYW5FbGVtZW50QjtcbiAgICBjb25zdCBiaSA9IHRoaXMuYmk7XG4gICAgY29uc3QgYmogPSB0aGlzLmJqO1xuICAgIGNvbnN0IGludk1hc3NpID0gYmkuaW52TWFzc1NvbHZlO1xuICAgIGNvbnN0IGludk1hc3NqID0gYmouaW52TWFzc1NvbHZlO1xuICAgIGNvbnN0IGludklpID0gYmkuaW52SW5lcnRpYVdvcmxkU29sdmU7XG4gICAgY29uc3QgaW52SWogPSBiai5pbnZJbmVydGlhV29ybGRTb2x2ZTtcbiAgICBsZXQgcmVzdWx0ID0gaW52TWFzc2kgKyBpbnZNYXNzajtcbiAgICBpbnZJaS52bXVsdChHQS5yb3RhdGlvbmFsLCB0bXAkMSk7XG4gICAgcmVzdWx0ICs9IHRtcCQxLmRvdChHQS5yb3RhdGlvbmFsKTtcbiAgICBpbnZJai52bXVsdChHQi5yb3RhdGlvbmFsLCB0bXAkMSk7XG4gICAgcmVzdWx0ICs9IHRtcCQxLmRvdChHQi5yb3RhdGlvbmFsKTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG4gIC8qKlxyXG4gICAqIEFkZCBjb25zdHJhaW50IHZlbG9jaXR5IHRvIHRoZSBib2RpZXMuXHJcbiAgICogQG1ldGhvZCBhZGRUb1dsYW1iZGFcclxuICAgKiBAcGFyYW0ge051bWJlcn0gZGVsdGFsYW1iZGFcclxuICAgKi9cblxuXG4gIGFkZFRvV2xhbWJkYShkZWx0YWxhbWJkYSkge1xuICAgIGNvbnN0IEdBID0gdGhpcy5qYWNvYmlhbkVsZW1lbnRBO1xuICAgIGNvbnN0IEdCID0gdGhpcy5qYWNvYmlhbkVsZW1lbnRCO1xuICAgIGNvbnN0IGJpID0gdGhpcy5iaTtcbiAgICBjb25zdCBiaiA9IHRoaXMuYmo7XG4gICAgY29uc3QgdGVtcCA9IGFkZFRvV2xhbWJkYV90ZW1wOyAvLyBBZGQgdG8gbGluZWFyIHZlbG9jaXR5XG4gICAgLy8gdl9sYW1iZGEgKz0gaW52KE0pICogZGVsdGFfbGFtYmEgKiBHXG5cbiAgICBiaS52bGFtYmRhLmFkZFNjYWxlZFZlY3RvcihiaS5pbnZNYXNzU29sdmUgKiBkZWx0YWxhbWJkYSwgR0Euc3BhdGlhbCwgYmkudmxhbWJkYSk7XG4gICAgYmoudmxhbWJkYS5hZGRTY2FsZWRWZWN0b3IoYmouaW52TWFzc1NvbHZlICogZGVsdGFsYW1iZGEsIEdCLnNwYXRpYWwsIGJqLnZsYW1iZGEpOyAvLyBBZGQgdG8gYW5ndWxhciB2ZWxvY2l0eVxuXG4gICAgYmkuaW52SW5lcnRpYVdvcmxkU29sdmUudm11bHQoR0Eucm90YXRpb25hbCwgdGVtcCk7XG4gICAgYmkud2xhbWJkYS5hZGRTY2FsZWRWZWN0b3IoZGVsdGFsYW1iZGEsIHRlbXAsIGJpLndsYW1iZGEpO1xuICAgIGJqLmludkluZXJ0aWFXb3JsZFNvbHZlLnZtdWx0KEdCLnJvdGF0aW9uYWwsIHRlbXApO1xuICAgIGJqLndsYW1iZGEuYWRkU2NhbGVkVmVjdG9yKGRlbHRhbGFtYmRhLCB0ZW1wLCBiai53bGFtYmRhKTtcbiAgfVxuICAvKipcclxuICAgKiBDb21wdXRlIHRoZSBkZW5vbWluYXRvciBwYXJ0IG9mIHRoZSBTUE9PSyBlcXVhdGlvbjogQyA9IEcqaW52KE0pKkcnICsgZXBzXHJcbiAgICogQG1ldGhvZCBjb21wdXRlSW52Q1xyXG4gICAqIEBwYXJhbSAge051bWJlcn0gZXBzXHJcbiAgICogQHJldHVybiB7TnVtYmVyfVxyXG4gICAqL1xuXG5cbiAgY29tcHV0ZUMoKSB7XG4gICAgcmV0dXJuIHRoaXMuY29tcHV0ZUdpTUd0KCkgKyB0aGlzLmVwcztcbiAgfVxuXG59XG5FcXVhdGlvbi5pZCA9IDA7XG4vKipcclxuICogQ29tcHV0ZXMgRyppbnYoTSkqZiwgd2hlcmUgTSBpcyB0aGUgbWFzcyBtYXRyaXggd2l0aCBkaWFnb25hbCBibG9ja3MgZm9yIGVhY2ggYm9keSwgYW5kIGYgYXJlIHRoZSBmb3JjZXMgb24gdGhlIGJvZGllcy5cclxuICogQG1ldGhvZCBjb21wdXRlR2lNZlxyXG4gKiBAcmV0dXJuIHtOdW1iZXJ9XHJcbiAqL1xuXG5jb25zdCBpTWZpID0gbmV3IFZlYzMoKTtcbmNvbnN0IGlNZmogPSBuZXcgVmVjMygpO1xuY29uc3QgaW52SWlfdm11bHRfdGF1aSA9IG5ldyBWZWMzKCk7XG5jb25zdCBpbnZJal92bXVsdF90YXVqID0gbmV3IFZlYzMoKTtcbi8qKlxyXG4gKiBDb21wdXRlcyBHKmludihNKSpHJ1xyXG4gKiBAbWV0aG9kIGNvbXB1dGVHaU1HdFxyXG4gKiBAcmV0dXJuIHtOdW1iZXJ9XHJcbiAqL1xuXG5jb25zdCB0bXAkMSA9IG5ldyBWZWMzKCk7XG5jb25zdCBhZGRUb1dsYW1iZGFfdGVtcCA9IG5ldyBWZWMzKCk7XG5cbi8qKlxyXG4gKiBDb250YWN0L25vbi1wZW5ldHJhdGlvbiBjb25zdHJhaW50IGVxdWF0aW9uXHJcbiAqIEBjbGFzcyBDb250YWN0RXF1YXRpb25cclxuICogQGNvbnN0cnVjdG9yXHJcbiAqIEBhdXRob3Igc2NodGVwcGVcclxuICogQHBhcmFtIHtCb2R5fSBib2R5QVxyXG4gKiBAcGFyYW0ge0JvZHl9IGJvZHlCXHJcbiAqIEBleHRlbmRzIEVxdWF0aW9uXHJcbiAqL1xuY2xhc3MgQ29udGFjdEVxdWF0aW9uIGV4dGVuZHMgRXF1YXRpb24ge1xuICAvLyBcImJvdW5jaW5lc3NcIjogdTEgPSAtZSp1MFxuICAvLyBXb3JsZC1vcmllbnRlZCB2ZWN0b3IgdGhhdCBnb2VzIGZyb20gdGhlIGNlbnRlciBvZiBiaSB0byB0aGUgY29udGFjdCBwb2ludC5cbiAgLy8gV29ybGQtb3JpZW50ZWQgdmVjdG9yIHRoYXQgc3RhcnRzIGluIGJvZHkgaiBwb3NpdGlvbiBhbmQgZ29lcyB0byB0aGUgY29udGFjdCBwb2ludC5cbiAgLy8gQ29udGFjdCBub3JtYWwsIHBvaW50aW5nIG91dCBvZiBib2R5IGkuXG4gIGNvbnN0cnVjdG9yKGJvZHlBLCBib2R5QiwgbWF4Rm9yY2UgPSAxZTYpIHtcbiAgICBzdXBlcihib2R5QSwgYm9keUIsIDAsIG1heEZvcmNlKTtcbiAgICB0aGlzLnJlc3RpdHV0aW9uID0gMC4wO1xuICAgIHRoaXMucmkgPSBuZXcgVmVjMygpO1xuICAgIHRoaXMucmogPSBuZXcgVmVjMygpO1xuICAgIHRoaXMubmkgPSBuZXcgVmVjMygpO1xuICB9XG5cbiAgY29tcHV0ZUIoaCkge1xuICAgIGNvbnN0IGEgPSB0aGlzLmE7XG4gICAgY29uc3QgYiA9IHRoaXMuYjtcbiAgICBjb25zdCBiaSA9IHRoaXMuYmk7XG4gICAgY29uc3QgYmogPSB0aGlzLmJqO1xuICAgIGNvbnN0IHJpID0gdGhpcy5yaTtcbiAgICBjb25zdCByaiA9IHRoaXMucmo7XG4gICAgY29uc3Qgcml4biA9IENvbnRhY3RFcXVhdGlvbl9jb21wdXRlQl90ZW1wMTtcbiAgICBjb25zdCByanhuID0gQ29udGFjdEVxdWF0aW9uX2NvbXB1dGVCX3RlbXAyO1xuICAgIGNvbnN0IHZpID0gYmkudmVsb2NpdHk7XG4gICAgY29uc3Qgd2kgPSBiaS5hbmd1bGFyVmVsb2NpdHk7XG4gICAgY29uc3QgZmkgPSBiaS5mb3JjZTtcbiAgICBjb25zdCB0YXVpID0gYmkudG9ycXVlO1xuICAgIGNvbnN0IHZqID0gYmoudmVsb2NpdHk7XG4gICAgY29uc3Qgd2ogPSBiai5hbmd1bGFyVmVsb2NpdHk7XG4gICAgY29uc3QgZmogPSBiai5mb3JjZTtcbiAgICBjb25zdCB0YXVqID0gYmoudG9ycXVlO1xuICAgIGNvbnN0IHBlbmV0cmF0aW9uVmVjID0gQ29udGFjdEVxdWF0aW9uX2NvbXB1dGVCX3RlbXAzO1xuICAgIGNvbnN0IEdBID0gdGhpcy5qYWNvYmlhbkVsZW1lbnRBO1xuICAgIGNvbnN0IEdCID0gdGhpcy5qYWNvYmlhbkVsZW1lbnRCO1xuICAgIGNvbnN0IG4gPSB0aGlzLm5pOyAvLyBDYWx1Y2xhdGUgY3Jvc3MgcHJvZHVjdHNcblxuICAgIHJpLmNyb3NzKG4sIHJpeG4pO1xuICAgIHJqLmNyb3NzKG4sIHJqeG4pOyAvLyBnID0geGorcmogLSh4aStyaSlcbiAgICAvLyBHID0gWyAtbmkgIC1yaXhuICBuaSAgcmp4biBdXG5cbiAgICBuLm5lZ2F0ZShHQS5zcGF0aWFsKTtcbiAgICByaXhuLm5lZ2F0ZShHQS5yb3RhdGlvbmFsKTtcbiAgICBHQi5zcGF0aWFsLmNvcHkobik7XG4gICAgR0Iucm90YXRpb25hbC5jb3B5KHJqeG4pOyAvLyBDYWxjdWxhdGUgdGhlIHBlbmV0cmF0aW9uIHZlY3RvclxuXG4gICAgcGVuZXRyYXRpb25WZWMuY29weShiai5wb3NpdGlvbik7XG4gICAgcGVuZXRyYXRpb25WZWMudmFkZChyaiwgcGVuZXRyYXRpb25WZWMpO1xuICAgIHBlbmV0cmF0aW9uVmVjLnZzdWIoYmkucG9zaXRpb24sIHBlbmV0cmF0aW9uVmVjKTtcbiAgICBwZW5ldHJhdGlvblZlYy52c3ViKHJpLCBwZW5ldHJhdGlvblZlYyk7XG4gICAgY29uc3QgZyA9IG4uZG90KHBlbmV0cmF0aW9uVmVjKTsgLy8gQ29tcHV0ZSBpdGVyYXRpb25cblxuICAgIGNvbnN0IGVQbHVzT25lID0gdGhpcy5yZXN0aXR1dGlvbiArIDE7XG4gICAgY29uc3QgR1cgPSBlUGx1c09uZSAqIHZqLmRvdChuKSAtIGVQbHVzT25lICogdmkuZG90KG4pICsgd2ouZG90KHJqeG4pIC0gd2kuZG90KHJpeG4pO1xuICAgIGNvbnN0IEdpTWYgPSB0aGlzLmNvbXB1dGVHaU1mKCk7XG4gICAgY29uc3QgQiA9IC1nICogYSAtIEdXICogYiAtIGggKiBHaU1mO1xuICAgIHJldHVybiBCO1xuICB9XG4gIC8qKlxyXG4gICAqIEdldCB0aGUgY3VycmVudCByZWxhdGl2ZSB2ZWxvY2l0eSBpbiB0aGUgY29udGFjdCBwb2ludC5cclxuICAgKiBAbWV0aG9kIGdldEltcGFjdFZlbG9jaXR5QWxvbmdOb3JtYWxcclxuICAgKiBAcmV0dXJuIHtudW1iZXJ9XHJcbiAgICovXG5cblxuICBnZXRJbXBhY3RWZWxvY2l0eUFsb25nTm9ybWFsKCkge1xuICAgIGNvbnN0IHZpID0gQ29udGFjdEVxdWF0aW9uX2dldEltcGFjdFZlbG9jaXR5QWxvbmdOb3JtYWxfdmk7XG4gICAgY29uc3QgdmogPSBDb250YWN0RXF1YXRpb25fZ2V0SW1wYWN0VmVsb2NpdHlBbG9uZ05vcm1hbF92ajtcbiAgICBjb25zdCB4aSA9IENvbnRhY3RFcXVhdGlvbl9nZXRJbXBhY3RWZWxvY2l0eUFsb25nTm9ybWFsX3hpO1xuICAgIGNvbnN0IHhqID0gQ29udGFjdEVxdWF0aW9uX2dldEltcGFjdFZlbG9jaXR5QWxvbmdOb3JtYWxfeGo7XG4gICAgY29uc3QgcmVsVmVsID0gQ29udGFjdEVxdWF0aW9uX2dldEltcGFjdFZlbG9jaXR5QWxvbmdOb3JtYWxfcmVsVmVsO1xuICAgIHRoaXMuYmkucG9zaXRpb24udmFkZCh0aGlzLnJpLCB4aSk7XG4gICAgdGhpcy5iai5wb3NpdGlvbi52YWRkKHRoaXMucmosIHhqKTtcbiAgICB0aGlzLmJpLmdldFZlbG9jaXR5QXRXb3JsZFBvaW50KHhpLCB2aSk7XG4gICAgdGhpcy5iai5nZXRWZWxvY2l0eUF0V29ybGRQb2ludCh4aiwgdmopO1xuICAgIHZpLnZzdWIodmosIHJlbFZlbCk7XG4gICAgcmV0dXJuIHRoaXMubmkuZG90KHJlbFZlbCk7XG4gIH1cblxufVxuY29uc3QgQ29udGFjdEVxdWF0aW9uX2NvbXB1dGVCX3RlbXAxID0gbmV3IFZlYzMoKTsgLy8gVGVtcCB2ZWN0b3JzXG5cbmNvbnN0IENvbnRhY3RFcXVhdGlvbl9jb21wdXRlQl90ZW1wMiA9IG5ldyBWZWMzKCk7XG5jb25zdCBDb250YWN0RXF1YXRpb25fY29tcHV0ZUJfdGVtcDMgPSBuZXcgVmVjMygpO1xuY29uc3QgQ29udGFjdEVxdWF0aW9uX2dldEltcGFjdFZlbG9jaXR5QWxvbmdOb3JtYWxfdmkgPSBuZXcgVmVjMygpO1xuY29uc3QgQ29udGFjdEVxdWF0aW9uX2dldEltcGFjdFZlbG9jaXR5QWxvbmdOb3JtYWxfdmogPSBuZXcgVmVjMygpO1xuY29uc3QgQ29udGFjdEVxdWF0aW9uX2dldEltcGFjdFZlbG9jaXR5QWxvbmdOb3JtYWxfeGkgPSBuZXcgVmVjMygpO1xuY29uc3QgQ29udGFjdEVxdWF0aW9uX2dldEltcGFjdFZlbG9jaXR5QWxvbmdOb3JtYWxfeGogPSBuZXcgVmVjMygpO1xuY29uc3QgQ29udGFjdEVxdWF0aW9uX2dldEltcGFjdFZlbG9jaXR5QWxvbmdOb3JtYWxfcmVsVmVsID0gbmV3IFZlYzMoKTtcblxuLyoqXHJcbiAqIENvbm5lY3RzIHR3byBib2RpZXMgYXQgZ2l2ZW4gb2Zmc2V0IHBvaW50cy5cclxuICogQGNsYXNzIFBvaW50VG9Qb2ludENvbnN0cmFpbnRcclxuICogQGV4dGVuZHMgQ29uc3RyYWludFxyXG4gKiBAY29uc3RydWN0b3JcclxuICogQHBhcmFtIHtCb2R5fSBib2R5QVxyXG4gKiBAcGFyYW0ge1ZlYzN9IHBpdm90QSBUaGUgcG9pbnQgcmVsYXRpdmUgdG8gdGhlIGNlbnRlciBvZiBtYXNzIG9mIGJvZHlBIHdoaWNoIGJvZHlBIGlzIGNvbnN0cmFpbmVkIHRvLlxyXG4gKiBAcGFyYW0ge0JvZHl9IGJvZHlCIEJvZHkgdGhhdCB3aWxsIGJlIGNvbnN0cmFpbmVkIGluIGEgc2ltaWxhciB3YXkgdG8gdGhlIHNhbWUgcG9pbnQgYXMgYm9keUEuIFdlIHdpbGwgdGhlcmVmb3JlIGdldCBhIGxpbmsgYmV0d2VlbiBib2R5QSBhbmQgYm9keUIuIElmIG5vdCBzcGVjaWZpZWQsIGJvZHlBIHdpbGwgYmUgY29uc3RyYWluZWQgdG8gYSBzdGF0aWMgcG9pbnQuXHJcbiAqIEBwYXJhbSB7VmVjM30gcGl2b3RCIFNlZSBwaXZvdEEuXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBtYXhGb3JjZSBUaGUgbWF4aW11bSBmb3JjZSB0aGF0IHNob3VsZCBiZSBhcHBsaWVkIHRvIGNvbnN0cmFpbiB0aGUgYm9kaWVzLlxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiAgICAgY29uc3QgYm9keUEgPSBuZXcgQm9keSh7IG1hc3M6IDEgfSk7XHJcbiAqICAgICBjb25zdCBib2R5QiA9IG5ldyBCb2R5KHsgbWFzczogMSB9KTtcclxuICogICAgIGJvZHlBLnBvc2l0aW9uLnNldCgtMSwgMCwgMCk7XHJcbiAqICAgICBib2R5Qi5wb3NpdGlvbi5zZXQoMSwgMCwgMCk7XHJcbiAqICAgICBib2R5QS5hZGRTaGFwZShzaGFwZUEpO1xyXG4gKiAgICAgYm9keUIuYWRkU2hhcGUoc2hhcGVCKTtcclxuICogICAgIHdvcmxkLmFkZEJvZHkoYm9keUEpO1xyXG4gKiAgICAgd29ybGQuYWRkQm9keShib2R5Qik7XHJcbiAqICAgICBjb25zdCBsb2NhbFBpdm90QSA9IG5ldyBWZWMzKDEsIDAsIDApO1xyXG4gKiAgICAgY29uc3QgbG9jYWxQaXZvdEIgPSBuZXcgVmVjMygtMSwgMCwgMCk7XHJcbiAqICAgICBjb25zdCBjb25zdHJhaW50ID0gbmV3IFBvaW50VG9Qb2ludENvbnN0cmFpbnQoYm9keUEsIGxvY2FsUGl2b3RBLCBib2R5QiwgbG9jYWxQaXZvdEIpO1xyXG4gKiAgICAgd29ybGQuYWRkQ29uc3RyYWludChjb25zdHJhaW50KTtcclxuICovXG5jbGFzcyBQb2ludFRvUG9pbnRDb25zdHJhaW50IGV4dGVuZHMgQ29uc3RyYWludCB7XG4gIC8vIFBpdm90LCBkZWZpbmVkIGxvY2FsbHkgaW4gYm9keUEuXG4gIC8vIFBpdm90LCBkZWZpbmVkIGxvY2FsbHkgaW4gYm9keUIuXG4gIGNvbnN0cnVjdG9yKGJvZHlBLCBwaXZvdEEgPSBuZXcgVmVjMygpLCBib2R5QiwgcGl2b3RCID0gbmV3IFZlYzMoKSwgbWF4Rm9yY2UgPSAxZTYpIHtcbiAgICBzdXBlcihib2R5QSwgYm9keUIpO1xuICAgIHRoaXMucGl2b3RBID0gcGl2b3RBLmNsb25lKCk7XG4gICAgdGhpcy5waXZvdEIgPSBwaXZvdEIuY2xvbmUoKTtcbiAgICBjb25zdCB4ID0gdGhpcy5lcXVhdGlvblggPSBuZXcgQ29udGFjdEVxdWF0aW9uKGJvZHlBLCBib2R5Qik7XG4gICAgY29uc3QgeSA9IHRoaXMuZXF1YXRpb25ZID0gbmV3IENvbnRhY3RFcXVhdGlvbihib2R5QSwgYm9keUIpO1xuICAgIGNvbnN0IHogPSB0aGlzLmVxdWF0aW9uWiA9IG5ldyBDb250YWN0RXF1YXRpb24oYm9keUEsIGJvZHlCKTsgLy8gRXF1YXRpb25zIHRvIGJlIGZlZCB0byB0aGUgc29sdmVyXG5cbiAgICB0aGlzLmVxdWF0aW9ucy5wdXNoKHgsIHksIHopOyAvLyBNYWtlIHRoZSBlcXVhdGlvbnMgYmlkaXJlY3Rpb25hbFxuXG4gICAgeC5taW5Gb3JjZSA9IHkubWluRm9yY2UgPSB6Lm1pbkZvcmNlID0gLW1heEZvcmNlO1xuICAgIHgubWF4Rm9yY2UgPSB5Lm1heEZvcmNlID0gei5tYXhGb3JjZSA9IG1heEZvcmNlO1xuICAgIHgubmkuc2V0KDEsIDAsIDApO1xuICAgIHkubmkuc2V0KDAsIDEsIDApO1xuICAgIHoubmkuc2V0KDAsIDAsIDEpO1xuICB9XG5cbiAgdXBkYXRlKCkge1xuICAgIGNvbnN0IGJvZHlBID0gdGhpcy5ib2R5QTtcbiAgICBjb25zdCBib2R5QiA9IHRoaXMuYm9keUI7XG4gICAgY29uc3QgeCA9IHRoaXMuZXF1YXRpb25YO1xuICAgIGNvbnN0IHkgPSB0aGlzLmVxdWF0aW9uWTtcbiAgICBjb25zdCB6ID0gdGhpcy5lcXVhdGlvblo7IC8vIFJvdGF0ZSB0aGUgcGl2b3RzIHRvIHdvcmxkIHNwYWNlXG5cbiAgICBib2R5QS5xdWF0ZXJuaW9uLnZtdWx0KHRoaXMucGl2b3RBLCB4LnJpKTtcbiAgICBib2R5Qi5xdWF0ZXJuaW9uLnZtdWx0KHRoaXMucGl2b3RCLCB4LnJqKTtcbiAgICB5LnJpLmNvcHkoeC5yaSk7XG4gICAgeS5yai5jb3B5KHgucmopO1xuICAgIHoucmkuY29weSh4LnJpKTtcbiAgICB6LnJqLmNvcHkoeC5yaik7XG4gIH1cblxufVxuXG4vKipcclxuICogQ29uZSBlcXVhdGlvbi4gV29ya3MgdG8ga2VlcCB0aGUgZ2l2ZW4gYm9keSB3b3JsZCB2ZWN0b3JzIGFsaWduZWQsIG9yIHRpbHRlZCB3aXRoaW4gYSBnaXZlbiBhbmdsZSBmcm9tIGVhY2ggb3RoZXIuXHJcbiAqIEBjbGFzcyBDb25lRXF1YXRpb25cclxuICogQGNvbnN0cnVjdG9yXHJcbiAqIEBhdXRob3Igc2NodGVwcGVcclxuICogQHBhcmFtIHtCb2R5fSBib2R5QVxyXG4gKiBAcGFyYW0ge0JvZHl9IGJvZHlCXHJcbiAqIEBwYXJhbSB7VmVjM30gW29wdGlvbnMuYXhpc0FdIExvY2FsIGF4aXMgaW4gQVxyXG4gKiBAcGFyYW0ge1ZlYzN9IFtvcHRpb25zLmF4aXNCXSBMb2NhbCBheGlzIGluIEJcclxuICogQHBhcmFtIHtWZWMzfSBbb3B0aW9ucy5hbmdsZV0gVGhlIFwiY29uZSBhbmdsZVwiIHRvIGtlZXBcclxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLm1heEZvcmNlPTFlNl1cclxuICogQGV4dGVuZHMgRXF1YXRpb25cclxuICovXG5jbGFzcyBDb25lRXF1YXRpb24gZXh0ZW5kcyBFcXVhdGlvbiB7XG4gIC8vIFRoZSBjb25lIGFuZ2xlIHRvIGtlZXAuXG4gIGNvbnN0cnVjdG9yKGJvZHlBLCBib2R5Qiwgb3B0aW9ucyA9IHt9KSB7XG4gICAgY29uc3QgbWF4Rm9yY2UgPSB0eXBlb2Ygb3B0aW9ucy5tYXhGb3JjZSAhPT0gJ3VuZGVmaW5lZCcgPyBvcHRpb25zLm1heEZvcmNlIDogMWU2O1xuICAgIHN1cGVyKGJvZHlBLCBib2R5QiwgLW1heEZvcmNlLCBtYXhGb3JjZSk7XG4gICAgdGhpcy5heGlzQSA9IG9wdGlvbnMuYXhpc0EgPyBvcHRpb25zLmF4aXNBLmNsb25lKCkgOiBuZXcgVmVjMygxLCAwLCAwKTtcbiAgICB0aGlzLmF4aXNCID0gb3B0aW9ucy5heGlzQiA/IG9wdGlvbnMuYXhpc0IuY2xvbmUoKSA6IG5ldyBWZWMzKDAsIDEsIDApO1xuICAgIHRoaXMuYW5nbGUgPSB0eXBlb2Ygb3B0aW9ucy5hbmdsZSAhPT0gJ3VuZGVmaW5lZCcgPyBvcHRpb25zLmFuZ2xlIDogMDtcbiAgfVxuXG4gIGNvbXB1dGVCKGgpIHtcbiAgICBjb25zdCBhID0gdGhpcy5hO1xuICAgIGNvbnN0IGIgPSB0aGlzLmI7XG4gICAgY29uc3QgbmkgPSB0aGlzLmF4aXNBO1xuICAgIGNvbnN0IG5qID0gdGhpcy5heGlzQjtcbiAgICBjb25zdCBuaXhuaiA9IHRtcFZlYzE7XG4gICAgY29uc3Qgbmp4bmkgPSB0bXBWZWMyO1xuICAgIGNvbnN0IEdBID0gdGhpcy5qYWNvYmlhbkVsZW1lbnRBO1xuICAgIGNvbnN0IEdCID0gdGhpcy5qYWNvYmlhbkVsZW1lbnRCOyAvLyBDYWx1Y2xhdGUgY3Jvc3MgcHJvZHVjdHNcblxuICAgIG5pLmNyb3NzKG5qLCBuaXhuaik7XG4gICAgbmouY3Jvc3MobmksIG5qeG5pKTsgLy8gVGhlIGFuZ2xlIGJldHdlZW4gdHdvIHZlY3RvciBpczpcbiAgICAvLyBjb3ModGhldGEpID0gYSAqIGIgLyAobGVuZ3RoKGEpICogbGVuZ3RoKGIpID0geyBsZW4oYSkgPSBsZW4oYikgPSAxIH0gPSBhICogYlxuICAgIC8vIGcgPSBhICogYlxuICAgIC8vIGdkb3QgPSAoYiB4IGEpICogd2kgKyAoYSB4IGIpICogd2pcbiAgICAvLyBHID0gWzAgYnhhIDAgYXhiXVxuICAgIC8vIFcgPSBbdmkgd2kgdmogd2pdXG5cbiAgICBHQS5yb3RhdGlvbmFsLmNvcHkobmp4bmkpO1xuICAgIEdCLnJvdGF0aW9uYWwuY29weShuaXhuaik7XG4gICAgY29uc3QgZyA9IE1hdGguY29zKHRoaXMuYW5nbGUpIC0gbmkuZG90KG5qKTtcbiAgICBjb25zdCBHVyA9IHRoaXMuY29tcHV0ZUdXKCk7XG4gICAgY29uc3QgR2lNZiA9IHRoaXMuY29tcHV0ZUdpTWYoKTtcbiAgICBjb25zdCBCID0gLWcgKiBhIC0gR1cgKiBiIC0gaCAqIEdpTWY7XG4gICAgcmV0dXJuIEI7XG4gIH1cblxufVxuY29uc3QgdG1wVmVjMSA9IG5ldyBWZWMzKCk7XG5jb25zdCB0bXBWZWMyID0gbmV3IFZlYzMoKTtcblxuLyoqXHJcbiAqIFJvdGF0aW9uYWwgY29uc3RyYWludC4gV29ya3MgdG8ga2VlcCB0aGUgbG9jYWwgdmVjdG9ycyBvcnRob2dvbmFsIHRvIGVhY2ggb3RoZXIgaW4gd29ybGQgc3BhY2UuXHJcbiAqIEBjbGFzcyBSb3RhdGlvbmFsRXF1YXRpb25cclxuICogQGNvbnN0cnVjdG9yXHJcbiAqIEBhdXRob3Igc2NodGVwcGVcclxuICogQHBhcmFtIHtCb2R5fSBib2R5QVxyXG4gKiBAcGFyYW0ge0JvZHl9IGJvZHlCXHJcbiAqIEBwYXJhbSB7VmVjM30gW29wdGlvbnMuYXhpc0FdXHJcbiAqIEBwYXJhbSB7VmVjM30gW29wdGlvbnMuYXhpc0JdXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5tYXhGb3JjZV1cclxuICogQGV4dGVuZHMgRXF1YXRpb25cclxuICovXG5jbGFzcyBSb3RhdGlvbmFsRXF1YXRpb24gZXh0ZW5kcyBFcXVhdGlvbiB7XG4gIGNvbnN0cnVjdG9yKGJvZHlBLCBib2R5Qiwgb3B0aW9ucyA9IHt9KSB7XG4gICAgY29uc3QgbWF4Rm9yY2UgPSB0eXBlb2Ygb3B0aW9ucy5tYXhGb3JjZSAhPT0gJ3VuZGVmaW5lZCcgPyBvcHRpb25zLm1heEZvcmNlIDogMWU2O1xuICAgIHN1cGVyKGJvZHlBLCBib2R5QiwgLW1heEZvcmNlLCBtYXhGb3JjZSk7XG4gICAgdGhpcy5heGlzQSA9IG9wdGlvbnMuYXhpc0EgPyBvcHRpb25zLmF4aXNBLmNsb25lKCkgOiBuZXcgVmVjMygxLCAwLCAwKTtcbiAgICB0aGlzLmF4aXNCID0gb3B0aW9ucy5heGlzQiA/IG9wdGlvbnMuYXhpc0IuY2xvbmUoKSA6IG5ldyBWZWMzKDAsIDEsIDApO1xuICAgIHRoaXMubWF4QW5nbGUgPSBNYXRoLlBJIC8gMjtcbiAgfVxuXG4gIGNvbXB1dGVCKGgpIHtcbiAgICBjb25zdCBhID0gdGhpcy5hO1xuICAgIGNvbnN0IGIgPSB0aGlzLmI7XG4gICAgY29uc3QgbmkgPSB0aGlzLmF4aXNBO1xuICAgIGNvbnN0IG5qID0gdGhpcy5heGlzQjtcbiAgICBjb25zdCBuaXhuaiA9IHRtcFZlYzEkMTtcbiAgICBjb25zdCBuanhuaSA9IHRtcFZlYzIkMTtcbiAgICBjb25zdCBHQSA9IHRoaXMuamFjb2JpYW5FbGVtZW50QTtcbiAgICBjb25zdCBHQiA9IHRoaXMuamFjb2JpYW5FbGVtZW50QjsgLy8gQ2FsdWNsYXRlIGNyb3NzIHByb2R1Y3RzXG5cbiAgICBuaS5jcm9zcyhuaiwgbml4bmopO1xuICAgIG5qLmNyb3NzKG5pLCBuanhuaSk7IC8vIGcgPSBuaSAqIG5qXG4gICAgLy8gZ2RvdCA9IChuaiB4IG5pKSAqIHdpICsgKG5pIHggbmopICogd2pcbiAgICAvLyBHID0gWzAgbmp4bmkgMCBuaXhual1cbiAgICAvLyBXID0gW3ZpIHdpIHZqIHdqXVxuXG4gICAgR0Eucm90YXRpb25hbC5jb3B5KG5qeG5pKTtcbiAgICBHQi5yb3RhdGlvbmFsLmNvcHkobml4bmopO1xuICAgIGNvbnN0IGcgPSBNYXRoLmNvcyh0aGlzLm1heEFuZ2xlKSAtIG5pLmRvdChuaik7XG4gICAgY29uc3QgR1cgPSB0aGlzLmNvbXB1dGVHVygpO1xuICAgIGNvbnN0IEdpTWYgPSB0aGlzLmNvbXB1dGVHaU1mKCk7XG4gICAgY29uc3QgQiA9IC1nICogYSAtIEdXICogYiAtIGggKiBHaU1mO1xuICAgIHJldHVybiBCO1xuICB9XG5cbn1cbmNvbnN0IHRtcFZlYzEkMSA9IG5ldyBWZWMzKCk7XG5jb25zdCB0bXBWZWMyJDEgPSBuZXcgVmVjMygpO1xuXG4vKipcclxuICogQGNsYXNzIENvbmVUd2lzdENvbnN0cmFpbnRcclxuICogQGNvbnN0cnVjdG9yXHJcbiAqIEBhdXRob3Igc2NodGVwcGVcclxuICogQHBhcmFtIHtCb2R5fSBib2R5QVxyXG4gKiBAcGFyYW0ge0JvZHl9IGJvZHlCXHJcbiAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc11cclxuICogQHBhcmFtIHtWZWMzfSBbb3B0aW9ucy5waXZvdEFdXHJcbiAqIEBwYXJhbSB7VmVjM30gW29wdGlvbnMucGl2b3RCXVxyXG4gKiBAcGFyYW0ge1ZlYzN9IFtvcHRpb25zLmF4aXNBXVxyXG4gKiBAcGFyYW0ge1ZlYzN9IFtvcHRpb25zLmF4aXNCXVxyXG4gKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMubWF4Rm9yY2U9MWU2XVxyXG4gKiBAZXh0ZW5kcyBQb2ludFRvUG9pbnRDb25zdHJhaW50XHJcbiAqL1xuY2xhc3MgQ29uZVR3aXN0Q29uc3RyYWludCBleHRlbmRzIFBvaW50VG9Qb2ludENvbnN0cmFpbnQge1xuICBjb25zdHJ1Y3Rvcihib2R5QSwgYm9keUIsIG9wdGlvbnMgPSB7fSkge1xuICAgIGNvbnN0IG1heEZvcmNlID0gdHlwZW9mIG9wdGlvbnMubWF4Rm9yY2UgIT09ICd1bmRlZmluZWQnID8gb3B0aW9ucy5tYXhGb3JjZSA6IDFlNjsgLy8gU2V0IHBpdm90IHBvaW50IGluIGJldHdlZW5cblxuICAgIGNvbnN0IHBpdm90QSA9IG9wdGlvbnMucGl2b3RBID8gb3B0aW9ucy5waXZvdEEuY2xvbmUoKSA6IG5ldyBWZWMzKCk7XG4gICAgY29uc3QgcGl2b3RCID0gb3B0aW9ucy5waXZvdEIgPyBvcHRpb25zLnBpdm90Qi5jbG9uZSgpIDogbmV3IFZlYzMoKTtcbiAgICBzdXBlcihib2R5QSwgcGl2b3RBLCBib2R5QiwgcGl2b3RCLCBtYXhGb3JjZSk7XG4gICAgdGhpcy5heGlzQSA9IG9wdGlvbnMuYXhpc0EgPyBvcHRpb25zLmF4aXNBLmNsb25lKCkgOiBuZXcgVmVjMygpO1xuICAgIHRoaXMuYXhpc0IgPSBvcHRpb25zLmF4aXNCID8gb3B0aW9ucy5heGlzQi5jbG9uZSgpIDogbmV3IFZlYzMoKTtcbiAgICB0aGlzLmNvbGxpZGVDb25uZWN0ZWQgPSAhIW9wdGlvbnMuY29sbGlkZUNvbm5lY3RlZDtcbiAgICB0aGlzLmFuZ2xlID0gdHlwZW9mIG9wdGlvbnMuYW5nbGUgIT09ICd1bmRlZmluZWQnID8gb3B0aW9ucy5hbmdsZSA6IDA7XG4gICAgY29uc3QgYyA9IHRoaXMuY29uZUVxdWF0aW9uID0gbmV3IENvbmVFcXVhdGlvbihib2R5QSwgYm9keUIsIG9wdGlvbnMpO1xuICAgIGNvbnN0IHQgPSB0aGlzLnR3aXN0RXF1YXRpb24gPSBuZXcgUm90YXRpb25hbEVxdWF0aW9uKGJvZHlBLCBib2R5Qiwgb3B0aW9ucyk7XG4gICAgdGhpcy50d2lzdEFuZ2xlID0gdHlwZW9mIG9wdGlvbnMudHdpc3RBbmdsZSAhPT0gJ3VuZGVmaW5lZCcgPyBvcHRpb25zLnR3aXN0QW5nbGUgOiAwOyAvLyBNYWtlIHRoZSBjb25lIGVxdWF0aW9uIHB1c2ggdGhlIGJvZGllcyB0b3dhcmQgdGhlIGNvbmUgYXhpcywgbm90IG91dHdhcmRcblxuICAgIGMubWF4Rm9yY2UgPSAwO1xuICAgIGMubWluRm9yY2UgPSAtbWF4Rm9yY2U7IC8vIE1ha2UgdGhlIHR3aXN0IGVxdWF0aW9uIGFkZCB0b3JxdWUgdG93YXJkIHRoZSBpbml0aWFsIHBvc2l0aW9uXG5cbiAgICB0Lm1heEZvcmNlID0gMDtcbiAgICB0Lm1pbkZvcmNlID0gLW1heEZvcmNlO1xuICAgIHRoaXMuZXF1YXRpb25zLnB1c2goYywgdCk7XG4gIH1cblxuICB1cGRhdGUoKSB7XG4gICAgY29uc3QgYm9keUEgPSB0aGlzLmJvZHlBO1xuICAgIGNvbnN0IGJvZHlCID0gdGhpcy5ib2R5QjtcbiAgICBjb25zdCBjb25lID0gdGhpcy5jb25lRXF1YXRpb247XG4gICAgY29uc3QgdHdpc3QgPSB0aGlzLnR3aXN0RXF1YXRpb247XG4gICAgc3VwZXIudXBkYXRlKCk7IC8vIFVwZGF0ZSB0aGUgYXhlcyB0byB0aGUgY29uZSBjb25zdHJhaW50XG5cbiAgICBib2R5QS52ZWN0b3JUb1dvcmxkRnJhbWUodGhpcy5heGlzQSwgY29uZS5heGlzQSk7XG4gICAgYm9keUIudmVjdG9yVG9Xb3JsZEZyYW1lKHRoaXMuYXhpc0IsIGNvbmUuYXhpc0IpOyAvLyBVcGRhdGUgdGhlIHdvcmxkIGF4ZXMgaW4gdGhlIHR3aXN0IGNvbnN0cmFpbnRcblxuICAgIHRoaXMuYXhpc0EudGFuZ2VudHModHdpc3QuYXhpc0EsIHR3aXN0LmF4aXNBKTtcbiAgICBib2R5QS52ZWN0b3JUb1dvcmxkRnJhbWUodHdpc3QuYXhpc0EsIHR3aXN0LmF4aXNBKTtcbiAgICB0aGlzLmF4aXNCLnRhbmdlbnRzKHR3aXN0LmF4aXNCLCB0d2lzdC5heGlzQik7XG4gICAgYm9keUIudmVjdG9yVG9Xb3JsZEZyYW1lKHR3aXN0LmF4aXNCLCB0d2lzdC5heGlzQik7XG4gICAgY29uZS5hbmdsZSA9IHRoaXMuYW5nbGU7XG4gICAgdHdpc3QubWF4QW5nbGUgPSB0aGlzLnR3aXN0QW5nbGU7XG4gIH1cblxufVxuXG4vKipcclxuICogQ29uc3RyYWlucyB0d28gYm9kaWVzIHRvIGJlIGF0IGEgY29uc3RhbnQgZGlzdGFuY2UgZnJvbSBlYWNoIG90aGVycyBjZW50ZXIgb2YgbWFzcy5cclxuICogQGNsYXNzIERpc3RhbmNlQ29uc3RyYWludFxyXG4gKiBAY29uc3RydWN0b3JcclxuICogQGF1dGhvciBzY2h0ZXBwZVxyXG4gKiBAcGFyYW0ge0JvZHl9IGJvZHlBXHJcbiAqIEBwYXJhbSB7Qm9keX0gYm9keUJcclxuICogQHBhcmFtIHtOdW1iZXJ9IFtkaXN0YW5jZV0gVGhlIGRpc3RhbmNlIHRvIGtlZXAuIElmIHVuZGVmaW5lZCwgaXQgd2lsbCBiZSBzZXQgdG8gdGhlIGN1cnJlbnQgZGlzdGFuY2UgYmV0d2VlbiBib2R5QSBhbmQgYm9keUJcclxuICogQHBhcmFtIHtOdW1iZXJ9IFttYXhGb3JjZT0xZTZdXHJcbiAqIEBleHRlbmRzIENvbnN0cmFpbnRcclxuICovXG5jbGFzcyBEaXN0YW5jZUNvbnN0cmFpbnQgZXh0ZW5kcyBDb25zdHJhaW50IHtcbiAgY29uc3RydWN0b3IoYm9keUEsIGJvZHlCLCBkaXN0YW5jZSwgbWF4Rm9yY2UgPSAxZTYpIHtcbiAgICBzdXBlcihib2R5QSwgYm9keUIpO1xuXG4gICAgaWYgKHR5cGVvZiBkaXN0YW5jZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGRpc3RhbmNlID0gYm9keUEucG9zaXRpb24uZGlzdGFuY2VUbyhib2R5Qi5wb3NpdGlvbik7XG4gICAgfVxuXG4gICAgdGhpcy5kaXN0YW5jZSA9IGRpc3RhbmNlO1xuICAgIGNvbnN0IGVxID0gdGhpcy5kaXN0YW5jZUVxdWF0aW9uID0gbmV3IENvbnRhY3RFcXVhdGlvbihib2R5QSwgYm9keUIpO1xuICAgIHRoaXMuZXF1YXRpb25zLnB1c2goZXEpOyAvLyBNYWtlIGl0IGJpZGlyZWN0aW9uYWxcblxuICAgIGVxLm1pbkZvcmNlID0gLW1heEZvcmNlO1xuICAgIGVxLm1heEZvcmNlID0gbWF4Rm9yY2U7XG4gIH1cblxuICB1cGRhdGUoKSB7XG4gICAgY29uc3QgYm9keUEgPSB0aGlzLmJvZHlBO1xuICAgIGNvbnN0IGJvZHlCID0gdGhpcy5ib2R5QjtcbiAgICBjb25zdCBlcSA9IHRoaXMuZGlzdGFuY2VFcXVhdGlvbjtcbiAgICBjb25zdCBoYWxmRGlzdCA9IHRoaXMuZGlzdGFuY2UgKiAwLjU7XG4gICAgY29uc3Qgbm9ybWFsID0gZXEubmk7XG4gICAgYm9keUIucG9zaXRpb24udnN1Yihib2R5QS5wb3NpdGlvbiwgbm9ybWFsKTtcbiAgICBub3JtYWwubm9ybWFsaXplKCk7XG4gICAgbm9ybWFsLnNjYWxlKGhhbGZEaXN0LCBlcS5yaSk7XG4gICAgbm9ybWFsLnNjYWxlKC1oYWxmRGlzdCwgZXEucmopO1xuICB9XG5cbn1cblxuLyoqXHJcbiAqIExvY2sgY29uc3RyYWludC4gV2lsbCByZW1vdmUgYWxsIGRlZ3JlZXMgb2YgZnJlZWRvbSBiZXR3ZWVuIHRoZSBib2RpZXMuXHJcbiAqIEBjbGFzcyBMb2NrQ29uc3RyYWludFxyXG4gKiBAY29uc3RydWN0b3JcclxuICogQGF1dGhvciBzY2h0ZXBwZVxyXG4gKiBAcGFyYW0ge0JvZHl9IGJvZHlBXHJcbiAqIEBwYXJhbSB7Qm9keX0gYm9keUJcclxuICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXVxyXG4gKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMubWF4Rm9yY2U9MWU2XVxyXG4gKiBAZXh0ZW5kcyBQb2ludFRvUG9pbnRDb25zdHJhaW50XHJcbiAqL1xuY2xhc3MgTG9ja0NvbnN0cmFpbnQgZXh0ZW5kcyBQb2ludFRvUG9pbnRDb25zdHJhaW50IHtcbiAgY29uc3RydWN0b3IoYm9keUEsIGJvZHlCLCBvcHRpb25zID0ge30pIHtcbiAgICBjb25zdCBtYXhGb3JjZSA9IHR5cGVvZiBvcHRpb25zLm1heEZvcmNlICE9PSAndW5kZWZpbmVkJyA/IG9wdGlvbnMubWF4Rm9yY2UgOiAxZTY7IC8vIFNldCBwaXZvdCBwb2ludCBpbiBiZXR3ZWVuXG5cbiAgICBjb25zdCBwaXZvdEEgPSBuZXcgVmVjMygpO1xuICAgIGNvbnN0IHBpdm90QiA9IG5ldyBWZWMzKCk7XG4gICAgY29uc3QgaGFsZldheSA9IG5ldyBWZWMzKCk7XG4gICAgYm9keUEucG9zaXRpb24udmFkZChib2R5Qi5wb3NpdGlvbiwgaGFsZldheSk7XG4gICAgaGFsZldheS5zY2FsZSgwLjUsIGhhbGZXYXkpO1xuICAgIGJvZHlCLnBvaW50VG9Mb2NhbEZyYW1lKGhhbGZXYXksIHBpdm90Qik7XG4gICAgYm9keUEucG9pbnRUb0xvY2FsRnJhbWUoaGFsZldheSwgcGl2b3RBKTsgLy8gVGhlIHBvaW50LXRvLXBvaW50IGNvbnN0cmFpbnQgd2lsbCBrZWVwIGEgcG9pbnQgc2hhcmVkIGJldHdlZW4gdGhlIGJvZGllc1xuXG4gICAgc3VwZXIoYm9keUEsIHBpdm90QSwgYm9keUIsIHBpdm90QiwgbWF4Rm9yY2UpOyAvLyBTdG9yZSBpbml0aWFsIHJvdGF0aW9uIG9mIHRoZSBib2RpZXMgYXMgdW5pdCB2ZWN0b3JzIGluIHRoZSBsb2NhbCBib2R5IHNwYWNlc1xuXG4gICAgdGhpcy54QSA9IGJvZHlBLnZlY3RvclRvTG9jYWxGcmFtZShWZWMzLlVOSVRfWCk7XG4gICAgdGhpcy54QiA9IGJvZHlCLnZlY3RvclRvTG9jYWxGcmFtZShWZWMzLlVOSVRfWCk7XG4gICAgdGhpcy55QSA9IGJvZHlBLnZlY3RvclRvTG9jYWxGcmFtZShWZWMzLlVOSVRfWSk7XG4gICAgdGhpcy55QiA9IGJvZHlCLnZlY3RvclRvTG9jYWxGcmFtZShWZWMzLlVOSVRfWSk7XG4gICAgdGhpcy56QSA9IGJvZHlBLnZlY3RvclRvTG9jYWxGcmFtZShWZWMzLlVOSVRfWik7XG4gICAgdGhpcy56QiA9IGJvZHlCLnZlY3RvclRvTG9jYWxGcmFtZShWZWMzLlVOSVRfWik7IC8vIC4uLmFuZCB0aGUgZm9sbG93aW5nIHJvdGF0aW9uYWwgZXF1YXRpb25zIHdpbGwga2VlcCBhbGwgcm90YXRpb25hbCBET0YncyBpbiBwbGFjZVxuXG4gICAgY29uc3QgcjEgPSB0aGlzLnJvdGF0aW9uYWxFcXVhdGlvbjEgPSBuZXcgUm90YXRpb25hbEVxdWF0aW9uKGJvZHlBLCBib2R5Qiwgb3B0aW9ucyk7XG4gICAgY29uc3QgcjIgPSB0aGlzLnJvdGF0aW9uYWxFcXVhdGlvbjIgPSBuZXcgUm90YXRpb25hbEVxdWF0aW9uKGJvZHlBLCBib2R5Qiwgb3B0aW9ucyk7XG4gICAgY29uc3QgcjMgPSB0aGlzLnJvdGF0aW9uYWxFcXVhdGlvbjMgPSBuZXcgUm90YXRpb25hbEVxdWF0aW9uKGJvZHlBLCBib2R5Qiwgb3B0aW9ucyk7XG4gICAgdGhpcy5lcXVhdGlvbnMucHVzaChyMSwgcjIsIHIzKTtcbiAgfVxuXG4gIHVwZGF0ZSgpIHtcbiAgICBjb25zdCBib2R5QSA9IHRoaXMuYm9keUE7XG4gICAgY29uc3QgYm9keUIgPSB0aGlzLmJvZHlCO1xuICAgIGNvbnN0IG1vdG9yID0gdGhpcy5tb3RvckVxdWF0aW9uO1xuICAgIGNvbnN0IHIxID0gdGhpcy5yb3RhdGlvbmFsRXF1YXRpb24xO1xuICAgIGNvbnN0IHIyID0gdGhpcy5yb3RhdGlvbmFsRXF1YXRpb24yO1xuICAgIGNvbnN0IHIzID0gdGhpcy5yb3RhdGlvbmFsRXF1YXRpb24zO1xuICAgIHN1cGVyLnVwZGF0ZSgpOyAvLyBUaGVzZSB2ZWN0b3IgcGFpcnMgbXVzdCBiZSBvcnRob2dvbmFsXG5cbiAgICBib2R5QS52ZWN0b3JUb1dvcmxkRnJhbWUodGhpcy54QSwgcjEuYXhpc0EpO1xuICAgIGJvZHlCLnZlY3RvclRvV29ybGRGcmFtZSh0aGlzLnlCLCByMS5heGlzQik7XG4gICAgYm9keUEudmVjdG9yVG9Xb3JsZEZyYW1lKHRoaXMueUEsIHIyLmF4aXNBKTtcbiAgICBib2R5Qi52ZWN0b3JUb1dvcmxkRnJhbWUodGhpcy56QiwgcjIuYXhpc0IpO1xuICAgIGJvZHlBLnZlY3RvclRvV29ybGRGcmFtZSh0aGlzLnpBLCByMy5heGlzQSk7XG4gICAgYm9keUIudmVjdG9yVG9Xb3JsZEZyYW1lKHRoaXMueEIsIHIzLmF4aXNCKTtcbiAgfVxuXG59XG5cbi8qKlxyXG4gKiBSb3RhdGlvbmFsIG1vdG9yIGNvbnN0cmFpbnQuIFRyaWVzIHRvIGtlZXAgdGhlIHJlbGF0aXZlIGFuZ3VsYXIgdmVsb2NpdHkgb2YgdGhlIGJvZGllcyB0byBhIGdpdmVuIHZhbHVlLlxyXG4gKiBAY2xhc3MgUm90YXRpb25hbE1vdG9yRXF1YXRpb25cclxuICogQGNvbnN0cnVjdG9yXHJcbiAqIEBhdXRob3Igc2NodGVwcGVcclxuICogQHBhcmFtIHtCb2R5fSBib2R5QVxyXG4gKiBAcGFyYW0ge0JvZHl9IGJvZHlCXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBtYXhGb3JjZVxyXG4gKiBAZXh0ZW5kcyBFcXVhdGlvblxyXG4gKi9cbmNsYXNzIFJvdGF0aW9uYWxNb3RvckVxdWF0aW9uIGV4dGVuZHMgRXF1YXRpb24ge1xuICAvLyBXb3JsZCBvcmllbnRlZCByb3RhdGlvbmFsIGF4aXMuXG4gIC8vIFdvcmxkIG9yaWVudGVkIHJvdGF0aW9uYWwgYXhpcy5cbiAgLy8gTW90b3IgdmVsb2NpdHkuXG4gIGNvbnN0cnVjdG9yKGJvZHlBLCBib2R5QiwgbWF4Rm9yY2UgPSAxZTYpIHtcbiAgICBzdXBlcihib2R5QSwgYm9keUIsIC1tYXhGb3JjZSwgbWF4Rm9yY2UpO1xuICAgIHRoaXMuYXhpc0EgPSBuZXcgVmVjMygpO1xuICAgIHRoaXMuYXhpc0IgPSBuZXcgVmVjMygpO1xuICAgIHRoaXMudGFyZ2V0VmVsb2NpdHkgPSAwO1xuICB9XG5cbiAgY29tcHV0ZUIoaCkge1xuICAgIGNvbnN0IGEgPSB0aGlzLmE7XG4gICAgY29uc3QgYiA9IHRoaXMuYjtcbiAgICBjb25zdCBiaSA9IHRoaXMuYmk7XG4gICAgY29uc3QgYmogPSB0aGlzLmJqO1xuICAgIGNvbnN0IGF4aXNBID0gdGhpcy5heGlzQTtcbiAgICBjb25zdCBheGlzQiA9IHRoaXMuYXhpc0I7XG4gICAgY29uc3QgR0EgPSB0aGlzLmphY29iaWFuRWxlbWVudEE7XG4gICAgY29uc3QgR0IgPSB0aGlzLmphY29iaWFuRWxlbWVudEI7IC8vIGcgPSAwXG4gICAgLy8gZ2RvdCA9IGF4aXNBICogd2kgLSBheGlzQiAqIHdqXG4gICAgLy8gZ2RvdCA9IEcgKiBXID0gRyAqIFt2aSB3aSB2aiB3al1cbiAgICAvLyA9PlxuICAgIC8vIEcgPSBbMCBheGlzQSAwIC1heGlzQl1cblxuICAgIEdBLnJvdGF0aW9uYWwuY29weShheGlzQSk7XG4gICAgYXhpc0IubmVnYXRlKEdCLnJvdGF0aW9uYWwpO1xuICAgIGNvbnN0IEdXID0gdGhpcy5jb21wdXRlR1coKSAtIHRoaXMudGFyZ2V0VmVsb2NpdHk7XG4gICAgY29uc3QgR2lNZiA9IHRoaXMuY29tcHV0ZUdpTWYoKTtcbiAgICBjb25zdCBCID0gLUdXICogYiAtIGggKiBHaU1mO1xuICAgIHJldHVybiBCO1xuICB9XG5cbn1cblxuLyoqXHJcbiAqIEhpbmdlIGNvbnN0cmFpbnQuIFRoaW5rIG9mIGl0IGFzIGEgZG9vciBoaW5nZS4gSXQgdHJpZXMgdG8ga2VlcCB0aGUgZG9vciBpbiB0aGUgY29ycmVjdCBwbGFjZSBhbmQgd2l0aCB0aGUgY29ycmVjdCBvcmllbnRhdGlvbi5cclxuICogQGNsYXNzIEhpbmdlQ29uc3RyYWludFxyXG4gKiBAY29uc3RydWN0b3JcclxuICogQGF1dGhvciBzY2h0ZXBwZVxyXG4gKiBAcGFyYW0ge0JvZHl9IGJvZHlBXHJcbiAqIEBwYXJhbSB7Qm9keX0gYm9keUJcclxuICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXVxyXG4gKiBAcGFyYW0ge1ZlYzN9IFtvcHRpb25zLnBpdm90QV0gQSBwb2ludCBkZWZpbmVkIGxvY2FsbHkgaW4gYm9keUEuIFRoaXMgZGVmaW5lcyB0aGUgb2Zmc2V0IG9mIGF4aXNBLlxyXG4gKiBAcGFyYW0ge1ZlYzN9IFtvcHRpb25zLmF4aXNBXSBBbiBheGlzIHRoYXQgYm9keUEgY2FuIHJvdGF0ZSBhcm91bmQsIGRlZmluZWQgbG9jYWxseSBpbiBib2R5QS5cclxuICogQHBhcmFtIHtWZWMzfSBbb3B0aW9ucy5waXZvdEJdXHJcbiAqIEBwYXJhbSB7VmVjM30gW29wdGlvbnMuYXhpc0JdXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy5tYXhGb3JjZT0xZTZdXHJcbiAqIEBleHRlbmRzIFBvaW50VG9Qb2ludENvbnN0cmFpbnRcclxuICovXG5jbGFzcyBIaW5nZUNvbnN0cmFpbnQgZXh0ZW5kcyBQb2ludFRvUG9pbnRDb25zdHJhaW50IHtcbiAgLy8gUm90YXRpb24gYXhpcywgZGVmaW5lZCBsb2NhbGx5IGluIGJvZHlBLlxuICAvLyBSb3RhdGlvbiBheGlzLCBkZWZpbmVkIGxvY2FsbHkgaW4gYm9keUIuXG4gIGNvbnN0cnVjdG9yKGJvZHlBLCBib2R5Qiwgb3B0aW9ucyA9IHt9KSB7XG4gICAgY29uc3QgbWF4Rm9yY2UgPSB0eXBlb2Ygb3B0aW9ucy5tYXhGb3JjZSAhPT0gJ3VuZGVmaW5lZCcgPyBvcHRpb25zLm1heEZvcmNlIDogMWU2O1xuICAgIGNvbnN0IHBpdm90QSA9IG9wdGlvbnMucGl2b3RBID8gb3B0aW9ucy5waXZvdEEuY2xvbmUoKSA6IG5ldyBWZWMzKCk7XG4gICAgY29uc3QgcGl2b3RCID0gb3B0aW9ucy5waXZvdEIgPyBvcHRpb25zLnBpdm90Qi5jbG9uZSgpIDogbmV3IFZlYzMoKTtcbiAgICBzdXBlcihib2R5QSwgcGl2b3RBLCBib2R5QiwgcGl2b3RCLCBtYXhGb3JjZSk7XG4gICAgY29uc3QgYXhpc0EgPSB0aGlzLmF4aXNBID0gb3B0aW9ucy5heGlzQSA/IG9wdGlvbnMuYXhpc0EuY2xvbmUoKSA6IG5ldyBWZWMzKDEsIDAsIDApO1xuICAgIGF4aXNBLm5vcm1hbGl6ZSgpO1xuICAgIGNvbnN0IGF4aXNCID0gdGhpcy5heGlzQiA9IG9wdGlvbnMuYXhpc0IgPyBvcHRpb25zLmF4aXNCLmNsb25lKCkgOiBuZXcgVmVjMygxLCAwLCAwKTtcbiAgICBheGlzQi5ub3JtYWxpemUoKTtcbiAgICB0aGlzLmNvbGxpZGVDb25uZWN0ZWQgPSAhIW9wdGlvbnMuY29sbGlkZUNvbm5lY3RlZDtcbiAgICBjb25zdCByb3RhdGlvbmFsMSA9IHRoaXMucm90YXRpb25hbEVxdWF0aW9uMSA9IG5ldyBSb3RhdGlvbmFsRXF1YXRpb24oYm9keUEsIGJvZHlCLCBvcHRpb25zKTtcbiAgICBjb25zdCByb3RhdGlvbmFsMiA9IHRoaXMucm90YXRpb25hbEVxdWF0aW9uMiA9IG5ldyBSb3RhdGlvbmFsRXF1YXRpb24oYm9keUEsIGJvZHlCLCBvcHRpb25zKTtcbiAgICBjb25zdCBtb3RvciA9IHRoaXMubW90b3JFcXVhdGlvbiA9IG5ldyBSb3RhdGlvbmFsTW90b3JFcXVhdGlvbihib2R5QSwgYm9keUIsIG1heEZvcmNlKTtcbiAgICBtb3Rvci5lbmFibGVkID0gZmFsc2U7IC8vIE5vdCBlbmFibGVkIGJ5IGRlZmF1bHRcbiAgICAvLyBFcXVhdGlvbnMgdG8gYmUgZmVkIHRvIHRoZSBzb2x2ZXJcblxuICAgIHRoaXMuZXF1YXRpb25zLnB1c2gocm90YXRpb25hbDEsIHJvdGF0aW9uYWwyLCBtb3Rvcik7XG4gIH1cbiAgLyoqXHJcbiAgICogQG1ldGhvZCBlbmFibGVNb3RvclxyXG4gICAqL1xuXG5cbiAgZW5hYmxlTW90b3IoKSB7XG4gICAgdGhpcy5tb3RvckVxdWF0aW9uLmVuYWJsZWQgPSB0cnVlO1xuICB9XG4gIC8qKlxyXG4gICAqIEBtZXRob2QgZGlzYWJsZU1vdG9yXHJcbiAgICovXG5cblxuICBkaXNhYmxlTW90b3IoKSB7XG4gICAgdGhpcy5tb3RvckVxdWF0aW9uLmVuYWJsZWQgPSBmYWxzZTtcbiAgfVxuICAvKipcclxuICAgKiBAbWV0aG9kIHNldE1vdG9yU3BlZWRcclxuICAgKiBAcGFyYW0ge251bWJlcn0gc3BlZWRcclxuICAgKi9cblxuXG4gIHNldE1vdG9yU3BlZWQoc3BlZWQpIHtcbiAgICB0aGlzLm1vdG9yRXF1YXRpb24udGFyZ2V0VmVsb2NpdHkgPSBzcGVlZDtcbiAgfVxuICAvKipcclxuICAgKiBAbWV0aG9kIHNldE1vdG9yTWF4Rm9yY2VcclxuICAgKiBAcGFyYW0ge251bWJlcn0gbWF4Rm9yY2VcclxuICAgKi9cblxuXG4gIHNldE1vdG9yTWF4Rm9yY2UobWF4Rm9yY2UpIHtcbiAgICB0aGlzLm1vdG9yRXF1YXRpb24ubWF4Rm9yY2UgPSBtYXhGb3JjZTtcbiAgICB0aGlzLm1vdG9yRXF1YXRpb24ubWluRm9yY2UgPSAtbWF4Rm9yY2U7XG4gIH1cblxuICB1cGRhdGUoKSB7XG4gICAgY29uc3QgYm9keUEgPSB0aGlzLmJvZHlBO1xuICAgIGNvbnN0IGJvZHlCID0gdGhpcy5ib2R5QjtcbiAgICBjb25zdCBtb3RvciA9IHRoaXMubW90b3JFcXVhdGlvbjtcbiAgICBjb25zdCByMSA9IHRoaXMucm90YXRpb25hbEVxdWF0aW9uMTtcbiAgICBjb25zdCByMiA9IHRoaXMucm90YXRpb25hbEVxdWF0aW9uMjtcbiAgICBjb25zdCB3b3JsZEF4aXNBID0gSGluZ2VDb25zdHJhaW50X3VwZGF0ZV90bXBWZWMxO1xuICAgIGNvbnN0IHdvcmxkQXhpc0IgPSBIaW5nZUNvbnN0cmFpbnRfdXBkYXRlX3RtcFZlYzI7XG4gICAgY29uc3QgYXhpc0EgPSB0aGlzLmF4aXNBO1xuICAgIGNvbnN0IGF4aXNCID0gdGhpcy5heGlzQjtcbiAgICBzdXBlci51cGRhdGUoKTsgLy8gR2V0IHdvcmxkIGF4ZXNcblxuICAgIGJvZHlBLnF1YXRlcm5pb24udm11bHQoYXhpc0EsIHdvcmxkQXhpc0EpO1xuICAgIGJvZHlCLnF1YXRlcm5pb24udm11bHQoYXhpc0IsIHdvcmxkQXhpc0IpO1xuICAgIHdvcmxkQXhpc0EudGFuZ2VudHMocjEuYXhpc0EsIHIyLmF4aXNBKTtcbiAgICByMS5heGlzQi5jb3B5KHdvcmxkQXhpc0IpO1xuICAgIHIyLmF4aXNCLmNvcHkod29ybGRBeGlzQik7XG5cbiAgICBpZiAodGhpcy5tb3RvckVxdWF0aW9uLmVuYWJsZWQpIHtcbiAgICAgIGJvZHlBLnF1YXRlcm5pb24udm11bHQodGhpcy5heGlzQSwgbW90b3IuYXhpc0EpO1xuICAgICAgYm9keUIucXVhdGVybmlvbi52bXVsdCh0aGlzLmF4aXNCLCBtb3Rvci5heGlzQik7XG4gICAgfVxuICB9XG5cbn1cbmNvbnN0IEhpbmdlQ29uc3RyYWludF91cGRhdGVfdG1wVmVjMSA9IG5ldyBWZWMzKCk7XG5jb25zdCBIaW5nZUNvbnN0cmFpbnRfdXBkYXRlX3RtcFZlYzIgPSBuZXcgVmVjMygpO1xuXG4vKipcclxuICogQ29uc3RyYWlucyB0aGUgc2xpcHBpbmcgaW4gYSBjb250YWN0IGFsb25nIGEgdGFuZ2VudFxyXG4gKiBAY2xhc3MgRnJpY3Rpb25FcXVhdGlvblxyXG4gKiBAY29uc3RydWN0b3JcclxuICogQGF1dGhvciBzY2h0ZXBwZVxyXG4gKiBAcGFyYW0ge0JvZHl9IGJvZHlBXHJcbiAqIEBwYXJhbSB7Qm9keX0gYm9keUJcclxuICogQHBhcmFtIHtOdW1iZXJ9IHNsaXBGb3JjZSBzaG91bGQgYmUgKy1GX2ZyaWN0aW9uID0gKy1tdSAqIEZfbm9ybWFsID0gKy1tdSAqIG0gKiBnXHJcbiAqIEBleHRlbmRzIEVxdWF0aW9uXHJcbiAqL1xuY2xhc3MgRnJpY3Rpb25FcXVhdGlvbiBleHRlbmRzIEVxdWF0aW9uIHtcbiAgLy8gVGFuZ2VudC5cbiAgY29uc3RydWN0b3IoYm9keUEsIGJvZHlCLCBzbGlwRm9yY2UpIHtcbiAgICBzdXBlcihib2R5QSwgYm9keUIsIC1zbGlwRm9yY2UsIHNsaXBGb3JjZSk7XG4gICAgdGhpcy5yaSA9IG5ldyBWZWMzKCk7XG4gICAgdGhpcy5yaiA9IG5ldyBWZWMzKCk7XG4gICAgdGhpcy50ID0gbmV3IFZlYzMoKTtcbiAgfVxuXG4gIGNvbXB1dGVCKGgpIHtcbiAgICBjb25zdCBhID0gdGhpcy5hO1xuICAgIGNvbnN0IGIgPSB0aGlzLmI7XG4gICAgY29uc3QgYmkgPSB0aGlzLmJpO1xuICAgIGNvbnN0IGJqID0gdGhpcy5iajtcbiAgICBjb25zdCByaSA9IHRoaXMucmk7XG4gICAgY29uc3QgcmogPSB0aGlzLnJqO1xuICAgIGNvbnN0IHJpeHQgPSBGcmljdGlvbkVxdWF0aW9uX2NvbXB1dGVCX3RlbXAxO1xuICAgIGNvbnN0IHJqeHQgPSBGcmljdGlvbkVxdWF0aW9uX2NvbXB1dGVCX3RlbXAyO1xuICAgIGNvbnN0IHQgPSB0aGlzLnQ7IC8vIENhbHVjbGF0ZSBjcm9zcyBwcm9kdWN0c1xuXG4gICAgcmkuY3Jvc3ModCwgcml4dCk7XG4gICAgcmouY3Jvc3ModCwgcmp4dCk7IC8vIEcgPSBbLXQgLXJpeHQgdCByanh0XVxuICAgIC8vIEFuZCByZW1lbWJlciwgdGhpcyBpcyBhIHB1cmUgdmVsb2NpdHkgY29uc3RyYWludCwgZyBpcyBhbHdheXMgemVybyFcblxuICAgIGNvbnN0IEdBID0gdGhpcy5qYWNvYmlhbkVsZW1lbnRBO1xuICAgIGNvbnN0IEdCID0gdGhpcy5qYWNvYmlhbkVsZW1lbnRCO1xuICAgIHQubmVnYXRlKEdBLnNwYXRpYWwpO1xuICAgIHJpeHQubmVnYXRlKEdBLnJvdGF0aW9uYWwpO1xuICAgIEdCLnNwYXRpYWwuY29weSh0KTtcbiAgICBHQi5yb3RhdGlvbmFsLmNvcHkocmp4dCk7XG4gICAgY29uc3QgR1cgPSB0aGlzLmNvbXB1dGVHVygpO1xuICAgIGNvbnN0IEdpTWYgPSB0aGlzLmNvbXB1dGVHaU1mKCk7XG4gICAgY29uc3QgQiA9IC1HVyAqIGIgLSBoICogR2lNZjtcbiAgICByZXR1cm4gQjtcbiAgfVxuXG59XG5jb25zdCBGcmljdGlvbkVxdWF0aW9uX2NvbXB1dGVCX3RlbXAxID0gbmV3IFZlYzMoKTtcbmNvbnN0IEZyaWN0aW9uRXF1YXRpb25fY29tcHV0ZUJfdGVtcDIgPSBuZXcgVmVjMygpO1xuXG4vKipcclxuICogRGVmaW5lcyB3aGF0IGhhcHBlbnMgd2hlbiB0d28gbWF0ZXJpYWxzIG1lZXQuXHJcbiAqIEBjbGFzcyBDb250YWN0TWF0ZXJpYWxcclxuICogQGNvbnN0cnVjdG9yXHJcbiAqIEBwYXJhbSB7TWF0ZXJpYWx9IG0xXHJcbiAqIEBwYXJhbSB7TWF0ZXJpYWx9IG0yXHJcbiAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc11cclxuICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLmZyaWN0aW9uPTAuM11cclxuICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLnJlc3RpdHV0aW9uPTAuM11cclxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmNvbnRhY3RFcXVhdGlvblN0aWZmbmVzcz0xZTddXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5jb250YWN0RXF1YXRpb25SZWxheGF0aW9uPTNdXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5mcmljdGlvbkVxdWF0aW9uU3RpZmZuZXNzPTFlN11cclxuICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLmZyaWN0aW9uRXF1YXRpb25SZWxheGF0aW9uPTNdXHJcbiAqIEB0b2RvIFJlZmFjdG9yIG1hdGVyaWFscyB0byBtYXRlcmlhbEEgYW5kIG1hdGVyaWFsQlxyXG4gKi9cbmNsYXNzIENvbnRhY3RNYXRlcmlhbCB7XG4gIC8vIElkZW50aWZpZXIgb2YgdGhpcyBtYXRlcmlhbC5cbiAgLy8gUGFydGljaXBhdGluZyBtYXRlcmlhbHMuXG4gIC8vIEZyaWN0aW9uIGNvZWZmaWNpZW50LlxuICAvLyBSZXN0aXR1dGlvbiBjb2VmZmljaWVudC5cbiAgLy8gU3RpZmZuZXNzIG9mIHRoZSBwcm9kdWNlZCBjb250YWN0IGVxdWF0aW9ucy5cbiAgLy8gUmVsYXhhdGlvbiB0aW1lIG9mIHRoZSBwcm9kdWNlZCBjb250YWN0IGVxdWF0aW9ucy5cbiAgLy8gU3RpZmZuZXNzIG9mIHRoZSBwcm9kdWNlZCBmcmljdGlvbiBlcXVhdGlvbnMuXG4gIC8vIFJlbGF4YXRpb24gdGltZSBvZiB0aGUgcHJvZHVjZWQgZnJpY3Rpb24gZXF1YXRpb25zXG4gIGNvbnN0cnVjdG9yKG0xLCBtMiwgb3B0aW9ucykge1xuICAgIG9wdGlvbnMgPSBVdGlscy5kZWZhdWx0cyhvcHRpb25zLCB7XG4gICAgICBmcmljdGlvbjogMC4zLFxuICAgICAgcmVzdGl0dXRpb246IDAuMyxcbiAgICAgIGNvbnRhY3RFcXVhdGlvblN0aWZmbmVzczogMWU3LFxuICAgICAgY29udGFjdEVxdWF0aW9uUmVsYXhhdGlvbjogMyxcbiAgICAgIGZyaWN0aW9uRXF1YXRpb25TdGlmZm5lc3M6IDFlNyxcbiAgICAgIGZyaWN0aW9uRXF1YXRpb25SZWxheGF0aW9uOiAzXG4gICAgfSk7XG4gICAgdGhpcy5pZCA9IENvbnRhY3RNYXRlcmlhbC5pZENvdW50ZXIrKztcbiAgICB0aGlzLm1hdGVyaWFscyA9IFttMSwgbTJdO1xuICAgIHRoaXMuZnJpY3Rpb24gPSBvcHRpb25zLmZyaWN0aW9uO1xuICAgIHRoaXMucmVzdGl0dXRpb24gPSBvcHRpb25zLnJlc3RpdHV0aW9uO1xuICAgIHRoaXMuY29udGFjdEVxdWF0aW9uU3RpZmZuZXNzID0gb3B0aW9ucy5jb250YWN0RXF1YXRpb25TdGlmZm5lc3M7XG4gICAgdGhpcy5jb250YWN0RXF1YXRpb25SZWxheGF0aW9uID0gb3B0aW9ucy5jb250YWN0RXF1YXRpb25SZWxheGF0aW9uO1xuICAgIHRoaXMuZnJpY3Rpb25FcXVhdGlvblN0aWZmbmVzcyA9IG9wdGlvbnMuZnJpY3Rpb25FcXVhdGlvblN0aWZmbmVzcztcbiAgICB0aGlzLmZyaWN0aW9uRXF1YXRpb25SZWxheGF0aW9uID0gb3B0aW9ucy5mcmljdGlvbkVxdWF0aW9uUmVsYXhhdGlvbjtcbiAgfVxuXG59XG5Db250YWN0TWF0ZXJpYWwuaWRDb3VudGVyID0gMDtcblxuLyoqXHJcbiAqIERlZmluZXMgYSBwaHlzaWNzIG1hdGVyaWFsLlxyXG4gKiBAY2xhc3MgTWF0ZXJpYWxcclxuICogQGNvbnN0cnVjdG9yXHJcbiAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc11cclxuICogQGF1dGhvciBzY2h0ZXBwZVxyXG4gKi9cbmNsYXNzIE1hdGVyaWFsIHtcbiAgLy8gTWF0ZXJpYWwgbmFtZS5cbiAgLy8gTWF0ZXJpYWwgaWQuXG4gIC8vIEZyaWN0aW9uIGZvciB0aGlzIG1hdGVyaWFsLiBJZiBub24tbmVnYXRpdmUsIGl0IHdpbGwgYmUgdXNlZCBpbnN0ZWFkIG9mIHRoZSBmcmljdGlvbiBnaXZlbiBieSBDb250YWN0TWF0ZXJpYWxzLiBJZiB0aGVyZSdzIG5vIG1hdGNoaW5nIENvbnRhY3RNYXRlcmlhbCwgdGhlIHZhbHVlIGZyb20gLmRlZmF1bHRDb250YWN0TWF0ZXJpYWwgaW4gdGhlIFdvcmxkIHdpbGwgYmUgdXNlZC5cbiAgLy8gUmVzdGl0dXRpb24gZm9yIHRoaXMgbWF0ZXJpYWwuIElmIG5vbi1uZWdhdGl2ZSwgaXQgd2lsbCBiZSB1c2VkIGluc3RlYWQgb2YgdGhlIHJlc3RpdHV0aW9uIGdpdmVuIGJ5IENvbnRhY3RNYXRlcmlhbHMuIElmIHRoZXJlJ3Mgbm8gbWF0Y2hpbmcgQ29udGFjdE1hdGVyaWFsLCB0aGUgdmFsdWUgZnJvbSAuZGVmYXVsdENvbnRhY3RNYXRlcmlhbCBpbiB0aGUgV29ybGQgd2lsbCBiZSB1c2VkLlxuICBjb25zdHJ1Y3RvcihvcHRpb25zID0ge30pIHtcbiAgICBsZXQgbmFtZSA9ICcnOyAvLyBCYWNrd2FyZHMgY29tcGF0aWJpbGl0eSBmaXhcblxuICAgIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gJ3N0cmluZycpIHtcbiAgICAgIG5hbWUgPSBvcHRpb25zO1xuICAgICAgb3B0aW9ucyA9IHt9O1xuICAgIH1cblxuICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgdGhpcy5pZCA9IE1hdGVyaWFsLmlkQ291bnRlcisrO1xuICAgIHRoaXMuZnJpY3Rpb24gPSB0eXBlb2Ygb3B0aW9ucy5mcmljdGlvbiAhPT0gJ3VuZGVmaW5lZCcgPyBvcHRpb25zLmZyaWN0aW9uIDogLTE7XG4gICAgdGhpcy5yZXN0aXR1dGlvbiA9IHR5cGVvZiBvcHRpb25zLnJlc3RpdHV0aW9uICE9PSAndW5kZWZpbmVkJyA/IG9wdGlvbnMucmVzdGl0dXRpb24gOiAtMTtcbiAgfVxuXG59XG5NYXRlcmlhbC5pZENvdW50ZXIgPSAwO1xuXG4vKipcclxuICogQSBzcHJpbmcsIGNvbm5lY3RpbmcgdHdvIGJvZGllcy5cclxuICpcclxuICogQGNsYXNzIFNwcmluZ1xyXG4gKiBAY29uc3RydWN0b3JcclxuICogQHBhcmFtIHtCb2R5fSBib2R5QVxyXG4gKiBAcGFyYW0ge0JvZHl9IGJvZHlCXHJcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc11cclxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnJlc3RMZW5ndGhdICAgQSBudW1iZXIgPiAwLiBEZWZhdWx0OiAxXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5zdGlmZm5lc3NdICAgIEEgbnVtYmVyID49IDAuIERlZmF1bHQ6IDEwMFxyXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuZGFtcGluZ10gICAgICBBIG51bWJlciA+PSAwLiBEZWZhdWx0OiAxXHJcbiAqIEBwYXJhbSB7VmVjM30gIFtvcHRpb25zLndvcmxkQW5jaG9yQV0gV2hlcmUgdG8gaG9vayB0aGUgc3ByaW5nIHRvIGJvZHkgQSwgaW4gd29ybGQgY29vcmRpbmF0ZXMuXHJcbiAqIEBwYXJhbSB7VmVjM30gIFtvcHRpb25zLndvcmxkQW5jaG9yQl1cclxuICogQHBhcmFtIHtWZWMzfSAgW29wdGlvbnMubG9jYWxBbmNob3JBXSBXaGVyZSB0byBob29rIHRoZSBzcHJpbmcgdG8gYm9keSBBLCBpbiBsb2NhbCBib2R5IGNvb3JkaW5hdGVzLlxyXG4gKiBAcGFyYW0ge1ZlYzN9ICBbb3B0aW9ucy5sb2NhbEFuY2hvckJdXHJcbiAqL1xuY2xhc3MgU3ByaW5nIHtcbiAgLy8gUmVzdCBsZW5ndGggb2YgdGhlIHNwcmluZy5cbiAgLy8gU3RpZmZuZXNzIG9mIHRoZSBzcHJpbmcuXG4gIC8vIERhbXBpbmcgb2YgdGhlIHNwcmluZy5cbiAgLy8gRmlyc3QgY29ubmVjdGVkIGJvZHkuXG4gIC8vIFNlY29uZCBjb25uZWN0ZWQgYm9keS5cbiAgLy8gQW5jaG9yIGZvciBib2R5QSBpbiBsb2NhbCBib2R5QSBjb29yZGluYXRlcy5cbiAgLy8gQW5jaG9yIGZvciBib2R5QiBpbiBsb2NhbCBib2R5QiBjb29yZGluYXRlcy5cbiAgY29uc3RydWN0b3IoYm9keUEsIGJvZHlCLCBvcHRpb25zID0ge30pIHtcbiAgICB0aGlzLnJlc3RMZW5ndGggPSB0eXBlb2Ygb3B0aW9ucy5yZXN0TGVuZ3RoID09PSAnbnVtYmVyJyA/IG9wdGlvbnMucmVzdExlbmd0aCA6IDE7XG4gICAgdGhpcy5zdGlmZm5lc3MgPSBvcHRpb25zLnN0aWZmbmVzcyB8fCAxMDA7XG4gICAgdGhpcy5kYW1waW5nID0gb3B0aW9ucy5kYW1waW5nIHx8IDE7XG4gICAgdGhpcy5ib2R5QSA9IGJvZHlBO1xuICAgIHRoaXMuYm9keUIgPSBib2R5QjtcbiAgICB0aGlzLmxvY2FsQW5jaG9yQSA9IG5ldyBWZWMzKCk7XG4gICAgdGhpcy5sb2NhbEFuY2hvckIgPSBuZXcgVmVjMygpO1xuXG4gICAgaWYgKG9wdGlvbnMubG9jYWxBbmNob3JBKSB7XG4gICAgICB0aGlzLmxvY2FsQW5jaG9yQS5jb3B5KG9wdGlvbnMubG9jYWxBbmNob3JBKTtcbiAgICB9XG5cbiAgICBpZiAob3B0aW9ucy5sb2NhbEFuY2hvckIpIHtcbiAgICAgIHRoaXMubG9jYWxBbmNob3JCLmNvcHkob3B0aW9ucy5sb2NhbEFuY2hvckIpO1xuICAgIH1cblxuICAgIGlmIChvcHRpb25zLndvcmxkQW5jaG9yQSkge1xuICAgICAgdGhpcy5zZXRXb3JsZEFuY2hvckEob3B0aW9ucy53b3JsZEFuY2hvckEpO1xuICAgIH1cblxuICAgIGlmIChvcHRpb25zLndvcmxkQW5jaG9yQikge1xuICAgICAgdGhpcy5zZXRXb3JsZEFuY2hvckIob3B0aW9ucy53b3JsZEFuY2hvckIpO1xuICAgIH1cbiAgfVxuICAvKipcclxuICAgKiBTZXQgdGhlIGFuY2hvciBwb2ludCBvbiBib2R5IEEsIHVzaW5nIHdvcmxkIGNvb3JkaW5hdGVzLlxyXG4gICAqIEBtZXRob2Qgc2V0V29ybGRBbmNob3JBXHJcbiAgICogQHBhcmFtIHtWZWMzfSB3b3JsZEFuY2hvckFcclxuICAgKi9cblxuXG4gIHNldFdvcmxkQW5jaG9yQSh3b3JsZEFuY2hvckEpIHtcbiAgICB0aGlzLmJvZHlBLnBvaW50VG9Mb2NhbEZyYW1lKHdvcmxkQW5jaG9yQSwgdGhpcy5sb2NhbEFuY2hvckEpO1xuICB9XG4gIC8qKlxyXG4gICAqIFNldCB0aGUgYW5jaG9yIHBvaW50IG9uIGJvZHkgQiwgdXNpbmcgd29ybGQgY29vcmRpbmF0ZXMuXHJcbiAgICogQG1ldGhvZCBzZXRXb3JsZEFuY2hvckJcclxuICAgKiBAcGFyYW0ge1ZlYzN9IHdvcmxkQW5jaG9yQlxyXG4gICAqL1xuXG5cbiAgc2V0V29ybGRBbmNob3JCKHdvcmxkQW5jaG9yQikge1xuICAgIHRoaXMuYm9keUIucG9pbnRUb0xvY2FsRnJhbWUod29ybGRBbmNob3JCLCB0aGlzLmxvY2FsQW5jaG9yQik7XG4gIH1cbiAgLyoqXHJcbiAgICogR2V0IHRoZSBhbmNob3IgcG9pbnQgb24gYm9keSBBLCBpbiB3b3JsZCBjb29yZGluYXRlcy5cclxuICAgKiBAbWV0aG9kIGdldFdvcmxkQW5jaG9yQVxyXG4gICAqIEBwYXJhbSB7VmVjM30gcmVzdWx0IFRoZSB2ZWN0b3IgdG8gc3RvcmUgdGhlIHJlc3VsdCBpbi5cclxuICAgKi9cblxuXG4gIGdldFdvcmxkQW5jaG9yQShyZXN1bHQpIHtcbiAgICB0aGlzLmJvZHlBLnBvaW50VG9Xb3JsZEZyYW1lKHRoaXMubG9jYWxBbmNob3JBLCByZXN1bHQpO1xuICB9XG4gIC8qKlxyXG4gICAqIEdldCB0aGUgYW5jaG9yIHBvaW50IG9uIGJvZHkgQiwgaW4gd29ybGQgY29vcmRpbmF0ZXMuXHJcbiAgICogQG1ldGhvZCBnZXRXb3JsZEFuY2hvckJcclxuICAgKiBAcGFyYW0ge1ZlYzN9IHJlc3VsdCBUaGUgdmVjdG9yIHRvIHN0b3JlIHRoZSByZXN1bHQgaW4uXHJcbiAgICovXG5cblxuICBnZXRXb3JsZEFuY2hvckIocmVzdWx0KSB7XG4gICAgdGhpcy5ib2R5Qi5wb2ludFRvV29ybGRGcmFtZSh0aGlzLmxvY2FsQW5jaG9yQiwgcmVzdWx0KTtcbiAgfVxuICAvKipcclxuICAgKiBBcHBseSB0aGUgc3ByaW5nIGZvcmNlIHRvIHRoZSBjb25uZWN0ZWQgYm9kaWVzLlxyXG4gICAqIEBtZXRob2QgYXBwbHlGb3JjZVxyXG4gICAqL1xuXG5cbiAgYXBwbHlGb3JjZSgpIHtcbiAgICBjb25zdCBrID0gdGhpcy5zdGlmZm5lc3M7XG4gICAgY29uc3QgZCA9IHRoaXMuZGFtcGluZztcbiAgICBjb25zdCBsID0gdGhpcy5yZXN0TGVuZ3RoO1xuICAgIGNvbnN0IGJvZHlBID0gdGhpcy5ib2R5QTtcbiAgICBjb25zdCBib2R5QiA9IHRoaXMuYm9keUI7XG4gICAgY29uc3QgciA9IGFwcGx5Rm9yY2VfcjtcbiAgICBjb25zdCByX3VuaXQgPSBhcHBseUZvcmNlX3JfdW5pdDtcbiAgICBjb25zdCB1ID0gYXBwbHlGb3JjZV91O1xuICAgIGNvbnN0IGYgPSBhcHBseUZvcmNlX2Y7XG4gICAgY29uc3QgdG1wID0gYXBwbHlGb3JjZV90bXA7XG4gICAgY29uc3Qgd29ybGRBbmNob3JBID0gYXBwbHlGb3JjZV93b3JsZEFuY2hvckE7XG4gICAgY29uc3Qgd29ybGRBbmNob3JCID0gYXBwbHlGb3JjZV93b3JsZEFuY2hvckI7XG4gICAgY29uc3QgcmkgPSBhcHBseUZvcmNlX3JpO1xuICAgIGNvbnN0IHJqID0gYXBwbHlGb3JjZV9yajtcbiAgICBjb25zdCByaV94X2YgPSBhcHBseUZvcmNlX3JpX3hfZjtcbiAgICBjb25zdCByal94X2YgPSBhcHBseUZvcmNlX3JqX3hfZjsgLy8gR2V0IHdvcmxkIGFuY2hvcnNcblxuICAgIHRoaXMuZ2V0V29ybGRBbmNob3JBKHdvcmxkQW5jaG9yQSk7XG4gICAgdGhpcy5nZXRXb3JsZEFuY2hvckIod29ybGRBbmNob3JCKTsgLy8gR2V0IG9mZnNldCBwb2ludHNcblxuICAgIHdvcmxkQW5jaG9yQS52c3ViKGJvZHlBLnBvc2l0aW9uLCByaSk7XG4gICAgd29ybGRBbmNob3JCLnZzdWIoYm9keUIucG9zaXRpb24sIHJqKTsgLy8gQ29tcHV0ZSBkaXN0YW5jZSB2ZWN0b3IgYmV0d2VlbiB3b3JsZCBhbmNob3IgcG9pbnRzXG5cbiAgICB3b3JsZEFuY2hvckIudnN1Yih3b3JsZEFuY2hvckEsIHIpO1xuICAgIGNvbnN0IHJsZW4gPSByLmxlbmd0aCgpO1xuICAgIHJfdW5pdC5jb3B5KHIpO1xuICAgIHJfdW5pdC5ub3JtYWxpemUoKTsgLy8gQ29tcHV0ZSByZWxhdGl2ZSB2ZWxvY2l0eSBvZiB0aGUgYW5jaG9yIHBvaW50cywgdVxuXG4gICAgYm9keUIudmVsb2NpdHkudnN1Yihib2R5QS52ZWxvY2l0eSwgdSk7IC8vIEFkZCByb3RhdGlvbmFsIHZlbG9jaXR5XG5cbiAgICBib2R5Qi5hbmd1bGFyVmVsb2NpdHkuY3Jvc3MocmosIHRtcCk7XG4gICAgdS52YWRkKHRtcCwgdSk7XG4gICAgYm9keUEuYW5ndWxhclZlbG9jaXR5LmNyb3NzKHJpLCB0bXApO1xuICAgIHUudnN1Yih0bXAsIHUpOyAvLyBGID0gLSBrICogKCB4IC0gTCApIC0gRCAqICggdSApXG5cbiAgICByX3VuaXQuc2NhbGUoLWsgKiAocmxlbiAtIGwpIC0gZCAqIHUuZG90KHJfdW5pdCksIGYpOyAvLyBBZGQgZm9yY2VzIHRvIGJvZGllc1xuXG4gICAgYm9keUEuZm9yY2UudnN1YihmLCBib2R5QS5mb3JjZSk7XG4gICAgYm9keUIuZm9yY2UudmFkZChmLCBib2R5Qi5mb3JjZSk7IC8vIEFuZ3VsYXIgZm9yY2VcblxuICAgIHJpLmNyb3NzKGYsIHJpX3hfZik7XG4gICAgcmouY3Jvc3MoZiwgcmpfeF9mKTtcbiAgICBib2R5QS50b3JxdWUudnN1YihyaV94X2YsIGJvZHlBLnRvcnF1ZSk7XG4gICAgYm9keUIudG9ycXVlLnZhZGQocmpfeF9mLCBib2R5Qi50b3JxdWUpO1xuICB9XG5cbn1cbmNvbnN0IGFwcGx5Rm9yY2VfciA9IG5ldyBWZWMzKCk7XG5jb25zdCBhcHBseUZvcmNlX3JfdW5pdCA9IG5ldyBWZWMzKCk7XG5jb25zdCBhcHBseUZvcmNlX3UgPSBuZXcgVmVjMygpO1xuY29uc3QgYXBwbHlGb3JjZV9mID0gbmV3IFZlYzMoKTtcbmNvbnN0IGFwcGx5Rm9yY2Vfd29ybGRBbmNob3JBID0gbmV3IFZlYzMoKTtcbmNvbnN0IGFwcGx5Rm9yY2Vfd29ybGRBbmNob3JCID0gbmV3IFZlYzMoKTtcbmNvbnN0IGFwcGx5Rm9yY2VfcmkgPSBuZXcgVmVjMygpO1xuY29uc3QgYXBwbHlGb3JjZV9yaiA9IG5ldyBWZWMzKCk7XG5jb25zdCBhcHBseUZvcmNlX3JpX3hfZiA9IG5ldyBWZWMzKCk7XG5jb25zdCBhcHBseUZvcmNlX3JqX3hfZiA9IG5ldyBWZWMzKCk7XG5jb25zdCBhcHBseUZvcmNlX3RtcCA9IG5ldyBWZWMzKCk7XG5cbi8qKlxyXG4gKiBAY2xhc3MgV2hlZWxJbmZvXHJcbiAqIEBjb25zdHJ1Y3RvclxyXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdXHJcbiAqXHJcbiAqIEBwYXJhbSB7VmVjM30gW29wdGlvbnMuY2hhc3Npc0Nvbm5lY3Rpb25Qb2ludExvY2FsXVxyXG4gKiBAcGFyYW0ge1ZlYzN9IFtvcHRpb25zLmNoYXNzaXNDb25uZWN0aW9uUG9pbnRXb3JsZF1cclxuICogQHBhcmFtIHtWZWMzfSBbb3B0aW9ucy5kaXJlY3Rpb25Mb2NhbF1cclxuICogQHBhcmFtIHtWZWMzfSBbb3B0aW9ucy5kaXJlY3Rpb25Xb3JsZF1cclxuICogQHBhcmFtIHtWZWMzfSBbb3B0aW9ucy5heGxlTG9jYWxdXHJcbiAqIEBwYXJhbSB7VmVjM30gW29wdGlvbnMuYXhsZVdvcmxkXVxyXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuc3VzcGVuc2lvblJlc3RMZW5ndGg9MV1cclxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnN1c3BlbnNpb25NYXhMZW5ndGg9Ml1cclxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnJhZGl1cz0xXVxyXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuc3VzcGVuc2lvblN0aWZmbmVzcz0xMDBdXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5kYW1waW5nQ29tcHJlc3Npb249MTBdXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5kYW1waW5nUmVsYXhhdGlvbj0xMF1cclxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmZyaWN0aW9uU2xpcD0xMDAwMF1cclxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnN0ZWVyaW5nPTBdXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5yb3RhdGlvbj0wXVxyXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuZGVsdGFSb3RhdGlvbj0wXVxyXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMucm9sbEluZmx1ZW5jZT0wLjAxXVxyXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMubWF4U3VzcGVuc2lvbkZvcmNlXVxyXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmlzRnJvbnRXaGVlbD10cnVlXVxyXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuY2xpcHBlZEludkNvbnRhY3REb3RTdXNwZW5zaW9uPTFdXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5zdXNwZW5zaW9uUmVsYXRpdmVWZWxvY2l0eT0wXVxyXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuc3VzcGVuc2lvbkZvcmNlPTBdXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5za2lkSW5mbz0wXVxyXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuc3VzcGVuc2lvbkxlbmd0aD0wXVxyXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMubWF4U3VzcGVuc2lvblRyYXZlbD0xXVxyXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnVzZUN1c3RvbVNsaWRpbmdSb3RhdGlvbmFsU3BlZWQ9ZmFsc2VdXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5jdXN0b21TbGlkaW5nUm90YXRpb25hbFNwZWVkPS0wLjFdXHJcbiAqL1xuY2xhc3MgV2hlZWxJbmZvIHtcbiAgLy8gTWF4IHRyYXZlbCBkaXN0YW5jZSBvZiB0aGUgc3VzcGVuc2lvbiwgaW4gbWV0ZXJzLlxuICAvLyBTcGVlZCB0byBhcHBseSB0byB0aGUgd2hlZWwgcm90YXRpb24gd2hlbiB0aGUgd2hlZWwgaXMgc2xpZGluZy5cbiAgLy8gSWYgdGhlIGN1c3RvbVNsaWRpbmdSb3RhdGlvbmFsU3BlZWQgc2hvdWxkIGJlIHVzZWQuXG4gIC8vIENvbm5lY3Rpb24gcG9pbnQsIGRlZmluZWQgbG9jYWxseSBpbiB0aGUgY2hhc3NpcyBib2R5IGZyYW1lLlxuICAvLyBSb3RhdGlvbiB2YWx1ZSwgaW4gcmFkaWFucy5cbiAgLy8gVGhlIHJlc3VsdCBmcm9tIHJheWNhc3RpbmcuXG4gIC8vIFdoZWVsIHdvcmxkIHRyYW5zZm9ybS5cbiAgY29uc3RydWN0b3Iob3B0aW9ucyA9IHt9KSB7XG4gICAgb3B0aW9ucyA9IFV0aWxzLmRlZmF1bHRzKG9wdGlvbnMsIHtcbiAgICAgIGNoYXNzaXNDb25uZWN0aW9uUG9pbnRMb2NhbDogbmV3IFZlYzMoKSxcbiAgICAgIGNoYXNzaXNDb25uZWN0aW9uUG9pbnRXb3JsZDogbmV3IFZlYzMoKSxcbiAgICAgIGRpcmVjdGlvbkxvY2FsOiBuZXcgVmVjMygpLFxuICAgICAgZGlyZWN0aW9uV29ybGQ6IG5ldyBWZWMzKCksXG4gICAgICBheGxlTG9jYWw6IG5ldyBWZWMzKCksXG4gICAgICBheGxlV29ybGQ6IG5ldyBWZWMzKCksXG4gICAgICBzdXNwZW5zaW9uUmVzdExlbmd0aDogMSxcbiAgICAgIHN1c3BlbnNpb25NYXhMZW5ndGg6IDIsXG4gICAgICByYWRpdXM6IDEsXG4gICAgICBzdXNwZW5zaW9uU3RpZmZuZXNzOiAxMDAsXG4gICAgICBkYW1waW5nQ29tcHJlc3Npb246IDEwLFxuICAgICAgZGFtcGluZ1JlbGF4YXRpb246IDEwLFxuICAgICAgZnJpY3Rpb25TbGlwOiAxMDAwMCxcbiAgICAgIHN0ZWVyaW5nOiAwLFxuICAgICAgcm90YXRpb246IDAsXG4gICAgICBkZWx0YVJvdGF0aW9uOiAwLFxuICAgICAgcm9sbEluZmx1ZW5jZTogMC4wMSxcbiAgICAgIG1heFN1c3BlbnNpb25Gb3JjZTogTnVtYmVyLk1BWF9WQUxVRSxcbiAgICAgIGlzRnJvbnRXaGVlbDogdHJ1ZSxcbiAgICAgIGNsaXBwZWRJbnZDb250YWN0RG90U3VzcGVuc2lvbjogMSxcbiAgICAgIHN1c3BlbnNpb25SZWxhdGl2ZVZlbG9jaXR5OiAwLFxuICAgICAgc3VzcGVuc2lvbkZvcmNlOiAwLFxuICAgICAgc2xpcEluZm86IDAsXG4gICAgICBza2lkSW5mbzogMCxcbiAgICAgIHN1c3BlbnNpb25MZW5ndGg6IDAsXG4gICAgICBtYXhTdXNwZW5zaW9uVHJhdmVsOiAxLFxuICAgICAgdXNlQ3VzdG9tU2xpZGluZ1JvdGF0aW9uYWxTcGVlZDogZmFsc2UsXG4gICAgICBjdXN0b21TbGlkaW5nUm90YXRpb25hbFNwZWVkOiAtMC4xXG4gICAgfSk7XG4gICAgdGhpcy5tYXhTdXNwZW5zaW9uVHJhdmVsID0gb3B0aW9ucy5tYXhTdXNwZW5zaW9uVHJhdmVsO1xuICAgIHRoaXMuY3VzdG9tU2xpZGluZ1JvdGF0aW9uYWxTcGVlZCA9IG9wdGlvbnMuY3VzdG9tU2xpZGluZ1JvdGF0aW9uYWxTcGVlZDtcbiAgICB0aGlzLnVzZUN1c3RvbVNsaWRpbmdSb3RhdGlvbmFsU3BlZWQgPSBvcHRpb25zLnVzZUN1c3RvbVNsaWRpbmdSb3RhdGlvbmFsU3BlZWQ7XG4gICAgdGhpcy5zbGlkaW5nID0gZmFsc2U7XG4gICAgdGhpcy5jaGFzc2lzQ29ubmVjdGlvblBvaW50TG9jYWwgPSBvcHRpb25zLmNoYXNzaXNDb25uZWN0aW9uUG9pbnRMb2NhbC5jbG9uZSgpO1xuICAgIHRoaXMuY2hhc3Npc0Nvbm5lY3Rpb25Qb2ludFdvcmxkID0gb3B0aW9ucy5jaGFzc2lzQ29ubmVjdGlvblBvaW50V29ybGQuY2xvbmUoKTtcbiAgICB0aGlzLmRpcmVjdGlvbkxvY2FsID0gb3B0aW9ucy5kaXJlY3Rpb25Mb2NhbC5jbG9uZSgpO1xuICAgIHRoaXMuZGlyZWN0aW9uV29ybGQgPSBvcHRpb25zLmRpcmVjdGlvbldvcmxkLmNsb25lKCk7XG4gICAgdGhpcy5heGxlTG9jYWwgPSBvcHRpb25zLmF4bGVMb2NhbC5jbG9uZSgpO1xuICAgIHRoaXMuYXhsZVdvcmxkID0gb3B0aW9ucy5heGxlV29ybGQuY2xvbmUoKTtcbiAgICB0aGlzLnN1c3BlbnNpb25SZXN0TGVuZ3RoID0gb3B0aW9ucy5zdXNwZW5zaW9uUmVzdExlbmd0aDtcbiAgICB0aGlzLnN1c3BlbnNpb25NYXhMZW5ndGggPSBvcHRpb25zLnN1c3BlbnNpb25NYXhMZW5ndGg7XG4gICAgdGhpcy5yYWRpdXMgPSBvcHRpb25zLnJhZGl1cztcbiAgICB0aGlzLnN1c3BlbnNpb25TdGlmZm5lc3MgPSBvcHRpb25zLnN1c3BlbnNpb25TdGlmZm5lc3M7XG4gICAgdGhpcy5kYW1waW5nQ29tcHJlc3Npb24gPSBvcHRpb25zLmRhbXBpbmdDb21wcmVzc2lvbjtcbiAgICB0aGlzLmRhbXBpbmdSZWxheGF0aW9uID0gb3B0aW9ucy5kYW1waW5nUmVsYXhhdGlvbjtcbiAgICB0aGlzLmZyaWN0aW9uU2xpcCA9IG9wdGlvbnMuZnJpY3Rpb25TbGlwO1xuICAgIHRoaXMuc3RlZXJpbmcgPSAwO1xuICAgIHRoaXMucm90YXRpb24gPSAwO1xuICAgIHRoaXMuZGVsdGFSb3RhdGlvbiA9IDA7XG4gICAgdGhpcy5yb2xsSW5mbHVlbmNlID0gb3B0aW9ucy5yb2xsSW5mbHVlbmNlO1xuICAgIHRoaXMubWF4U3VzcGVuc2lvbkZvcmNlID0gb3B0aW9ucy5tYXhTdXNwZW5zaW9uRm9yY2U7XG4gICAgdGhpcy5lbmdpbmVGb3JjZSA9IDA7XG4gICAgdGhpcy5icmFrZSA9IDA7XG4gICAgdGhpcy5pc0Zyb250V2hlZWwgPSBvcHRpb25zLmlzRnJvbnRXaGVlbDtcbiAgICB0aGlzLmNsaXBwZWRJbnZDb250YWN0RG90U3VzcGVuc2lvbiA9IDE7XG4gICAgdGhpcy5zdXNwZW5zaW9uUmVsYXRpdmVWZWxvY2l0eSA9IDA7XG4gICAgdGhpcy5zdXNwZW5zaW9uRm9yY2UgPSAwO1xuICAgIHRoaXMuc2xpcEluZm8gPSAwO1xuICAgIHRoaXMuc2tpZEluZm8gPSAwO1xuICAgIHRoaXMuc3VzcGVuc2lvbkxlbmd0aCA9IDA7XG4gICAgdGhpcy5zaWRlSW1wdWxzZSA9IDA7XG4gICAgdGhpcy5mb3J3YXJkSW1wdWxzZSA9IDA7XG4gICAgdGhpcy5yYXljYXN0UmVzdWx0ID0gbmV3IFJheWNhc3RSZXN1bHQoKTtcbiAgICB0aGlzLndvcmxkVHJhbnNmb3JtID0gbmV3IFRyYW5zZm9ybSgpO1xuICAgIHRoaXMuaXNJbkNvbnRhY3QgPSBmYWxzZTtcbiAgfVxuXG4gIHVwZGF0ZVdoZWVsKGNoYXNzaXMpIHtcbiAgICBjb25zdCByYXljYXN0UmVzdWx0ID0gdGhpcy5yYXljYXN0UmVzdWx0O1xuXG4gICAgaWYgKHRoaXMuaXNJbkNvbnRhY3QpIHtcbiAgICAgIGNvbnN0IHByb2plY3QgPSByYXljYXN0UmVzdWx0LmhpdE5vcm1hbFdvcmxkLmRvdChyYXljYXN0UmVzdWx0LmRpcmVjdGlvbldvcmxkKTtcbiAgICAgIHJheWNhc3RSZXN1bHQuaGl0UG9pbnRXb3JsZC52c3ViKGNoYXNzaXMucG9zaXRpb24sIHJlbHBvcyk7XG4gICAgICBjaGFzc2lzLmdldFZlbG9jaXR5QXRXb3JsZFBvaW50KHJlbHBvcywgY2hhc3Npc192ZWxvY2l0eV9hdF9jb250YWN0UG9pbnQpO1xuICAgICAgY29uc3QgcHJvalZlbCA9IHJheWNhc3RSZXN1bHQuaGl0Tm9ybWFsV29ybGQuZG90KGNoYXNzaXNfdmVsb2NpdHlfYXRfY29udGFjdFBvaW50KTtcblxuICAgICAgaWYgKHByb2plY3QgPj0gLTAuMSkge1xuICAgICAgICB0aGlzLnN1c3BlbnNpb25SZWxhdGl2ZVZlbG9jaXR5ID0gMC4wO1xuICAgICAgICB0aGlzLmNsaXBwZWRJbnZDb250YWN0RG90U3VzcGVuc2lvbiA9IDEuMCAvIDAuMTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IGludiA9IC0xIC8gcHJvamVjdDtcbiAgICAgICAgdGhpcy5zdXNwZW5zaW9uUmVsYXRpdmVWZWxvY2l0eSA9IHByb2pWZWwgKiBpbnY7XG4gICAgICAgIHRoaXMuY2xpcHBlZEludkNvbnRhY3REb3RTdXNwZW5zaW9uID0gaW52O1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBOb3QgaW4gY29udGFjdCA6IHBvc2l0aW9uIHdoZWVsIGluIGEgbmljZSAocmVzdCBsZW5ndGgpIHBvc2l0aW9uXG4gICAgICByYXljYXN0UmVzdWx0LnN1c3BlbnNpb25MZW5ndGggPSB0aGlzLnN1c3BlbnNpb25SZXN0TGVuZ3RoO1xuICAgICAgdGhpcy5zdXNwZW5zaW9uUmVsYXRpdmVWZWxvY2l0eSA9IDAuMDtcbiAgICAgIHJheWNhc3RSZXN1bHQuZGlyZWN0aW9uV29ybGQuc2NhbGUoLTEsIHJheWNhc3RSZXN1bHQuaGl0Tm9ybWFsV29ybGQpO1xuICAgICAgdGhpcy5jbGlwcGVkSW52Q29udGFjdERvdFN1c3BlbnNpb24gPSAxLjA7XG4gICAgfVxuICB9XG5cbn1cbmNvbnN0IGNoYXNzaXNfdmVsb2NpdHlfYXRfY29udGFjdFBvaW50ID0gbmV3IFZlYzMoKTtcbmNvbnN0IHJlbHBvcyA9IG5ldyBWZWMzKCk7XG5cbi8qKlxyXG4gKiBWZWhpY2xlIGhlbHBlciBjbGFzcyB0aGF0IGNhc3RzIHJheXMgZnJvbSB0aGUgd2hlZWwgcG9zaXRpb25zIHRvd2FyZHMgdGhlIGdyb3VuZCBhbmQgYXBwbGllcyBmb3JjZXMuXHJcbiAqIEBjbGFzcyBSYXljYXN0VmVoaWNsZVxyXG4gKiBAY29uc3RydWN0b3JcclxuICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXVxyXG4gKiBAcGFyYW0ge0JvZHl9IFtvcHRpb25zLmNoYXNzaXNCb2R5XSBUaGUgY2FyIGNoYXNzaXMgYm9keS5cclxuICogQHBhcmFtIHtpbnRlZ2VyfSBbb3B0aW9ucy5pbmRleFJpZ2h0QXhpc10gQXhpcyB0byB1c2UgZm9yIHJpZ2h0LiB4PTAsIHk9MSwgej0yXHJcbiAqIEBwYXJhbSB7aW50ZWdlcn0gW29wdGlvbnMuaW5kZXhMZWZ0QXhpc11cclxuICogQHBhcmFtIHtpbnRlZ2VyfSBbb3B0aW9ucy5pbmRleFVwQXhpc11cclxuICovXG5jbGFzcyBSYXljYXN0VmVoaWNsZSB7XG4gIC8vIFdpbGwgYmUgc2V0IHRvIHRydWUgaWYgdGhlIGNhciBpcyBzbGlkaW5nLlxuICAvLyBJbmRleCBvZiB0aGUgcmlnaHQgYXhpcywgMD14LCAxPXksIDI9elxuICAvLyBJbmRleCBvZiB0aGUgZm9yd2FyZCBheGlzLCAwPXgsIDE9eSwgMj16XG4gIC8vIEluZGV4IG9mIHRoZSB1cCBheGlzLCAwPXgsIDE9eSwgMj16XG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICB0aGlzLmNoYXNzaXNCb2R5ID0gb3B0aW9ucy5jaGFzc2lzQm9keTtcbiAgICB0aGlzLndoZWVsSW5mb3MgPSBbXTtcbiAgICB0aGlzLnNsaWRpbmcgPSBmYWxzZTtcbiAgICB0aGlzLndvcmxkID0gbnVsbDtcbiAgICB0aGlzLmluZGV4UmlnaHRBeGlzID0gdHlwZW9mIG9wdGlvbnMuaW5kZXhSaWdodEF4aXMgIT09ICd1bmRlZmluZWQnID8gb3B0aW9ucy5pbmRleFJpZ2h0QXhpcyA6IDE7XG4gICAgdGhpcy5pbmRleEZvcndhcmRBeGlzID0gdHlwZW9mIG9wdGlvbnMuaW5kZXhGb3J3YXJkQXhpcyAhPT0gJ3VuZGVmaW5lZCcgPyBvcHRpb25zLmluZGV4Rm9yd2FyZEF4aXMgOiAwO1xuICAgIHRoaXMuaW5kZXhVcEF4aXMgPSB0eXBlb2Ygb3B0aW9ucy5pbmRleFVwQXhpcyAhPT0gJ3VuZGVmaW5lZCcgPyBvcHRpb25zLmluZGV4VXBBeGlzIDogMjtcbiAgICB0aGlzLmNvbnN0cmFpbnRzID0gW107XG5cbiAgICB0aGlzLnByZVN0ZXBDYWxsYmFjayA9ICgpID0+IHt9O1xuXG4gICAgdGhpcy5jdXJyZW50VmVoaWNsZVNwZWVkS21Ib3VyID0gMDtcbiAgfVxuICAvKipcclxuICAgKiBBZGQgYSB3aGVlbC4gRm9yIGluZm9ybWF0aW9uIGFib3V0IHRoZSBvcHRpb25zLCBzZWUgV2hlZWxJbmZvLlxyXG4gICAqIEBtZXRob2QgYWRkV2hlZWxcclxuICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdXHJcbiAgICovXG5cblxuICBhZGRXaGVlbChvcHRpb25zID0ge30pIHtcbiAgICBjb25zdCBpbmZvID0gbmV3IFdoZWVsSW5mbyhvcHRpb25zKTtcbiAgICBjb25zdCBpbmRleCA9IHRoaXMud2hlZWxJbmZvcy5sZW5ndGg7XG4gICAgdGhpcy53aGVlbEluZm9zLnB1c2goaW5mbyk7XG4gICAgcmV0dXJuIGluZGV4O1xuICB9XG4gIC8qKlxyXG4gICAqIFNldCB0aGUgc3RlZXJpbmcgdmFsdWUgb2YgYSB3aGVlbC5cclxuICAgKiBAbWV0aG9kIHNldFN0ZWVyaW5nVmFsdWVcclxuICAgKiBAcGFyYW0ge251bWJlcn0gdmFsdWVcclxuICAgKiBAcGFyYW0ge2ludGVnZXJ9IHdoZWVsSW5kZXhcclxuICAgKi9cblxuXG4gIHNldFN0ZWVyaW5nVmFsdWUodmFsdWUsIHdoZWVsSW5kZXgpIHtcbiAgICBjb25zdCB3aGVlbCA9IHRoaXMud2hlZWxJbmZvc1t3aGVlbEluZGV4XTtcbiAgICB3aGVlbC5zdGVlcmluZyA9IHZhbHVlO1xuICB9XG4gIC8qKlxyXG4gICAqIFNldCB0aGUgd2hlZWwgZm9yY2UgdG8gYXBwbHkgb24gb25lIG9mIHRoZSB3aGVlbHMgZWFjaCB0aW1lIHN0ZXBcclxuICAgKiBAbWV0aG9kIGFwcGx5RW5naW5lRm9yY2VcclxuICAgKiBAcGFyYW0gIHtudW1iZXJ9IHZhbHVlXHJcbiAgICogQHBhcmFtICB7aW50ZWdlcn0gd2hlZWxJbmRleFxyXG4gICAqL1xuXG5cbiAgYXBwbHlFbmdpbmVGb3JjZSh2YWx1ZSwgd2hlZWxJbmRleCkge1xuICAgIHRoaXMud2hlZWxJbmZvc1t3aGVlbEluZGV4XS5lbmdpbmVGb3JjZSA9IHZhbHVlO1xuICB9XG4gIC8qKlxyXG4gICAqIFNldCB0aGUgYnJha2luZyBmb3JjZSBvZiBhIHdoZWVsXHJcbiAgICogQG1ldGhvZCBzZXRCcmFrZVxyXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBicmFrZVxyXG4gICAqIEBwYXJhbSB7aW50ZWdlcn0gd2hlZWxJbmRleFxyXG4gICAqL1xuXG5cbiAgc2V0QnJha2UoYnJha2UsIHdoZWVsSW5kZXgpIHtcbiAgICB0aGlzLndoZWVsSW5mb3Nbd2hlZWxJbmRleF0uYnJha2UgPSBicmFrZTtcbiAgfVxuICAvKipcclxuICAgKiBBZGQgdGhlIHZlaGljbGUgaW5jbHVkaW5nIGl0cyBjb25zdHJhaW50cyB0byB0aGUgd29ybGQuXHJcbiAgICogQG1ldGhvZCBhZGRUb1dvcmxkXHJcbiAgICogQHBhcmFtIHtXb3JsZH0gd29ybGRcclxuICAgKi9cblxuXG4gIGFkZFRvV29ybGQod29ybGQpIHtcbiAgICBjb25zdCBjb25zdHJhaW50cyA9IHRoaXMuY29uc3RyYWludHM7XG4gICAgd29ybGQuYWRkQm9keSh0aGlzLmNoYXNzaXNCb2R5KTtcbiAgICBjb25zdCB0aGF0ID0gdGhpcztcblxuICAgIHRoaXMucHJlU3RlcENhbGxiYWNrID0gKCkgPT4ge1xuICAgICAgdGhhdC51cGRhdGVWZWhpY2xlKHdvcmxkLmR0KTtcbiAgICB9O1xuXG4gICAgd29ybGQuYWRkRXZlbnRMaXN0ZW5lcigncHJlU3RlcCcsIHRoaXMucHJlU3RlcENhbGxiYWNrKTtcbiAgICB0aGlzLndvcmxkID0gd29ybGQ7XG4gIH1cbiAgLyoqXHJcbiAgICogR2V0IG9uZSBvZiB0aGUgd2hlZWwgYXhsZXMsIHdvcmxkLW9yaWVudGVkLlxyXG4gICAqIEBwcml2YXRlXHJcbiAgICogQG1ldGhvZCBnZXRWZWhpY2xlQXhpc1dvcmxkXHJcbiAgICogQHBhcmFtICB7aW50ZWdlcn0gYXhpc0luZGV4XHJcbiAgICogQHBhcmFtICB7VmVjM30gcmVzdWx0XHJcbiAgICovXG5cblxuICBnZXRWZWhpY2xlQXhpc1dvcmxkKGF4aXNJbmRleCwgcmVzdWx0KSB7XG4gICAgcmVzdWx0LnNldChheGlzSW5kZXggPT09IDAgPyAxIDogMCwgYXhpc0luZGV4ID09PSAxID8gMSA6IDAsIGF4aXNJbmRleCA9PT0gMiA/IDEgOiAwKTtcbiAgICB0aGlzLmNoYXNzaXNCb2R5LnZlY3RvclRvV29ybGRGcmFtZShyZXN1bHQsIHJlc3VsdCk7XG4gIH1cblxuICB1cGRhdGVWZWhpY2xlKHRpbWVTdGVwKSB7XG4gICAgY29uc3Qgd2hlZWxJbmZvcyA9IHRoaXMud2hlZWxJbmZvcztcbiAgICBjb25zdCBudW1XaGVlbHMgPSB3aGVlbEluZm9zLmxlbmd0aDtcbiAgICBjb25zdCBjaGFzc2lzQm9keSA9IHRoaXMuY2hhc3Npc0JvZHk7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG51bVdoZWVsczsgaSsrKSB7XG4gICAgICB0aGlzLnVwZGF0ZVdoZWVsVHJhbnNmb3JtKGkpO1xuICAgIH1cblxuICAgIHRoaXMuY3VycmVudFZlaGljbGVTcGVlZEttSG91ciA9IDMuNiAqIGNoYXNzaXNCb2R5LnZlbG9jaXR5Lmxlbmd0aCgpO1xuICAgIGNvbnN0IGZvcndhcmRXb3JsZCA9IG5ldyBWZWMzKCk7XG4gICAgdGhpcy5nZXRWZWhpY2xlQXhpc1dvcmxkKHRoaXMuaW5kZXhGb3J3YXJkQXhpcywgZm9yd2FyZFdvcmxkKTtcblxuICAgIGlmIChmb3J3YXJkV29ybGQuZG90KGNoYXNzaXNCb2R5LnZlbG9jaXR5KSA8IDApIHtcbiAgICAgIHRoaXMuY3VycmVudFZlaGljbGVTcGVlZEttSG91ciAqPSAtMTtcbiAgICB9IC8vIHNpbXVsYXRlIHN1c3BlbnNpb25cblxuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBudW1XaGVlbHM7IGkrKykge1xuICAgICAgdGhpcy5jYXN0UmF5KHdoZWVsSW5mb3NbaV0pO1xuICAgIH1cblxuICAgIHRoaXMudXBkYXRlU3VzcGVuc2lvbih0aW1lU3RlcCk7XG4gICAgY29uc3QgaW1wdWxzZSA9IG5ldyBWZWMzKCk7XG4gICAgY29uc3QgcmVscG9zID0gbmV3IFZlYzMoKTtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbnVtV2hlZWxzOyBpKyspIHtcbiAgICAgIC8vYXBwbHkgc3VzcGVuc2lvbiBmb3JjZVxuICAgICAgY29uc3Qgd2hlZWwgPSB3aGVlbEluZm9zW2ldO1xuICAgICAgbGV0IHN1c3BlbnNpb25Gb3JjZSA9IHdoZWVsLnN1c3BlbnNpb25Gb3JjZTtcblxuICAgICAgaWYgKHN1c3BlbnNpb25Gb3JjZSA+IHdoZWVsLm1heFN1c3BlbnNpb25Gb3JjZSkge1xuICAgICAgICBzdXNwZW5zaW9uRm9yY2UgPSB3aGVlbC5tYXhTdXNwZW5zaW9uRm9yY2U7XG4gICAgICB9XG5cbiAgICAgIHdoZWVsLnJheWNhc3RSZXN1bHQuaGl0Tm9ybWFsV29ybGQuc2NhbGUoc3VzcGVuc2lvbkZvcmNlICogdGltZVN0ZXAsIGltcHVsc2UpO1xuICAgICAgd2hlZWwucmF5Y2FzdFJlc3VsdC5oaXRQb2ludFdvcmxkLnZzdWIoY2hhc3Npc0JvZHkucG9zaXRpb24sIHJlbHBvcyk7XG4gICAgICBjaGFzc2lzQm9keS5hcHBseUltcHVsc2UoaW1wdWxzZSwgcmVscG9zKTtcbiAgICB9XG5cbiAgICB0aGlzLnVwZGF0ZUZyaWN0aW9uKHRpbWVTdGVwKTtcbiAgICBjb25zdCBoaXROb3JtYWxXb3JsZFNjYWxlZFdpdGhQcm9qID0gbmV3IFZlYzMoKTtcbiAgICBjb25zdCBmd2QgPSBuZXcgVmVjMygpO1xuICAgIGNvbnN0IHZlbCA9IG5ldyBWZWMzKCk7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG51bVdoZWVsczsgaSsrKSB7XG4gICAgICBjb25zdCB3aGVlbCA9IHdoZWVsSW5mb3NbaV07IC8vY29uc3QgcmVscG9zID0gbmV3IFZlYzMoKTtcbiAgICAgIC8vd2hlZWwuY2hhc3Npc0Nvbm5lY3Rpb25Qb2ludFdvcmxkLnZzdWIoY2hhc3Npc0JvZHkucG9zaXRpb24sIHJlbHBvcyk7XG5cbiAgICAgIGNoYXNzaXNCb2R5LmdldFZlbG9jaXR5QXRXb3JsZFBvaW50KHdoZWVsLmNoYXNzaXNDb25uZWN0aW9uUG9pbnRXb3JsZCwgdmVsKTsgLy8gSGFjayB0byBnZXQgdGhlIHJvdGF0aW9uIGluIHRoZSBjb3JyZWN0IGRpcmVjdGlvblxuXG4gICAgICBsZXQgbSA9IDE7XG5cbiAgICAgIHN3aXRjaCAodGhpcy5pbmRleFVwQXhpcykge1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgbSA9IC0xO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuXG4gICAgICBpZiAod2hlZWwuaXNJbkNvbnRhY3QpIHtcbiAgICAgICAgdGhpcy5nZXRWZWhpY2xlQXhpc1dvcmxkKHRoaXMuaW5kZXhGb3J3YXJkQXhpcywgZndkKTtcbiAgICAgICAgY29uc3QgcHJvaiA9IGZ3ZC5kb3Qod2hlZWwucmF5Y2FzdFJlc3VsdC5oaXROb3JtYWxXb3JsZCk7XG4gICAgICAgIHdoZWVsLnJheWNhc3RSZXN1bHQuaGl0Tm9ybWFsV29ybGQuc2NhbGUocHJvaiwgaGl0Tm9ybWFsV29ybGRTY2FsZWRXaXRoUHJvaik7XG4gICAgICAgIGZ3ZC52c3ViKGhpdE5vcm1hbFdvcmxkU2NhbGVkV2l0aFByb2osIGZ3ZCk7XG4gICAgICAgIGNvbnN0IHByb2oyID0gZndkLmRvdCh2ZWwpO1xuICAgICAgICB3aGVlbC5kZWx0YVJvdGF0aW9uID0gbSAqIHByb2oyICogdGltZVN0ZXAgLyB3aGVlbC5yYWRpdXM7XG4gICAgICB9XG5cbiAgICAgIGlmICgod2hlZWwuc2xpZGluZyB8fCAhd2hlZWwuaXNJbkNvbnRhY3QpICYmIHdoZWVsLmVuZ2luZUZvcmNlICE9PSAwICYmIHdoZWVsLnVzZUN1c3RvbVNsaWRpbmdSb3RhdGlvbmFsU3BlZWQpIHtcbiAgICAgICAgLy8gQXBwbHkgY3VzdG9tIHJvdGF0aW9uIHdoZW4gYWNjZWxlcmF0aW5nIGFuZCBzbGlkaW5nXG4gICAgICAgIHdoZWVsLmRlbHRhUm90YXRpb24gPSAod2hlZWwuZW5naW5lRm9yY2UgPiAwID8gMSA6IC0xKSAqIHdoZWVsLmN1c3RvbVNsaWRpbmdSb3RhdGlvbmFsU3BlZWQgKiB0aW1lU3RlcDtcbiAgICAgIH0gLy8gTG9jayB3aGVlbHNcblxuXG4gICAgICBpZiAoTWF0aC5hYnMod2hlZWwuYnJha2UpID4gTWF0aC5hYnMod2hlZWwuZW5naW5lRm9yY2UpKSB7XG4gICAgICAgIHdoZWVsLmRlbHRhUm90YXRpb24gPSAwO1xuICAgICAgfVxuXG4gICAgICB3aGVlbC5yb3RhdGlvbiArPSB3aGVlbC5kZWx0YVJvdGF0aW9uOyAvLyBVc2UgdGhlIG9sZCB2YWx1ZVxuXG4gICAgICB3aGVlbC5kZWx0YVJvdGF0aW9uICo9IDAuOTk7IC8vIGRhbXBpbmcgb2Ygcm90YXRpb24gd2hlbiBub3QgaW4gY29udGFjdFxuICAgIH1cbiAgfVxuXG4gIHVwZGF0ZVN1c3BlbnNpb24oZGVsdGFUaW1lKSB7XG4gICAgY29uc3QgY2hhc3Npc0JvZHkgPSB0aGlzLmNoYXNzaXNCb2R5O1xuICAgIGNvbnN0IGNoYXNzaXNNYXNzID0gY2hhc3Npc0JvZHkubWFzcztcbiAgICBjb25zdCB3aGVlbEluZm9zID0gdGhpcy53aGVlbEluZm9zO1xuICAgIGNvbnN0IG51bVdoZWVscyA9IHdoZWVsSW5mb3MubGVuZ3RoO1xuXG4gICAgZm9yIChsZXQgd19pdCA9IDA7IHdfaXQgPCBudW1XaGVlbHM7IHdfaXQrKykge1xuICAgICAgY29uc3Qgd2hlZWwgPSB3aGVlbEluZm9zW3dfaXRdO1xuXG4gICAgICBpZiAod2hlZWwuaXNJbkNvbnRhY3QpIHtcbiAgICAgICAgbGV0IGZvcmNlOyAvLyBTcHJpbmdcblxuICAgICAgICBjb25zdCBzdXNwX2xlbmd0aCA9IHdoZWVsLnN1c3BlbnNpb25SZXN0TGVuZ3RoO1xuICAgICAgICBjb25zdCBjdXJyZW50X2xlbmd0aCA9IHdoZWVsLnN1c3BlbnNpb25MZW5ndGg7XG4gICAgICAgIGNvbnN0IGxlbmd0aF9kaWZmID0gc3VzcF9sZW5ndGggLSBjdXJyZW50X2xlbmd0aDtcbiAgICAgICAgZm9yY2UgPSB3aGVlbC5zdXNwZW5zaW9uU3RpZmZuZXNzICogbGVuZ3RoX2RpZmYgKiB3aGVlbC5jbGlwcGVkSW52Q29udGFjdERvdFN1c3BlbnNpb247IC8vIERhbXBlclxuXG4gICAgICAgIGNvbnN0IHByb2plY3RlZF9yZWxfdmVsID0gd2hlZWwuc3VzcGVuc2lvblJlbGF0aXZlVmVsb2NpdHk7XG4gICAgICAgIGxldCBzdXNwX2RhbXBpbmc7XG5cbiAgICAgICAgaWYgKHByb2plY3RlZF9yZWxfdmVsIDwgMCkge1xuICAgICAgICAgIHN1c3BfZGFtcGluZyA9IHdoZWVsLmRhbXBpbmdDb21wcmVzc2lvbjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzdXNwX2RhbXBpbmcgPSB3aGVlbC5kYW1waW5nUmVsYXhhdGlvbjtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvcmNlIC09IHN1c3BfZGFtcGluZyAqIHByb2plY3RlZF9yZWxfdmVsO1xuICAgICAgICB3aGVlbC5zdXNwZW5zaW9uRm9yY2UgPSBmb3JjZSAqIGNoYXNzaXNNYXNzO1xuXG4gICAgICAgIGlmICh3aGVlbC5zdXNwZW5zaW9uRm9yY2UgPCAwKSB7XG4gICAgICAgICAgd2hlZWwuc3VzcGVuc2lvbkZvcmNlID0gMDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgd2hlZWwuc3VzcGVuc2lvbkZvcmNlID0gMDtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgLyoqXHJcbiAgICogUmVtb3ZlIHRoZSB2ZWhpY2xlIGluY2x1ZGluZyBpdHMgY29uc3RyYWludHMgZnJvbSB0aGUgd29ybGQuXHJcbiAgICogQG1ldGhvZCByZW1vdmVGcm9tV29ybGRcclxuICAgKiBAcGFyYW0ge1dvcmxkfSB3b3JsZFxyXG4gICAqL1xuXG5cbiAgcmVtb3ZlRnJvbVdvcmxkKHdvcmxkKSB7XG4gICAgY29uc3QgY29uc3RyYWludHMgPSB0aGlzLmNvbnN0cmFpbnRzO1xuICAgIHdvcmxkLnJlbW92ZUJvZHkodGhpcy5jaGFzc2lzQm9keSk7XG4gICAgd29ybGQucmVtb3ZlRXZlbnRMaXN0ZW5lcigncHJlU3RlcCcsIHRoaXMucHJlU3RlcENhbGxiYWNrKTtcbiAgICB0aGlzLndvcmxkID0gbnVsbDtcbiAgfVxuXG4gIGNhc3RSYXkod2hlZWwpIHtcbiAgICBjb25zdCByYXl2ZWN0b3IgPSBjYXN0UmF5X3JheXZlY3RvcjtcbiAgICBjb25zdCB0YXJnZXQgPSBjYXN0UmF5X3RhcmdldDtcbiAgICB0aGlzLnVwZGF0ZVdoZWVsVHJhbnNmb3JtV29ybGQod2hlZWwpO1xuICAgIGNvbnN0IGNoYXNzaXNCb2R5ID0gdGhpcy5jaGFzc2lzQm9keTtcbiAgICBsZXQgZGVwdGggPSAtMTtcbiAgICBjb25zdCByYXlsZW4gPSB3aGVlbC5zdXNwZW5zaW9uUmVzdExlbmd0aCArIHdoZWVsLnJhZGl1cztcbiAgICB3aGVlbC5kaXJlY3Rpb25Xb3JsZC5zY2FsZShyYXlsZW4sIHJheXZlY3Rvcik7XG4gICAgY29uc3Qgc291cmNlID0gd2hlZWwuY2hhc3Npc0Nvbm5lY3Rpb25Qb2ludFdvcmxkO1xuICAgIHNvdXJjZS52YWRkKHJheXZlY3RvciwgdGFyZ2V0KTtcbiAgICBjb25zdCByYXljYXN0UmVzdWx0ID0gd2hlZWwucmF5Y2FzdFJlc3VsdDtcbiAgICByYXljYXN0UmVzdWx0LnJlc2V0KCk7IC8vIFR1cm4gb2ZmIHJheSBjb2xsaXNpb24gd2l0aCB0aGUgY2hhc3NpcyB0ZW1wb3JhcmlseVxuXG4gICAgY29uc3Qgb2xkU3RhdGUgPSBjaGFzc2lzQm9keS5jb2xsaXNpb25SZXNwb25zZTtcbiAgICBjaGFzc2lzQm9keS5jb2xsaXNpb25SZXNwb25zZSA9IGZhbHNlOyAvLyBDYXN0IHJheSBhZ2FpbnN0IHdvcmxkXG5cbiAgICB0aGlzLndvcmxkLnJheVRlc3Qoc291cmNlLCB0YXJnZXQsIHJheWNhc3RSZXN1bHQpO1xuICAgIGNoYXNzaXNCb2R5LmNvbGxpc2lvblJlc3BvbnNlID0gb2xkU3RhdGU7XG4gICAgY29uc3Qgb2JqZWN0ID0gcmF5Y2FzdFJlc3VsdC5ib2R5O1xuICAgIHdoZWVsLnJheWNhc3RSZXN1bHQuZ3JvdW5kT2JqZWN0ID0gMDtcblxuICAgIGlmIChvYmplY3QpIHtcbiAgICAgIGRlcHRoID0gcmF5Y2FzdFJlc3VsdC5kaXN0YW5jZTtcbiAgICAgIHdoZWVsLnJheWNhc3RSZXN1bHQuaGl0Tm9ybWFsV29ybGQgPSByYXljYXN0UmVzdWx0LmhpdE5vcm1hbFdvcmxkO1xuICAgICAgd2hlZWwuaXNJbkNvbnRhY3QgPSB0cnVlO1xuICAgICAgY29uc3QgaGl0RGlzdGFuY2UgPSByYXljYXN0UmVzdWx0LmRpc3RhbmNlO1xuICAgICAgd2hlZWwuc3VzcGVuc2lvbkxlbmd0aCA9IGhpdERpc3RhbmNlIC0gd2hlZWwucmFkaXVzOyAvLyBjbGFtcCBvbiBtYXggc3VzcGVuc2lvbiB0cmF2ZWxcblxuICAgICAgY29uc3QgbWluU3VzcGVuc2lvbkxlbmd0aCA9IHdoZWVsLnN1c3BlbnNpb25SZXN0TGVuZ3RoIC0gd2hlZWwubWF4U3VzcGVuc2lvblRyYXZlbDtcbiAgICAgIGNvbnN0IG1heFN1c3BlbnNpb25MZW5ndGggPSB3aGVlbC5zdXNwZW5zaW9uUmVzdExlbmd0aCArIHdoZWVsLm1heFN1c3BlbnNpb25UcmF2ZWw7XG5cbiAgICAgIGlmICh3aGVlbC5zdXNwZW5zaW9uTGVuZ3RoIDwgbWluU3VzcGVuc2lvbkxlbmd0aCkge1xuICAgICAgICB3aGVlbC5zdXNwZW5zaW9uTGVuZ3RoID0gbWluU3VzcGVuc2lvbkxlbmd0aDtcbiAgICAgIH1cblxuICAgICAgaWYgKHdoZWVsLnN1c3BlbnNpb25MZW5ndGggPiBtYXhTdXNwZW5zaW9uTGVuZ3RoKSB7XG4gICAgICAgIHdoZWVsLnN1c3BlbnNpb25MZW5ndGggPSBtYXhTdXNwZW5zaW9uTGVuZ3RoO1xuICAgICAgICB3aGVlbC5yYXljYXN0UmVzdWx0LnJlc2V0KCk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGRlbm9taW5hdG9yID0gd2hlZWwucmF5Y2FzdFJlc3VsdC5oaXROb3JtYWxXb3JsZC5kb3Qod2hlZWwuZGlyZWN0aW9uV29ybGQpO1xuICAgICAgY29uc3QgY2hhc3Npc192ZWxvY2l0eV9hdF9jb250YWN0UG9pbnQgPSBuZXcgVmVjMygpO1xuICAgICAgY2hhc3Npc0JvZHkuZ2V0VmVsb2NpdHlBdFdvcmxkUG9pbnQod2hlZWwucmF5Y2FzdFJlc3VsdC5oaXRQb2ludFdvcmxkLCBjaGFzc2lzX3ZlbG9jaXR5X2F0X2NvbnRhY3RQb2ludCk7XG4gICAgICBjb25zdCBwcm9qVmVsID0gd2hlZWwucmF5Y2FzdFJlc3VsdC5oaXROb3JtYWxXb3JsZC5kb3QoY2hhc3Npc192ZWxvY2l0eV9hdF9jb250YWN0UG9pbnQpO1xuXG4gICAgICBpZiAoZGVub21pbmF0b3IgPj0gLTAuMSkge1xuICAgICAgICB3aGVlbC5zdXNwZW5zaW9uUmVsYXRpdmVWZWxvY2l0eSA9IDA7XG4gICAgICAgIHdoZWVsLmNsaXBwZWRJbnZDb250YWN0RG90U3VzcGVuc2lvbiA9IDEgLyAwLjE7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBpbnYgPSAtMSAvIGRlbm9taW5hdG9yO1xuICAgICAgICB3aGVlbC5zdXNwZW5zaW9uUmVsYXRpdmVWZWxvY2l0eSA9IHByb2pWZWwgKiBpbnY7XG4gICAgICAgIHdoZWVsLmNsaXBwZWRJbnZDb250YWN0RG90U3VzcGVuc2lvbiA9IGludjtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy9wdXQgd2hlZWwgaW5mbyBhcyBpbiByZXN0IHBvc2l0aW9uXG4gICAgICB3aGVlbC5zdXNwZW5zaW9uTGVuZ3RoID0gd2hlZWwuc3VzcGVuc2lvblJlc3RMZW5ndGggKyAwICogd2hlZWwubWF4U3VzcGVuc2lvblRyYXZlbDtcbiAgICAgIHdoZWVsLnN1c3BlbnNpb25SZWxhdGl2ZVZlbG9jaXR5ID0gMC4wO1xuICAgICAgd2hlZWwuZGlyZWN0aW9uV29ybGQuc2NhbGUoLTEsIHdoZWVsLnJheWNhc3RSZXN1bHQuaGl0Tm9ybWFsV29ybGQpO1xuICAgICAgd2hlZWwuY2xpcHBlZEludkNvbnRhY3REb3RTdXNwZW5zaW9uID0gMS4wO1xuICAgIH1cblxuICAgIHJldHVybiBkZXB0aDtcbiAgfVxuXG4gIHVwZGF0ZVdoZWVsVHJhbnNmb3JtV29ybGQod2hlZWwpIHtcbiAgICB3aGVlbC5pc0luQ29udGFjdCA9IGZhbHNlO1xuICAgIGNvbnN0IGNoYXNzaXNCb2R5ID0gdGhpcy5jaGFzc2lzQm9keTtcbiAgICBjaGFzc2lzQm9keS5wb2ludFRvV29ybGRGcmFtZSh3aGVlbC5jaGFzc2lzQ29ubmVjdGlvblBvaW50TG9jYWwsIHdoZWVsLmNoYXNzaXNDb25uZWN0aW9uUG9pbnRXb3JsZCk7XG4gICAgY2hhc3Npc0JvZHkudmVjdG9yVG9Xb3JsZEZyYW1lKHdoZWVsLmRpcmVjdGlvbkxvY2FsLCB3aGVlbC5kaXJlY3Rpb25Xb3JsZCk7XG4gICAgY2hhc3Npc0JvZHkudmVjdG9yVG9Xb3JsZEZyYW1lKHdoZWVsLmF4bGVMb2NhbCwgd2hlZWwuYXhsZVdvcmxkKTtcbiAgfVxuICAvKipcclxuICAgKiBVcGRhdGUgb25lIG9mIHRoZSB3aGVlbCB0cmFuc2Zvcm0uXHJcbiAgICogTm90ZSB3aGVuIHJlbmRlcmluZyB3aGVlbHM6IGR1cmluZyBlYWNoIHN0ZXAsIHdoZWVsIHRyYW5zZm9ybXMgYXJlIHVwZGF0ZWQgQkVGT1JFIHRoZSBjaGFzc2lzOyBpZS4gdGhlaXIgcG9zaXRpb24gYmVjb21lcyBpbnZhbGlkIGFmdGVyIHRoZSBzdGVwLiBUaHVzIHdoZW4geW91IHJlbmRlciB3aGVlbHMsIHlvdSBtdXN0IHVwZGF0ZSB3aGVlbCB0cmFuc2Zvcm1zIGJlZm9yZSByZW5kZXJpbmcgdGhlbS4gU2VlIHJheWNhc3RWZWhpY2xlIGRlbW8gZm9yIGFuIGV4YW1wbGUuXHJcbiAgICogQG1ldGhvZCB1cGRhdGVXaGVlbFRyYW5zZm9ybVxyXG4gICAqIEBwYXJhbSB7aW50ZWdlcn0gd2hlZWxJbmRleCBUaGUgd2hlZWwgaW5kZXggdG8gdXBkYXRlLlxyXG4gICAqL1xuXG5cbiAgdXBkYXRlV2hlZWxUcmFuc2Zvcm0od2hlZWxJbmRleCkge1xuICAgIGNvbnN0IHVwID0gdG1wVmVjNDtcbiAgICBjb25zdCByaWdodCA9IHRtcFZlYzU7XG4gICAgY29uc3QgZndkID0gdG1wVmVjNjtcbiAgICBjb25zdCB3aGVlbCA9IHRoaXMud2hlZWxJbmZvc1t3aGVlbEluZGV4XTtcbiAgICB0aGlzLnVwZGF0ZVdoZWVsVHJhbnNmb3JtV29ybGQod2hlZWwpO1xuICAgIHdoZWVsLmRpcmVjdGlvbkxvY2FsLnNjYWxlKC0xLCB1cCk7XG4gICAgcmlnaHQuY29weSh3aGVlbC5heGxlTG9jYWwpO1xuICAgIHVwLmNyb3NzKHJpZ2h0LCBmd2QpO1xuICAgIGZ3ZC5ub3JtYWxpemUoKTtcbiAgICByaWdodC5ub3JtYWxpemUoKTsgLy8gUm90YXRlIGFyb3VuZCBzdGVlcmluZyBvdmVyIHRoZSB3aGVlbEF4bGVcblxuICAgIGNvbnN0IHN0ZWVyaW5nID0gd2hlZWwuc3RlZXJpbmc7XG4gICAgY29uc3Qgc3RlZXJpbmdPcm4gPSBuZXcgUXVhdGVybmlvbigpO1xuICAgIHN0ZWVyaW5nT3JuLnNldEZyb21BeGlzQW5nbGUodXAsIHN0ZWVyaW5nKTtcbiAgICBjb25zdCByb3RhdGluZ09ybiA9IG5ldyBRdWF0ZXJuaW9uKCk7XG4gICAgcm90YXRpbmdPcm4uc2V0RnJvbUF4aXNBbmdsZShyaWdodCwgd2hlZWwucm90YXRpb24pOyAvLyBXb3JsZCByb3RhdGlvbiBvZiB0aGUgd2hlZWxcblxuICAgIGNvbnN0IHEgPSB3aGVlbC53b3JsZFRyYW5zZm9ybS5xdWF0ZXJuaW9uO1xuICAgIHRoaXMuY2hhc3Npc0JvZHkucXVhdGVybmlvbi5tdWx0KHN0ZWVyaW5nT3JuLCBxKTtcbiAgICBxLm11bHQocm90YXRpbmdPcm4sIHEpO1xuICAgIHEubm9ybWFsaXplKCk7IC8vIHdvcmxkIHBvc2l0aW9uIG9mIHRoZSB3aGVlbFxuXG4gICAgY29uc3QgcCA9IHdoZWVsLndvcmxkVHJhbnNmb3JtLnBvc2l0aW9uO1xuICAgIHAuY29weSh3aGVlbC5kaXJlY3Rpb25Xb3JsZCk7XG4gICAgcC5zY2FsZSh3aGVlbC5zdXNwZW5zaW9uTGVuZ3RoLCBwKTtcbiAgICBwLnZhZGQod2hlZWwuY2hhc3Npc0Nvbm5lY3Rpb25Qb2ludFdvcmxkLCBwKTtcbiAgfVxuICAvKipcclxuICAgKiBHZXQgdGhlIHdvcmxkIHRyYW5zZm9ybSBvZiBvbmUgb2YgdGhlIHdoZWVsc1xyXG4gICAqIEBtZXRob2QgZ2V0V2hlZWxUcmFuc2Zvcm1Xb3JsZFxyXG4gICAqIEBwYXJhbSAge2ludGVnZXJ9IHdoZWVsSW5kZXhcclxuICAgKiBAcmV0dXJuIHtUcmFuc2Zvcm19XHJcbiAgICovXG5cblxuICBnZXRXaGVlbFRyYW5zZm9ybVdvcmxkKHdoZWVsSW5kZXgpIHtcbiAgICByZXR1cm4gdGhpcy53aGVlbEluZm9zW3doZWVsSW5kZXhdLndvcmxkVHJhbnNmb3JtO1xuICB9XG5cbiAgdXBkYXRlRnJpY3Rpb24odGltZVN0ZXApIHtcbiAgICBjb25zdCBzdXJmTm9ybWFsV1Nfc2NhbGVkX3Byb2ogPSB1cGRhdGVGcmljdGlvbl9zdXJmTm9ybWFsV1Nfc2NhbGVkX3Byb2o7IC8vY2FsY3VsYXRlIHRoZSBpbXB1bHNlLCBzbyB0aGF0IHRoZSB3aGVlbHMgZG9uJ3QgbW92ZSBzaWRld2FyZHNcblxuICAgIGNvbnN0IHdoZWVsSW5mb3MgPSB0aGlzLndoZWVsSW5mb3M7XG4gICAgY29uc3QgbnVtV2hlZWxzID0gd2hlZWxJbmZvcy5sZW5ndGg7XG4gICAgY29uc3QgY2hhc3Npc0JvZHkgPSB0aGlzLmNoYXNzaXNCb2R5O1xuICAgIGNvbnN0IGZvcndhcmRXUyA9IHVwZGF0ZUZyaWN0aW9uX2ZvcndhcmRXUztcbiAgICBjb25zdCBheGxlID0gdXBkYXRlRnJpY3Rpb25fYXhsZTtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbnVtV2hlZWxzOyBpKyspIHtcbiAgICAgIGNvbnN0IHdoZWVsID0gd2hlZWxJbmZvc1tpXTtcbiAgICAgIGNvbnN0IGdyb3VuZE9iamVjdCA9IHdoZWVsLnJheWNhc3RSZXN1bHQuYm9keTtcblxuICAgICAgd2hlZWwuc2lkZUltcHVsc2UgPSAwO1xuICAgICAgd2hlZWwuZm9yd2FyZEltcHVsc2UgPSAwO1xuXG4gICAgICBpZiAoIWZvcndhcmRXU1tpXSkge1xuICAgICAgICBmb3J3YXJkV1NbaV0gPSBuZXcgVmVjMygpO1xuICAgICAgfVxuXG4gICAgICBpZiAoIWF4bGVbaV0pIHtcbiAgICAgICAgYXhsZVtpXSA9IG5ldyBWZWMzKCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBudW1XaGVlbHM7IGkrKykge1xuICAgICAgY29uc3Qgd2hlZWwgPSB3aGVlbEluZm9zW2ldO1xuICAgICAgY29uc3QgZ3JvdW5kT2JqZWN0ID0gd2hlZWwucmF5Y2FzdFJlc3VsdC5ib2R5O1xuXG4gICAgICBpZiAoZ3JvdW5kT2JqZWN0KSB7XG4gICAgICAgIGNvbnN0IGF4bGVpID0gYXhsZVtpXTtcbiAgICAgICAgY29uc3Qgd2hlZWxUcmFucyA9IHRoaXMuZ2V0V2hlZWxUcmFuc2Zvcm1Xb3JsZChpKTsgLy8gR2V0IHdvcmxkIGF4bGVcblxuICAgICAgICB3aGVlbFRyYW5zLnZlY3RvclRvV29ybGRGcmFtZShkaXJlY3Rpb25zW3RoaXMuaW5kZXhSaWdodEF4aXNdLCBheGxlaSk7XG4gICAgICAgIGNvbnN0IHN1cmZOb3JtYWxXUyA9IHdoZWVsLnJheWNhc3RSZXN1bHQuaGl0Tm9ybWFsV29ybGQ7XG4gICAgICAgIGNvbnN0IHByb2ogPSBheGxlaS5kb3Qoc3VyZk5vcm1hbFdTKTtcbiAgICAgICAgc3VyZk5vcm1hbFdTLnNjYWxlKHByb2osIHN1cmZOb3JtYWxXU19zY2FsZWRfcHJvaik7XG4gICAgICAgIGF4bGVpLnZzdWIoc3VyZk5vcm1hbFdTX3NjYWxlZF9wcm9qLCBheGxlaSk7XG4gICAgICAgIGF4bGVpLm5vcm1hbGl6ZSgpO1xuICAgICAgICBzdXJmTm9ybWFsV1MuY3Jvc3MoYXhsZWksIGZvcndhcmRXU1tpXSk7XG4gICAgICAgIGZvcndhcmRXU1tpXS5ub3JtYWxpemUoKTtcbiAgICAgICAgd2hlZWwuc2lkZUltcHVsc2UgPSByZXNvbHZlU2luZ2xlQmlsYXRlcmFsKGNoYXNzaXNCb2R5LCB3aGVlbC5yYXljYXN0UmVzdWx0LmhpdFBvaW50V29ybGQsIGdyb3VuZE9iamVjdCwgd2hlZWwucmF5Y2FzdFJlc3VsdC5oaXRQb2ludFdvcmxkLCBheGxlaSk7XG4gICAgICAgIHdoZWVsLnNpZGVJbXB1bHNlICo9IHNpZGVGcmljdGlvblN0aWZmbmVzczI7XG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3Qgc2lkZUZhY3RvciA9IDE7XG4gICAgY29uc3QgZndkRmFjdG9yID0gMC41O1xuICAgIHRoaXMuc2xpZGluZyA9IGZhbHNlO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBudW1XaGVlbHM7IGkrKykge1xuICAgICAgY29uc3Qgd2hlZWwgPSB3aGVlbEluZm9zW2ldO1xuICAgICAgY29uc3QgZ3JvdW5kT2JqZWN0ID0gd2hlZWwucmF5Y2FzdFJlc3VsdC5ib2R5O1xuICAgICAgbGV0IHJvbGxpbmdGcmljdGlvbiA9IDA7XG4gICAgICB3aGVlbC5zbGlwSW5mbyA9IDE7XG5cbiAgICAgIGlmIChncm91bmRPYmplY3QpIHtcbiAgICAgICAgY29uc3QgZGVmYXVsdFJvbGxpbmdGcmljdGlvbkltcHVsc2UgPSAwO1xuICAgICAgICBjb25zdCBtYXhJbXB1bHNlID0gd2hlZWwuYnJha2UgPyB3aGVlbC5icmFrZSA6IGRlZmF1bHRSb2xsaW5nRnJpY3Rpb25JbXB1bHNlOyAvLyBidFdoZWVsQ29udGFjdFBvaW50IGNvbnRhY3RQdChjaGFzc2lzQm9keSxncm91bmRPYmplY3Qsd2hlZWxJbmZyYXljYXN0SW5mby5oaXRQb2ludFdvcmxkLGZvcndhcmRXU1t3aGVlbF0sbWF4SW1wdWxzZSk7XG4gICAgICAgIC8vIHJvbGxpbmdGcmljdGlvbiA9IGNhbGNSb2xsaW5nRnJpY3Rpb24oY29udGFjdFB0KTtcblxuICAgICAgICByb2xsaW5nRnJpY3Rpb24gPSBjYWxjUm9sbGluZ0ZyaWN0aW9uKGNoYXNzaXNCb2R5LCBncm91bmRPYmplY3QsIHdoZWVsLnJheWNhc3RSZXN1bHQuaGl0UG9pbnRXb3JsZCwgZm9yd2FyZFdTW2ldLCBtYXhJbXB1bHNlKTtcbiAgICAgICAgcm9sbGluZ0ZyaWN0aW9uICs9IHdoZWVsLmVuZ2luZUZvcmNlICogdGltZVN0ZXA7IC8vIHJvbGxpbmdGcmljdGlvbiA9IDA7XG5cbiAgICAgICAgY29uc3QgZmFjdG9yID0gbWF4SW1wdWxzZSAvIHJvbGxpbmdGcmljdGlvbjtcbiAgICAgICAgd2hlZWwuc2xpcEluZm8gKj0gZmFjdG9yO1xuICAgICAgfSAvL3N3aXRjaCBiZXR3ZWVuIGFjdGl2ZSByb2xsaW5nICh0aHJvdHRsZSksIGJyYWtpbmcgYW5kIG5vbi1hY3RpdmUgcm9sbGluZyBmcmljdGlvbiAobnRocm90dGxlL2JyZWFrKVxuXG5cbiAgICAgIHdoZWVsLmZvcndhcmRJbXB1bHNlID0gMDtcbiAgICAgIHdoZWVsLnNraWRJbmZvID0gMTtcblxuICAgICAgaWYgKGdyb3VuZE9iamVjdCkge1xuICAgICAgICB3aGVlbC5za2lkSW5mbyA9IDE7XG4gICAgICAgIGNvbnN0IG1heGltcCA9IHdoZWVsLnN1c3BlbnNpb25Gb3JjZSAqIHRpbWVTdGVwICogd2hlZWwuZnJpY3Rpb25TbGlwO1xuICAgICAgICBjb25zdCBtYXhpbXBTaWRlID0gbWF4aW1wO1xuICAgICAgICBjb25zdCBtYXhpbXBTcXVhcmVkID0gbWF4aW1wICogbWF4aW1wU2lkZTtcbiAgICAgICAgd2hlZWwuZm9yd2FyZEltcHVsc2UgPSByb2xsaW5nRnJpY3Rpb247IC8vd2hlZWxJbmZvLmVuZ2luZUZvcmNlKiB0aW1lU3RlcDtcblxuICAgICAgICBjb25zdCB4ID0gd2hlZWwuZm9yd2FyZEltcHVsc2UgKiBmd2RGYWN0b3I7XG4gICAgICAgIGNvbnN0IHkgPSB3aGVlbC5zaWRlSW1wdWxzZSAqIHNpZGVGYWN0b3I7XG4gICAgICAgIGNvbnN0IGltcHVsc2VTcXVhcmVkID0geCAqIHggKyB5ICogeTtcbiAgICAgICAgd2hlZWwuc2xpZGluZyA9IGZhbHNlO1xuXG4gICAgICAgIGlmIChpbXB1bHNlU3F1YXJlZCA+IG1heGltcFNxdWFyZWQpIHtcbiAgICAgICAgICB0aGlzLnNsaWRpbmcgPSB0cnVlO1xuICAgICAgICAgIHdoZWVsLnNsaWRpbmcgPSB0cnVlO1xuICAgICAgICAgIGNvbnN0IGZhY3RvciA9IG1heGltcCAvIE1hdGguc3FydChpbXB1bHNlU3F1YXJlZCk7XG4gICAgICAgICAgd2hlZWwuc2tpZEluZm8gKj0gZmFjdG9yO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuc2xpZGluZykge1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBudW1XaGVlbHM7IGkrKykge1xuICAgICAgICBjb25zdCB3aGVlbCA9IHdoZWVsSW5mb3NbaV07XG5cbiAgICAgICAgaWYgKHdoZWVsLnNpZGVJbXB1bHNlICE9PSAwKSB7XG4gICAgICAgICAgaWYgKHdoZWVsLnNraWRJbmZvIDwgMSkge1xuICAgICAgICAgICAgd2hlZWwuZm9yd2FyZEltcHVsc2UgKj0gd2hlZWwuc2tpZEluZm87XG4gICAgICAgICAgICB3aGVlbC5zaWRlSW1wdWxzZSAqPSB3aGVlbC5za2lkSW5mbztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IC8vIGFwcGx5IHRoZSBpbXB1bHNlc1xuXG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG51bVdoZWVsczsgaSsrKSB7XG4gICAgICBjb25zdCB3aGVlbCA9IHdoZWVsSW5mb3NbaV07XG4gICAgICBjb25zdCByZWxfcG9zID0gbmV3IFZlYzMoKTtcbiAgICAgIHdoZWVsLnJheWNhc3RSZXN1bHQuaGl0UG9pbnRXb3JsZC52c3ViKGNoYXNzaXNCb2R5LnBvc2l0aW9uLCByZWxfcG9zKTsgLy8gY2Fubm9ucyBhcHBseWltcHVsc2UgaXMgdXNpbmcgd29ybGQgY29vcmQgZm9yIHRoZSBwb3NpdGlvblxuICAgICAgLy9yZWxfcG9zLmNvcHkod2hlZWwucmF5Y2FzdFJlc3VsdC5oaXRQb2ludFdvcmxkKTtcblxuICAgICAgaWYgKHdoZWVsLmZvcndhcmRJbXB1bHNlICE9PSAwKSB7XG4gICAgICAgIGNvbnN0IGltcHVsc2UgPSBuZXcgVmVjMygpO1xuICAgICAgICBmb3J3YXJkV1NbaV0uc2NhbGUod2hlZWwuZm9yd2FyZEltcHVsc2UsIGltcHVsc2UpO1xuICAgICAgICBjaGFzc2lzQm9keS5hcHBseUltcHVsc2UoaW1wdWxzZSwgcmVsX3Bvcyk7XG4gICAgICB9XG5cbiAgICAgIGlmICh3aGVlbC5zaWRlSW1wdWxzZSAhPT0gMCkge1xuICAgICAgICBjb25zdCBncm91bmRPYmplY3QgPSB3aGVlbC5yYXljYXN0UmVzdWx0LmJvZHk7XG4gICAgICAgIGNvbnN0IHJlbF9wb3MyID0gbmV3IFZlYzMoKTtcbiAgICAgICAgd2hlZWwucmF5Y2FzdFJlc3VsdC5oaXRQb2ludFdvcmxkLnZzdWIoZ3JvdW5kT2JqZWN0LnBvc2l0aW9uLCByZWxfcG9zMik7IC8vcmVsX3BvczIuY29weSh3aGVlbC5yYXljYXN0UmVzdWx0LmhpdFBvaW50V29ybGQpO1xuXG4gICAgICAgIGNvbnN0IHNpZGVJbXAgPSBuZXcgVmVjMygpO1xuICAgICAgICBheGxlW2ldLnNjYWxlKHdoZWVsLnNpZGVJbXB1bHNlLCBzaWRlSW1wKTsgLy8gU2NhbGUgdGhlIHJlbGF0aXZlIHBvc2l0aW9uIGluIHRoZSB1cCBkaXJlY3Rpb24gd2l0aCByb2xsSW5mbHVlbmNlLlxuICAgICAgICAvLyBJZiByb2xsSW5mbHVlbmNlIGlzIDEsIHRoZSBpbXB1bHNlIHdpbGwgYmUgYXBwbGllZCBvbiB0aGUgaGl0UG9pbnQgKGVhc3kgdG8gcm9sbCBvdmVyKSwgaWYgaXQgaXMgemVybyBpdCB3aWxsIGJlIGFwcGxpZWQgaW4gdGhlIHNhbWUgcGxhbmUgYXMgdGhlIGNlbnRlciBvZiBtYXNzIChub3QgZWFzeSB0byByb2xsIG92ZXIpLlxuXG4gICAgICAgIGNoYXNzaXNCb2R5LnZlY3RvclRvTG9jYWxGcmFtZShyZWxfcG9zLCByZWxfcG9zKTtcbiAgICAgICAgcmVsX3Bvc1sneHl6J1t0aGlzLmluZGV4VXBBeGlzXV0gKj0gd2hlZWwucm9sbEluZmx1ZW5jZTtcbiAgICAgICAgY2hhc3Npc0JvZHkudmVjdG9yVG9Xb3JsZEZyYW1lKHJlbF9wb3MsIHJlbF9wb3MpO1xuICAgICAgICBjaGFzc2lzQm9keS5hcHBseUltcHVsc2Uoc2lkZUltcCwgcmVsX3Bvcyk7IC8vYXBwbHkgZnJpY3Rpb24gaW1wdWxzZSBvbiB0aGUgZ3JvdW5kXG5cbiAgICAgICAgc2lkZUltcC5zY2FsZSgtMSwgc2lkZUltcCk7XG4gICAgICAgIGdyb3VuZE9iamVjdC5hcHBseUltcHVsc2Uoc2lkZUltcCwgcmVsX3BvczIpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG59XG5jb25zdCB0bXBWZWM0ID0gbmV3IFZlYzMoKTtcbmNvbnN0IHRtcFZlYzUgPSBuZXcgVmVjMygpO1xuY29uc3QgdG1wVmVjNiA9IG5ldyBWZWMzKCk7XG5jb25zdCB0bXBSYXkgPSBuZXcgUmF5KCk7XG5jb25zdCBjYXN0UmF5X3JheXZlY3RvciA9IG5ldyBWZWMzKCk7XG5jb25zdCBjYXN0UmF5X3RhcmdldCA9IG5ldyBWZWMzKCk7XG5jb25zdCBkaXJlY3Rpb25zID0gW25ldyBWZWMzKDEsIDAsIDApLCBuZXcgVmVjMygwLCAxLCAwKSwgbmV3IFZlYzMoMCwgMCwgMSldO1xuY29uc3QgdXBkYXRlRnJpY3Rpb25fc3VyZk5vcm1hbFdTX3NjYWxlZF9wcm9qID0gbmV3IFZlYzMoKTtcbmNvbnN0IHVwZGF0ZUZyaWN0aW9uX2F4bGUgPSBbXTtcbmNvbnN0IHVwZGF0ZUZyaWN0aW9uX2ZvcndhcmRXUyA9IFtdO1xuY29uc3Qgc2lkZUZyaWN0aW9uU3RpZmZuZXNzMiA9IDE7XG5jb25zdCBjYWxjUm9sbGluZ0ZyaWN0aW9uX3ZlbDEgPSBuZXcgVmVjMygpO1xuY29uc3QgY2FsY1JvbGxpbmdGcmljdGlvbl92ZWwyID0gbmV3IFZlYzMoKTtcbmNvbnN0IGNhbGNSb2xsaW5nRnJpY3Rpb25fdmVsID0gbmV3IFZlYzMoKTtcblxuZnVuY3Rpb24gY2FsY1JvbGxpbmdGcmljdGlvbihib2R5MCwgYm9keTEsIGZyaWN0aW9uUG9zV29ybGQsIGZyaWN0aW9uRGlyZWN0aW9uV29ybGQsIG1heEltcHVsc2UpIHtcbiAgbGV0IGoxID0gMDtcbiAgY29uc3QgY29udGFjdFBvc1dvcmxkID0gZnJpY3Rpb25Qb3NXb3JsZDsgLy8gY29uc3QgcmVsX3BvczEgPSBuZXcgVmVjMygpO1xuICAvLyBjb25zdCByZWxfcG9zMiA9IG5ldyBWZWMzKCk7XG5cbiAgY29uc3QgdmVsMSA9IGNhbGNSb2xsaW5nRnJpY3Rpb25fdmVsMTtcbiAgY29uc3QgdmVsMiA9IGNhbGNSb2xsaW5nRnJpY3Rpb25fdmVsMjtcbiAgY29uc3QgdmVsID0gY2FsY1JvbGxpbmdGcmljdGlvbl92ZWw7IC8vIGNvbnRhY3RQb3NXb3JsZC52c3ViKGJvZHkwLnBvc2l0aW9uLCByZWxfcG9zMSk7XG4gIC8vIGNvbnRhY3RQb3NXb3JsZC52c3ViKGJvZHkxLnBvc2l0aW9uLCByZWxfcG9zMik7XG5cbiAgYm9keTAuZ2V0VmVsb2NpdHlBdFdvcmxkUG9pbnQoY29udGFjdFBvc1dvcmxkLCB2ZWwxKTtcbiAgYm9keTEuZ2V0VmVsb2NpdHlBdFdvcmxkUG9pbnQoY29udGFjdFBvc1dvcmxkLCB2ZWwyKTtcbiAgdmVsMS52c3ViKHZlbDIsIHZlbCk7XG4gIGNvbnN0IHZyZWwgPSBmcmljdGlvbkRpcmVjdGlvbldvcmxkLmRvdCh2ZWwpO1xuICBjb25zdCBkZW5vbTAgPSBjb21wdXRlSW1wdWxzZURlbm9taW5hdG9yKGJvZHkwLCBmcmljdGlvblBvc1dvcmxkLCBmcmljdGlvbkRpcmVjdGlvbldvcmxkKTtcbiAgY29uc3QgZGVub20xID0gY29tcHV0ZUltcHVsc2VEZW5vbWluYXRvcihib2R5MSwgZnJpY3Rpb25Qb3NXb3JsZCwgZnJpY3Rpb25EaXJlY3Rpb25Xb3JsZCk7XG4gIGNvbnN0IHJlbGF4YXRpb24gPSAxO1xuICBjb25zdCBqYWNEaWFnQUJJbnYgPSByZWxheGF0aW9uIC8gKGRlbm9tMCArIGRlbm9tMSk7IC8vIGNhbGN1bGF0ZSBqIHRoYXQgbW92ZXMgdXMgdG8gemVybyByZWxhdGl2ZSB2ZWxvY2l0eVxuXG4gIGoxID0gLXZyZWwgKiBqYWNEaWFnQUJJbnY7XG5cbiAgaWYgKG1heEltcHVsc2UgPCBqMSkge1xuICAgIGoxID0gbWF4SW1wdWxzZTtcbiAgfVxuXG4gIGlmIChqMSA8IC1tYXhJbXB1bHNlKSB7XG4gICAgajEgPSAtbWF4SW1wdWxzZTtcbiAgfVxuXG4gIHJldHVybiBqMTtcbn1cblxuY29uc3QgY29tcHV0ZUltcHVsc2VEZW5vbWluYXRvcl9yMCA9IG5ldyBWZWMzKCk7XG5jb25zdCBjb21wdXRlSW1wdWxzZURlbm9taW5hdG9yX2MwID0gbmV3IFZlYzMoKTtcbmNvbnN0IGNvbXB1dGVJbXB1bHNlRGVub21pbmF0b3JfdmVjID0gbmV3IFZlYzMoKTtcbmNvbnN0IGNvbXB1dGVJbXB1bHNlRGVub21pbmF0b3JfbSA9IG5ldyBWZWMzKCk7XG5cbmZ1bmN0aW9uIGNvbXB1dGVJbXB1bHNlRGVub21pbmF0b3IoYm9keSwgcG9zLCBub3JtYWwpIHtcbiAgY29uc3QgcjAgPSBjb21wdXRlSW1wdWxzZURlbm9taW5hdG9yX3IwO1xuICBjb25zdCBjMCA9IGNvbXB1dGVJbXB1bHNlRGVub21pbmF0b3JfYzA7XG4gIGNvbnN0IHZlYyA9IGNvbXB1dGVJbXB1bHNlRGVub21pbmF0b3JfdmVjO1xuICBjb25zdCBtID0gY29tcHV0ZUltcHVsc2VEZW5vbWluYXRvcl9tO1xuICBwb3MudnN1Yihib2R5LnBvc2l0aW9uLCByMCk7XG4gIHIwLmNyb3NzKG5vcm1hbCwgYzApO1xuICBib2R5LmludkluZXJ0aWFXb3JsZC52bXVsdChjMCwgbSk7XG4gIG0uY3Jvc3MocjAsIHZlYyk7XG4gIHJldHVybiBib2R5Lmludk1hc3MgKyBub3JtYWwuZG90KHZlYyk7XG59XG5cbmNvbnN0IHJlc29sdmVTaW5nbGVCaWxhdGVyYWxfdmVsMSA9IG5ldyBWZWMzKCk7XG5jb25zdCByZXNvbHZlU2luZ2xlQmlsYXRlcmFsX3ZlbDIgPSBuZXcgVmVjMygpO1xuY29uc3QgcmVzb2x2ZVNpbmdsZUJpbGF0ZXJhbF92ZWwgPSBuZXcgVmVjMygpOyAvL2JpbGF0ZXJhbCBjb25zdHJhaW50IGJldHdlZW4gdHdvIGR5bmFtaWMgb2JqZWN0c1xuXG5mdW5jdGlvbiByZXNvbHZlU2luZ2xlQmlsYXRlcmFsKGJvZHkxLCBwb3MxLCBib2R5MiwgcG9zMiwgbm9ybWFsKSB7XG4gIGNvbnN0IG5vcm1hbExlblNxciA9IG5vcm1hbC5sZW5ndGhTcXVhcmVkKCk7XG5cbiAgaWYgKG5vcm1hbExlblNxciA+IDEuMSkge1xuICAgIHJldHVybiAwOyAvLyBubyBpbXB1bHNlXG4gIH0gLy8gY29uc3QgcmVsX3BvczEgPSBuZXcgVmVjMygpO1xuICAvLyBjb25zdCByZWxfcG9zMiA9IG5ldyBWZWMzKCk7XG4gIC8vIHBvczEudnN1Yihib2R5MS5wb3NpdGlvbiwgcmVsX3BvczEpO1xuICAvLyBwb3MyLnZzdWIoYm9keTIucG9zaXRpb24sIHJlbF9wb3MyKTtcblxuXG4gIGNvbnN0IHZlbDEgPSByZXNvbHZlU2luZ2xlQmlsYXRlcmFsX3ZlbDE7XG4gIGNvbnN0IHZlbDIgPSByZXNvbHZlU2luZ2xlQmlsYXRlcmFsX3ZlbDI7XG4gIGNvbnN0IHZlbCA9IHJlc29sdmVTaW5nbGVCaWxhdGVyYWxfdmVsO1xuICBib2R5MS5nZXRWZWxvY2l0eUF0V29ybGRQb2ludChwb3MxLCB2ZWwxKTtcbiAgYm9keTIuZ2V0VmVsb2NpdHlBdFdvcmxkUG9pbnQocG9zMiwgdmVsMik7XG4gIHZlbDEudnN1Yih2ZWwyLCB2ZWwpO1xuICBjb25zdCByZWxfdmVsID0gbm9ybWFsLmRvdCh2ZWwpO1xuICBjb25zdCBjb250YWN0RGFtcGluZyA9IDAuMjtcbiAgY29uc3QgbWFzc1Rlcm0gPSAxIC8gKGJvZHkxLmludk1hc3MgKyBib2R5Mi5pbnZNYXNzKTtcbiAgY29uc3QgaW1wdWxzZSA9IC1jb250YWN0RGFtcGluZyAqIHJlbF92ZWwgKiBtYXNzVGVybTtcbiAgcmV0dXJuIGltcHVsc2U7XG59XG5cbi8qKlxyXG4gKiBTcGhlcmljYWwgc2hhcGVcclxuICogQGNsYXNzIFNwaGVyZVxyXG4gKiBAY29uc3RydWN0b3JcclxuICogQGV4dGVuZHMgU2hhcGVcclxuICogQHBhcmFtIHtOdW1iZXJ9IHJhZGl1cyBUaGUgcmFkaXVzIG9mIHRoZSBzcGhlcmUsIGEgbm9uLW5lZ2F0aXZlIG51bWJlci5cclxuICogQGF1dGhvciBzY2h0ZXBwZSAvIGh0dHA6Ly9naXRodWIuY29tL3NjaHRlcHBlXHJcbiAqL1xuY2xhc3MgU3BoZXJlIGV4dGVuZHMgU2hhcGUge1xuICBjb25zdHJ1Y3RvcihyYWRpdXMpIHtcbiAgICBzdXBlcih7XG4gICAgICB0eXBlOiBTaGFwZS50eXBlcy5TUEhFUkVcbiAgICB9KTtcbiAgICB0aGlzLnJhZGl1cyA9IHJhZGl1cyAhPT0gdW5kZWZpbmVkID8gcmFkaXVzIDogMS4wO1xuXG4gICAgaWYgKHRoaXMucmFkaXVzIDwgMCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaGUgc3BoZXJlIHJhZGl1cyBjYW5ub3QgYmUgbmVnYXRpdmUuJyk7XG4gICAgfVxuXG4gICAgdGhpcy51cGRhdGVCb3VuZGluZ1NwaGVyZVJhZGl1cygpO1xuICB9XG5cbiAgY2FsY3VsYXRlTG9jYWxJbmVydGlhKG1hc3MsIHRhcmdldCA9IG5ldyBWZWMzKCkpIHtcbiAgICBjb25zdCBJID0gMi4wICogbWFzcyAqIHRoaXMucmFkaXVzICogdGhpcy5yYWRpdXMgLyA1LjA7XG4gICAgdGFyZ2V0LnggPSBJO1xuICAgIHRhcmdldC55ID0gSTtcbiAgICB0YXJnZXQueiA9IEk7XG4gICAgcmV0dXJuIHRhcmdldDtcbiAgfVxuXG4gIHZvbHVtZSgpIHtcbiAgICByZXR1cm4gNC4wICogTWF0aC5QSSAqIE1hdGgucG93KHRoaXMucmFkaXVzLCAzKSAvIDMuMDtcbiAgfVxuXG4gIHVwZGF0ZUJvdW5kaW5nU3BoZXJlUmFkaXVzKCkge1xuICAgIHRoaXMuYm91bmRpbmdTcGhlcmVSYWRpdXMgPSB0aGlzLnJhZGl1cztcbiAgfVxuXG4gIGNhbGN1bGF0ZVdvcmxkQUFCQihwb3MsIHF1YXQsIG1pbiwgbWF4KSB7XG4gICAgY29uc3QgciA9IHRoaXMucmFkaXVzO1xuICAgIGNvbnN0IGF4ZXMgPSBbJ3gnLCAneScsICd6J107XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGF4ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IGF4ID0gYXhlc1tpXTtcbiAgICAgIG1pbltheF0gPSBwb3NbYXhdIC0gcjtcbiAgICAgIG1heFtheF0gPSBwb3NbYXhdICsgcjtcbiAgICB9XG4gIH1cblxufVxuXG4vKipcclxuICogU2ltcGxlIHZlaGljbGUgaGVscGVyIGNsYXNzIHdpdGggc3BoZXJpY2FsIHJpZ2lkIGJvZHkgd2hlZWxzLlxyXG4gKiBAY2xhc3MgUmlnaWRWZWhpY2xlXHJcbiAqIEBjb25zdHJ1Y3RvclxyXG4gKiBAcGFyYW0ge0JvZHl9IFtvcHRpb25zLmNoYXNzaXNCb2R5XVxyXG4gKi9cbmNsYXNzIFJpZ2lkVmVoaWNsZSB7XG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMgPSB7fSkge1xuICAgIHRoaXMud2hlZWxCb2RpZXMgPSBbXTtcbiAgICB0aGlzLmNvb3JkaW5hdGVTeXN0ZW0gPSB0eXBlb2Ygb3B0aW9ucy5jb29yZGluYXRlU3lzdGVtICE9PSAndW5kZWZpbmVkJyA/IG9wdGlvbnMuY29vcmRpbmF0ZVN5c3RlbS5jbG9uZSgpIDogbmV3IFZlYzMoMSwgMiwgMyk7XG5cbiAgICBpZiAob3B0aW9ucy5jaGFzc2lzQm9keSkge1xuICAgICAgdGhpcy5jaGFzc2lzQm9keSA9IG9wdGlvbnMuY2hhc3Npc0JvZHk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIE5vIGNoYXNzaXMgYm9keSBnaXZlbi4gQ3JlYXRlIGl0IVxuICAgICAgdGhpcy5jaGFzc2lzQm9keSA9IG5ldyBCb2R5KHtcbiAgICAgICAgbWFzczogMSxcbiAgICAgICAgc2hhcGU6IG5ldyBCb3gobmV3IFZlYzMoNSwgMiwgMC41KSlcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHRoaXMuY29uc3RyYWludHMgPSBbXTtcbiAgICB0aGlzLndoZWVsQXhlcyA9IFtdO1xuICAgIHRoaXMud2hlZWxGb3JjZXMgPSBbXTtcbiAgfVxuICAvKipcclxuICAgKiBBZGQgYSB3aGVlbFxyXG4gICAqIEBtZXRob2QgYWRkV2hlZWxcclxuICAgKiBAcGFyYW0ge29iamVjdH0gb3B0aW9uc1xyXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuaXNGcm9udFdoZWVsXVxyXG4gICAqIEBwYXJhbSB7VmVjM30gW29wdGlvbnMucG9zaXRpb25dIFBvc2l0aW9uIG9mIHRoZSB3aGVlbCwgbG9jYWxseSBpbiB0aGUgY2hhc3NpcyBib2R5LlxyXG4gICAqIEBwYXJhbSB7VmVjM30gW29wdGlvbnMuZGlyZWN0aW9uXSBTbGlkZSBkaXJlY3Rpb24gb2YgdGhlIHdoZWVsIGFsb25nIHRoZSBzdXNwZW5zaW9uLlxyXG4gICAqIEBwYXJhbSB7VmVjM30gW29wdGlvbnMuYXhpc10gQXhpcyBvZiByb3RhdGlvbiBvZiB0aGUgd2hlZWwsIGxvY2FsbHkgZGVmaW5lZCBpbiB0aGUgY2hhc3Npcy5cclxuICAgKiBAcGFyYW0ge0JvZHl9IFtvcHRpb25zLmJvZHldIFRoZSB3aGVlbCBib2R5LlxyXG4gICAqL1xuXG5cbiAgYWRkV2hlZWwob3B0aW9ucyA9IHt9KSB7XG4gICAgbGV0IHdoZWVsQm9keTtcblxuICAgIGlmIChvcHRpb25zLmJvZHkpIHtcbiAgICAgIHdoZWVsQm9keSA9IG9wdGlvbnMuYm9keTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gTm8gd2hlZWwgYm9keSBnaXZlbi4gQ3JlYXRlIGl0IVxuICAgICAgd2hlZWxCb2R5ID0gbmV3IEJvZHkoe1xuICAgICAgICBtYXNzOiAxLFxuICAgICAgICBzaGFwZTogbmV3IFNwaGVyZSgxLjIpXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICB0aGlzLndoZWVsQm9kaWVzLnB1c2god2hlZWxCb2R5KTtcbiAgICB0aGlzLndoZWVsRm9yY2VzLnB1c2goMCk7IC8vIFBvc2l0aW9uIGNvbnN0cmFpbiB3aGVlbHNcbiAgICBjb25zdCBwb3NpdGlvbiA9IHR5cGVvZiBvcHRpb25zLnBvc2l0aW9uICE9PSAndW5kZWZpbmVkJyA/IG9wdGlvbnMucG9zaXRpb24uY2xvbmUoKSA6IG5ldyBWZWMzKCk7IC8vIFNldCBwb3NpdGlvbiBsb2NhbGx5IHRvIHRoZSBjaGFzc2lzXG5cbiAgICBjb25zdCB3b3JsZFBvc2l0aW9uID0gbmV3IFZlYzMoKTtcbiAgICB0aGlzLmNoYXNzaXNCb2R5LnBvaW50VG9Xb3JsZEZyYW1lKHBvc2l0aW9uLCB3b3JsZFBvc2l0aW9uKTtcbiAgICB3aGVlbEJvZHkucG9zaXRpb24uc2V0KHdvcmxkUG9zaXRpb24ueCwgd29ybGRQb3NpdGlvbi55LCB3b3JsZFBvc2l0aW9uLnopOyAvLyBDb25zdHJhaW4gd2hlZWxcblxuICAgIGNvbnN0IGF4aXMgPSB0eXBlb2Ygb3B0aW9ucy5heGlzICE9PSAndW5kZWZpbmVkJyA/IG9wdGlvbnMuYXhpcy5jbG9uZSgpIDogbmV3IFZlYzMoMCwgMSwgMCk7XG4gICAgdGhpcy53aGVlbEF4ZXMucHVzaChheGlzKTtcbiAgICBjb25zdCBoaW5nZUNvbnN0cmFpbnQgPSBuZXcgSGluZ2VDb25zdHJhaW50KHRoaXMuY2hhc3Npc0JvZHksIHdoZWVsQm9keSwge1xuICAgICAgcGl2b3RBOiBwb3NpdGlvbixcbiAgICAgIGF4aXNBOiBheGlzLFxuICAgICAgcGl2b3RCOiBWZWMzLlpFUk8sXG4gICAgICBheGlzQjogYXhpcyxcbiAgICAgIGNvbGxpZGVDb25uZWN0ZWQ6IGZhbHNlXG4gICAgfSk7XG4gICAgdGhpcy5jb25zdHJhaW50cy5wdXNoKGhpbmdlQ29uc3RyYWludCk7XG4gICAgcmV0dXJuIHRoaXMud2hlZWxCb2RpZXMubGVuZ3RoIC0gMTtcbiAgfVxuICAvKipcclxuICAgKiBTZXQgdGhlIHN0ZWVyaW5nIHZhbHVlIG9mIGEgd2hlZWwuXHJcbiAgICogQG1ldGhvZCBzZXRTdGVlcmluZ1ZhbHVlXHJcbiAgICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlXHJcbiAgICogQHBhcmFtIHtpbnRlZ2VyfSB3aGVlbEluZGV4XHJcbiAgICogQHRvZG8gY2hlY2sgY29vcmRpbmF0ZVN5c3RlbVxyXG4gICAqL1xuXG5cbiAgc2V0U3RlZXJpbmdWYWx1ZSh2YWx1ZSwgd2hlZWxJbmRleCkge1xuICAgIC8vIFNldCBhbmdsZSBvZiB0aGUgaGluZ2UgYXhpc1xuICAgIGNvbnN0IGF4aXMgPSB0aGlzLndoZWVsQXhlc1t3aGVlbEluZGV4XTtcbiAgICBjb25zdCBjID0gTWF0aC5jb3ModmFsdWUpO1xuICAgIGNvbnN0IHMgPSBNYXRoLnNpbih2YWx1ZSk7XG4gICAgY29uc3QgeCA9IGF4aXMueDtcbiAgICBjb25zdCB5ID0gYXhpcy55O1xuICAgIHRoaXMuY29uc3RyYWludHNbd2hlZWxJbmRleF0uYXhpc0Euc2V0KGMgKiB4IC0gcyAqIHksIHMgKiB4ICsgYyAqIHksIDApO1xuICB9XG4gIC8qKlxyXG4gICAqIFNldCB0aGUgdGFyZ2V0IHJvdGF0aW9uYWwgc3BlZWQgb2YgdGhlIGhpbmdlIGNvbnN0cmFpbnQuXHJcbiAgICogQG1ldGhvZCBzZXRNb3RvclNwZWVkXHJcbiAgICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlXHJcbiAgICogQHBhcmFtIHtpbnRlZ2VyfSB3aGVlbEluZGV4XHJcbiAgICovXG5cblxuICBzZXRNb3RvclNwZWVkKHZhbHVlLCB3aGVlbEluZGV4KSB7XG4gICAgY29uc3QgaGluZ2VDb25zdHJhaW50ID0gdGhpcy5jb25zdHJhaW50c1t3aGVlbEluZGV4XTtcbiAgICBoaW5nZUNvbnN0cmFpbnQuZW5hYmxlTW90b3IoKTtcbiAgICBoaW5nZUNvbnN0cmFpbnQubW90b3JUYXJnZXRWZWxvY2l0eSA9IHZhbHVlO1xuICB9XG4gIC8qKlxyXG4gICAqIFNldCB0aGUgdGFyZ2V0IHJvdGF0aW9uYWwgc3BlZWQgb2YgdGhlIGhpbmdlIGNvbnN0cmFpbnQuXHJcbiAgICogQG1ldGhvZCBkaXNhYmxlTW90b3JcclxuICAgKiBAcGFyYW0ge251bWJlcn0gdmFsdWVcclxuICAgKiBAcGFyYW0ge2ludGVnZXJ9IHdoZWVsSW5kZXhcclxuICAgKi9cblxuXG4gIGRpc2FibGVNb3Rvcih3aGVlbEluZGV4KSB7XG4gICAgY29uc3QgaGluZ2VDb25zdHJhaW50ID0gdGhpcy5jb25zdHJhaW50c1t3aGVlbEluZGV4XTtcbiAgICBoaW5nZUNvbnN0cmFpbnQuZGlzYWJsZU1vdG9yKCk7XG4gIH1cbiAgLyoqXHJcbiAgICogU2V0IHRoZSB3aGVlbCBmb3JjZSB0byBhcHBseSBvbiBvbmUgb2YgdGhlIHdoZWVscyBlYWNoIHRpbWUgc3RlcFxyXG4gICAqIEBtZXRob2Qgc2V0V2hlZWxGb3JjZVxyXG4gICAqIEBwYXJhbSAge251bWJlcn0gdmFsdWVcclxuICAgKiBAcGFyYW0gIHtpbnRlZ2VyfSB3aGVlbEluZGV4XHJcbiAgICovXG5cblxuICBzZXRXaGVlbEZvcmNlKHZhbHVlLCB3aGVlbEluZGV4KSB7XG4gICAgdGhpcy53aGVlbEZvcmNlc1t3aGVlbEluZGV4XSA9IHZhbHVlO1xuICB9XG4gIC8qKlxyXG4gICAqIEFwcGx5IGEgdG9ycXVlIG9uIG9uZSBvZiB0aGUgd2hlZWxzLlxyXG4gICAqIEBtZXRob2QgYXBwbHlXaGVlbEZvcmNlXHJcbiAgICogQHBhcmFtICB7bnVtYmVyfSB2YWx1ZVxyXG4gICAqIEBwYXJhbSAge2ludGVnZXJ9IHdoZWVsSW5kZXhcclxuICAgKi9cblxuXG4gIGFwcGx5V2hlZWxGb3JjZSh2YWx1ZSwgd2hlZWxJbmRleCkge1xuICAgIGNvbnN0IGF4aXMgPSB0aGlzLndoZWVsQXhlc1t3aGVlbEluZGV4XTtcbiAgICBjb25zdCB3aGVlbEJvZHkgPSB0aGlzLndoZWVsQm9kaWVzW3doZWVsSW5kZXhdO1xuICAgIGNvbnN0IGJvZHlUb3JxdWUgPSB3aGVlbEJvZHkudG9ycXVlO1xuICAgIGF4aXMuc2NhbGUodmFsdWUsIHRvcnF1ZSk7XG4gICAgd2hlZWxCb2R5LnZlY3RvclRvV29ybGRGcmFtZSh0b3JxdWUsIHRvcnF1ZSk7XG4gICAgYm9keVRvcnF1ZS52YWRkKHRvcnF1ZSwgYm9keVRvcnF1ZSk7XG4gIH1cbiAgLyoqXHJcbiAgICogQWRkIHRoZSB2ZWhpY2xlIGluY2x1ZGluZyBpdHMgY29uc3RyYWludHMgdG8gdGhlIHdvcmxkLlxyXG4gICAqIEBtZXRob2QgYWRkVG9Xb3JsZFxyXG4gICAqIEBwYXJhbSB7V29ybGR9IHdvcmxkXHJcbiAgICovXG5cblxuICBhZGRUb1dvcmxkKHdvcmxkKSB7XG4gICAgY29uc3QgY29uc3RyYWludHMgPSB0aGlzLmNvbnN0cmFpbnRzO1xuICAgIGNvbnN0IGJvZGllcyA9IHRoaXMud2hlZWxCb2RpZXMuY29uY2F0KFt0aGlzLmNoYXNzaXNCb2R5XSk7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGJvZGllcy5sZW5ndGg7IGkrKykge1xuICAgICAgd29ybGQuYWRkQm9keShib2RpZXNbaV0pO1xuICAgIH1cblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY29uc3RyYWludHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHdvcmxkLmFkZENvbnN0cmFpbnQoY29uc3RyYWludHNbaV0pO1xuICAgIH1cblxuICAgIHdvcmxkLmFkZEV2ZW50TGlzdGVuZXIoJ3ByZVN0ZXAnLCB0aGlzLl91cGRhdGUuYmluZCh0aGlzKSk7XG4gIH1cblxuICBfdXBkYXRlKCkge1xuICAgIGNvbnN0IHdoZWVsRm9yY2VzID0gdGhpcy53aGVlbEZvcmNlcztcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgd2hlZWxGb3JjZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHRoaXMuYXBwbHlXaGVlbEZvcmNlKHdoZWVsRm9yY2VzW2ldLCBpKTtcbiAgICB9XG4gIH1cbiAgLyoqXHJcbiAgICogUmVtb3ZlIHRoZSB2ZWhpY2xlIGluY2x1ZGluZyBpdHMgY29uc3RyYWludHMgZnJvbSB0aGUgd29ybGQuXHJcbiAgICogQG1ldGhvZCByZW1vdmVGcm9tV29ybGRcclxuICAgKiBAcGFyYW0ge1dvcmxkfSB3b3JsZFxyXG4gICAqL1xuXG5cbiAgcmVtb3ZlRnJvbVdvcmxkKHdvcmxkKSB7XG4gICAgY29uc3QgY29uc3RyYWludHMgPSB0aGlzLmNvbnN0cmFpbnRzO1xuICAgIGNvbnN0IGJvZGllcyA9IHRoaXMud2hlZWxCb2RpZXMuY29uY2F0KFt0aGlzLmNoYXNzaXNCb2R5XSk7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGJvZGllcy5sZW5ndGg7IGkrKykge1xuICAgICAgd29ybGQucmVtb3ZlQm9keShib2RpZXNbaV0pO1xuICAgIH1cblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY29uc3RyYWludHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHdvcmxkLnJlbW92ZUNvbnN0cmFpbnQoY29uc3RyYWludHNbaV0pO1xuICAgIH1cbiAgfVxuICAvKipcclxuICAgKiBHZXQgY3VycmVudCByb3RhdGlvbmFsIHZlbG9jaXR5IG9mIGEgd2hlZWxcclxuICAgKiBAbWV0aG9kIGdldFdoZWVsU3BlZWRcclxuICAgKiBAcGFyYW0ge2ludGVnZXJ9IHdoZWVsSW5kZXhcclxuICAgKi9cblxuXG4gIGdldFdoZWVsU3BlZWQod2hlZWxJbmRleCkge1xuICAgIGNvbnN0IGF4aXMgPSB0aGlzLndoZWVsQXhlc1t3aGVlbEluZGV4XTtcbiAgICBjb25zdCB3aGVlbEJvZHkgPSB0aGlzLndoZWVsQm9kaWVzW3doZWVsSW5kZXhdO1xuICAgIGNvbnN0IHcgPSB3aGVlbEJvZHkuYW5ndWxhclZlbG9jaXR5O1xuICAgIHRoaXMuY2hhc3Npc0JvZHkudmVjdG9yVG9Xb3JsZEZyYW1lKGF4aXMsIHdvcmxkQXhpcyk7XG4gICAgcmV0dXJuIHcuZG90KHdvcmxkQXhpcyk7XG4gIH1cblxufVxuY29uc3QgdG9ycXVlID0gbmV3IFZlYzMoKTtcbmNvbnN0IHdvcmxkQXhpcyA9IG5ldyBWZWMzKCk7XG5cbi8qKlxyXG4gKiBTbW9vdGhlZC1wYXJ0aWNsZSBoeWRyb2R5bmFtaWNzIHN5c3RlbVxyXG4gKiBAY2xhc3MgU1BIU3lzdGVtXHJcbiAqIEBjb25zdHJ1Y3RvclxyXG4gKi9cbmNsYXNzIFNQSFN5c3RlbSB7XG4gIC8vIERlbnNpdHkgb2YgdGhlIHN5c3RlbSAoa2cvbTMpLlxuICAvLyBEaXN0YW5jZSBiZWxvdyB3aGljaCB0d28gcGFydGljbGVzIGFyZSBjb25zaWRlcmVkIHRvIGJlIG5laWdoYm9ycy4gSXQgc2hvdWxkIGJlIGFkanVzdGVkIHNvIHRoZXJlIGFyZSBhYm91dCAxNS0yMCBuZWlnaGJvciBwYXJ0aWNsZXMgd2l0aGluIHRoaXMgcmFkaXVzLlxuICAvLyBWaXNjb3NpdHkgb2YgdGhlIHN5c3RlbS5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5wYXJ0aWNsZXMgPSBbXTtcbiAgICB0aGlzLmRlbnNpdHkgPSAxO1xuICAgIHRoaXMuc21vb3RoaW5nUmFkaXVzID0gMTtcbiAgICB0aGlzLnNwZWVkT2ZTb3VuZCA9IDE7XG4gICAgdGhpcy52aXNjb3NpdHkgPSAwLjAxO1xuICAgIHRoaXMuZXBzID0gMC4wMDAwMDE7IC8vIFN0dWZmIENvbXB1dGVkIHBlciBwYXJ0aWNsZVxuXG4gICAgdGhpcy5wcmVzc3VyZXMgPSBbXTtcbiAgICB0aGlzLmRlbnNpdGllcyA9IFtdO1xuICAgIHRoaXMubmVpZ2hib3JzID0gW107XG4gIH1cbiAgLyoqXHJcbiAgICogQWRkIGEgcGFydGljbGUgdG8gdGhlIHN5c3RlbS5cclxuICAgKiBAbWV0aG9kIGFkZFxyXG4gICAqIEBwYXJhbSB7Qm9keX0gcGFydGljbGVcclxuICAgKi9cblxuXG4gIGFkZChwYXJ0aWNsZSkge1xuICAgIHRoaXMucGFydGljbGVzLnB1c2gocGFydGljbGUpO1xuXG4gICAgaWYgKHRoaXMubmVpZ2hib3JzLmxlbmd0aCA8IHRoaXMucGFydGljbGVzLmxlbmd0aCkge1xuICAgICAgdGhpcy5uZWlnaGJvcnMucHVzaChbXSk7XG4gICAgfVxuICB9XG4gIC8qKlxyXG4gICAqIFJlbW92ZSBhIHBhcnRpY2xlIGZyb20gdGhlIHN5c3RlbS5cclxuICAgKiBAbWV0aG9kIHJlbW92ZVxyXG4gICAqIEBwYXJhbSB7Qm9keX0gcGFydGljbGVcclxuICAgKi9cblxuXG4gIHJlbW92ZShwYXJ0aWNsZSkge1xuICAgIGNvbnN0IGlkeCA9IHRoaXMucGFydGljbGVzLmluZGV4T2YocGFydGljbGUpO1xuXG4gICAgaWYgKGlkeCAhPT0gLTEpIHtcbiAgICAgIHRoaXMucGFydGljbGVzLnNwbGljZShpZHgsIDEpO1xuXG4gICAgICBpZiAodGhpcy5uZWlnaGJvcnMubGVuZ3RoID4gdGhpcy5wYXJ0aWNsZXMubGVuZ3RoKSB7XG4gICAgICAgIHRoaXMubmVpZ2hib3JzLnBvcCgpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGdldE5laWdoYm9ycyhwYXJ0aWNsZSwgbmVpZ2hib3JzKSB7XG4gICAgY29uc3QgTiA9IHRoaXMucGFydGljbGVzLmxlbmd0aDtcbiAgICBjb25zdCBpZCA9IHBhcnRpY2xlLmlkO1xuICAgIGNvbnN0IFIyID0gdGhpcy5zbW9vdGhpbmdSYWRpdXMgKiB0aGlzLnNtb290aGluZ1JhZGl1cztcbiAgICBjb25zdCBkaXN0ID0gU1BIU3lzdGVtX2dldE5laWdoYm9yc19kaXN0O1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgIT09IE47IGkrKykge1xuICAgICAgY29uc3QgcCA9IHRoaXMucGFydGljbGVzW2ldO1xuICAgICAgcC5wb3NpdGlvbi52c3ViKHBhcnRpY2xlLnBvc2l0aW9uLCBkaXN0KTtcblxuICAgICAgaWYgKGlkICE9PSBwLmlkICYmIGRpc3QubGVuZ3RoU3F1YXJlZCgpIDwgUjIpIHtcbiAgICAgICAgbmVpZ2hib3JzLnB1c2gocCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgdXBkYXRlKCkge1xuICAgIGNvbnN0IE4gPSB0aGlzLnBhcnRpY2xlcy5sZW5ndGg7XG4gICAgY29uc3QgZGlzdCA9IFNQSFN5c3RlbV91cGRhdGVfZGlzdDtcbiAgICBjb25zdCBjcyA9IHRoaXMuc3BlZWRPZlNvdW5kO1xuICAgIGNvbnN0IGVwcyA9IHRoaXMuZXBzO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgIT09IE47IGkrKykge1xuICAgICAgY29uc3QgcCA9IHRoaXMucGFydGljbGVzW2ldOyAvLyBDdXJyZW50IHBhcnRpY2xlXG5cbiAgICAgIGNvbnN0IG5laWdoYm9ycyA9IHRoaXMubmVpZ2hib3JzW2ldOyAvLyBHZXQgbmVpZ2hib3JzXG5cbiAgICAgIG5laWdoYm9ycy5sZW5ndGggPSAwO1xuICAgICAgdGhpcy5nZXROZWlnaGJvcnMocCwgbmVpZ2hib3JzKTtcbiAgICAgIG5laWdoYm9ycy5wdXNoKHRoaXMucGFydGljbGVzW2ldKTsgLy8gQWRkIGN1cnJlbnQgdG9vXG5cbiAgICAgIGNvbnN0IG51bU5laWdoYm9ycyA9IG5laWdoYm9ycy5sZW5ndGg7IC8vIEFjY3VtdWxhdGUgZGVuc2l0eSBmb3IgdGhlIHBhcnRpY2xlXG5cbiAgICAgIGxldCBzdW0gPSAwLjA7XG5cbiAgICAgIGZvciAobGV0IGogPSAwOyBqICE9PSBudW1OZWlnaGJvcnM7IGorKykge1xuICAgICAgICAvL3ByaW50ZihcIkN1cnJlbnQgcGFydGljbGUgaGFzIHBvc2l0aW9uICVmICVmICVmXFxuXCIsb2JqZWN0c1tpZF0ucG9zLngoKSxvYmplY3RzW2lkXS5wb3MueSgpLG9iamVjdHNbaWRdLnBvcy56KCkpO1xuICAgICAgICBwLnBvc2l0aW9uLnZzdWIobmVpZ2hib3JzW2pdLnBvc2l0aW9uLCBkaXN0KTtcbiAgICAgICAgY29uc3QgbGVuID0gZGlzdC5sZW5ndGgoKTtcbiAgICAgICAgY29uc3Qgd2VpZ2h0ID0gdGhpcy53KGxlbik7XG4gICAgICAgIHN1bSArPSBuZWlnaGJvcnNbal0ubWFzcyAqIHdlaWdodDtcbiAgICAgIH0gLy8gU2F2ZVxuXG5cbiAgICAgIHRoaXMuZGVuc2l0aWVzW2ldID0gc3VtO1xuICAgICAgdGhpcy5wcmVzc3VyZXNbaV0gPSBjcyAqIGNzICogKHRoaXMuZGVuc2l0aWVzW2ldIC0gdGhpcy5kZW5zaXR5KTtcbiAgICB9IC8vIEFkZCBmb3JjZXNcbiAgICAvLyBTdW0gdG8gdGhlc2UgYWNjZWxlcmF0aW9uc1xuXG5cbiAgICBjb25zdCBhX3ByZXNzdXJlID0gU1BIU3lzdGVtX3VwZGF0ZV9hX3ByZXNzdXJlO1xuICAgIGNvbnN0IGFfdmlzYyA9IFNQSFN5c3RlbV91cGRhdGVfYV92aXNjO1xuICAgIGNvbnN0IGdyYWRXID0gU1BIU3lzdGVtX3VwZGF0ZV9ncmFkVztcbiAgICBjb25zdCByX3ZlYyA9IFNQSFN5c3RlbV91cGRhdGVfcl92ZWM7XG4gICAgY29uc3QgdSA9IFNQSFN5c3RlbV91cGRhdGVfdTtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpICE9PSBOOyBpKyspIHtcbiAgICAgIGNvbnN0IHBhcnRpY2xlID0gdGhpcy5wYXJ0aWNsZXNbaV07XG4gICAgICBhX3ByZXNzdXJlLnNldCgwLCAwLCAwKTtcbiAgICAgIGFfdmlzYy5zZXQoMCwgMCwgMCk7IC8vIEluaXQgdmFyc1xuXG4gICAgICBsZXQgUGlqO1xuICAgICAgbGV0IG5hYmxhO1xuXG4gICAgICBjb25zdCBuZWlnaGJvcnMgPSB0aGlzLm5laWdoYm9yc1tpXTtcbiAgICAgIGNvbnN0IG51bU5laWdoYm9ycyA9IG5laWdoYm9ycy5sZW5ndGg7IC8vcHJpbnRmKFwiTmVpZ2hib3JzOiBcIik7XG5cbiAgICAgIGZvciAobGV0IGogPSAwOyBqICE9PSBudW1OZWlnaGJvcnM7IGorKykge1xuICAgICAgICBjb25zdCBuZWlnaGJvciA9IG5laWdoYm9yc1tqXTsgLy9wcmludGYoXCIlZCBcIixuaik7XG4gICAgICAgIC8vIEdldCByIG9uY2UgZm9yIGFsbC4uXG5cbiAgICAgICAgcGFydGljbGUucG9zaXRpb24udnN1YihuZWlnaGJvci5wb3NpdGlvbiwgcl92ZWMpO1xuICAgICAgICBjb25zdCByID0gcl92ZWMubGVuZ3RoKCk7IC8vIFByZXNzdXJlIGNvbnRyaWJ1dGlvblxuXG4gICAgICAgIFBpaiA9IC1uZWlnaGJvci5tYXNzICogKHRoaXMucHJlc3N1cmVzW2ldIC8gKHRoaXMuZGVuc2l0aWVzW2ldICogdGhpcy5kZW5zaXRpZXNbaV0gKyBlcHMpICsgdGhpcy5wcmVzc3VyZXNbal0gLyAodGhpcy5kZW5zaXRpZXNbal0gKiB0aGlzLmRlbnNpdGllc1tqXSArIGVwcykpO1xuICAgICAgICB0aGlzLmdyYWR3KHJfdmVjLCBncmFkVyk7IC8vIEFkZCB0byBwcmVzc3VyZSBhY2NlbGVyYXRpb25cblxuICAgICAgICBncmFkVy5zY2FsZShQaWosIGdyYWRXKTtcbiAgICAgICAgYV9wcmVzc3VyZS52YWRkKGdyYWRXLCBhX3ByZXNzdXJlKTsgLy8gVmlzY29zaXR5IGNvbnRyaWJ1dGlvblxuXG4gICAgICAgIG5laWdoYm9yLnZlbG9jaXR5LnZzdWIocGFydGljbGUudmVsb2NpdHksIHUpO1xuICAgICAgICB1LnNjYWxlKDEuMCAvICgwLjAwMDEgKyB0aGlzLmRlbnNpdGllc1tpXSAqIHRoaXMuZGVuc2l0aWVzW2pdKSAqIHRoaXMudmlzY29zaXR5ICogbmVpZ2hib3IubWFzcywgdSk7XG4gICAgICAgIG5hYmxhID0gdGhpcy5uYWJsYXcocik7XG4gICAgICAgIHUuc2NhbGUobmFibGEsIHUpOyAvLyBBZGQgdG8gdmlzY29zaXR5IGFjY2VsZXJhdGlvblxuXG4gICAgICAgIGFfdmlzYy52YWRkKHUsIGFfdmlzYyk7XG4gICAgICB9IC8vIENhbGN1bGF0ZSBmb3JjZVxuXG5cbiAgICAgIGFfdmlzYy5zY2FsZShwYXJ0aWNsZS5tYXNzLCBhX3Zpc2MpO1xuICAgICAgYV9wcmVzc3VyZS5zY2FsZShwYXJ0aWNsZS5tYXNzLCBhX3ByZXNzdXJlKTsgLy8gQWRkIGZvcmNlIHRvIHBhcnRpY2xlc1xuXG4gICAgICBwYXJ0aWNsZS5mb3JjZS52YWRkKGFfdmlzYywgcGFydGljbGUuZm9yY2UpO1xuICAgICAgcGFydGljbGUuZm9yY2UudmFkZChhX3ByZXNzdXJlLCBwYXJ0aWNsZS5mb3JjZSk7XG4gICAgfVxuICB9IC8vIENhbGN1bGF0ZSB0aGUgd2VpZ2h0IHVzaW5nIHRoZSBXKHIpIHdlaWdodGZ1bmN0aW9uXG5cblxuICB3KHIpIHtcbiAgICAvLyAzMTVcbiAgICBjb25zdCBoID0gdGhpcy5zbW9vdGhpbmdSYWRpdXM7XG4gICAgcmV0dXJuIDMxNS4wIC8gKDY0LjAgKiBNYXRoLlBJICogaCAqKiA5KSAqIChoICogaCAtIHIgKiByKSAqKiAzO1xuICB9IC8vIGNhbGN1bGF0ZSBncmFkaWVudCBvZiB0aGUgd2VpZ2h0IGZ1bmN0aW9uXG5cblxuICBncmFkdyhyVmVjLCByZXN1bHRWZWMpIHtcbiAgICBjb25zdCByID0gclZlYy5sZW5ndGgoKTtcbiAgICBjb25zdCBoID0gdGhpcy5zbW9vdGhpbmdSYWRpdXM7XG4gICAgclZlYy5zY2FsZSg5NDUuMCAvICgzMi4wICogTWF0aC5QSSAqIGggKiogOSkgKiAoaCAqIGggLSByICogcikgKiogMiwgcmVzdWx0VmVjKTtcbiAgfSAvLyBDYWxjdWxhdGUgbmFibGEoVylcblxuXG4gIG5hYmxhdyhyKSB7XG4gICAgY29uc3QgaCA9IHRoaXMuc21vb3RoaW5nUmFkaXVzO1xuICAgIGNvbnN0IG5hYmxhID0gOTQ1LjAgLyAoMzIuMCAqIE1hdGguUEkgKiBoICoqIDkpICogKGggKiBoIC0gciAqIHIpICogKDcgKiByICogciAtIDMgKiBoICogaCk7XG4gICAgcmV0dXJuIG5hYmxhO1xuICB9XG5cbn1cbi8qKlxyXG4gKiBHZXQgbmVpZ2hib3JzIHdpdGhpbiBzbW9vdGhpbmcgdm9sdW1lLCBzYXZlIGluIHRoZSBhcnJheSBuZWlnaGJvcnNcclxuICogQG1ldGhvZCBnZXROZWlnaGJvcnNcclxuICogQHBhcmFtIHtCb2R5fSBwYXJ0aWNsZVxyXG4gKiBAcGFyYW0ge0FycmF5fSBuZWlnaGJvcnNcclxuICovXG5cbmNvbnN0IFNQSFN5c3RlbV9nZXROZWlnaGJvcnNfZGlzdCA9IG5ldyBWZWMzKCk7IC8vIFRlbXAgdmVjdG9ycyBmb3IgY2FsY3VsYXRpb25cblxuY29uc3QgU1BIU3lzdGVtX3VwZGF0ZV9kaXN0ID0gbmV3IFZlYzMoKTsgLy8gUmVsYXRpdmUgdmVsb2NpdHlcblxuY29uc3QgU1BIU3lzdGVtX3VwZGF0ZV9hX3ByZXNzdXJlID0gbmV3IFZlYzMoKTtcbmNvbnN0IFNQSFN5c3RlbV91cGRhdGVfYV92aXNjID0gbmV3IFZlYzMoKTtcbmNvbnN0IFNQSFN5c3RlbV91cGRhdGVfZ3JhZFcgPSBuZXcgVmVjMygpO1xuY29uc3QgU1BIU3lzdGVtX3VwZGF0ZV9yX3ZlYyA9IG5ldyBWZWMzKCk7XG5jb25zdCBTUEhTeXN0ZW1fdXBkYXRlX3UgPSBuZXcgVmVjMygpO1xuXG4vKipcclxuICogQGNsYXNzIEN5bGluZGVyXHJcbiAqIEBjb25zdHJ1Y3RvclxyXG4gKiBAZXh0ZW5kcyBDb252ZXhQb2x5aGVkcm9uXHJcbiAqIEBhdXRob3Igc2NodGVwcGUgLyBodHRwczovL2dpdGh1Yi5jb20vc2NodGVwcGVcclxuICogQHBhcmFtIHtOdW1iZXJ9IHJhZGl1c1RvcFxyXG4gKiBAcGFyYW0ge051bWJlcn0gcmFkaXVzQm90dG9tXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBoZWlnaHRcclxuICogQHBhcmFtIHtOdW1iZXJ9IG51bVNlZ21lbnRzIFRoZSBudW1iZXIgb2Ygc2VnbWVudHMgdG8gYnVpbGQgdGhlIGN5bGluZGVyIG91dCBvZlxyXG4gKi9cblxuY2xhc3MgQ3lsaW5kZXIgZXh0ZW5kcyBDb252ZXhQb2x5aGVkcm9uIHtcbiAgY29uc3RydWN0b3IocmFkaXVzVG9wLCByYWRpdXNCb3R0b20sIGhlaWdodCwgbnVtU2VnbWVudHMpIHtcbiAgICBjb25zdCBOID0gbnVtU2VnbWVudHM7XG4gICAgY29uc3QgdmVydGljZXMgPSBbXTtcbiAgICBjb25zdCBheGVzID0gW107XG4gICAgY29uc3QgZmFjZXMgPSBbXTtcbiAgICBjb25zdCBib3R0b21mYWNlID0gW107XG4gICAgY29uc3QgdG9wZmFjZSA9IFtdO1xuICAgIGNvbnN0IGNvcyA9IE1hdGguY29zO1xuICAgIGNvbnN0IHNpbiA9IE1hdGguc2luOyAvLyBGaXJzdCBib3R0b20gcG9pbnRcblxuICAgIHZlcnRpY2VzLnB1c2gobmV3IFZlYzMoLXJhZGl1c0JvdHRvbSAqIHNpbigwKSwgLWhlaWdodCAqIDAuNSwgcmFkaXVzQm90dG9tICogY29zKDApKSk7XG4gICAgYm90dG9tZmFjZS5wdXNoKDApOyAvLyBGaXJzdCB0b3AgcG9pbnRcblxuICAgIHZlcnRpY2VzLnB1c2gobmV3IFZlYzMoLXJhZGl1c1RvcCAqIHNpbigwKSwgaGVpZ2h0ICogMC41LCByYWRpdXNUb3AgKiBjb3MoMCkpKTtcbiAgICB0b3BmYWNlLnB1c2goMSk7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IE47IGkrKykge1xuICAgICAgY29uc3QgdGhldGEgPSAyICogTWF0aC5QSSAvIE4gKiAoaSArIDEpO1xuICAgICAgY29uc3QgdGhldGFOID0gMiAqIE1hdGguUEkgLyBOICogKGkgKyAwLjUpO1xuXG4gICAgICBpZiAoaSA8IE4gLSAxKSB7XG4gICAgICAgIC8vIEJvdHRvbVxuICAgICAgICB2ZXJ0aWNlcy5wdXNoKG5ldyBWZWMzKC1yYWRpdXNCb3R0b20gKiBzaW4odGhldGEpLCAtaGVpZ2h0ICogMC41LCByYWRpdXNCb3R0b20gKiBjb3ModGhldGEpKSk7XG4gICAgICAgIGJvdHRvbWZhY2UucHVzaCgyICogaSArIDIpOyAvLyBUb3BcblxuICAgICAgICB2ZXJ0aWNlcy5wdXNoKG5ldyBWZWMzKC1yYWRpdXNUb3AgKiBzaW4odGhldGEpLCBoZWlnaHQgKiAwLjUsIHJhZGl1c1RvcCAqIGNvcyh0aGV0YSkpKTtcbiAgICAgICAgdG9wZmFjZS5wdXNoKDIgKiBpICsgMyk7IC8vIEZhY2VcblxuICAgICAgICBmYWNlcy5wdXNoKFsyICogaSwgMiAqIGkgKyAxLCAyICogaSArIDMsIDIgKiBpICsgMl0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZmFjZXMucHVzaChbMiAqIGksIDIgKiBpICsgMSwgMSwgMF0pOyAvLyBDb25uZWN0XG4gICAgICB9IC8vIEF4aXM6IHdlIGNhbiBjdXQgb2ZmIGhhbGYgb2YgdGhlbSBpZiB3ZSBoYXZlIGV2ZW4gbnVtYmVyIG9mIHNlZ21lbnRzXG5cblxuICAgICAgaWYgKE4gJSAyID09PSAxIHx8IGkgPCBOIC8gMikge1xuICAgICAgICBheGVzLnB1c2gobmV3IFZlYzMoLXNpbih0aGV0YU4pLCAwLCBjb3ModGhldGFOKSkpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZhY2VzLnB1c2goYm90dG9tZmFjZSk7XG4gICAgYXhlcy5wdXNoKG5ldyBWZWMzKDAsIDEsIDApKTsgLy8gUmVvcmRlciB0b3AgZmFjZVxuXG4gICAgY29uc3QgdGVtcCA9IFtdO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0b3BmYWNlLmxlbmd0aDsgaSsrKSB7XG4gICAgICB0ZW1wLnB1c2godG9wZmFjZVt0b3BmYWNlLmxlbmd0aCAtIGkgLSAxXSk7XG4gICAgfVxuXG4gICAgZmFjZXMucHVzaCh0ZW1wKTtcbiAgICBzdXBlcih7XG4gICAgICB2ZXJ0aWNlcyxcbiAgICAgIGZhY2VzLFxuICAgICAgYXhlc1xuICAgIH0pO1xuICB9XG5cbn1cblxuLyoqXHJcbiAqIFBhcnRpY2xlIHNoYXBlLlxyXG4gKiBAY2xhc3MgUGFydGljbGVcclxuICogQGNvbnN0cnVjdG9yXHJcbiAqIEBhdXRob3Igc2NodGVwcGVcclxuICogQGV4dGVuZHMgU2hhcGVcclxuICovXG5jbGFzcyBQYXJ0aWNsZSBleHRlbmRzIFNoYXBlIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoe1xuICAgICAgdHlwZTogU2hhcGUudHlwZXMuUEFSVElDTEVcbiAgICB9KTtcbiAgfVxuICAvKipcclxuICAgKiBAbWV0aG9kIGNhbGN1bGF0ZUxvY2FsSW5lcnRpYVxyXG4gICAqIEBwYXJhbSAge051bWJlcn0gbWFzc1xyXG4gICAqIEBwYXJhbSAge1ZlYzN9IHRhcmdldFxyXG4gICAqIEByZXR1cm4ge1ZlYzN9XHJcbiAgICovXG5cblxuICBjYWxjdWxhdGVMb2NhbEluZXJ0aWEobWFzcywgdGFyZ2V0ID0gbmV3IFZlYzMoKSkge1xuICAgIHRhcmdldC5zZXQoMCwgMCwgMCk7XG4gICAgcmV0dXJuIHRhcmdldDtcbiAgfVxuXG4gIHZvbHVtZSgpIHtcbiAgICByZXR1cm4gMDtcbiAgfVxuXG4gIHVwZGF0ZUJvdW5kaW5nU3BoZXJlUmFkaXVzKCkge1xuICAgIHRoaXMuYm91bmRpbmdTcGhlcmVSYWRpdXMgPSAwO1xuICB9XG5cbiAgY2FsY3VsYXRlV29ybGRBQUJCKHBvcywgcXVhdCwgbWluLCBtYXgpIHtcbiAgICAvLyBHZXQgZWFjaCBheGlzIG1heFxuICAgIG1pbi5jb3B5KHBvcyk7XG4gICAgbWF4LmNvcHkocG9zKTtcbiAgfVxuXG59XG5cbi8qKlxyXG4gKiBBIHBsYW5lLCBmYWNpbmcgaW4gdGhlIFogZGlyZWN0aW9uLiBUaGUgcGxhbmUgaGFzIGl0cyBzdXJmYWNlIGF0IHo9MCBhbmQgZXZlcnl0aGluZyBiZWxvdyB6PTAgaXMgYXNzdW1lZCB0byBiZSBzb2xpZCBwbGFuZS4gVG8gbWFrZSB0aGUgcGxhbmUgZmFjZSBpbiBzb21lIG90aGVyIGRpcmVjdGlvbiB0aGFuIHosIHlvdSBtdXN0IHB1dCBpdCBpbnNpZGUgYSBCb2R5IGFuZCByb3RhdGUgdGhhdCBib2R5LiBTZWUgdGhlIGRlbW9zLlxyXG4gKiBAY2xhc3MgUGxhbmVcclxuICogQGNvbnN0cnVjdG9yXHJcbiAqIEBleHRlbmRzIFNoYXBlXHJcbiAqIEBhdXRob3Igc2NodGVwcGVcclxuICovXG5jbGFzcyBQbGFuZSBleHRlbmRzIFNoYXBlIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoe1xuICAgICAgdHlwZTogU2hhcGUudHlwZXMuUExBTkVcbiAgICB9KTsgLy8gV29ybGQgb3JpZW50ZWQgbm9ybWFsXG5cbiAgICB0aGlzLndvcmxkTm9ybWFsID0gbmV3IFZlYzMoKTtcbiAgICB0aGlzLndvcmxkTm9ybWFsTmVlZHNVcGRhdGUgPSB0cnVlO1xuICAgIHRoaXMuYm91bmRpbmdTcGhlcmVSYWRpdXMgPSBOdW1iZXIuTUFYX1ZBTFVFO1xuICB9XG5cbiAgY29tcHV0ZVdvcmxkTm9ybWFsKHF1YXQpIHtcbiAgICBjb25zdCBuID0gdGhpcy53b3JsZE5vcm1hbDtcbiAgICBuLnNldCgwLCAwLCAxKTtcbiAgICBxdWF0LnZtdWx0KG4sIG4pO1xuICAgIHRoaXMud29ybGROb3JtYWxOZWVkc1VwZGF0ZSA9IGZhbHNlO1xuICB9XG5cbiAgY2FsY3VsYXRlTG9jYWxJbmVydGlhKG1hc3MsIHRhcmdldCA9IG5ldyBWZWMzKCkpIHtcbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9XG5cbiAgdm9sdW1lKCkge1xuICAgIHJldHVybiAoLy8gVGhlIHBsYW5lIGlzIGluZmluaXRlLi4uXG4gICAgICBOdW1iZXIuTUFYX1ZBTFVFXG4gICAgKTtcbiAgfVxuXG4gIGNhbGN1bGF0ZVdvcmxkQUFCQihwb3MsIHF1YXQsIG1pbiwgbWF4KSB7XG4gICAgLy8gVGhlIHBsYW5lIEFBQkIgaXMgaW5maW5pdGUsIGV4Y2VwdCBpZiB0aGUgbm9ybWFsIGlzIHBvaW50aW5nIGFsb25nIGFueSBheGlzXG4gICAgdGVtcE5vcm1hbC5zZXQoMCwgMCwgMSk7IC8vIERlZmF1bHQgcGxhbmUgbm9ybWFsIGlzIHpcblxuICAgIHF1YXQudm11bHQodGVtcE5vcm1hbCwgdGVtcE5vcm1hbCk7XG4gICAgY29uc3QgbWF4VmFsID0gTnVtYmVyLk1BWF9WQUxVRTtcbiAgICBtaW4uc2V0KC1tYXhWYWwsIC1tYXhWYWwsIC1tYXhWYWwpO1xuICAgIG1heC5zZXQobWF4VmFsLCBtYXhWYWwsIG1heFZhbCk7XG5cbiAgICBpZiAodGVtcE5vcm1hbC54ID09PSAxKSB7XG4gICAgICBtYXgueCA9IHBvcy54O1xuICAgIH0gZWxzZSBpZiAodGVtcE5vcm1hbC54ID09PSAtMSkge1xuICAgICAgbWluLnggPSBwb3MueDtcbiAgICB9XG5cbiAgICBpZiAodGVtcE5vcm1hbC55ID09PSAxKSB7XG4gICAgICBtYXgueSA9IHBvcy55O1xuICAgIH0gZWxzZSBpZiAodGVtcE5vcm1hbC55ID09PSAtMSkge1xuICAgICAgbWluLnkgPSBwb3MueTtcbiAgICB9XG5cbiAgICBpZiAodGVtcE5vcm1hbC56ID09PSAxKSB7XG4gICAgICBtYXgueiA9IHBvcy56O1xuICAgIH0gZWxzZSBpZiAodGVtcE5vcm1hbC56ID09PSAtMSkge1xuICAgICAgbWluLnogPSBwb3MuejtcbiAgICB9XG4gIH1cblxuICB1cGRhdGVCb3VuZGluZ1NwaGVyZVJhZGl1cygpIHtcbiAgICB0aGlzLmJvdW5kaW5nU3BoZXJlUmFkaXVzID0gTnVtYmVyLk1BWF9WQUxVRTtcbiAgfVxuXG59XG5jb25zdCB0ZW1wTm9ybWFsID0gbmV3IFZlYzMoKTtcblxuLyoqXHJcbiAqIEhlaWdodGZpZWxkIHNoYXBlIGNsYXNzLiBIZWlnaHQgZGF0YSBpcyBnaXZlbiBhcyBhbiBhcnJheS4gVGhlc2UgZGF0YSBwb2ludHMgYXJlIHNwcmVhZCBvdXQgZXZlbmx5IHdpdGggYSBnaXZlbiBkaXN0YW5jZS5cclxuICogQGNsYXNzIEhlaWdodGZpZWxkXHJcbiAqIEBleHRlbmRzIFNoYXBlXHJcbiAqIEBjb25zdHJ1Y3RvclxyXG4gKiBAcGFyYW0ge0FycmF5fSBkYXRhIEFuIGFycmF5IG9mIFkgdmFsdWVzIHRoYXQgd2lsbCBiZSB1c2VkIHRvIGNvbnN0cnVjdCB0aGUgdGVycmFpbi5cclxuICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbnNcclxuICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLm1pblZhbHVlXSBNaW5pbXVtIHZhbHVlIG9mIHRoZSBkYXRhIHBvaW50cyBpbiB0aGUgZGF0YSBhcnJheS4gV2lsbCBiZSBjb21wdXRlZCBhdXRvbWF0aWNhbGx5IGlmIG5vdCBnaXZlbi5cclxuICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLm1heFZhbHVlXSBNYXhpbXVtIHZhbHVlLlxyXG4gKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMuZWxlbWVudFNpemU9MC4xXSBXb3JsZCBzcGFjaW5nIGJldHdlZW4gdGhlIGRhdGEgcG9pbnRzIGluIFggZGlyZWN0aW9uLlxyXG4gKiBAdG9kbyBTaG91bGQgYmUgcG9zc2libGUgdG8gdXNlIGFsb25nIGFsbCBheGVzLCBub3QganVzdCB5XHJcbiAqIEB0b2RvIHNob3VsZCBiZSBwb3NzaWJsZSB0byBzY2FsZSBhbG9uZyBhbGwgYXhlc1xyXG4gKiBAdG9kbyBSZWZhY3RvciBlbGVtZW50U2l6ZSB0byBlbGVtZW50U2l6ZVggYW5kIGVsZW1lbnRTaXplWVxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiAgICAgLy8gR2VuZXJhdGUgc29tZSBoZWlnaHQgZGF0YSAoeS12YWx1ZXMpLlxyXG4gKiAgICAgY29uc3QgZGF0YSA9IFtdO1xyXG4gKiAgICAgZm9yKGxldCBpID0gMDsgaSA8IDEwMDA7IGkrKyl7XHJcbiAqICAgICAgICAgY29uc3QgeSA9IDAuNSAqIE1hdGguY29zKDAuMiAqIGkpO1xyXG4gKiAgICAgICAgIGRhdGEucHVzaCh5KTtcclxuICogICAgIH1cclxuICpcclxuICogICAgIC8vIENyZWF0ZSB0aGUgaGVpZ2h0ZmllbGQgc2hhcGVcclxuICogICAgIGNvbnN0IGhlaWdodGZpZWxkU2hhcGUgPSBuZXcgSGVpZ2h0ZmllbGQoZGF0YSwge1xyXG4gKiAgICAgICAgIGVsZW1lbnRTaXplOiAxIC8vIERpc3RhbmNlIGJldHdlZW4gdGhlIGRhdGEgcG9pbnRzIGluIFggYW5kIFkgZGlyZWN0aW9uc1xyXG4gKiAgICAgfSk7XHJcbiAqICAgICBjb25zdCBoZWlnaHRmaWVsZEJvZHkgPSBuZXcgQm9keSgpO1xyXG4gKiAgICAgaGVpZ2h0ZmllbGRCb2R5LmFkZFNoYXBlKGhlaWdodGZpZWxkU2hhcGUpO1xyXG4gKiAgICAgd29ybGQuYWRkQm9keShoZWlnaHRmaWVsZEJvZHkpO1xyXG4gKi9cbmNsYXNzIEhlaWdodGZpZWxkIGV4dGVuZHMgU2hhcGUge1xuICAvLyBBbiBhcnJheSBvZiBudW1iZXJzLCBvciBoZWlnaHQgdmFsdWVzLCB0aGF0IGFyZSBzcHJlYWQgb3V0IGFsb25nIHRoZSB4IGF4aXMuXG4gIC8vIE1heCB2YWx1ZSBvZiB0aGUgZGF0YS5cbiAgLy8gTWF4IHZhbHVlIG9mIHRoZSBkYXRhLlxuICAvLyBUaGUgd2lkdGggb2YgZWFjaCBlbGVtZW50LiBUbyBkbzogZWxlbWVudFNpemVYIGFuZCBZXG4gIGNvbnN0cnVjdG9yKGRhdGEsIG9wdGlvbnMgPSB7fSkge1xuICAgIG9wdGlvbnMgPSBVdGlscy5kZWZhdWx0cyhvcHRpb25zLCB7XG4gICAgICBtYXhWYWx1ZTogbnVsbCxcbiAgICAgIG1pblZhbHVlOiBudWxsLFxuICAgICAgZWxlbWVudFNpemU6IDFcbiAgICB9KTtcbiAgICBzdXBlcih7XG4gICAgICB0eXBlOiBTaGFwZS50eXBlcy5IRUlHSFRGSUVMRFxuICAgIH0pO1xuICAgIHRoaXMuZGF0YSA9IGRhdGE7XG4gICAgdGhpcy5tYXhWYWx1ZSA9IG9wdGlvbnMubWF4VmFsdWU7XG4gICAgdGhpcy5taW5WYWx1ZSA9IG9wdGlvbnMubWluVmFsdWU7XG4gICAgdGhpcy5lbGVtZW50U2l6ZSA9IG9wdGlvbnMuZWxlbWVudFNpemU7XG5cbiAgICBpZiAob3B0aW9ucy5taW5WYWx1ZSA9PT0gbnVsbCkge1xuICAgICAgdGhpcy51cGRhdGVNaW5WYWx1ZSgpO1xuICAgIH1cblxuICAgIGlmIChvcHRpb25zLm1heFZhbHVlID09PSBudWxsKSB7XG4gICAgICB0aGlzLnVwZGF0ZU1heFZhbHVlKCk7XG4gICAgfVxuXG4gICAgdGhpcy5jYWNoZUVuYWJsZWQgPSB0cnVlO1xuICAgIHRoaXMucGlsbGFyQ29udmV4ID0gbmV3IENvbnZleFBvbHloZWRyb24oKTtcbiAgICB0aGlzLnBpbGxhck9mZnNldCA9IG5ldyBWZWMzKCk7XG4gICAgdGhpcy51cGRhdGVCb3VuZGluZ1NwaGVyZVJhZGl1cygpOyAvLyBcImlfal9pc1VwcGVyXCIgPT4geyBjb252ZXg6IC4uLiwgb2Zmc2V0OiAuLi4gfVxuICAgIC8vIGZvciBleGFtcGxlOlxuICAgIC8vIF9jYWNoZWRQaWxsYXJzW1wiMF8yXzFcIl1cblxuICAgIHRoaXMuX2NhY2hlZFBpbGxhcnMgPSB7fTtcbiAgfVxuICAvKipcclxuICAgKiBDYWxsIHdoZW5ldmVyIHlvdSBjaGFuZ2UgdGhlIGRhdGEgYXJyYXkuXHJcbiAgICogQG1ldGhvZCB1cGRhdGVcclxuICAgKi9cblxuXG4gIHVwZGF0ZSgpIHtcbiAgICB0aGlzLl9jYWNoZWRQaWxsYXJzID0ge307XG4gIH1cbiAgLyoqXHJcbiAgICogVXBkYXRlIHRoZSAubWluVmFsdWUgcHJvcGVydHlcclxuICAgKiBAbWV0aG9kIHVwZGF0ZU1pblZhbHVlXHJcbiAgICovXG5cblxuICB1cGRhdGVNaW5WYWx1ZSgpIHtcbiAgICBjb25zdCBkYXRhID0gdGhpcy5kYXRhO1xuICAgIGxldCBtaW5WYWx1ZSA9IGRhdGFbMF1bMF07XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSAhPT0gZGF0YS5sZW5ndGg7IGkrKykge1xuICAgICAgZm9yIChsZXQgaiA9IDA7IGogIT09IGRhdGFbaV0ubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgY29uc3QgdiA9IGRhdGFbaV1bal07XG5cbiAgICAgICAgaWYgKHYgPCBtaW5WYWx1ZSkge1xuICAgICAgICAgIG1pblZhbHVlID0gdjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMubWluVmFsdWUgPSBtaW5WYWx1ZTtcbiAgfVxuICAvKipcclxuICAgKiBVcGRhdGUgdGhlIC5tYXhWYWx1ZSBwcm9wZXJ0eVxyXG4gICAqIEBtZXRob2QgdXBkYXRlTWF4VmFsdWVcclxuICAgKi9cblxuXG4gIHVwZGF0ZU1heFZhbHVlKCkge1xuICAgIGNvbnN0IGRhdGEgPSB0aGlzLmRhdGE7XG4gICAgbGV0IG1heFZhbHVlID0gZGF0YVswXVswXTtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpICE9PSBkYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICBmb3IgKGxldCBqID0gMDsgaiAhPT0gZGF0YVtpXS5sZW5ndGg7IGorKykge1xuICAgICAgICBjb25zdCB2ID0gZGF0YVtpXVtqXTtcblxuICAgICAgICBpZiAodiA+IG1heFZhbHVlKSB7XG4gICAgICAgICAgbWF4VmFsdWUgPSB2O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5tYXhWYWx1ZSA9IG1heFZhbHVlO1xuICB9XG4gIC8qKlxyXG4gICAqIFNldCB0aGUgaGVpZ2h0IHZhbHVlIGF0IGFuIGluZGV4LiBEb24ndCBmb3JnZXQgdG8gdXBkYXRlIG1heFZhbHVlIGFuZCBtaW5WYWx1ZSBhZnRlciB5b3UncmUgZG9uZS5cclxuICAgKiBAbWV0aG9kIHNldEhlaWdodFZhbHVlQXRJbmRleFxyXG4gICAqIEBwYXJhbSB7aW50ZWdlcn0geGlcclxuICAgKiBAcGFyYW0ge2ludGVnZXJ9IHlpXHJcbiAgICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlXHJcbiAgICovXG5cblxuICBzZXRIZWlnaHRWYWx1ZUF0SW5kZXgoeGksIHlpLCB2YWx1ZSkge1xuICAgIGNvbnN0IGRhdGEgPSB0aGlzLmRhdGE7XG4gICAgZGF0YVt4aV1beWldID0gdmFsdWU7IC8vIEludmFsaWRhdGUgY2FjaGVcblxuICAgIHRoaXMuY2xlYXJDYWNoZWRDb252ZXhUcmlhbmdsZVBpbGxhcih4aSwgeWksIGZhbHNlKTtcblxuICAgIGlmICh4aSA+IDApIHtcbiAgICAgIHRoaXMuY2xlYXJDYWNoZWRDb252ZXhUcmlhbmdsZVBpbGxhcih4aSAtIDEsIHlpLCB0cnVlKTtcbiAgICAgIHRoaXMuY2xlYXJDYWNoZWRDb252ZXhUcmlhbmdsZVBpbGxhcih4aSAtIDEsIHlpLCBmYWxzZSk7XG4gICAgfVxuXG4gICAgaWYgKHlpID4gMCkge1xuICAgICAgdGhpcy5jbGVhckNhY2hlZENvbnZleFRyaWFuZ2xlUGlsbGFyKHhpLCB5aSAtIDEsIHRydWUpO1xuICAgICAgdGhpcy5jbGVhckNhY2hlZENvbnZleFRyaWFuZ2xlUGlsbGFyKHhpLCB5aSAtIDEsIGZhbHNlKTtcbiAgICB9XG5cbiAgICBpZiAoeWkgPiAwICYmIHhpID4gMCkge1xuICAgICAgdGhpcy5jbGVhckNhY2hlZENvbnZleFRyaWFuZ2xlUGlsbGFyKHhpIC0gMSwgeWkgLSAxLCB0cnVlKTtcbiAgICB9XG4gIH1cbiAgLyoqXHJcbiAgICogR2V0IG1heC9taW4gaW4gYSByZWN0YW5nbGUgaW4gdGhlIG1hdHJpeCBkYXRhXHJcbiAgICogQG1ldGhvZCBnZXRSZWN0TWluTWF4XHJcbiAgICogQHBhcmFtICB7aW50ZWdlcn0gaU1pblhcclxuICAgKiBAcGFyYW0gIHtpbnRlZ2VyfSBpTWluWVxyXG4gICAqIEBwYXJhbSAge2ludGVnZXJ9IGlNYXhYXHJcbiAgICogQHBhcmFtICB7aW50ZWdlcn0gaU1heFlcclxuICAgKiBAcGFyYW0gIHthcnJheX0gW3Jlc3VsdF0gQW4gYXJyYXkgdG8gc3RvcmUgdGhlIHJlc3VsdHMgaW4uXHJcbiAgICogQHJldHVybiB7YXJyYXl9IFRoZSByZXN1bHQgYXJyYXksIGlmIGl0IHdhcyBwYXNzZWQgaW4uIE1pbmltdW0gd2lsbCBiZSBhdCBwb3NpdGlvbiAwIGFuZCBtYXggYXQgMS5cclxuICAgKi9cblxuXG4gIGdldFJlY3RNaW5NYXgoaU1pblgsIGlNaW5ZLCBpTWF4WCwgaU1heFksIHJlc3VsdCA9IFtdKSB7XG4gICAgLy8gR2V0IG1heCBhbmQgbWluIG9mIHRoZSBkYXRhXG4gICAgY29uc3QgZGF0YSA9IHRoaXMuZGF0YTsgLy8gU2V0IGZpcnN0IHZhbHVlXG5cbiAgICBsZXQgbWF4ID0gdGhpcy5taW5WYWx1ZTtcblxuICAgIGZvciAobGV0IGkgPSBpTWluWDsgaSA8PSBpTWF4WDsgaSsrKSB7XG4gICAgICBmb3IgKGxldCBqID0gaU1pblk7IGogPD0gaU1heFk7IGorKykge1xuICAgICAgICBjb25zdCBoZWlnaHQgPSBkYXRhW2ldW2pdO1xuXG4gICAgICAgIGlmIChoZWlnaHQgPiBtYXgpIHtcbiAgICAgICAgICBtYXggPSBoZWlnaHQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXN1bHRbMF0gPSB0aGlzLm1pblZhbHVlO1xuICAgIHJlc3VsdFsxXSA9IG1heDtcbiAgfVxuICAvKipcclxuICAgKiBHZXQgdGhlIGluZGV4IG9mIGEgbG9jYWwgcG9zaXRpb24gb24gdGhlIGhlaWdodGZpZWxkLiBUaGUgaW5kZXhlcyBpbmRpY2F0ZSB0aGUgcmVjdGFuZ2xlcywgc28gaWYgeW91ciB0ZXJyYWluIGlzIG1hZGUgb2YgTiB4IE4gaGVpZ2h0IGRhdGEgcG9pbnRzLCB5b3Ugd2lsbCBoYXZlIHJlY3RhbmdsZSBpbmRleGVzIHJhbmdpbmcgZnJvbSAwIHRvIE4tMS5cclxuICAgKiBAbWV0aG9kIGdldEluZGV4T2ZQb3NpdGlvblxyXG4gICAqIEBwYXJhbSAge251bWJlcn0geFxyXG4gICAqIEBwYXJhbSAge251bWJlcn0geVxyXG4gICAqIEBwYXJhbSAge2FycmF5fSByZXN1bHQgVHdvLWVsZW1lbnQgYXJyYXlcclxuICAgKiBAcGFyYW0gIHtib29sZWFufSBjbGFtcCBJZiB0aGUgcG9zaXRpb24gc2hvdWxkIGJlIGNsYW1wZWQgdG8gdGhlIGhlaWdodGZpZWxkIGVkZ2UuXHJcbiAgICogQHJldHVybiB7Ym9vbGVhbn1cclxuICAgKi9cblxuXG4gIGdldEluZGV4T2ZQb3NpdGlvbih4LCB5LCByZXN1bHQsIGNsYW1wKSB7XG4gICAgLy8gR2V0IHRoZSBpbmRleCBvZiB0aGUgZGF0YSBwb2ludHMgdG8gdGVzdCBhZ2FpbnN0XG4gICAgY29uc3QgdyA9IHRoaXMuZWxlbWVudFNpemU7XG4gICAgY29uc3QgZGF0YSA9IHRoaXMuZGF0YTtcbiAgICBsZXQgeGkgPSBNYXRoLmZsb29yKHggLyB3KTtcbiAgICBsZXQgeWkgPSBNYXRoLmZsb29yKHkgLyB3KTtcbiAgICByZXN1bHRbMF0gPSB4aTtcbiAgICByZXN1bHRbMV0gPSB5aTtcblxuICAgIGlmIChjbGFtcCkge1xuICAgICAgLy8gQ2xhbXAgaW5kZXggdG8gZWRnZXNcbiAgICAgIGlmICh4aSA8IDApIHtcbiAgICAgICAgeGkgPSAwO1xuICAgICAgfVxuXG4gICAgICBpZiAoeWkgPCAwKSB7XG4gICAgICAgIHlpID0gMDtcbiAgICAgIH1cblxuICAgICAgaWYgKHhpID49IGRhdGEubGVuZ3RoIC0gMSkge1xuICAgICAgICB4aSA9IGRhdGEubGVuZ3RoIC0gMTtcbiAgICAgIH1cblxuICAgICAgaWYgKHlpID49IGRhdGFbMF0ubGVuZ3RoIC0gMSkge1xuICAgICAgICB5aSA9IGRhdGFbMF0ubGVuZ3RoIC0gMTtcbiAgICAgIH1cbiAgICB9IC8vIEJhaWwgb3V0IGlmIHdlIGFyZSBvdXQgb2YgdGhlIHRlcnJhaW5cblxuXG4gICAgaWYgKHhpIDwgMCB8fCB5aSA8IDAgfHwgeGkgPj0gZGF0YS5sZW5ndGggLSAxIHx8IHlpID49IGRhdGFbMF0ubGVuZ3RoIC0gMSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgZ2V0VHJpYW5nbGVBdCh4LCB5LCBlZGdlQ2xhbXAsIGEsIGIsIGMpIHtcbiAgICBjb25zdCBpZHggPSBnZXRIZWlnaHRBdF9pZHg7XG4gICAgdGhpcy5nZXRJbmRleE9mUG9zaXRpb24oeCwgeSwgaWR4LCBlZGdlQ2xhbXApO1xuICAgIGxldCB4aSA9IGlkeFswXTtcbiAgICBsZXQgeWkgPSBpZHhbMV07XG4gICAgY29uc3QgZGF0YSA9IHRoaXMuZGF0YTtcblxuICAgIGlmIChlZGdlQ2xhbXApIHtcbiAgICAgIHhpID0gTWF0aC5taW4oZGF0YS5sZW5ndGggLSAyLCBNYXRoLm1heCgwLCB4aSkpO1xuICAgICAgeWkgPSBNYXRoLm1pbihkYXRhWzBdLmxlbmd0aCAtIDIsIE1hdGgubWF4KDAsIHlpKSk7XG4gICAgfVxuXG4gICAgY29uc3QgZWxlbWVudFNpemUgPSB0aGlzLmVsZW1lbnRTaXplO1xuICAgIGNvbnN0IGxvd2VyRGlzdDIgPSAoeCAvIGVsZW1lbnRTaXplIC0geGkpICoqIDIgKyAoeSAvIGVsZW1lbnRTaXplIC0geWkpICoqIDI7XG4gICAgY29uc3QgdXBwZXJEaXN0MiA9ICh4IC8gZWxlbWVudFNpemUgLSAoeGkgKyAxKSkgKiogMiArICh5IC8gZWxlbWVudFNpemUgLSAoeWkgKyAxKSkgKiogMjtcbiAgICBjb25zdCB1cHBlciA9IGxvd2VyRGlzdDIgPiB1cHBlckRpc3QyO1xuICAgIHRoaXMuZ2V0VHJpYW5nbGUoeGksIHlpLCB1cHBlciwgYSwgYiwgYyk7XG4gICAgcmV0dXJuIHVwcGVyO1xuICB9XG5cbiAgZ2V0Tm9ybWFsQXQoeCwgeSwgZWRnZUNsYW1wLCByZXN1bHQpIHtcbiAgICBjb25zdCBhID0gZ2V0Tm9ybWFsQXRfYTtcbiAgICBjb25zdCBiID0gZ2V0Tm9ybWFsQXRfYjtcbiAgICBjb25zdCBjID0gZ2V0Tm9ybWFsQXRfYztcbiAgICBjb25zdCBlMCA9IGdldE5vcm1hbEF0X2UwO1xuICAgIGNvbnN0IGUxID0gZ2V0Tm9ybWFsQXRfZTE7XG4gICAgdGhpcy5nZXRUcmlhbmdsZUF0KHgsIHksIGVkZ2VDbGFtcCwgYSwgYiwgYyk7XG4gICAgYi52c3ViKGEsIGUwKTtcbiAgICBjLnZzdWIoYSwgZTEpO1xuICAgIGUwLmNyb3NzKGUxLCByZXN1bHQpO1xuICAgIHJlc3VsdC5ub3JtYWxpemUoKTtcbiAgfVxuICAvKipcclxuICAgKiBHZXQgYW4gQUFCQiBvZiBhIHNxdWFyZSBpbiB0aGUgaGVpZ2h0ZmllbGRcclxuICAgKiBAcGFyYW0gIHtudW1iZXJ9IHhpXHJcbiAgICogQHBhcmFtICB7bnVtYmVyfSB5aVxyXG4gICAqIEBwYXJhbSAge0FBQkJ9IHJlc3VsdFxyXG4gICAqL1xuXG5cbiAgZ2V0QWFiYkF0SW5kZXgoeGksIHlpLCB7XG4gICAgbG93ZXJCb3VuZCxcbiAgICB1cHBlckJvdW5kXG4gIH0pIHtcbiAgICBjb25zdCBkYXRhID0gdGhpcy5kYXRhO1xuICAgIGNvbnN0IGVsZW1lbnRTaXplID0gdGhpcy5lbGVtZW50U2l6ZTtcbiAgICBsb3dlckJvdW5kLnNldCh4aSAqIGVsZW1lbnRTaXplLCB5aSAqIGVsZW1lbnRTaXplLCBkYXRhW3hpXVt5aV0pO1xuICAgIHVwcGVyQm91bmQuc2V0KCh4aSArIDEpICogZWxlbWVudFNpemUsICh5aSArIDEpICogZWxlbWVudFNpemUsIGRhdGFbeGkgKyAxXVt5aSArIDFdKTtcbiAgfVxuICAvKipcclxuICAgKiBHZXQgdGhlIGhlaWdodCBpbiB0aGUgaGVpZ2h0ZmllbGQgYXQgYSBnaXZlbiBwb3NpdGlvblxyXG4gICAqIEBwYXJhbSAge251bWJlcn0geFxyXG4gICAqIEBwYXJhbSAge251bWJlcn0geVxyXG4gICAqIEBwYXJhbSAge2Jvb2xlYW59IGVkZ2VDbGFtcFxyXG4gICAqIEByZXR1cm4ge251bWJlcn1cclxuICAgKi9cblxuXG4gIGdldEhlaWdodEF0KHgsIHksIGVkZ2VDbGFtcCkge1xuICAgIGNvbnN0IGRhdGEgPSB0aGlzLmRhdGE7XG4gICAgY29uc3QgYSA9IGdldEhlaWdodEF0X2E7XG4gICAgY29uc3QgYiA9IGdldEhlaWdodEF0X2I7XG4gICAgY29uc3QgYyA9IGdldEhlaWdodEF0X2M7XG4gICAgY29uc3QgaWR4ID0gZ2V0SGVpZ2h0QXRfaWR4O1xuICAgIHRoaXMuZ2V0SW5kZXhPZlBvc2l0aW9uKHgsIHksIGlkeCwgZWRnZUNsYW1wKTtcbiAgICBsZXQgeGkgPSBpZHhbMF07XG4gICAgbGV0IHlpID0gaWR4WzFdO1xuXG4gICAgaWYgKGVkZ2VDbGFtcCkge1xuICAgICAgeGkgPSBNYXRoLm1pbihkYXRhLmxlbmd0aCAtIDIsIE1hdGgubWF4KDAsIHhpKSk7XG4gICAgICB5aSA9IE1hdGgubWluKGRhdGFbMF0ubGVuZ3RoIC0gMiwgTWF0aC5tYXgoMCwgeWkpKTtcbiAgICB9XG5cbiAgICBjb25zdCB1cHBlciA9IHRoaXMuZ2V0VHJpYW5nbGVBdCh4LCB5LCBlZGdlQ2xhbXAsIGEsIGIsIGMpO1xuICAgIGJhcnljZW50cmljV2VpZ2h0cyh4LCB5LCBhLngsIGEueSwgYi54LCBiLnksIGMueCwgYy55LCBnZXRIZWlnaHRBdF93ZWlnaHRzKTtcbiAgICBjb25zdCB3ID0gZ2V0SGVpZ2h0QXRfd2VpZ2h0cztcblxuICAgIGlmICh1cHBlcikge1xuICAgICAgLy8gVG9wIHRyaWFuZ2xlIHZlcnRzXG4gICAgICByZXR1cm4gZGF0YVt4aSArIDFdW3lpICsgMV0gKiB3LnggKyBkYXRhW3hpXVt5aSArIDFdICogdy55ICsgZGF0YVt4aSArIDFdW3lpXSAqIHcuejtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gVG9wIHRyaWFuZ2xlIHZlcnRzXG4gICAgICByZXR1cm4gZGF0YVt4aV1beWldICogdy54ICsgZGF0YVt4aSArIDFdW3lpXSAqIHcueSArIGRhdGFbeGldW3lpICsgMV0gKiB3Lno7XG4gICAgfVxuICB9XG5cbiAgZ2V0Q2FjaGVDb252ZXhUcmlhbmdsZVBpbGxhcktleSh4aSwgeWksIGdldFVwcGVyVHJpYW5nbGUpIHtcbiAgICByZXR1cm4geGkgKyBcIl9cIiArIHlpICsgXCJfXCIgKyAoZ2V0VXBwZXJUcmlhbmdsZSA/IDEgOiAwKTtcbiAgfVxuXG4gIGdldENhY2hlZENvbnZleFRyaWFuZ2xlUGlsbGFyKHhpLCB5aSwgZ2V0VXBwZXJUcmlhbmdsZSkge1xuICAgIHJldHVybiB0aGlzLl9jYWNoZWRQaWxsYXJzW3RoaXMuZ2V0Q2FjaGVDb252ZXhUcmlhbmdsZVBpbGxhcktleSh4aSwgeWksIGdldFVwcGVyVHJpYW5nbGUpXTtcbiAgfVxuXG4gIHNldENhY2hlZENvbnZleFRyaWFuZ2xlUGlsbGFyKHhpLCB5aSwgZ2V0VXBwZXJUcmlhbmdsZSwgY29udmV4LCBvZmZzZXQpIHtcbiAgICB0aGlzLl9jYWNoZWRQaWxsYXJzW3RoaXMuZ2V0Q2FjaGVDb252ZXhUcmlhbmdsZVBpbGxhcktleSh4aSwgeWksIGdldFVwcGVyVHJpYW5nbGUpXSA9IHtcbiAgICAgIGNvbnZleCxcbiAgICAgIG9mZnNldFxuICAgIH07XG4gIH1cblxuICBjbGVhckNhY2hlZENvbnZleFRyaWFuZ2xlUGlsbGFyKHhpLCB5aSwgZ2V0VXBwZXJUcmlhbmdsZSkge1xuICAgIGRlbGV0ZSB0aGlzLl9jYWNoZWRQaWxsYXJzW3RoaXMuZ2V0Q2FjaGVDb252ZXhUcmlhbmdsZVBpbGxhcktleSh4aSwgeWksIGdldFVwcGVyVHJpYW5nbGUpXTtcbiAgfVxuICAvKipcclxuICAgKiBHZXQgYSB0cmlhbmdsZSBmcm9tIHRoZSBoZWlnaHRmaWVsZFxyXG4gICAqIEBwYXJhbSAge251bWJlcn0geGlcclxuICAgKiBAcGFyYW0gIHtudW1iZXJ9IHlpXHJcbiAgICogQHBhcmFtICB7Ym9vbGVhbn0gdXBwZXJcclxuICAgKiBAcGFyYW0gIHtWZWMzfSBhXHJcbiAgICogQHBhcmFtICB7VmVjM30gYlxyXG4gICAqIEBwYXJhbSAge1ZlYzN9IGNcclxuICAgKi9cblxuXG4gIGdldFRyaWFuZ2xlKHhpLCB5aSwgdXBwZXIsIGEsIGIsIGMpIHtcbiAgICBjb25zdCBkYXRhID0gdGhpcy5kYXRhO1xuICAgIGNvbnN0IGVsZW1lbnRTaXplID0gdGhpcy5lbGVtZW50U2l6ZTtcblxuICAgIGlmICh1cHBlcikge1xuICAgICAgLy8gVG9wIHRyaWFuZ2xlIHZlcnRzXG4gICAgICBhLnNldCgoeGkgKyAxKSAqIGVsZW1lbnRTaXplLCAoeWkgKyAxKSAqIGVsZW1lbnRTaXplLCBkYXRhW3hpICsgMV1beWkgKyAxXSk7XG4gICAgICBiLnNldCh4aSAqIGVsZW1lbnRTaXplLCAoeWkgKyAxKSAqIGVsZW1lbnRTaXplLCBkYXRhW3hpXVt5aSArIDFdKTtcbiAgICAgIGMuc2V0KCh4aSArIDEpICogZWxlbWVudFNpemUsIHlpICogZWxlbWVudFNpemUsIGRhdGFbeGkgKyAxXVt5aV0pO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBUb3AgdHJpYW5nbGUgdmVydHNcbiAgICAgIGEuc2V0KHhpICogZWxlbWVudFNpemUsIHlpICogZWxlbWVudFNpemUsIGRhdGFbeGldW3lpXSk7XG4gICAgICBiLnNldCgoeGkgKyAxKSAqIGVsZW1lbnRTaXplLCB5aSAqIGVsZW1lbnRTaXplLCBkYXRhW3hpICsgMV1beWldKTtcbiAgICAgIGMuc2V0KHhpICogZWxlbWVudFNpemUsICh5aSArIDEpICogZWxlbWVudFNpemUsIGRhdGFbeGldW3lpICsgMV0pO1xuICAgIH1cbiAgfVxuICAvKipcclxuICAgKiBHZXQgYSB0cmlhbmdsZSBpbiB0aGUgdGVycmFpbiBpbiB0aGUgZm9ybSBvZiBhIHRyaWFuZ3VsYXIgY29udmV4IHNoYXBlLlxyXG4gICAqIEBtZXRob2QgZ2V0Q29udmV4VHJpYW5nbGVQaWxsYXJcclxuICAgKiBAcGFyYW0gIHtpbnRlZ2VyfSBpXHJcbiAgICogQHBhcmFtICB7aW50ZWdlcn0galxyXG4gICAqIEBwYXJhbSAge2Jvb2xlYW59IGdldFVwcGVyVHJpYW5nbGVcclxuICAgKi9cblxuXG4gIGdldENvbnZleFRyaWFuZ2xlUGlsbGFyKHhpLCB5aSwgZ2V0VXBwZXJUcmlhbmdsZSkge1xuICAgIGxldCByZXN1bHQgPSB0aGlzLnBpbGxhckNvbnZleDtcbiAgICBsZXQgb2Zmc2V0UmVzdWx0ID0gdGhpcy5waWxsYXJPZmZzZXQ7XG5cbiAgICBpZiAodGhpcy5jYWNoZUVuYWJsZWQpIHtcbiAgICAgIGNvbnN0IGRhdGEgPSB0aGlzLmdldENhY2hlZENvbnZleFRyaWFuZ2xlUGlsbGFyKHhpLCB5aSwgZ2V0VXBwZXJUcmlhbmdsZSk7XG5cbiAgICAgIGlmIChkYXRhKSB7XG4gICAgICAgIHRoaXMucGlsbGFyQ29udmV4ID0gZGF0YS5jb252ZXg7XG4gICAgICAgIHRoaXMucGlsbGFyT2Zmc2V0ID0gZGF0YS5vZmZzZXQ7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgcmVzdWx0ID0gbmV3IENvbnZleFBvbHloZWRyb24oKTtcbiAgICAgIG9mZnNldFJlc3VsdCA9IG5ldyBWZWMzKCk7XG4gICAgICB0aGlzLnBpbGxhckNvbnZleCA9IHJlc3VsdDtcbiAgICAgIHRoaXMucGlsbGFyT2Zmc2V0ID0gb2Zmc2V0UmVzdWx0O1xuICAgIH1cblxuICAgIGNvbnN0IGRhdGEgPSB0aGlzLmRhdGE7XG4gICAgY29uc3QgZWxlbWVudFNpemUgPSB0aGlzLmVsZW1lbnRTaXplO1xuICAgIGNvbnN0IGZhY2VzID0gcmVzdWx0LmZhY2VzOyAvLyBSZXVzZSB2ZXJ0cyBpZiBwb3NzaWJsZVxuXG4gICAgcmVzdWx0LnZlcnRpY2VzLmxlbmd0aCA9IDY7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IDY7IGkrKykge1xuICAgICAgaWYgKCFyZXN1bHQudmVydGljZXNbaV0pIHtcbiAgICAgICAgcmVzdWx0LnZlcnRpY2VzW2ldID0gbmV3IFZlYzMoKTtcbiAgICAgIH1cbiAgICB9IC8vIFJldXNlIGZhY2VzIGlmIHBvc3NpYmxlXG5cblxuICAgIGZhY2VzLmxlbmd0aCA9IDU7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IDU7IGkrKykge1xuICAgICAgaWYgKCFmYWNlc1tpXSkge1xuICAgICAgICBmYWNlc1tpXSA9IFtdO1xuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IHZlcnRzID0gcmVzdWx0LnZlcnRpY2VzO1xuICAgIGNvbnN0IGggPSAoTWF0aC5taW4oZGF0YVt4aV1beWldLCBkYXRhW3hpICsgMV1beWldLCBkYXRhW3hpXVt5aSArIDFdLCBkYXRhW3hpICsgMV1beWkgKyAxXSkgLSB0aGlzLm1pblZhbHVlKSAvIDIgKyB0aGlzLm1pblZhbHVlO1xuXG4gICAgaWYgKCFnZXRVcHBlclRyaWFuZ2xlKSB7XG4gICAgICAvLyBDZW50ZXIgb2YgdGhlIHRyaWFuZ2xlIHBpbGxhciAtIGFsbCBwb2x5Z29ucyBhcmUgZ2l2ZW4gcmVsYXRpdmUgdG8gdGhpcyBvbmVcbiAgICAgIG9mZnNldFJlc3VsdC5zZXQoKHhpICsgMC4yNSkgKiBlbGVtZW50U2l6ZSwgLy8gc29ydCBvZiBjZW50ZXIgb2YgYSB0cmlhbmdsZVxuICAgICAgKHlpICsgMC4yNSkgKiBlbGVtZW50U2l6ZSwgaCAvLyB2ZXJ0aWNhbCBjZW50ZXJcbiAgICAgICk7IC8vIFRvcCB0cmlhbmdsZSB2ZXJ0c1xuXG4gICAgICB2ZXJ0c1swXS5zZXQoLTAuMjUgKiBlbGVtZW50U2l6ZSwgLTAuMjUgKiBlbGVtZW50U2l6ZSwgZGF0YVt4aV1beWldIC0gaCk7XG4gICAgICB2ZXJ0c1sxXS5zZXQoMC43NSAqIGVsZW1lbnRTaXplLCAtMC4yNSAqIGVsZW1lbnRTaXplLCBkYXRhW3hpICsgMV1beWldIC0gaCk7XG4gICAgICB2ZXJ0c1syXS5zZXQoLTAuMjUgKiBlbGVtZW50U2l6ZSwgMC43NSAqIGVsZW1lbnRTaXplLCBkYXRhW3hpXVt5aSArIDFdIC0gaCk7IC8vIGJvdHRvbSB0cmlhbmdsZSB2ZXJ0c1xuXG4gICAgICB2ZXJ0c1szXS5zZXQoLTAuMjUgKiBlbGVtZW50U2l6ZSwgLTAuMjUgKiBlbGVtZW50U2l6ZSwgLWggLSAxKTtcbiAgICAgIHZlcnRzWzRdLnNldCgwLjc1ICogZWxlbWVudFNpemUsIC0wLjI1ICogZWxlbWVudFNpemUsIC1oIC0gMSk7XG4gICAgICB2ZXJ0c1s1XS5zZXQoLTAuMjUgKiBlbGVtZW50U2l6ZSwgMC43NSAqIGVsZW1lbnRTaXplLCAtaCAtIDEpOyAvLyB0b3AgdHJpYW5nbGVcblxuICAgICAgZmFjZXNbMF1bMF0gPSAwO1xuICAgICAgZmFjZXNbMF1bMV0gPSAxO1xuICAgICAgZmFjZXNbMF1bMl0gPSAyOyAvLyBib3R0b20gdHJpYW5nbGVcblxuICAgICAgZmFjZXNbMV1bMF0gPSA1O1xuICAgICAgZmFjZXNbMV1bMV0gPSA0O1xuICAgICAgZmFjZXNbMV1bMl0gPSAzOyAvLyAteCBmYWNpbmcgcXVhZFxuXG4gICAgICBmYWNlc1syXVswXSA9IDA7XG4gICAgICBmYWNlc1syXVsxXSA9IDI7XG4gICAgICBmYWNlc1syXVsyXSA9IDU7XG4gICAgICBmYWNlc1syXVszXSA9IDM7IC8vIC15IGZhY2luZyBxdWFkXG5cbiAgICAgIGZhY2VzWzNdWzBdID0gMTtcbiAgICAgIGZhY2VzWzNdWzFdID0gMDtcbiAgICAgIGZhY2VzWzNdWzJdID0gMztcbiAgICAgIGZhY2VzWzNdWzNdID0gNDsgLy8gK3h5IGZhY2luZyBxdWFkXG5cbiAgICAgIGZhY2VzWzRdWzBdID0gNDtcbiAgICAgIGZhY2VzWzRdWzFdID0gNTtcbiAgICAgIGZhY2VzWzRdWzJdID0gMjtcbiAgICAgIGZhY2VzWzRdWzNdID0gMTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gQ2VudGVyIG9mIHRoZSB0cmlhbmdsZSBwaWxsYXIgLSBhbGwgcG9seWdvbnMgYXJlIGdpdmVuIHJlbGF0aXZlIHRvIHRoaXMgb25lXG4gICAgICBvZmZzZXRSZXN1bHQuc2V0KCh4aSArIDAuNzUpICogZWxlbWVudFNpemUsIC8vIHNvcnQgb2YgY2VudGVyIG9mIGEgdHJpYW5nbGVcbiAgICAgICh5aSArIDAuNzUpICogZWxlbWVudFNpemUsIGggLy8gdmVydGljYWwgY2VudGVyXG4gICAgICApOyAvLyBUb3AgdHJpYW5nbGUgdmVydHNcblxuICAgICAgdmVydHNbMF0uc2V0KDAuMjUgKiBlbGVtZW50U2l6ZSwgMC4yNSAqIGVsZW1lbnRTaXplLCBkYXRhW3hpICsgMV1beWkgKyAxXSAtIGgpO1xuICAgICAgdmVydHNbMV0uc2V0KC0wLjc1ICogZWxlbWVudFNpemUsIDAuMjUgKiBlbGVtZW50U2l6ZSwgZGF0YVt4aV1beWkgKyAxXSAtIGgpO1xuICAgICAgdmVydHNbMl0uc2V0KDAuMjUgKiBlbGVtZW50U2l6ZSwgLTAuNzUgKiBlbGVtZW50U2l6ZSwgZGF0YVt4aSArIDFdW3lpXSAtIGgpOyAvLyBib3R0b20gdHJpYW5nbGUgdmVydHNcblxuICAgICAgdmVydHNbM10uc2V0KDAuMjUgKiBlbGVtZW50U2l6ZSwgMC4yNSAqIGVsZW1lbnRTaXplLCAtaCAtIDEpO1xuICAgICAgdmVydHNbNF0uc2V0KC0wLjc1ICogZWxlbWVudFNpemUsIDAuMjUgKiBlbGVtZW50U2l6ZSwgLWggLSAxKTtcbiAgICAgIHZlcnRzWzVdLnNldCgwLjI1ICogZWxlbWVudFNpemUsIC0wLjc1ICogZWxlbWVudFNpemUsIC1oIC0gMSk7IC8vIFRvcCB0cmlhbmdsZVxuXG4gICAgICBmYWNlc1swXVswXSA9IDA7XG4gICAgICBmYWNlc1swXVsxXSA9IDE7XG4gICAgICBmYWNlc1swXVsyXSA9IDI7IC8vIGJvdHRvbSB0cmlhbmdsZVxuXG4gICAgICBmYWNlc1sxXVswXSA9IDU7XG4gICAgICBmYWNlc1sxXVsxXSA9IDQ7XG4gICAgICBmYWNlc1sxXVsyXSA9IDM7IC8vICt4IGZhY2luZyBxdWFkXG5cbiAgICAgIGZhY2VzWzJdWzBdID0gMjtcbiAgICAgIGZhY2VzWzJdWzFdID0gNTtcbiAgICAgIGZhY2VzWzJdWzJdID0gMztcbiAgICAgIGZhY2VzWzJdWzNdID0gMDsgLy8gK3kgZmFjaW5nIHF1YWRcblxuICAgICAgZmFjZXNbM11bMF0gPSAzO1xuICAgICAgZmFjZXNbM11bMV0gPSA0O1xuICAgICAgZmFjZXNbM11bMl0gPSAxO1xuICAgICAgZmFjZXNbM11bM10gPSAwOyAvLyAteHkgZmFjaW5nIHF1YWRcblxuICAgICAgZmFjZXNbNF1bMF0gPSAxO1xuICAgICAgZmFjZXNbNF1bMV0gPSA0O1xuICAgICAgZmFjZXNbNF1bMl0gPSA1O1xuICAgICAgZmFjZXNbNF1bM10gPSAyO1xuICAgIH1cblxuICAgIHJlc3VsdC5jb21wdXRlTm9ybWFscygpO1xuICAgIHJlc3VsdC5jb21wdXRlRWRnZXMoKTtcbiAgICByZXN1bHQudXBkYXRlQm91bmRpbmdTcGhlcmVSYWRpdXMoKTtcbiAgICB0aGlzLnNldENhY2hlZENvbnZleFRyaWFuZ2xlUGlsbGFyKHhpLCB5aSwgZ2V0VXBwZXJUcmlhbmdsZSwgcmVzdWx0LCBvZmZzZXRSZXN1bHQpO1xuICB9XG5cbiAgY2FsY3VsYXRlTG9jYWxJbmVydGlhKG1hc3MsIHRhcmdldCA9IG5ldyBWZWMzKCkpIHtcbiAgICB0YXJnZXQuc2V0KDAsIDAsIDApO1xuICAgIHJldHVybiB0YXJnZXQ7XG4gIH1cblxuICB2b2x1bWUoKSB7XG4gICAgcmV0dXJuICgvLyBUaGUgdGVycmFpbiBpcyBpbmZpbml0ZVxuICAgICAgTnVtYmVyLk1BWF9WQUxVRVxuICAgICk7XG4gIH1cblxuICBjYWxjdWxhdGVXb3JsZEFBQkIocG9zLCBxdWF0LCBtaW4sIG1heCkge1xuICAgIC8vIFRPRE86IGRvIGl0IHByb3Blcmx5XG4gICAgbWluLnNldCgtTnVtYmVyLk1BWF9WQUxVRSwgLU51bWJlci5NQVhfVkFMVUUsIC1OdW1iZXIuTUFYX1ZBTFVFKTtcbiAgICBtYXguc2V0KE51bWJlci5NQVhfVkFMVUUsIE51bWJlci5NQVhfVkFMVUUsIE51bWJlci5NQVhfVkFMVUUpO1xuICB9XG5cbiAgdXBkYXRlQm91bmRpbmdTcGhlcmVSYWRpdXMoKSB7XG4gICAgLy8gVXNlIHRoZSBib3VuZGluZyBib3ggb2YgdGhlIG1pbi9tYXggdmFsdWVzXG4gICAgY29uc3QgZGF0YSA9IHRoaXMuZGF0YTtcbiAgICBjb25zdCBzID0gdGhpcy5lbGVtZW50U2l6ZTtcbiAgICB0aGlzLmJvdW5kaW5nU3BoZXJlUmFkaXVzID0gbmV3IFZlYzMoZGF0YS5sZW5ndGggKiBzLCBkYXRhWzBdLmxlbmd0aCAqIHMsIE1hdGgubWF4KE1hdGguYWJzKHRoaXMubWF4VmFsdWUpLCBNYXRoLmFicyh0aGlzLm1pblZhbHVlKSkpLmxlbmd0aCgpO1xuICB9XG4gIC8qKlxyXG4gICAqIFNldHMgdGhlIGhlaWdodCB2YWx1ZXMgZnJvbSBhbiBpbWFnZS4gQ3VycmVudGx5IG9ubHkgc3VwcG9ydGVkIGluIGJyb3dzZXIuXHJcbiAgICogQG1ldGhvZCBzZXRIZWlnaHRzRnJvbUltYWdlXHJcbiAgICogQHBhcmFtIHtJbWFnZX0gaW1hZ2VcclxuICAgKiBAcGFyYW0ge1ZlYzN9IHNjYWxlXHJcbiAgICovXG5cblxuICBzZXRIZWlnaHRzRnJvbUltYWdlKGltYWdlLCBzY2FsZSkge1xuICAgIGNvbnN0IHtcbiAgICAgIHgsXG4gICAgICB6LFxuICAgICAgeVxuICAgIH0gPSBzY2FsZTtcbiAgICBjb25zdCBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICBjYW52YXMud2lkdGggPSBpbWFnZS53aWR0aDtcbiAgICBjYW52YXMuaGVpZ2h0ID0gaW1hZ2UuaGVpZ2h0O1xuICAgIGNvbnN0IGNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICBjb250ZXh0LmRyYXdJbWFnZShpbWFnZSwgMCwgMCk7XG4gICAgY29uc3QgaW1hZ2VEYXRhID0gY29udGV4dC5nZXRJbWFnZURhdGEoMCwgMCwgaW1hZ2Uud2lkdGgsIGltYWdlLmhlaWdodCk7XG4gICAgY29uc3QgbWF0cml4ID0gdGhpcy5kYXRhO1xuICAgIG1hdHJpeC5sZW5ndGggPSAwO1xuICAgIHRoaXMuZWxlbWVudFNpemUgPSBNYXRoLmFicyh4KSAvIGltYWdlRGF0YS53aWR0aDtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaW1hZ2VEYXRhLmhlaWdodDsgaSsrKSB7XG4gICAgICBjb25zdCByb3cgPSBbXTtcblxuICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBpbWFnZURhdGEud2lkdGg7IGorKykge1xuICAgICAgICBjb25zdCBhID0gaW1hZ2VEYXRhLmRhdGFbKGkgKiBpbWFnZURhdGEuaGVpZ2h0ICsgaikgKiA0XTtcbiAgICAgICAgY29uc3QgYiA9IGltYWdlRGF0YS5kYXRhWyhpICogaW1hZ2VEYXRhLmhlaWdodCArIGopICogNCArIDFdO1xuICAgICAgICBjb25zdCBjID0gaW1hZ2VEYXRhLmRhdGFbKGkgKiBpbWFnZURhdGEuaGVpZ2h0ICsgaikgKiA0ICsgMl07XG4gICAgICAgIGNvbnN0IGhlaWdodCA9IChhICsgYiArIGMpIC8gNCAvIDI1NSAqIHo7XG5cbiAgICAgICAgaWYgKHggPCAwKSB7XG4gICAgICAgICAgcm93LnB1c2goaGVpZ2h0KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByb3cudW5zaGlmdChoZWlnaHQpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmICh5IDwgMCkge1xuICAgICAgICBtYXRyaXgudW5zaGlmdChyb3cpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbWF0cml4LnB1c2gocm93KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLnVwZGF0ZU1heFZhbHVlKCk7XG4gICAgdGhpcy51cGRhdGVNaW5WYWx1ZSgpO1xuICAgIHRoaXMudXBkYXRlKCk7XG4gIH1cblxufVxuY29uc3QgZ2V0SGVpZ2h0QXRfaWR4ID0gW107XG5jb25zdCBnZXRIZWlnaHRBdF93ZWlnaHRzID0gbmV3IFZlYzMoKTtcbmNvbnN0IGdldEhlaWdodEF0X2EgPSBuZXcgVmVjMygpO1xuY29uc3QgZ2V0SGVpZ2h0QXRfYiA9IG5ldyBWZWMzKCk7XG5jb25zdCBnZXRIZWlnaHRBdF9jID0gbmV3IFZlYzMoKTtcbmNvbnN0IGdldE5vcm1hbEF0X2EgPSBuZXcgVmVjMygpO1xuY29uc3QgZ2V0Tm9ybWFsQXRfYiA9IG5ldyBWZWMzKCk7XG5jb25zdCBnZXROb3JtYWxBdF9jID0gbmV3IFZlYzMoKTtcbmNvbnN0IGdldE5vcm1hbEF0X2UwID0gbmV3IFZlYzMoKTtcbmNvbnN0IGdldE5vcm1hbEF0X2UxID0gbmV3IFZlYzMoKTsgLy8gZnJvbSBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9CYXJ5Y2VudHJpY19jb29yZGluYXRlX3N5c3RlbVxuXG5mdW5jdGlvbiBiYXJ5Y2VudHJpY1dlaWdodHMoeCwgeSwgYXgsIGF5LCBieCwgYnksIGN4LCBjeSwgcmVzdWx0KSB7XG4gIHJlc3VsdC54ID0gKChieSAtIGN5KSAqICh4IC0gY3gpICsgKGN4IC0gYngpICogKHkgLSBjeSkpIC8gKChieSAtIGN5KSAqIChheCAtIGN4KSArIChjeCAtIGJ4KSAqIChheSAtIGN5KSk7XG4gIHJlc3VsdC55ID0gKChjeSAtIGF5KSAqICh4IC0gY3gpICsgKGF4IC0gY3gpICogKHkgLSBjeSkpIC8gKChieSAtIGN5KSAqIChheCAtIGN4KSArIChjeCAtIGJ4KSAqIChheSAtIGN5KSk7XG4gIHJlc3VsdC56ID0gMSAtIHJlc3VsdC54IC0gcmVzdWx0Lnk7XG59XG5cbi8qKlxyXG4gKiBAY2xhc3MgT2N0cmVlTm9kZVxyXG4gKiBAY29uc3RydWN0b3JcclxuICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXVxyXG4gKiBAcGFyYW0ge09jdHJlZX0gW29wdGlvbnMucm9vdF1cclxuICogQHBhcmFtIHtBQUJCfSBbb3B0aW9ucy5hYWJiXVxyXG4gKi9cbmNsYXNzIE9jdHJlZU5vZGUge1xuICAvLyBUaGUgcm9vdCBub2RlXG4gIC8vIEJvdW5kYXJ5IG9mIHRoaXMgbm9kZVxuICAvLyBDb250YWluZWQgZGF0YSBhdCB0aGUgY3VycmVudCBub2RlIGxldmVsXG4gIC8vIENoaWxkcmVuIHRvIHRoaXMgbm9kZVxuICBjb25zdHJ1Y3RvcihvcHRpb25zID0ge30pIHtcbiAgICB0aGlzLnJvb3QgPSBvcHRpb25zLnJvb3QgfHwgbnVsbDtcbiAgICB0aGlzLmFhYmIgPSBvcHRpb25zLmFhYmIgPyBvcHRpb25zLmFhYmIuY2xvbmUoKSA6IG5ldyBBQUJCKCk7XG4gICAgdGhpcy5kYXRhID0gW107XG4gICAgdGhpcy5jaGlsZHJlbiA9IFtdO1xuICB9XG5cbiAgcmVzZXQoKSB7XG4gICAgdGhpcy5jaGlsZHJlbi5sZW5ndGggPSB0aGlzLmRhdGEubGVuZ3RoID0gMDtcbiAgfVxuICAvKipcclxuICAgKiBJbnNlcnQgZGF0YSBpbnRvIHRoaXMgbm9kZVxyXG4gICAqIEBtZXRob2QgaW5zZXJ0XHJcbiAgICogQHBhcmFtICB7QUFCQn0gYWFiYlxyXG4gICAqIEBwYXJhbSAge29iamVjdH0gZWxlbWVudERhdGFcclxuICAgKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIHN1Y2Nlc3NmdWwsIG90aGVyd2lzZSBmYWxzZVxyXG4gICAqL1xuXG5cbiAgaW5zZXJ0KGFhYmIsIGVsZW1lbnREYXRhLCBsZXZlbCA9IDApIHtcbiAgICBjb25zdCBub2RlRGF0YSA9IHRoaXMuZGF0YTsgLy8gSWdub3JlIG9iamVjdHMgdGhhdCBkbyBub3QgYmVsb25nIGluIHRoaXMgbm9kZVxuXG4gICAgaWYgKCF0aGlzLmFhYmIuY29udGFpbnMoYWFiYikpIHtcbiAgICAgIHJldHVybiBmYWxzZTsgLy8gb2JqZWN0IGNhbm5vdCBiZSBhZGRlZFxuICAgIH1cblxuICAgIGNvbnN0IGNoaWxkcmVuID0gdGhpcy5jaGlsZHJlbjtcbiAgICBjb25zdCBtYXhEZXB0aCA9IHRoaXMubWF4RGVwdGggfHwgdGhpcy5yb290Lm1heERlcHRoO1xuXG4gICAgaWYgKGxldmVsIDwgbWF4RGVwdGgpIHtcbiAgICAgIC8vIFN1YmRpdmlkZSBpZiB0aGVyZSBhcmUgbm8gY2hpbGRyZW4geWV0XG4gICAgICBsZXQgc3ViZGl2aWRlZCA9IGZhbHNlO1xuXG4gICAgICBpZiAoIWNoaWxkcmVuLmxlbmd0aCkge1xuICAgICAgICB0aGlzLnN1YmRpdmlkZSgpO1xuICAgICAgICBzdWJkaXZpZGVkID0gdHJ1ZTtcbiAgICAgIH0gLy8gYWRkIHRvIHdoaWNoZXZlciBub2RlIHdpbGwgYWNjZXB0IGl0XG5cblxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgIT09IDg7IGkrKykge1xuICAgICAgICBpZiAoY2hpbGRyZW5baV0uaW5zZXJ0KGFhYmIsIGVsZW1lbnREYXRhLCBsZXZlbCArIDEpKSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKHN1YmRpdmlkZWQpIHtcbiAgICAgICAgLy8gTm8gY2hpbGRyZW4gYWNjZXB0ZWQhIE1pZ2h0IGFzIHdlbGwganVzdCByZW1vdmUgZW0gc2luY2UgdGhleSBjb250YWluIG5vbmVcbiAgICAgICAgY2hpbGRyZW4ubGVuZ3RoID0gMDtcbiAgICAgIH1cbiAgICB9IC8vIFRvbyBkZWVwLCBvciBjaGlsZHJlbiBkaWRudCB3YW50IGl0LiBhZGQgaXQgaW4gY3VycmVudCBub2RlXG5cblxuICAgIG5vZGVEYXRhLnB1c2goZWxlbWVudERhdGEpO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIC8qKlxyXG4gICAqIENyZWF0ZSA4IGVxdWFsbHkgc2l6ZWQgY2hpbGRyZW4gbm9kZXMgYW5kIHB1dCB0aGVtIGluIHRoZSAuY2hpbGRyZW4gYXJyYXkuXHJcbiAgICogQG1ldGhvZCBzdWJkaXZpZGVcclxuICAgKi9cblxuXG4gIHN1YmRpdmlkZSgpIHtcbiAgICBjb25zdCBhYWJiID0gdGhpcy5hYWJiO1xuICAgIGNvbnN0IGwgPSBhYWJiLmxvd2VyQm91bmQ7XG4gICAgY29uc3QgdSA9IGFhYmIudXBwZXJCb3VuZDtcbiAgICBjb25zdCBjaGlsZHJlbiA9IHRoaXMuY2hpbGRyZW47XG4gICAgY2hpbGRyZW4ucHVzaChuZXcgT2N0cmVlTm9kZSh7XG4gICAgICBhYWJiOiBuZXcgQUFCQih7XG4gICAgICAgIGxvd2VyQm91bmQ6IG5ldyBWZWMzKDAsIDAsIDApXG4gICAgICB9KVxuICAgIH0pLCBuZXcgT2N0cmVlTm9kZSh7XG4gICAgICBhYWJiOiBuZXcgQUFCQih7XG4gICAgICAgIGxvd2VyQm91bmQ6IG5ldyBWZWMzKDEsIDAsIDApXG4gICAgICB9KVxuICAgIH0pLCBuZXcgT2N0cmVlTm9kZSh7XG4gICAgICBhYWJiOiBuZXcgQUFCQih7XG4gICAgICAgIGxvd2VyQm91bmQ6IG5ldyBWZWMzKDEsIDEsIDApXG4gICAgICB9KVxuICAgIH0pLCBuZXcgT2N0cmVlTm9kZSh7XG4gICAgICBhYWJiOiBuZXcgQUFCQih7XG4gICAgICAgIGxvd2VyQm91bmQ6IG5ldyBWZWMzKDEsIDEsIDEpXG4gICAgICB9KVxuICAgIH0pLCBuZXcgT2N0cmVlTm9kZSh7XG4gICAgICBhYWJiOiBuZXcgQUFCQih7XG4gICAgICAgIGxvd2VyQm91bmQ6IG5ldyBWZWMzKDAsIDEsIDEpXG4gICAgICB9KVxuICAgIH0pLCBuZXcgT2N0cmVlTm9kZSh7XG4gICAgICBhYWJiOiBuZXcgQUFCQih7XG4gICAgICAgIGxvd2VyQm91bmQ6IG5ldyBWZWMzKDAsIDAsIDEpXG4gICAgICB9KVxuICAgIH0pLCBuZXcgT2N0cmVlTm9kZSh7XG4gICAgICBhYWJiOiBuZXcgQUFCQih7XG4gICAgICAgIGxvd2VyQm91bmQ6IG5ldyBWZWMzKDEsIDAsIDEpXG4gICAgICB9KVxuICAgIH0pLCBuZXcgT2N0cmVlTm9kZSh7XG4gICAgICBhYWJiOiBuZXcgQUFCQih7XG4gICAgICAgIGxvd2VyQm91bmQ6IG5ldyBWZWMzKDAsIDEsIDApXG4gICAgICB9KVxuICAgIH0pKTtcbiAgICB1LnZzdWIobCwgaGFsZkRpYWdvbmFsKTtcbiAgICBoYWxmRGlhZ29uYWwuc2NhbGUoMC41LCBoYWxmRGlhZ29uYWwpO1xuICAgIGNvbnN0IHJvb3QgPSB0aGlzLnJvb3QgfHwgdGhpcztcblxuICAgIGZvciAobGV0IGkgPSAwOyBpICE9PSA4OyBpKyspIHtcbiAgICAgIGNvbnN0IGNoaWxkID0gY2hpbGRyZW5baV07IC8vIFNldCBjdXJyZW50IG5vZGUgYXMgcm9vdFxuXG4gICAgICBjaGlsZC5yb290ID0gcm9vdDsgLy8gQ29tcHV0ZSBib3VuZHNcblxuICAgICAgY29uc3QgbG93ZXJCb3VuZCA9IGNoaWxkLmFhYmIubG93ZXJCb3VuZDtcbiAgICAgIGxvd2VyQm91bmQueCAqPSBoYWxmRGlhZ29uYWwueDtcbiAgICAgIGxvd2VyQm91bmQueSAqPSBoYWxmRGlhZ29uYWwueTtcbiAgICAgIGxvd2VyQm91bmQueiAqPSBoYWxmRGlhZ29uYWwuejtcbiAgICAgIGxvd2VyQm91bmQudmFkZChsLCBsb3dlckJvdW5kKTsgLy8gVXBwZXIgYm91bmQgaXMgYWx3YXlzIGxvd2VyIGJvdW5kICsgaGFsZkRpYWdvbmFsXG5cbiAgICAgIGxvd2VyQm91bmQudmFkZChoYWxmRGlhZ29uYWwsIGNoaWxkLmFhYmIudXBwZXJCb3VuZCk7XG4gICAgfVxuICB9XG4gIC8qKlxyXG4gICAqIEdldCBhbGwgZGF0YSwgcG90ZW50aWFsbHkgd2l0aGluIGFuIEFBQkJcclxuICAgKiBAbWV0aG9kIGFhYmJRdWVyeVxyXG4gICAqIEBwYXJhbSAge0FBQkJ9IGFhYmJcclxuICAgKiBAcGFyYW0gIHthcnJheX0gcmVzdWx0XHJcbiAgICogQHJldHVybiB7YXJyYXl9IFRoZSBcInJlc3VsdFwiIG9iamVjdFxyXG4gICAqL1xuXG5cbiAgYWFiYlF1ZXJ5KGFhYmIsIHJlc3VsdCkge1xuICAgIGNvbnN0IG5vZGVEYXRhID0gdGhpcy5kYXRhOyAvLyBhYm9ydCBpZiB0aGUgcmFuZ2UgZG9lcyBub3QgaW50ZXJzZWN0IHRoaXMgbm9kZVxuICAgIC8vIGlmICghdGhpcy5hYWJiLm92ZXJsYXBzKGFhYmIpKXtcbiAgICAvLyAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAvLyB9XG4gICAgLy8gQWRkIG9iamVjdHMgYXQgdGhpcyBsZXZlbFxuICAgIC8vIEFycmF5LnByb3RvdHlwZS5wdXNoLmFwcGx5KHJlc3VsdCwgbm9kZURhdGEpO1xuICAgIC8vIEFkZCBjaGlsZCBkYXRhXG4gICAgLy8gQHRvZG8gdW53cmFwIHJlY3Vyc2lvbiBpbnRvIGEgcXVldWUgLyBsb29wLCB0aGF0J3MgZmFzdGVyIGluIEpTXG5cbiAgICBjb25zdCBjaGlsZHJlbiA9IHRoaXMuY2hpbGRyZW47IC8vIGZvciAobGV0IGkgPSAwLCBOID0gdGhpcy5jaGlsZHJlbi5sZW5ndGg7IGkgIT09IE47IGkrKykge1xuICAgIC8vICAgICBjaGlsZHJlbltpXS5hYWJiUXVlcnkoYWFiYiwgcmVzdWx0KTtcbiAgICAvLyB9XG5cbiAgICBjb25zdCBxdWV1ZSA9IFt0aGlzXTtcblxuICAgIHdoaWxlIChxdWV1ZS5sZW5ndGgpIHtcbiAgICAgIGNvbnN0IG5vZGUgPSBxdWV1ZS5wb3AoKTtcblxuICAgICAgaWYgKG5vZGUuYWFiYi5vdmVybGFwcyhhYWJiKSkge1xuICAgICAgICBBcnJheS5wcm90b3R5cGUucHVzaC5hcHBseShyZXN1bHQsIG5vZGUuZGF0YSk7XG4gICAgICB9XG5cbiAgICAgIEFycmF5LnByb3RvdHlwZS5wdXNoLmFwcGx5KHF1ZXVlLCBub2RlLmNoaWxkcmVuKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG4gIC8qKlxyXG4gICAqIEdldCBhbGwgZGF0YSwgcG90ZW50aWFsbHkgaW50ZXJzZWN0ZWQgYnkgYSByYXkuXHJcbiAgICogQG1ldGhvZCByYXlRdWVyeVxyXG4gICAqIEBwYXJhbSAge1JheX0gcmF5XHJcbiAgICogQHBhcmFtICB7VHJhbnNmb3JtfSB0cmVlVHJhbnNmb3JtXHJcbiAgICogQHBhcmFtICB7YXJyYXl9IHJlc3VsdFxyXG4gICAqIEByZXR1cm4ge2FycmF5fSBUaGUgXCJyZXN1bHRcIiBvYmplY3RcclxuICAgKi9cblxuXG4gIHJheVF1ZXJ5KHJheSwgdHJlZVRyYW5zZm9ybSwgcmVzdWx0KSB7XG4gICAgLy8gVXNlIGFhYmIgcXVlcnkgZm9yIG5vdy5cbiAgICAvLyBAdG9kbyBpbXBsZW1lbnQgcmVhbCByYXkgcXVlcnkgd2hpY2ggbmVlZHMgbGVzcyBsb29rdXBzXG4gICAgcmF5LmdldEFBQkIodG1wQUFCQiQxKTtcbiAgICB0bXBBQUJCJDEudG9Mb2NhbEZyYW1lKHRyZWVUcmFuc2Zvcm0sIHRtcEFBQkIkMSk7XG4gICAgdGhpcy5hYWJiUXVlcnkodG1wQUFCQiQxLCByZXN1bHQpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbiAgLyoqXHJcbiAgICogQG1ldGhvZCByZW1vdmVFbXB0eU5vZGVzXHJcbiAgICovXG5cblxuICByZW1vdmVFbXB0eU5vZGVzKCkge1xuICAgIGZvciAobGV0IGkgPSB0aGlzLmNoaWxkcmVuLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICB0aGlzLmNoaWxkcmVuW2ldLnJlbW92ZUVtcHR5Tm9kZXMoKTtcblxuICAgICAgaWYgKCF0aGlzLmNoaWxkcmVuW2ldLmNoaWxkcmVuLmxlbmd0aCAmJiAhdGhpcy5jaGlsZHJlbltpXS5kYXRhLmxlbmd0aCkge1xuICAgICAgICB0aGlzLmNoaWxkcmVuLnNwbGljZShpLCAxKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxufVxuLyoqXHJcbiAqIEBjbGFzcyBPY3RyZWVcclxuICogQHBhcmFtIHtBQUJCfSBhYWJiIFRoZSB0b3RhbCBBQUJCIG9mIHRoZSB0cmVlXHJcbiAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc11cclxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLm1heERlcHRoPThdIE1heGltdW0gc3ViZGl2aXNpb24gZGVwdGhcclxuICogQGV4dGVuZHMgT2N0cmVlTm9kZVxyXG4gKi9cblxuXG5jbGFzcyBPY3RyZWUgZXh0ZW5kcyBPY3RyZWVOb2RlIHtcbiAgLy8gTWF4aW11bSBzdWJkaXZpc2lvbiBkZXB0aFxuICBjb25zdHJ1Y3RvcihhYWJiLCBvcHRpb25zID0ge30pIHtcbiAgICBzdXBlcih7XG4gICAgICByb290OiBudWxsLFxuICAgICAgYWFiYlxuICAgIH0pO1xuICAgIHRoaXMubWF4RGVwdGggPSB0eXBlb2Ygb3B0aW9ucy5tYXhEZXB0aCAhPT0gJ3VuZGVmaW5lZCcgPyBvcHRpb25zLm1heERlcHRoIDogODtcbiAgfVxuXG59XG5jb25zdCBoYWxmRGlhZ29uYWwgPSBuZXcgVmVjMygpO1xuY29uc3QgdG1wQUFCQiQxID0gbmV3IEFBQkIoKTtcblxuLyoqXHJcbiAqIEBjbGFzcyBUcmltZXNoXHJcbiAqIEBjb25zdHJ1Y3RvclxyXG4gKiBAcGFyYW0ge2FycmF5fSB2ZXJ0aWNlc1xyXG4gKiBAcGFyYW0ge2FycmF5fSBpbmRpY2VzXHJcbiAqIEBleHRlbmRzIFNoYXBlXHJcbiAqIEBleGFtcGxlXHJcbiAqICAgICAvLyBIb3cgdG8gbWFrZSBhIG1lc2ggd2l0aCBhIHNpbmdsZSB0cmlhbmdsZVxyXG4gKiAgICAgY29uc3QgdmVydGljZXMgPSBbXHJcbiAqICAgICAgICAgMCwgMCwgMCwgLy8gdmVydGV4IDBcclxuICogICAgICAgICAxLCAwLCAwLCAvLyB2ZXJ0ZXggMVxyXG4gKiAgICAgICAgIDAsIDEsIDAgIC8vIHZlcnRleCAyXHJcbiAqICAgICBdO1xyXG4gKiAgICAgY29uc3QgaW5kaWNlcyA9IFtcclxuICogICAgICAgICAwLCAxLCAyICAvLyB0cmlhbmdsZSAwXHJcbiAqICAgICBdO1xyXG4gKiAgICAgY29uc3QgdHJpbWVzaFNoYXBlID0gbmV3IFRyaW1lc2godmVydGljZXMsIGluZGljZXMpO1xyXG4gKi9cbmNsYXNzIFRyaW1lc2ggZXh0ZW5kcyBTaGFwZSB7XG4gIC8vIEFycmF5IG9mIGludGVnZXJzLCBpbmRpY2F0aW5nIHdoaWNoIHZlcnRpY2VzIGVhY2ggdHJpYW5nbGUgY29uc2lzdHMgb2YuIFRoZSBsZW5ndGggb2YgdGhpcyBhcnJheSBpcyB0aHVzIDMgdGltZXMgdGhlIG51bWJlciBvZiB0cmlhbmdsZXMuXG4gIC8vIFRoZSBub3JtYWxzIGRhdGEuXG4gIC8vIFRoZSBsb2NhbCBBQUJCIG9mIHRoZSBtZXNoLlxuICAvLyBSZWZlcmVuY2VzIHRvIHZlcnRleCBwYWlycywgbWFraW5nIHVwIGFsbCB1bmlxdWUgZWRnZXMgaW4gdGhlIHRyaW1lc2guXG4gIC8vIExvY2FsIHNjYWxpbmcgb2YgdGhlIG1lc2guIFVzZSAuc2V0U2NhbGUoKSB0byBzZXQgaXQuXG4gIC8vIFRoZSBpbmRleGVkIHRyaWFuZ2xlcy4gVXNlIC51cGRhdGVUcmVlKCkgdG8gdXBkYXRlIGl0LlxuICBjb25zdHJ1Y3Rvcih2ZXJ0aWNlcywgaW5kaWNlcykge1xuICAgIHN1cGVyKHtcbiAgICAgIHR5cGU6IFNoYXBlLnR5cGVzLlRSSU1FU0hcbiAgICB9KTtcbiAgICB0aGlzLnZlcnRpY2VzID0gbmV3IEZsb2F0MzJBcnJheSh2ZXJ0aWNlcyk7XG4gICAgdGhpcy5pbmRpY2VzID0gbmV3IEludDE2QXJyYXkoaW5kaWNlcyk7XG4gICAgdGhpcy5ub3JtYWxzID0gbmV3IEZsb2F0MzJBcnJheShpbmRpY2VzLmxlbmd0aCk7XG4gICAgdGhpcy5hYWJiID0gbmV3IEFBQkIoKTtcbiAgICB0aGlzLmVkZ2VzID0gbnVsbDtcbiAgICB0aGlzLnNjYWxlID0gbmV3IFZlYzMoMSwgMSwgMSk7XG4gICAgdGhpcy50cmVlID0gbmV3IE9jdHJlZSgpO1xuICAgIHRoaXMudXBkYXRlRWRnZXMoKTtcbiAgICB0aGlzLnVwZGF0ZU5vcm1hbHMoKTtcbiAgICB0aGlzLnVwZGF0ZUFBQkIoKTtcbiAgICB0aGlzLnVwZGF0ZUJvdW5kaW5nU3BoZXJlUmFkaXVzKCk7XG4gICAgdGhpcy51cGRhdGVUcmVlKCk7XG4gIH1cbiAgLyoqXHJcbiAgICogQG1ldGhvZCB1cGRhdGVUcmVlXHJcbiAgICovXG5cblxuICB1cGRhdGVUcmVlKCkge1xuICAgIGNvbnN0IHRyZWUgPSB0aGlzLnRyZWU7XG4gICAgdHJlZS5yZXNldCgpO1xuICAgIHRyZWUuYWFiYi5jb3B5KHRoaXMuYWFiYik7XG4gICAgY29uc3Qgc2NhbGUgPSB0aGlzLnNjYWxlOyAvLyBUaGUgbG9jYWwgbWVzaCBBQUJCIGlzIHNjYWxlZCwgYnV0IHRoZSBvY3RyZWUgQUFCQiBzaG91bGQgYmUgdW5zY2FsZWRcblxuICAgIHRyZWUuYWFiYi5sb3dlckJvdW5kLnggKj0gMSAvIHNjYWxlLng7XG4gICAgdHJlZS5hYWJiLmxvd2VyQm91bmQueSAqPSAxIC8gc2NhbGUueTtcbiAgICB0cmVlLmFhYmIubG93ZXJCb3VuZC56ICo9IDEgLyBzY2FsZS56O1xuICAgIHRyZWUuYWFiYi51cHBlckJvdW5kLnggKj0gMSAvIHNjYWxlLng7XG4gICAgdHJlZS5hYWJiLnVwcGVyQm91bmQueSAqPSAxIC8gc2NhbGUueTtcbiAgICB0cmVlLmFhYmIudXBwZXJCb3VuZC56ICo9IDEgLyBzY2FsZS56OyAvLyBJbnNlcnQgYWxsIHRyaWFuZ2xlc1xuXG4gICAgY29uc3QgdHJpYW5nbGVBQUJCID0gbmV3IEFBQkIoKTtcbiAgICBjb25zdCBhID0gbmV3IFZlYzMoKTtcbiAgICBjb25zdCBiID0gbmV3IFZlYzMoKTtcbiAgICBjb25zdCBjID0gbmV3IFZlYzMoKTtcbiAgICBjb25zdCBwb2ludHMgPSBbYSwgYiwgY107XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuaW5kaWNlcy5sZW5ndGggLyAzOyBpKyspIHtcbiAgICAgIC8vdGhpcy5nZXRUcmlhbmdsZVZlcnRpY2VzKGksIGEsIGIsIGMpO1xuICAgICAgLy8gR2V0IHVuc2NhbGVkIHRyaWFuZ2xlIHZlcnRzXG4gICAgICBjb25zdCBpMyA9IGkgKiAzO1xuXG4gICAgICB0aGlzLl9nZXRVbnNjYWxlZFZlcnRleCh0aGlzLmluZGljZXNbaTNdLCBhKTtcblxuICAgICAgdGhpcy5fZ2V0VW5zY2FsZWRWZXJ0ZXgodGhpcy5pbmRpY2VzW2kzICsgMV0sIGIpO1xuXG4gICAgICB0aGlzLl9nZXRVbnNjYWxlZFZlcnRleCh0aGlzLmluZGljZXNbaTMgKyAyXSwgYyk7XG5cbiAgICAgIHRyaWFuZ2xlQUFCQi5zZXRGcm9tUG9pbnRzKHBvaW50cyk7XG4gICAgICB0cmVlLmluc2VydCh0cmlhbmdsZUFBQkIsIGkpO1xuICAgIH1cblxuICAgIHRyZWUucmVtb3ZlRW1wdHlOb2RlcygpO1xuICB9XG4gIC8qKlxyXG4gICAqIEdldCB0cmlhbmdsZXMgaW4gYSBsb2NhbCBBQUJCIGZyb20gdGhlIHRyaW1lc2guXHJcbiAgICogQG1ldGhvZCBnZXRUcmlhbmdsZXNJbkFBQkJcclxuICAgKiBAcGFyYW0gIHtBQUJCfSBhYWJiXHJcbiAgICogQHBhcmFtICB7YXJyYXl9IHJlc3VsdCBBbiBhcnJheSBvZiBpbnRlZ2VycywgcmVmZXJlbmNpbmcgdGhlIHF1ZXJpZWQgdHJpYW5nbGVzLlxyXG4gICAqL1xuXG5cbiAgZ2V0VHJpYW5nbGVzSW5BQUJCKGFhYmIsIHJlc3VsdCkge1xuICAgIHVuc2NhbGVkQUFCQi5jb3B5KGFhYmIpOyAvLyBTY2FsZSBpdCB0byBsb2NhbFxuXG4gICAgY29uc3Qgc2NhbGUgPSB0aGlzLnNjYWxlO1xuICAgIGNvbnN0IGlzeCA9IHNjYWxlLng7XG4gICAgY29uc3QgaXN5ID0gc2NhbGUueTtcbiAgICBjb25zdCBpc3ogPSBzY2FsZS56O1xuICAgIGNvbnN0IGwgPSB1bnNjYWxlZEFBQkIubG93ZXJCb3VuZDtcbiAgICBjb25zdCB1ID0gdW5zY2FsZWRBQUJCLnVwcGVyQm91bmQ7XG4gICAgbC54IC89IGlzeDtcbiAgICBsLnkgLz0gaXN5O1xuICAgIGwueiAvPSBpc3o7XG4gICAgdS54IC89IGlzeDtcbiAgICB1LnkgLz0gaXN5O1xuICAgIHUueiAvPSBpc3o7XG4gICAgcmV0dXJuIHRoaXMudHJlZS5hYWJiUXVlcnkodW5zY2FsZWRBQUJCLCByZXN1bHQpO1xuICB9XG4gIC8qKlxyXG4gICAqIEBtZXRob2Qgc2V0U2NhbGVcclxuICAgKiBAcGFyYW0ge1ZlYzN9IHNjYWxlXHJcbiAgICovXG5cblxuICBzZXRTY2FsZShzY2FsZSkge1xuICAgIGNvbnN0IHdhc1VuaWZvcm0gPSB0aGlzLnNjYWxlLnggPT09IHRoaXMuc2NhbGUueSAmJiB0aGlzLnNjYWxlLnkgPT09IHRoaXMuc2NhbGUuejtcbiAgICBjb25zdCBpc1VuaWZvcm0gPSBzY2FsZS54ID09PSBzY2FsZS55ICYmIHNjYWxlLnkgPT09IHNjYWxlLno7XG5cbiAgICBpZiAoISh3YXNVbmlmb3JtICYmIGlzVW5pZm9ybSkpIHtcbiAgICAgIC8vIE5vbi11bmlmb3JtIHNjYWxpbmcuIE5lZWQgdG8gdXBkYXRlIG5vcm1hbHMuXG4gICAgICB0aGlzLnVwZGF0ZU5vcm1hbHMoKTtcbiAgICB9XG5cbiAgICB0aGlzLnNjYWxlLmNvcHkoc2NhbGUpO1xuICAgIHRoaXMudXBkYXRlQUFCQigpO1xuICAgIHRoaXMudXBkYXRlQm91bmRpbmdTcGhlcmVSYWRpdXMoKTtcbiAgfVxuICAvKipcclxuICAgKiBDb21wdXRlIHRoZSBub3JtYWxzIG9mIHRoZSBmYWNlcy4gV2lsbCBzYXZlIGluIHRoZSAubm9ybWFscyBhcnJheS5cclxuICAgKiBAbWV0aG9kIHVwZGF0ZU5vcm1hbHNcclxuICAgKi9cblxuXG4gIHVwZGF0ZU5vcm1hbHMoKSB7XG4gICAgY29uc3QgbiA9IGNvbXB1dGVOb3JtYWxzX247IC8vIEdlbmVyYXRlIG5vcm1hbHNcblxuICAgIGNvbnN0IG5vcm1hbHMgPSB0aGlzLm5vcm1hbHM7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuaW5kaWNlcy5sZW5ndGggLyAzOyBpKyspIHtcbiAgICAgIGNvbnN0IGkzID0gaSAqIDM7XG4gICAgICBjb25zdCBhID0gdGhpcy5pbmRpY2VzW2kzXTtcbiAgICAgIGNvbnN0IGIgPSB0aGlzLmluZGljZXNbaTMgKyAxXTtcbiAgICAgIGNvbnN0IGMgPSB0aGlzLmluZGljZXNbaTMgKyAyXTtcbiAgICAgIHRoaXMuZ2V0VmVydGV4KGEsIHZhKTtcbiAgICAgIHRoaXMuZ2V0VmVydGV4KGIsIHZiKTtcbiAgICAgIHRoaXMuZ2V0VmVydGV4KGMsIHZjKTtcbiAgICAgIFRyaW1lc2guY29tcHV0ZU5vcm1hbCh2YiwgdmEsIHZjLCBuKTtcbiAgICAgIG5vcm1hbHNbaTNdID0gbi54O1xuICAgICAgbm9ybWFsc1tpMyArIDFdID0gbi55O1xuICAgICAgbm9ybWFsc1tpMyArIDJdID0gbi56O1xuICAgIH1cbiAgfVxuICAvKipcclxuICAgKiBVcGRhdGUgdGhlIC5lZGdlcyBwcm9wZXJ0eVxyXG4gICAqIEBtZXRob2QgdXBkYXRlRWRnZXNcclxuICAgKi9cblxuXG4gIHVwZGF0ZUVkZ2VzKCkge1xuICAgIGNvbnN0IGVkZ2VzID0ge307XG5cbiAgICBjb25zdCBhZGQgPSAoYSwgYikgPT4ge1xuICAgICAgY29uc3Qga2V5ID0gYSA8IGIgPyBhICsgXCJfXCIgKyBiIDogYiArIFwiX1wiICsgYTtcbiAgICAgIGVkZ2VzW2tleV0gPSB0cnVlO1xuICAgIH07XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuaW5kaWNlcy5sZW5ndGggLyAzOyBpKyspIHtcbiAgICAgIGNvbnN0IGkzID0gaSAqIDM7XG4gICAgICBjb25zdCBhID0gdGhpcy5pbmRpY2VzW2kzXTtcbiAgICAgIGNvbnN0IGIgPSB0aGlzLmluZGljZXNbaTMgKyAxXTtcbiAgICAgIGNvbnN0IGMgPSB0aGlzLmluZGljZXNbaTMgKyAyXTtcbiAgICAgIGFkZChhLCBiKTtcbiAgICAgIGFkZChiLCBjKTtcbiAgICAgIGFkZChjLCBhKTtcbiAgICB9XG5cbiAgICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMoZWRnZXMpO1xuICAgIHRoaXMuZWRnZXMgPSBuZXcgSW50MTZBcnJheShrZXlzLmxlbmd0aCAqIDIpO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBpbmRpY2VzID0ga2V5c1tpXS5zcGxpdCgnXycpO1xuICAgICAgdGhpcy5lZGdlc1syICogaV0gPSBwYXJzZUludChpbmRpY2VzWzBdLCAxMCk7XG4gICAgICB0aGlzLmVkZ2VzWzIgKiBpICsgMV0gPSBwYXJzZUludChpbmRpY2VzWzFdLCAxMCk7XG4gICAgfVxuICB9XG4gIC8qKlxyXG4gICAqIEdldCBhbiBlZGdlIHZlcnRleFxyXG4gICAqIEBtZXRob2QgZ2V0RWRnZVZlcnRleFxyXG4gICAqIEBwYXJhbSAge251bWJlcn0gZWRnZUluZGV4XHJcbiAgICogQHBhcmFtICB7bnVtYmVyfSBmaXJzdE9yU2Vjb25kIDAgb3IgMSwgZGVwZW5kaW5nIG9uIHdoaWNoIG9uZSBvZiB0aGUgdmVydGljZXMgeW91IG5lZWQuXHJcbiAgICogQHBhcmFtICB7VmVjM30gdmVydGV4U3RvcmUgV2hlcmUgdG8gc3RvcmUgdGhlIHJlc3VsdFxyXG4gICAqL1xuXG5cbiAgZ2V0RWRnZVZlcnRleChlZGdlSW5kZXgsIGZpcnN0T3JTZWNvbmQsIHZlcnRleFN0b3JlKSB7XG4gICAgY29uc3QgdmVydGV4SW5kZXggPSB0aGlzLmVkZ2VzW2VkZ2VJbmRleCAqIDIgKyAoZmlyc3RPclNlY29uZCA/IDEgOiAwKV07XG4gICAgdGhpcy5nZXRWZXJ0ZXgodmVydGV4SW5kZXgsIHZlcnRleFN0b3JlKTtcbiAgfVxuICAvKipcclxuICAgKiBHZXQgYSB2ZWN0b3IgYWxvbmcgYW4gZWRnZS5cclxuICAgKiBAbWV0aG9kIGdldEVkZ2VWZWN0b3JcclxuICAgKiBAcGFyYW0gIHtudW1iZXJ9IGVkZ2VJbmRleFxyXG4gICAqIEBwYXJhbSAge1ZlYzN9IHZlY3RvclN0b3JlXHJcbiAgICovXG5cblxuICBnZXRFZGdlVmVjdG9yKGVkZ2VJbmRleCwgdmVjdG9yU3RvcmUpIHtcbiAgICBjb25zdCB2YSA9IGdldEVkZ2VWZWN0b3JfdmE7XG4gICAgY29uc3QgdmIgPSBnZXRFZGdlVmVjdG9yX3ZiO1xuICAgIHRoaXMuZ2V0RWRnZVZlcnRleChlZGdlSW5kZXgsIDAsIHZhKTtcbiAgICB0aGlzLmdldEVkZ2VWZXJ0ZXgoZWRnZUluZGV4LCAxLCB2Yik7XG4gICAgdmIudnN1Yih2YSwgdmVjdG9yU3RvcmUpO1xuICB9XG4gIC8qKlxyXG4gICAqIEdldCB2ZXJ0ZXggaS5cclxuICAgKiBAbWV0aG9kIGdldFZlcnRleFxyXG4gICAqIEBwYXJhbSAge251bWJlcn0gaVxyXG4gICAqIEBwYXJhbSAge1ZlYzN9IG91dFxyXG4gICAqIEByZXR1cm4ge1ZlYzN9IFRoZSBcIm91dFwiIHZlY3RvciBvYmplY3RcclxuICAgKi9cblxuXG4gIGdldFZlcnRleChpLCBvdXQpIHtcbiAgICBjb25zdCBzY2FsZSA9IHRoaXMuc2NhbGU7XG5cbiAgICB0aGlzLl9nZXRVbnNjYWxlZFZlcnRleChpLCBvdXQpO1xuXG4gICAgb3V0LnggKj0gc2NhbGUueDtcbiAgICBvdXQueSAqPSBzY2FsZS55O1xuICAgIG91dC56ICo9IHNjYWxlLno7XG4gICAgcmV0dXJuIG91dDtcbiAgfVxuICAvKipcclxuICAgKiBHZXQgcmF3IHZlcnRleCBpXHJcbiAgICogQHByaXZhdGVcclxuICAgKiBAbWV0aG9kIF9nZXRVbnNjYWxlZFZlcnRleFxyXG4gICAqIEBwYXJhbSAge251bWJlcn0gaVxyXG4gICAqIEBwYXJhbSAge1ZlYzN9IG91dFxyXG4gICAqIEByZXR1cm4ge1ZlYzN9IFRoZSBcIm91dFwiIHZlY3RvciBvYmplY3RcclxuICAgKi9cblxuXG4gIF9nZXRVbnNjYWxlZFZlcnRleChpLCBvdXQpIHtcbiAgICBjb25zdCBpMyA9IGkgKiAzO1xuICAgIGNvbnN0IHZlcnRpY2VzID0gdGhpcy52ZXJ0aWNlcztcbiAgICByZXR1cm4gb3V0LnNldCh2ZXJ0aWNlc1tpM10sIHZlcnRpY2VzW2kzICsgMV0sIHZlcnRpY2VzW2kzICsgMl0pO1xuICB9XG4gIC8qKlxyXG4gICAqIEdldCBhIHZlcnRleCBmcm9tIHRoZSB0cmltZXNoLHRyYW5zZm9ybWVkIGJ5IHRoZSBnaXZlbiBwb3NpdGlvbiBhbmQgcXVhdGVybmlvbi5cclxuICAgKiBAbWV0aG9kIGdldFdvcmxkVmVydGV4XHJcbiAgICogQHBhcmFtICB7bnVtYmVyfSBpXHJcbiAgICogQHBhcmFtICB7VmVjM30gcG9zXHJcbiAgICogQHBhcmFtICB7UXVhdGVybmlvbn0gcXVhdFxyXG4gICAqIEBwYXJhbSAge1ZlYzN9IG91dFxyXG4gICAqIEByZXR1cm4ge1ZlYzN9IFRoZSBcIm91dFwiIHZlY3RvciBvYmplY3RcclxuICAgKi9cblxuXG4gIGdldFdvcmxkVmVydGV4KGksIHBvcywgcXVhdCwgb3V0KSB7XG4gICAgdGhpcy5nZXRWZXJ0ZXgoaSwgb3V0KTtcbiAgICBUcmFuc2Zvcm0ucG9pbnRUb1dvcmxkRnJhbWUocG9zLCBxdWF0LCBvdXQsIG91dCk7XG4gICAgcmV0dXJuIG91dDtcbiAgfVxuICAvKipcclxuICAgKiBHZXQgdGhlIHRocmVlIHZlcnRpY2VzIGZvciB0cmlhbmdsZSBpLlxyXG4gICAqIEBtZXRob2QgZ2V0VHJpYW5nbGVWZXJ0aWNlc1xyXG4gICAqIEBwYXJhbSAge251bWJlcn0gaVxyXG4gICAqIEBwYXJhbSAge1ZlYzN9IGFcclxuICAgKiBAcGFyYW0gIHtWZWMzfSBiXHJcbiAgICogQHBhcmFtICB7VmVjM30gY1xyXG4gICAqL1xuXG5cbiAgZ2V0VHJpYW5nbGVWZXJ0aWNlcyhpLCBhLCBiLCBjKSB7XG4gICAgY29uc3QgaTMgPSBpICogMztcbiAgICB0aGlzLmdldFZlcnRleCh0aGlzLmluZGljZXNbaTNdLCBhKTtcbiAgICB0aGlzLmdldFZlcnRleCh0aGlzLmluZGljZXNbaTMgKyAxXSwgYik7XG4gICAgdGhpcy5nZXRWZXJ0ZXgodGhpcy5pbmRpY2VzW2kzICsgMl0sIGMpO1xuICB9XG4gIC8qKlxyXG4gICAqIENvbXB1dGUgdGhlIG5vcm1hbCBvZiB0cmlhbmdsZSBpLlxyXG4gICAqIEBtZXRob2QgZ2V0Tm9ybWFsXHJcbiAgICogQHBhcmFtICB7TnVtYmVyfSBpXHJcbiAgICogQHBhcmFtICB7VmVjM30gdGFyZ2V0XHJcbiAgICogQHJldHVybiB7VmVjM30gVGhlIFwidGFyZ2V0XCIgdmVjdG9yIG9iamVjdFxyXG4gICAqL1xuXG5cbiAgZ2V0Tm9ybWFsKGksIHRhcmdldCkge1xuICAgIGNvbnN0IGkzID0gaSAqIDM7XG4gICAgcmV0dXJuIHRhcmdldC5zZXQodGhpcy5ub3JtYWxzW2kzXSwgdGhpcy5ub3JtYWxzW2kzICsgMV0sIHRoaXMubm9ybWFsc1tpMyArIDJdKTtcbiAgfVxuICAvKipcclxuICAgKiBAbWV0aG9kIGNhbGN1bGF0ZUxvY2FsSW5lcnRpYVxyXG4gICAqIEBwYXJhbSAge051bWJlcn0gbWFzc1xyXG4gICAqIEBwYXJhbSAge1ZlYzN9IHRhcmdldFxyXG4gICAqIEByZXR1cm4ge1ZlYzN9IFRoZSBcInRhcmdldFwiIHZlY3RvciBvYmplY3RcclxuICAgKi9cblxuXG4gIGNhbGN1bGF0ZUxvY2FsSW5lcnRpYShtYXNzLCB0YXJnZXQpIHtcbiAgICAvLyBBcHByb3hpbWF0ZSB3aXRoIGJveCBpbmVydGlhXG4gICAgLy8gRXhhY3QgaW5lcnRpYSBjYWxjdWxhdGlvbiBpcyBvdmVya2lsbCwgYnV0IHNlZSBodHRwOi8vZ2VvbWV0cmljdG9vbHMuY29tL0RvY3VtZW50YXRpb24vUG9seWhlZHJhbE1hc3NQcm9wZXJ0aWVzLnBkZiBmb3IgdGhlIGNvcnJlY3Qgd2F5IHRvIGRvIGl0XG4gICAgdGhpcy5jb21wdXRlTG9jYWxBQUJCKGNsaV9hYWJiKTtcbiAgICBjb25zdCB4ID0gY2xpX2FhYmIudXBwZXJCb3VuZC54IC0gY2xpX2FhYmIubG93ZXJCb3VuZC54O1xuICAgIGNvbnN0IHkgPSBjbGlfYWFiYi51cHBlckJvdW5kLnkgLSBjbGlfYWFiYi5sb3dlckJvdW5kLnk7XG4gICAgY29uc3QgeiA9IGNsaV9hYWJiLnVwcGVyQm91bmQueiAtIGNsaV9hYWJiLmxvd2VyQm91bmQuejtcbiAgICByZXR1cm4gdGFyZ2V0LnNldCgxLjAgLyAxMi4wICogbWFzcyAqICgyICogeSAqIDIgKiB5ICsgMiAqIHogKiAyICogeiksIDEuMCAvIDEyLjAgKiBtYXNzICogKDIgKiB4ICogMiAqIHggKyAyICogeiAqIDIgKiB6KSwgMS4wIC8gMTIuMCAqIG1hc3MgKiAoMiAqIHkgKiAyICogeSArIDIgKiB4ICogMiAqIHgpKTtcbiAgfVxuICAvKipcclxuICAgKiBDb21wdXRlIHRoZSBsb2NhbCBBQUJCIGZvciB0aGUgdHJpbWVzaFxyXG4gICAqIEBtZXRob2QgY29tcHV0ZUxvY2FsQUFCQlxyXG4gICAqIEBwYXJhbSAge0FBQkJ9IGFhYmJcclxuICAgKi9cblxuXG4gIGNvbXB1dGVMb2NhbEFBQkIoYWFiYikge1xuICAgIGNvbnN0IGwgPSBhYWJiLmxvd2VyQm91bmQ7XG4gICAgY29uc3QgdSA9IGFhYmIudXBwZXJCb3VuZDtcbiAgICBjb25zdCBuID0gdGhpcy52ZXJ0aWNlcy5sZW5ndGg7XG4gICAgY29uc3QgdmVydGljZXMgPSB0aGlzLnZlcnRpY2VzO1xuICAgIGNvbnN0IHYgPSBjb21wdXRlTG9jYWxBQUJCX3dvcmxkVmVydDtcbiAgICB0aGlzLmdldFZlcnRleCgwLCB2KTtcbiAgICBsLmNvcHkodik7XG4gICAgdS5jb3B5KHYpO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgIT09IG47IGkrKykge1xuICAgICAgdGhpcy5nZXRWZXJ0ZXgoaSwgdik7XG5cbiAgICAgIGlmICh2LnggPCBsLngpIHtcbiAgICAgICAgbC54ID0gdi54O1xuICAgICAgfSBlbHNlIGlmICh2LnggPiB1LngpIHtcbiAgICAgICAgdS54ID0gdi54O1xuICAgICAgfVxuXG4gICAgICBpZiAodi55IDwgbC55KSB7XG4gICAgICAgIGwueSA9IHYueTtcbiAgICAgIH0gZWxzZSBpZiAodi55ID4gdS55KSB7XG4gICAgICAgIHUueSA9IHYueTtcbiAgICAgIH1cblxuICAgICAgaWYgKHYueiA8IGwueikge1xuICAgICAgICBsLnogPSB2Lno7XG4gICAgICB9IGVsc2UgaWYgKHYueiA+IHUueikge1xuICAgICAgICB1LnogPSB2Lno7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIC8qKlxyXG4gICAqIFVwZGF0ZSB0aGUgLmFhYmIgcHJvcGVydHlcclxuICAgKiBAbWV0aG9kIHVwZGF0ZUFBQkJcclxuICAgKi9cblxuXG4gIHVwZGF0ZUFBQkIoKSB7XG4gICAgdGhpcy5jb21wdXRlTG9jYWxBQUJCKHRoaXMuYWFiYik7XG4gIH1cbiAgLyoqXHJcbiAgICogV2lsbCB1cGRhdGUgdGhlIC5ib3VuZGluZ1NwaGVyZVJhZGl1cyBwcm9wZXJ0eVxyXG4gICAqIEBtZXRob2QgdXBkYXRlQm91bmRpbmdTcGhlcmVSYWRpdXNcclxuICAgKi9cblxuXG4gIHVwZGF0ZUJvdW5kaW5nU3BoZXJlUmFkaXVzKCkge1xuICAgIC8vIEFzc3VtZSBwb2ludHMgYXJlIGRpc3RyaWJ1dGVkIHdpdGggbG9jYWwgKDAsMCwwKSBhcyBjZW50ZXJcbiAgICBsZXQgbWF4MiA9IDA7XG4gICAgY29uc3QgdmVydGljZXMgPSB0aGlzLnZlcnRpY2VzO1xuICAgIGNvbnN0IHYgPSBuZXcgVmVjMygpO1xuXG4gICAgZm9yIChsZXQgaSA9IDAsIE4gPSB2ZXJ0aWNlcy5sZW5ndGggLyAzOyBpICE9PSBOOyBpKyspIHtcbiAgICAgIHRoaXMuZ2V0VmVydGV4KGksIHYpO1xuICAgICAgY29uc3Qgbm9ybTIgPSB2Lmxlbmd0aFNxdWFyZWQoKTtcblxuICAgICAgaWYgKG5vcm0yID4gbWF4Mikge1xuICAgICAgICBtYXgyID0gbm9ybTI7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5ib3VuZGluZ1NwaGVyZVJhZGl1cyA9IE1hdGguc3FydChtYXgyKTtcbiAgfVxuICAvKipcclxuICAgKiBAbWV0aG9kIGNhbGN1bGF0ZVdvcmxkQUFCQlxyXG4gICAqIEBwYXJhbSB7VmVjM30gICAgICAgIHBvc1xyXG4gICAqIEBwYXJhbSB7UXVhdGVybmlvbn0gIHF1YXRcclxuICAgKiBAcGFyYW0ge1ZlYzN9ICAgICAgICBtaW5cclxuICAgKiBAcGFyYW0ge1ZlYzN9ICAgICAgICBtYXhcclxuICAgKi9cblxuXG4gIGNhbGN1bGF0ZVdvcmxkQUFCQihwb3MsIHF1YXQsIG1pbiwgbWF4KSB7XG4gICAgLypcclxuICAgICAgICBjb25zdCBuID0gdGhpcy52ZXJ0aWNlcy5sZW5ndGggLyAzLFxyXG4gICAgICAgICAgICB2ZXJ0cyA9IHRoaXMudmVydGljZXM7XHJcbiAgICAgICAgY29uc3QgbWlueCxtaW55LG1pbnosbWF4eCxtYXh5LG1heHo7XHJcbiAgICAgICAgICBjb25zdCB2ID0gdGVtcFdvcmxkVmVydGV4O1xyXG4gICAgICAgIGZvcihsZXQgaT0wOyBpPG47IGkrKyl7XHJcbiAgICAgICAgICAgIHRoaXMuZ2V0VmVydGV4KGksIHYpO1xyXG4gICAgICAgICAgICBxdWF0LnZtdWx0KHYsIHYpO1xyXG4gICAgICAgICAgICBwb3MudmFkZCh2LCB2KTtcclxuICAgICAgICAgICAgaWYgKHYueCA8IG1pbnggfHwgbWlueD09PXVuZGVmaW5lZCl7XHJcbiAgICAgICAgICAgICAgICBtaW54ID0gdi54O1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYodi54ID4gbWF4eCB8fCBtYXh4PT09dW5kZWZpbmVkKXtcclxuICAgICAgICAgICAgICAgIG1heHggPSB2Lng7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICBpZiAodi55IDwgbWlueSB8fCBtaW55PT09dW5kZWZpbmVkKXtcclxuICAgICAgICAgICAgICAgIG1pbnkgPSB2Lnk7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZih2LnkgPiBtYXh5IHx8IG1heHk9PT11bmRlZmluZWQpe1xyXG4gICAgICAgICAgICAgICAgbWF4eSA9IHYueTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIGlmICh2LnogPCBtaW56IHx8IG1pbno9PT11bmRlZmluZWQpe1xyXG4gICAgICAgICAgICAgICAgbWlueiA9IHYuejtcclxuICAgICAgICAgICAgfSBlbHNlIGlmKHYueiA+IG1heHogfHwgbWF4ej09PXVuZGVmaW5lZCl7XHJcbiAgICAgICAgICAgICAgICBtYXh6ID0gdi56O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIG1pbi5zZXQobWlueCxtaW55LG1pbnopO1xyXG4gICAgICAgIG1heC5zZXQobWF4eCxtYXh5LG1heHopO1xyXG4gICAgICAgICovXG4gICAgLy8gRmFzdGVyIGFwcHJveGltYXRpb24gdXNpbmcgbG9jYWwgQUFCQlxuICAgIGNvbnN0IGZyYW1lID0gY2FsY3VsYXRlV29ybGRBQUJCX2ZyYW1lO1xuICAgIGNvbnN0IHJlc3VsdCA9IGNhbGN1bGF0ZVdvcmxkQUFCQl9hYWJiO1xuICAgIGZyYW1lLnBvc2l0aW9uID0gcG9zO1xuICAgIGZyYW1lLnF1YXRlcm5pb24gPSBxdWF0O1xuICAgIHRoaXMuYWFiYi50b1dvcmxkRnJhbWUoZnJhbWUsIHJlc3VsdCk7XG4gICAgbWluLmNvcHkocmVzdWx0Lmxvd2VyQm91bmQpO1xuICAgIG1heC5jb3B5KHJlc3VsdC51cHBlckJvdW5kKTtcbiAgfVxuICAvKipcclxuICAgKiBHZXQgYXBwcm94aW1hdGUgdm9sdW1lXHJcbiAgICogQG1ldGhvZCB2b2x1bWVcclxuICAgKiBAcmV0dXJuIHtOdW1iZXJ9XHJcbiAgICovXG5cblxuICB2b2x1bWUoKSB7XG4gICAgcmV0dXJuIDQuMCAqIE1hdGguUEkgKiB0aGlzLmJvdW5kaW5nU3BoZXJlUmFkaXVzIC8gMy4wO1xuICB9XG5cbn1cbmNvbnN0IGNvbXB1dGVOb3JtYWxzX24gPSBuZXcgVmVjMygpO1xuY29uc3QgdW5zY2FsZWRBQUJCID0gbmV3IEFBQkIoKTtcbmNvbnN0IGdldEVkZ2VWZWN0b3JfdmEgPSBuZXcgVmVjMygpO1xuY29uc3QgZ2V0RWRnZVZlY3Rvcl92YiA9IG5ldyBWZWMzKCk7XG4vKipcclxuICogR2V0IGZhY2Ugbm9ybWFsIGdpdmVuIDMgdmVydGljZXNcclxuICogQHN0YXRpY1xyXG4gKiBAbWV0aG9kIGNvbXB1dGVOb3JtYWxcclxuICogQHBhcmFtIHtWZWMzfSB2YVxyXG4gKiBAcGFyYW0ge1ZlYzN9IHZiXHJcbiAqIEBwYXJhbSB7VmVjM30gdmNcclxuICogQHBhcmFtIHtWZWMzfSB0YXJnZXRcclxuICovXG5cbmNvbnN0IGNiID0gbmV3IFZlYzMoKTtcbmNvbnN0IGFiID0gbmV3IFZlYzMoKTtcblxuVHJpbWVzaC5jb21wdXRlTm9ybWFsID0gKHZhLCB2YiwgdmMsIHRhcmdldCkgPT4ge1xuICB2Yi52c3ViKHZhLCBhYik7XG4gIHZjLnZzdWIodmIsIGNiKTtcbiAgY2IuY3Jvc3MoYWIsIHRhcmdldCk7XG5cbiAgaWYgKCF0YXJnZXQuaXNaZXJvKCkpIHtcbiAgICB0YXJnZXQubm9ybWFsaXplKCk7XG4gIH1cbn07XG5cbmNvbnN0IHZhID0gbmV3IFZlYzMoKTtcbmNvbnN0IHZiID0gbmV3IFZlYzMoKTtcbmNvbnN0IHZjID0gbmV3IFZlYzMoKTtcbmNvbnN0IGNsaV9hYWJiID0gbmV3IEFBQkIoKTtcbmNvbnN0IGNvbXB1dGVMb2NhbEFBQkJfd29ybGRWZXJ0ID0gbmV3IFZlYzMoKTtcbmNvbnN0IGNhbGN1bGF0ZVdvcmxkQUFCQl9mcmFtZSA9IG5ldyBUcmFuc2Zvcm0oKTtcbmNvbnN0IGNhbGN1bGF0ZVdvcmxkQUFCQl9hYWJiID0gbmV3IEFBQkIoKTtcbi8qKlxyXG4gKiBDcmVhdGUgYSBUcmltZXNoIGluc3RhbmNlLCBzaGFwZWQgYXMgYSB0b3J1cy5cclxuICogQHN0YXRpY1xyXG4gKiBAbWV0aG9kIGNyZWF0ZVRvcnVzXHJcbiAqIEBwYXJhbSAge251bWJlcn0gW3JhZGl1cz0xXVxyXG4gKiBAcGFyYW0gIHtudW1iZXJ9IFt0dWJlPTAuNV1cclxuICogQHBhcmFtICB7bnVtYmVyfSBbcmFkaWFsU2VnbWVudHM9OF1cclxuICogQHBhcmFtICB7bnVtYmVyfSBbdHVidWxhclNlZ21lbnRzPTZdXHJcbiAqIEBwYXJhbSAge251bWJlcn0gW2FyYz02LjI4MzE4NTMwNzE3OTU4Nl1cclxuICogQHJldHVybiB7VHJpbWVzaH0gQSB0b3J1c1xyXG4gKi9cblxuVHJpbWVzaC5jcmVhdGVUb3J1cyA9IChyYWRpdXMgPSAxLCB0dWJlID0gMC41LCByYWRpYWxTZWdtZW50cyA9IDgsIHR1YnVsYXJTZWdtZW50cyA9IDYsIGFyYyA9IE1hdGguUEkgKiAyKSA9PiB7XG4gIGNvbnN0IHZlcnRpY2VzID0gW107XG4gIGNvbnN0IGluZGljZXMgPSBbXTtcblxuICBmb3IgKGxldCBqID0gMDsgaiA8PSByYWRpYWxTZWdtZW50czsgaisrKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPD0gdHVidWxhclNlZ21lbnRzOyBpKyspIHtcbiAgICAgIGNvbnN0IHUgPSBpIC8gdHVidWxhclNlZ21lbnRzICogYXJjO1xuICAgICAgY29uc3QgdiA9IGogLyByYWRpYWxTZWdtZW50cyAqIE1hdGguUEkgKiAyO1xuICAgICAgY29uc3QgeCA9IChyYWRpdXMgKyB0dWJlICogTWF0aC5jb3ModikpICogTWF0aC5jb3ModSk7XG4gICAgICBjb25zdCB5ID0gKHJhZGl1cyArIHR1YmUgKiBNYXRoLmNvcyh2KSkgKiBNYXRoLnNpbih1KTtcbiAgICAgIGNvbnN0IHogPSB0dWJlICogTWF0aC5zaW4odik7XG4gICAgICB2ZXJ0aWNlcy5wdXNoKHgsIHksIHopO1xuICAgIH1cbiAgfVxuXG4gIGZvciAobGV0IGogPSAxOyBqIDw9IHJhZGlhbFNlZ21lbnRzOyBqKyspIHtcbiAgICBmb3IgKGxldCBpID0gMTsgaSA8PSB0dWJ1bGFyU2VnbWVudHM7IGkrKykge1xuICAgICAgY29uc3QgYSA9ICh0dWJ1bGFyU2VnbWVudHMgKyAxKSAqIGogKyBpIC0gMTtcbiAgICAgIGNvbnN0IGIgPSAodHVidWxhclNlZ21lbnRzICsgMSkgKiAoaiAtIDEpICsgaSAtIDE7XG4gICAgICBjb25zdCBjID0gKHR1YnVsYXJTZWdtZW50cyArIDEpICogKGogLSAxKSArIGk7XG4gICAgICBjb25zdCBkID0gKHR1YnVsYXJTZWdtZW50cyArIDEpICogaiArIGk7XG4gICAgICBpbmRpY2VzLnB1c2goYSwgYiwgZCk7XG4gICAgICBpbmRpY2VzLnB1c2goYiwgYywgZCk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG5ldyBUcmltZXNoKHZlcnRpY2VzLCBpbmRpY2VzKTtcbn07XG5cbi8qKlxyXG4gKiBDb25zdHJhaW50IGVxdWF0aW9uIHNvbHZlciBiYXNlIGNsYXNzLlxyXG4gKiBAY2xhc3MgU29sdmVyXHJcbiAqIEBjb25zdHJ1Y3RvclxyXG4gKiBAYXV0aG9yIHNjaHRlcHBlIC8gaHR0cHM6Ly9naXRodWIuY29tL3NjaHRlcHBlXHJcbiAqL1xuY2xhc3MgU29sdmVyIHtcbiAgLy8gQWxsIGVxdWF0aW9ucyB0byBiZSBzb2x2ZWRcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5lcXVhdGlvbnMgPSBbXTtcbiAgfVxuICAvKipcclxuICAgKiBTaG91bGQgYmUgaW1wbGVtZW50ZWQgaW4gc3ViY2xhc3NlcyFcclxuICAgKiBAbWV0aG9kIHNvbHZlXHJcbiAgICogQHBhcmFtICB7TnVtYmVyfSBkdFxyXG4gICAqIEBwYXJhbSAge1dvcmxkfSB3b3JsZFxyXG4gICAqIEByZXR1cm4ge051bWJlcn0gbnVtYmVyIG9mIGl0ZXJhdGlvbnMgcGVyZm9ybWVkXHJcbiAgICovXG5cblxuICBzb2x2ZShkdCwgd29ybGQpIHtcbiAgICByZXR1cm4gKC8vIFNob3VsZCByZXR1cm4gdGhlIG51bWJlciBvZiBpdGVyYXRpb25zIGRvbmUhXG4gICAgICAwXG4gICAgKTtcbiAgfVxuICAvKipcclxuICAgKiBBZGQgYW4gZXF1YXRpb25cclxuICAgKiBAbWV0aG9kIGFkZEVxdWF0aW9uXHJcbiAgICogQHBhcmFtIHtFcXVhdGlvbn0gZXFcclxuICAgKi9cblxuXG4gIGFkZEVxdWF0aW9uKGVxKSB7XG4gICAgaWYgKGVxLmVuYWJsZWQpIHtcbiAgICAgIHRoaXMuZXF1YXRpb25zLnB1c2goZXEpO1xuICAgIH1cbiAgfVxuICAvKipcclxuICAgKiBSZW1vdmUgYW4gZXF1YXRpb25cclxuICAgKiBAbWV0aG9kIHJlbW92ZUVxdWF0aW9uXHJcbiAgICogQHBhcmFtIHtFcXVhdGlvbn0gZXFcclxuICAgKi9cblxuXG4gIHJlbW92ZUVxdWF0aW9uKGVxKSB7XG4gICAgY29uc3QgZXFzID0gdGhpcy5lcXVhdGlvbnM7XG4gICAgY29uc3QgaSA9IGVxcy5pbmRleE9mKGVxKTtcblxuICAgIGlmIChpICE9PSAtMSkge1xuICAgICAgZXFzLnNwbGljZShpLCAxKTtcbiAgICB9XG4gIH1cbiAgLyoqXHJcbiAgICogQWRkIGFsbCBlcXVhdGlvbnNcclxuICAgKiBAbWV0aG9kIHJlbW92ZUFsbEVxdWF0aW9uc1xyXG4gICAqL1xuXG5cbiAgcmVtb3ZlQWxsRXF1YXRpb25zKCkge1xuICAgIHRoaXMuZXF1YXRpb25zLmxlbmd0aCA9IDA7XG4gIH1cblxufVxuXG4vKipcclxuICogQ29uc3RyYWludCBlcXVhdGlvbiBHYXVzcy1TZWlkZWwgc29sdmVyLlxyXG4gKiBAY2xhc3MgR1NTb2x2ZXJcclxuICogQGNvbnN0cnVjdG9yXHJcbiAqIEB0b2RvIFRoZSBzcG9vayBwYXJhbWV0ZXJzIHNob3VsZCBiZSBzcGVjaWZpZWQgZm9yIGVhY2ggY29uc3RyYWludCwgbm90IGdsb2JhbGx5LlxyXG4gKiBAYXV0aG9yIHNjaHRlcHBlIC8gaHR0cHM6Ly9naXRodWIuY29tL3NjaHRlcHBlXHJcbiAqIEBzZWUgaHR0cHM6Ly93d3c4LmNzLnVtdS5zZS9rdXJzZXIvNURWMDU4L1ZUMDkvbGVjdHVyZXMvc3Bvb2tub3Rlcy5wZGZcclxuICogQGV4dGVuZHMgU29sdmVyXHJcbiAqL1xuY2xhc3MgR1NTb2x2ZXIgZXh0ZW5kcyBTb2x2ZXIge1xuICAvLyBUaGUgbnVtYmVyIG9mIHNvbHZlciBpdGVyYXRpb25zIGRldGVybWluZXMgcXVhbGl0eSBvZiB0aGUgY29uc3RyYWludHMgaW4gdGhlIHdvcmxkLiBUaGUgbW9yZSBpdGVyYXRpb25zLCB0aGUgbW9yZSBjb3JyZWN0IHNpbXVsYXRpb24uIE1vcmUgaXRlcmF0aW9ucyBuZWVkIG1vcmUgY29tcHV0YXRpb25zIHRob3VnaC4gSWYgeW91IGhhdmUgYSBsYXJnZSBncmF2aXR5IGZvcmNlIGluIHlvdXIgd29ybGQsIHlvdSB3aWxsIG5lZWQgbW9yZSBpdGVyYXRpb25zLlxuICAvLyBXaGVuIHRvbGVyYW5jZSBpcyByZWFjaGVkLCB0aGUgc3lzdGVtIGlzIGFzc3VtZWQgdG8gYmUgY29udmVyZ2VkLlxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuaXRlcmF0aW9ucyA9IDEwO1xuICAgIHRoaXMudG9sZXJhbmNlID0gMWUtNztcbiAgfVxuICAvKipcclxuICAgKiBTb2x2ZVxyXG4gICAqIEBtZXRob2Qgc29sdmVcclxuICAgKiBAcGFyYW0gIHtOdW1iZXJ9IGR0XHJcbiAgICogQHBhcmFtICB7V29ybGR9IHdvcmxkXHJcbiAgICogQHJldHVybiB7TnVtYmVyfSBudW1iZXIgb2YgaXRlcmF0aW9ucyBwZXJmb3JtZWRcclxuICAgKi9cblxuXG4gIHNvbHZlKGR0LCB3b3JsZCkge1xuICAgIGxldCBpdGVyID0gMDtcbiAgICBjb25zdCBtYXhJdGVyID0gdGhpcy5pdGVyYXRpb25zO1xuICAgIGNvbnN0IHRvbFNxdWFyZWQgPSB0aGlzLnRvbGVyYW5jZSAqIHRoaXMudG9sZXJhbmNlO1xuICAgIGNvbnN0IGVxdWF0aW9ucyA9IHRoaXMuZXF1YXRpb25zO1xuICAgIGNvbnN0IE5lcSA9IGVxdWF0aW9ucy5sZW5ndGg7XG4gICAgY29uc3QgYm9kaWVzID0gd29ybGQuYm9kaWVzO1xuICAgIGNvbnN0IE5ib2RpZXMgPSBib2RpZXMubGVuZ3RoO1xuICAgIGNvbnN0IGggPSBkdDtcbiAgICBsZXQgQjtcbiAgICBsZXQgaW52QztcbiAgICBsZXQgZGVsdGFsYW1iZGE7XG4gICAgbGV0IGRlbHRhbGFtYmRhVG90O1xuICAgIGxldCBHV2xhbWJkYTtcbiAgICBsZXQgbGFtYmRhajsgLy8gVXBkYXRlIHNvbHZlIG1hc3NcblxuICAgIGlmIChOZXEgIT09IDApIHtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpICE9PSBOYm9kaWVzOyBpKyspIHtcbiAgICAgICAgYm9kaWVzW2ldLnVwZGF0ZVNvbHZlTWFzc1Byb3BlcnRpZXMoKTtcbiAgICAgIH1cbiAgICB9IC8vIFRoaW5ncyB0aGF0IGRvZXMgbm90IGNoYW5nZSBkdXJpbmcgaXRlcmF0aW9uIGNhbiBiZSBjb21wdXRlZCBvbmNlXG5cblxuICAgIGNvbnN0IGludkNzID0gR1NTb2x2ZXJfc29sdmVfaW52Q3M7XG4gICAgY29uc3QgQnMgPSBHU1NvbHZlcl9zb2x2ZV9CcztcbiAgICBjb25zdCBsYW1iZGEgPSBHU1NvbHZlcl9zb2x2ZV9sYW1iZGE7XG4gICAgaW52Q3MubGVuZ3RoID0gTmVxO1xuICAgIEJzLmxlbmd0aCA9IE5lcTtcbiAgICBsYW1iZGEubGVuZ3RoID0gTmVxO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgIT09IE5lcTsgaSsrKSB7XG4gICAgICBjb25zdCBjID0gZXF1YXRpb25zW2ldO1xuICAgICAgbGFtYmRhW2ldID0gMC4wO1xuICAgICAgQnNbaV0gPSBjLmNvbXB1dGVCKGgpO1xuICAgICAgaW52Q3NbaV0gPSAxLjAgLyBjLmNvbXB1dGVDKCk7XG4gICAgfVxuXG4gICAgaWYgKE5lcSAhPT0gMCkge1xuICAgICAgLy8gUmVzZXQgdmxhbWJkYVxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgIT09IE5ib2RpZXM7IGkrKykge1xuICAgICAgICBjb25zdCBiID0gYm9kaWVzW2ldO1xuICAgICAgICBjb25zdCB2bGFtYmRhID0gYi52bGFtYmRhO1xuICAgICAgICBjb25zdCB3bGFtYmRhID0gYi53bGFtYmRhO1xuICAgICAgICB2bGFtYmRhLnNldCgwLCAwLCAwKTtcbiAgICAgICAgd2xhbWJkYS5zZXQoMCwgMCwgMCk7XG4gICAgICB9IC8vIEl0ZXJhdGUgb3ZlciBlcXVhdGlvbnNcblxuXG4gICAgICBmb3IgKGl0ZXIgPSAwOyBpdGVyICE9PSBtYXhJdGVyOyBpdGVyKyspIHtcbiAgICAgICAgLy8gQWNjdW11bGF0ZSB0aGUgdG90YWwgZXJyb3IgZm9yIGVhY2ggaXRlcmF0aW9uLlxuICAgICAgICBkZWx0YWxhbWJkYVRvdCA9IDAuMDtcblxuICAgICAgICBmb3IgKGxldCBqID0gMDsgaiAhPT0gTmVxOyBqKyspIHtcbiAgICAgICAgICBjb25zdCBjID0gZXF1YXRpb25zW2pdOyAvLyBDb21wdXRlIGl0ZXJhdGlvblxuXG4gICAgICAgICAgQiA9IEJzW2pdO1xuICAgICAgICAgIGludkMgPSBpbnZDc1tqXTtcbiAgICAgICAgICBsYW1iZGFqID0gbGFtYmRhW2pdO1xuICAgICAgICAgIEdXbGFtYmRhID0gYy5jb21wdXRlR1dsYW1iZGEoKTtcbiAgICAgICAgICBkZWx0YWxhbWJkYSA9IGludkMgKiAoQiAtIEdXbGFtYmRhIC0gYy5lcHMgKiBsYW1iZGFqKTsgLy8gQ2xhbXAgaWYgd2UgYXJlIG5vdCB3aXRoaW4gdGhlIG1pbi9tYXggaW50ZXJ2YWxcblxuICAgICAgICAgIGlmIChsYW1iZGFqICsgZGVsdGFsYW1iZGEgPCBjLm1pbkZvcmNlKSB7XG4gICAgICAgICAgICBkZWx0YWxhbWJkYSA9IGMubWluRm9yY2UgLSBsYW1iZGFqO1xuICAgICAgICAgIH0gZWxzZSBpZiAobGFtYmRhaiArIGRlbHRhbGFtYmRhID4gYy5tYXhGb3JjZSkge1xuICAgICAgICAgICAgZGVsdGFsYW1iZGEgPSBjLm1heEZvcmNlIC0gbGFtYmRhajtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBsYW1iZGFbal0gKz0gZGVsdGFsYW1iZGE7XG4gICAgICAgICAgZGVsdGFsYW1iZGFUb3QgKz0gZGVsdGFsYW1iZGEgPiAwLjAgPyBkZWx0YWxhbWJkYSA6IC1kZWx0YWxhbWJkYTsgLy8gYWJzKGRlbHRhbGFtYmRhKVxuXG4gICAgICAgICAgYy5hZGRUb1dsYW1iZGEoZGVsdGFsYW1iZGEpO1xuICAgICAgICB9IC8vIElmIHRoZSB0b3RhbCBlcnJvciBpcyBzbWFsbCBlbm91Z2ggLSBzdG9wIGl0ZXJhdGVcblxuXG4gICAgICAgIGlmIChkZWx0YWxhbWJkYVRvdCAqIGRlbHRhbGFtYmRhVG90IDwgdG9sU3F1YXJlZCkge1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9IC8vIEFkZCByZXN1bHQgdG8gdmVsb2NpdHlcblxuXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSAhPT0gTmJvZGllczsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGIgPSBib2RpZXNbaV07XG4gICAgICAgIGNvbnN0IHYgPSBiLnZlbG9jaXR5O1xuICAgICAgICBjb25zdCB3ID0gYi5hbmd1bGFyVmVsb2NpdHk7XG4gICAgICAgIGIudmxhbWJkYS52bXVsKGIubGluZWFyRmFjdG9yLCBiLnZsYW1iZGEpO1xuICAgICAgICB2LnZhZGQoYi52bGFtYmRhLCB2KTtcbiAgICAgICAgYi53bGFtYmRhLnZtdWwoYi5hbmd1bGFyRmFjdG9yLCBiLndsYW1iZGEpO1xuICAgICAgICB3LnZhZGQoYi53bGFtYmRhLCB3KTtcbiAgICAgIH0gLy8gU2V0IHRoZSAubXVsdGlwbGllciBwcm9wZXJ0eSBvZiBlYWNoIGVxdWF0aW9uXG5cblxuICAgICAgbGV0IGwgPSBlcXVhdGlvbnMubGVuZ3RoO1xuICAgICAgY29uc3QgaW52RHQgPSAxIC8gaDtcblxuICAgICAgd2hpbGUgKGwtLSkge1xuICAgICAgICBlcXVhdGlvbnNbbF0ubXVsdGlwbGllciA9IGxhbWJkYVtsXSAqIGludkR0O1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBpdGVyO1xuICB9XG5cbn1cbmNvbnN0IEdTU29sdmVyX3NvbHZlX2xhbWJkYSA9IFtdOyAvLyBKdXN0IHRlbXBvcmFyeSBudW1iZXIgaG9sZGVycyB0aGF0IHdlIHdhbnQgdG8gcmV1c2UgZWFjaCBzb2x2ZS5cblxuY29uc3QgR1NTb2x2ZXJfc29sdmVfaW52Q3MgPSBbXTtcbmNvbnN0IEdTU29sdmVyX3NvbHZlX0JzID0gW107XG5cbi8qKlxyXG4gKiBTcGxpdHMgdGhlIGVxdWF0aW9ucyBpbnRvIGlzbGFuZHMgYW5kIHNvbHZlcyB0aGVtIGluZGVwZW5kZW50bHkuIENhbiBpbXByb3ZlIHBlcmZvcm1hbmNlLlxyXG4gKiBAY2xhc3MgU3BsaXRTb2x2ZXJcclxuICogQGNvbnN0cnVjdG9yXHJcbiAqIEBleHRlbmRzIFNvbHZlclxyXG4gKiBAcGFyYW0ge1NvbHZlcn0gc3Vic29sdmVyXHJcbiAqL1xuY2xhc3MgU3BsaXRTb2x2ZXIgZXh0ZW5kcyBTb2x2ZXIge1xuICAvLyBUaGUgbnVtYmVyIG9mIHNvbHZlciBpdGVyYXRpb25zIGRldGVybWluZXMgcXVhbGl0eSBvZiB0aGUgY29uc3RyYWludHMgaW4gdGhlIHdvcmxkLiBUaGUgbW9yZSBpdGVyYXRpb25zLCB0aGUgbW9yZSBjb3JyZWN0IHNpbXVsYXRpb24uIE1vcmUgaXRlcmF0aW9ucyBuZWVkIG1vcmUgY29tcHV0YXRpb25zIHRob3VnaC4gSWYgeW91IGhhdmUgYSBsYXJnZSBncmF2aXR5IGZvcmNlIGluIHlvdXIgd29ybGQsIHlvdSB3aWxsIG5lZWQgbW9yZSBpdGVyYXRpb25zLlxuICAvLyBXaGVuIHRvbGVyYW5jZSBpcyByZWFjaGVkLCB0aGUgc3lzdGVtIGlzIGFzc3VtZWQgdG8gYmUgY29udmVyZ2VkLlxuICBjb25zdHJ1Y3RvcihzdWJzb2x2ZXIpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuaXRlcmF0aW9ucyA9IDEwO1xuICAgIHRoaXMudG9sZXJhbmNlID0gMWUtNztcbiAgICB0aGlzLnN1YnNvbHZlciA9IHN1YnNvbHZlcjtcbiAgICB0aGlzLm5vZGVzID0gW107XG4gICAgdGhpcy5ub2RlUG9vbCA9IFtdOyAvLyBDcmVhdGUgbmVlZGVkIG5vZGVzLCByZXVzZSBpZiBwb3NzaWJsZVxuXG4gICAgd2hpbGUgKHRoaXMubm9kZVBvb2wubGVuZ3RoIDwgMTI4KSB7XG4gICAgICB0aGlzLm5vZGVQb29sLnB1c2godGhpcy5jcmVhdGVOb2RlKCkpO1xuICAgIH1cbiAgfVxuXG4gIGNyZWF0ZU5vZGUoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGJvZHk6IG51bGwsXG4gICAgICBjaGlsZHJlbjogW10sXG4gICAgICBlcXM6IFtdLFxuICAgICAgdmlzaXRlZDogZmFsc2VcbiAgICB9O1xuICB9XG4gIC8qKlxyXG4gICAqIFNvbHZlIHRoZSBzdWJzeXN0ZW1zXHJcbiAgICogQG1ldGhvZCBzb2x2ZVxyXG4gICAqIEBwYXJhbSAge051bWJlcn0gZHRcclxuICAgKiBAcGFyYW0gIHtXb3JsZH0gd29ybGRcclxuICAgKiBAcmV0dXJuIHtOdW1iZXJ9IG51bWJlciBvZiBpdGVyYXRpb25zIHBlcmZvcm1lZFxyXG4gICAqL1xuXG5cbiAgc29sdmUoZHQsIHdvcmxkKSB7XG4gICAgY29uc3Qgbm9kZXMgPSBTcGxpdFNvbHZlcl9zb2x2ZV9ub2RlcztcbiAgICBjb25zdCBub2RlUG9vbCA9IHRoaXMubm9kZVBvb2w7XG4gICAgY29uc3QgYm9kaWVzID0gd29ybGQuYm9kaWVzO1xuICAgIGNvbnN0IGVxdWF0aW9ucyA9IHRoaXMuZXF1YXRpb25zO1xuICAgIGNvbnN0IE5lcSA9IGVxdWF0aW9ucy5sZW5ndGg7XG4gICAgY29uc3QgTmJvZGllcyA9IGJvZGllcy5sZW5ndGg7XG4gICAgY29uc3Qgc3Vic29sdmVyID0gdGhpcy5zdWJzb2x2ZXI7IC8vIENyZWF0ZSBuZWVkZWQgbm9kZXMsIHJldXNlIGlmIHBvc3NpYmxlXG5cbiAgICB3aGlsZSAobm9kZVBvb2wubGVuZ3RoIDwgTmJvZGllcykge1xuICAgICAgbm9kZVBvb2wucHVzaCh0aGlzLmNyZWF0ZU5vZGUoKSk7XG4gICAgfVxuXG4gICAgbm9kZXMubGVuZ3RoID0gTmJvZGllcztcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgTmJvZGllczsgaSsrKSB7XG4gICAgICBub2Rlc1tpXSA9IG5vZGVQb29sW2ldO1xuICAgIH0gLy8gUmVzZXQgbm9kZSB2YWx1ZXNcblxuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgIT09IE5ib2RpZXM7IGkrKykge1xuICAgICAgY29uc3Qgbm9kZSA9IG5vZGVzW2ldO1xuICAgICAgbm9kZS5ib2R5ID0gYm9kaWVzW2ldO1xuICAgICAgbm9kZS5jaGlsZHJlbi5sZW5ndGggPSAwO1xuICAgICAgbm9kZS5lcXMubGVuZ3RoID0gMDtcbiAgICAgIG5vZGUudmlzaXRlZCA9IGZhbHNlO1xuICAgIH1cblxuICAgIGZvciAobGV0IGsgPSAwOyBrICE9PSBOZXE7IGsrKykge1xuICAgICAgY29uc3QgZXEgPSBlcXVhdGlvbnNba107XG4gICAgICBjb25zdCBpID0gYm9kaWVzLmluZGV4T2YoZXEuYmkpO1xuICAgICAgY29uc3QgaiA9IGJvZGllcy5pbmRleE9mKGVxLmJqKTtcbiAgICAgIGNvbnN0IG5pID0gbm9kZXNbaV07XG4gICAgICBjb25zdCBuaiA9IG5vZGVzW2pdO1xuICAgICAgbmkuY2hpbGRyZW4ucHVzaChuaik7XG4gICAgICBuaS5lcXMucHVzaChlcSk7XG4gICAgICBuai5jaGlsZHJlbi5wdXNoKG5pKTtcbiAgICAgIG5qLmVxcy5wdXNoKGVxKTtcbiAgICB9XG5cbiAgICBsZXQgY2hpbGQ7XG4gICAgbGV0IG4gPSAwO1xuICAgIGxldCBlcXMgPSBTcGxpdFNvbHZlcl9zb2x2ZV9lcXM7XG4gICAgc3Vic29sdmVyLnRvbGVyYW5jZSA9IHRoaXMudG9sZXJhbmNlO1xuICAgIHN1YnNvbHZlci5pdGVyYXRpb25zID0gdGhpcy5pdGVyYXRpb25zO1xuICAgIGNvbnN0IGR1bW15V29ybGQgPSBTcGxpdFNvbHZlcl9zb2x2ZV9kdW1teVdvcmxkO1xuXG4gICAgd2hpbGUgKGNoaWxkID0gZ2V0VW52aXNpdGVkTm9kZShub2RlcykpIHtcbiAgICAgIGVxcy5sZW5ndGggPSAwO1xuICAgICAgZHVtbXlXb3JsZC5ib2RpZXMubGVuZ3RoID0gMDtcbiAgICAgIGJmcyhjaGlsZCwgdmlzaXRGdW5jLCBkdW1teVdvcmxkLmJvZGllcywgZXFzKTtcbiAgICAgIGNvbnN0IE5lcXMgPSBlcXMubGVuZ3RoO1xuICAgICAgZXFzID0gZXFzLnNvcnQoc29ydEJ5SWQpO1xuXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSAhPT0gTmVxczsgaSsrKSB7XG4gICAgICAgIHN1YnNvbHZlci5hZGRFcXVhdGlvbihlcXNbaV0pO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBpdGVyID0gc3Vic29sdmVyLnNvbHZlKGR0LCBkdW1teVdvcmxkKTtcbiAgICAgIHN1YnNvbHZlci5yZW1vdmVBbGxFcXVhdGlvbnMoKTtcbiAgICAgIG4rKztcbiAgICB9XG5cbiAgICByZXR1cm4gbjtcbiAgfVxuXG59IC8vIFJldHVybnMgdGhlIG51bWJlciBvZiBzdWJzeXN0ZW1zXG5cbmNvbnN0IFNwbGl0U29sdmVyX3NvbHZlX25vZGVzID0gW107IC8vIEFsbCBhbGxvY2F0ZWQgbm9kZSBvYmplY3RzXG5cbmNvbnN0IFNwbGl0U29sdmVyX3NvbHZlX2VxcyA9IFtdOyAvLyBUZW1wIGFycmF5XG5cbmNvbnN0IFNwbGl0U29sdmVyX3NvbHZlX2R1bW15V29ybGQgPSB7XG4gIGJvZGllczogW11cbn07IC8vIFRlbXAgb2JqZWN0XG5cbmNvbnN0IFNUQVRJQyA9IEJvZHkuU1RBVElDO1xuXG5mdW5jdGlvbiBnZXRVbnZpc2l0ZWROb2RlKG5vZGVzKSB7XG4gIGNvbnN0IE5ub2RlcyA9IG5vZGVzLmxlbmd0aDtcblxuICBmb3IgKGxldCBpID0gMDsgaSAhPT0gTm5vZGVzOyBpKyspIHtcbiAgICBjb25zdCBub2RlID0gbm9kZXNbaV07XG5cbiAgICBpZiAoIW5vZGUudmlzaXRlZCAmJiAhKG5vZGUuYm9keS50eXBlICYgU1RBVElDKSkge1xuICAgICAgcmV0dXJuIG5vZGU7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG5jb25zdCBxdWV1ZSA9IFtdO1xuXG5mdW5jdGlvbiBiZnMocm9vdCwgdmlzaXRGdW5jLCBiZHMsIGVxcykge1xuICBxdWV1ZS5wdXNoKHJvb3QpO1xuICByb290LnZpc2l0ZWQgPSB0cnVlO1xuICB2aXNpdEZ1bmMocm9vdCwgYmRzLCBlcXMpO1xuXG4gIHdoaWxlIChxdWV1ZS5sZW5ndGgpIHtcbiAgICBjb25zdCBub2RlID0gcXVldWUucG9wKCk7IC8vIExvb3Agb3ZlciB1bnZpc2l0ZWQgY2hpbGQgbm9kZXNcblxuICAgIGxldCBjaGlsZDtcblxuICAgIHdoaWxlIChjaGlsZCA9IGdldFVudmlzaXRlZE5vZGUobm9kZS5jaGlsZHJlbikpIHtcbiAgICAgIGNoaWxkLnZpc2l0ZWQgPSB0cnVlO1xuICAgICAgdmlzaXRGdW5jKGNoaWxkLCBiZHMsIGVxcyk7XG4gICAgICBxdWV1ZS5wdXNoKGNoaWxkKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gdmlzaXRGdW5jKG5vZGUsIGJkcywgZXFzKSB7XG4gIGJkcy5wdXNoKG5vZGUuYm9keSk7XG4gIGNvbnN0IE5lcXMgPSBub2RlLmVxcy5sZW5ndGg7XG5cbiAgZm9yIChsZXQgaSA9IDA7IGkgIT09IE5lcXM7IGkrKykge1xuICAgIGNvbnN0IGVxID0gbm9kZS5lcXNbaV07XG5cbiAgICBpZiAoIWVxcy5pbmNsdWRlcyhlcSkpIHtcbiAgICAgIGVxcy5wdXNoKGVxKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gc29ydEJ5SWQoYSwgYikge1xuICByZXR1cm4gYi5pZCAtIGEuaWQ7XG59XG5cbi8qKlxyXG4gKiBGb3IgcG9vbGluZyBvYmplY3RzIHRoYXQgY2FuIGJlIHJldXNlZC5cclxuICogQGNsYXNzIFBvb2xcclxuICogQGNvbnN0cnVjdG9yXHJcbiAqL1xuY2xhc3MgUG9vbCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMub2JqZWN0cyA9IFtdO1xuICAgIHRoaXMudHlwZSA9IE9iamVjdDtcbiAgfVxuICAvKipcclxuICAgKiBSZWxlYXNlIGFuIG9iamVjdCBhZnRlciB1c2VcclxuICAgKiBAbWV0aG9kIHJlbGVhc2VcclxuICAgKiBAcGFyYW0ge09iamVjdH0gb2JqXHJcbiAgICovXG5cblxuICByZWxlYXNlKC4uLmFyZ3MpIHtcbiAgICBjb25zdCBOYXJncyA9IGFyZ3MubGVuZ3RoO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgIT09IE5hcmdzOyBpKyspIHtcbiAgICAgIHRoaXMub2JqZWN0cy5wdXNoKGFyZ3NbaV0pO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIC8qKlxyXG4gICAqIEdldCBhbiBvYmplY3RcclxuICAgKiBAbWV0aG9kIGdldFxyXG4gICAqIEByZXR1cm4ge21peGVkfVxyXG4gICAqL1xuXG5cbiAgZ2V0KCkge1xuICAgIGlmICh0aGlzLm9iamVjdHMubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gdGhpcy5jb25zdHJ1Y3RPYmplY3QoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRoaXMub2JqZWN0cy5wb3AoKTtcbiAgICB9XG4gIH1cbiAgLyoqXHJcbiAgICogQ29uc3RydWN0IGFuIG9iamVjdC4gU2hvdWxkIGJlIGltcGxlbWVudGVkIGluIGVhY2ggc3ViY2xhc3MuXHJcbiAgICogQG1ldGhvZCBjb25zdHJ1Y3RPYmplY3RcclxuICAgKiBAcmV0dXJuIHttaXhlZH1cclxuICAgKi9cblxuXG4gIGNvbnN0cnVjdE9iamVjdCgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2NvbnN0cnVjdE9iamVjdCgpIG5vdCBpbXBsZW1lbnRlZCBpbiB0aGlzIFBvb2wgc3ViY2xhc3MgeWV0IScpO1xuICB9XG4gIC8qKlxyXG4gICAqIEBtZXRob2QgcmVzaXplXHJcbiAgICogQHBhcmFtIHtudW1iZXJ9IHNpemVcclxuICAgKiBAcmV0dXJuIHtQb29sfSBTZWxmLCBmb3IgY2hhaW5pbmdcclxuICAgKi9cblxuXG4gIHJlc2l6ZShzaXplKSB7XG4gICAgY29uc3Qgb2JqZWN0cyA9IHRoaXMub2JqZWN0cztcblxuICAgIHdoaWxlIChvYmplY3RzLmxlbmd0aCA+IHNpemUpIHtcbiAgICAgIG9iamVjdHMucG9wKCk7XG4gICAgfVxuXG4gICAgd2hpbGUgKG9iamVjdHMubGVuZ3RoIDwgc2l6ZSkge1xuICAgICAgb2JqZWN0cy5wdXNoKHRoaXMuY29uc3RydWN0T2JqZWN0KCkpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbn1cblxuLyoqXHJcbiAqIEBjbGFzcyBWZWMzUG9vbFxyXG4gKiBAY29uc3RydWN0b3JcclxuICogQGV4dGVuZHMgUG9vbFxyXG4gKi9cblxuY2xhc3MgVmVjM1Bvb2wgZXh0ZW5kcyBQb29sIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLnR5cGUgPSBWZWMzO1xuICB9XG4gIC8qKlxyXG4gICAqIENvbnN0cnVjdCBhIHZlY3RvclxyXG4gICAqIEBtZXRob2QgY29uc3RydWN0T2JqZWN0XHJcbiAgICogQHJldHVybiB7VmVjM31cclxuICAgKi9cblxuXG4gIGNvbnN0cnVjdE9iamVjdCgpIHtcbiAgICByZXR1cm4gbmV3IFZlYzMoKTtcbiAgfVxuXG59XG5cbmNvbnN0IENPTExJU0lPTl9UWVBFUyA9IHtcbiAgc3BoZXJlU3BoZXJlOiBTaGFwZS50eXBlcy5TUEhFUkUsXG4gIHNwaGVyZVBsYW5lOiBTaGFwZS50eXBlcy5TUEhFUkUgfCBTaGFwZS50eXBlcy5QTEFORSxcbiAgYm94Qm94OiBTaGFwZS50eXBlcy5CT1ggfCBTaGFwZS50eXBlcy5CT1gsXG4gIHNwaGVyZUJveDogU2hhcGUudHlwZXMuU1BIRVJFIHwgU2hhcGUudHlwZXMuQk9YLFxuICBwbGFuZUJveDogU2hhcGUudHlwZXMuUExBTkUgfCBTaGFwZS50eXBlcy5CT1gsXG4gIGNvbnZleENvbnZleDogU2hhcGUudHlwZXMuQ09OVkVYUE9MWUhFRFJPTixcbiAgc3BoZXJlQ29udmV4OiBTaGFwZS50eXBlcy5TUEhFUkUgfCBTaGFwZS50eXBlcy5DT05WRVhQT0xZSEVEUk9OLFxuICBwbGFuZUNvbnZleDogU2hhcGUudHlwZXMuUExBTkUgfCBTaGFwZS50eXBlcy5DT05WRVhQT0xZSEVEUk9OLFxuICBib3hDb252ZXg6IFNoYXBlLnR5cGVzLkJPWCB8IFNoYXBlLnR5cGVzLkNPTlZFWFBPTFlIRURST04sXG4gIHNwaGVyZUhlaWdodGZpZWxkOiBTaGFwZS50eXBlcy5TUEhFUkUgfCBTaGFwZS50eXBlcy5IRUlHSFRGSUVMRCxcbiAgYm94SGVpZ2h0ZmllbGQ6IFNoYXBlLnR5cGVzLkJPWCB8IFNoYXBlLnR5cGVzLkhFSUdIVEZJRUxELFxuICBjb252ZXhIZWlnaHRmaWVsZDogU2hhcGUudHlwZXMuQ09OVkVYUE9MWUhFRFJPTiB8IFNoYXBlLnR5cGVzLkhFSUdIVEZJRUxELFxuICBzcGhlcmVQYXJ0aWNsZTogU2hhcGUudHlwZXMuUEFSVElDTEUgfCBTaGFwZS50eXBlcy5TUEhFUkUsXG4gIHBsYW5lUGFydGljbGU6IFNoYXBlLnR5cGVzLlBMQU5FIHwgU2hhcGUudHlwZXMuUEFSVElDTEUsXG4gIGJveFBhcnRpY2xlOiBTaGFwZS50eXBlcy5CT1ggfCBTaGFwZS50eXBlcy5QQVJUSUNMRSxcbiAgY29udmV4UGFydGljbGU6IFNoYXBlLnR5cGVzLlBBUlRJQ0xFIHwgU2hhcGUudHlwZXMuQ09OVkVYUE9MWUhFRFJPTixcbiAgc3BoZXJlVHJpbWVzaDogU2hhcGUudHlwZXMuU1BIRVJFIHwgU2hhcGUudHlwZXMuVFJJTUVTSCxcbiAgcGxhbmVUcmltZXNoOiBTaGFwZS50eXBlcy5QTEFORSB8IFNoYXBlLnR5cGVzLlRSSU1FU0hcbn07XG5cbi8qKlxyXG4gKiBIZWxwZXIgY2xhc3MgZm9yIHRoZSBXb3JsZC4gR2VuZXJhdGVzIENvbnRhY3RFcXVhdGlvbnMuXHJcbiAqIEBjbGFzcyBOYXJyb3dwaGFzZVxyXG4gKiBAY29uc3RydWN0b3JcclxuICogQHRvZG8gU3BoZXJlLUNvbnZleFBvbHloZWRyb24gY29udGFjdHNcclxuICogQHRvZG8gQ29udGFjdCByZWR1Y3Rpb25cclxuICogQHRvZG8gc2hvdWxkIG1vdmUgbWV0aG9kcyB0byBwcm90b3R5cGVcclxuICovXG5jbGFzcyBOYXJyb3dwaGFzZSB7XG4gIC8vIEludGVybmFsIHN0b3JhZ2Ugb2YgcG9vbGVkIGNvbnRhY3QgcG9pbnRzLlxuICAvLyBQb29sZWQgdmVjdG9ycy5cbiAgY29uc3RydWN0b3Iod29ybGQpIHtcbiAgICB0aGlzLmNvbnRhY3RQb2ludFBvb2wgPSBbXTtcbiAgICB0aGlzLmZyaWN0aW9uRXF1YXRpb25Qb29sID0gW107XG4gICAgdGhpcy5yZXN1bHQgPSBbXTtcbiAgICB0aGlzLmZyaWN0aW9uUmVzdWx0ID0gW107XG4gICAgdGhpcy52M3Bvb2wgPSBuZXcgVmVjM1Bvb2woKTtcbiAgICB0aGlzLndvcmxkID0gd29ybGQ7XG4gICAgdGhpcy5jdXJyZW50Q29udGFjdE1hdGVyaWFsID0gd29ybGQuZGVmYXVsdENvbnRhY3RNYXRlcmlhbDtcbiAgICB0aGlzLmVuYWJsZUZyaWN0aW9uUmVkdWN0aW9uID0gZmFsc2U7XG4gIH1cbiAgLyoqXHJcbiAgICogTWFrZSBhIGNvbnRhY3Qgb2JqZWN0LCBieSB1c2luZyB0aGUgaW50ZXJuYWwgcG9vbCBvciBjcmVhdGluZyBhIG5ldyBvbmUuXHJcbiAgICogQG1ldGhvZCBjcmVhdGVDb250YWN0RXF1YXRpb25cclxuICAgKiBAcGFyYW0ge0JvZHl9IGJpXHJcbiAgICogQHBhcmFtIHtCb2R5fSBialxyXG4gICAqIEBwYXJhbSB7U2hhcGV9IHNpXHJcbiAgICogQHBhcmFtIHtTaGFwZX0gc2pcclxuICAgKiBAcGFyYW0ge1NoYXBlfSBvdmVycmlkZVNoYXBlQVxyXG4gICAqIEBwYXJhbSB7U2hhcGV9IG92ZXJyaWRlU2hhcGVCXHJcbiAgICogQHJldHVybiB7Q29udGFjdEVxdWF0aW9ufVxyXG4gICAqL1xuXG5cbiAgY3JlYXRlQ29udGFjdEVxdWF0aW9uKGJpLCBiaiwgc2ksIHNqLCBvdmVycmlkZVNoYXBlQSwgb3ZlcnJpZGVTaGFwZUIpIHtcbiAgICBsZXQgYztcblxuICAgIGlmICh0aGlzLmNvbnRhY3RQb2ludFBvb2wubGVuZ3RoKSB7XG4gICAgICBjID0gdGhpcy5jb250YWN0UG9pbnRQb29sLnBvcCgpO1xuICAgICAgYy5iaSA9IGJpO1xuICAgICAgYy5iaiA9IGJqO1xuICAgIH0gZWxzZSB7XG4gICAgICBjID0gbmV3IENvbnRhY3RFcXVhdGlvbihiaSwgYmopO1xuICAgIH1cblxuICAgIGMuZW5hYmxlZCA9IGJpLmNvbGxpc2lvblJlc3BvbnNlICYmIGJqLmNvbGxpc2lvblJlc3BvbnNlICYmIHNpLmNvbGxpc2lvblJlc3BvbnNlICYmIHNqLmNvbGxpc2lvblJlc3BvbnNlO1xuICAgIGNvbnN0IGNtID0gdGhpcy5jdXJyZW50Q29udGFjdE1hdGVyaWFsO1xuICAgIGMucmVzdGl0dXRpb24gPSBjbS5yZXN0aXR1dGlvbjtcbiAgICBjLnNldFNwb29rUGFyYW1zKGNtLmNvbnRhY3RFcXVhdGlvblN0aWZmbmVzcywgY20uY29udGFjdEVxdWF0aW9uUmVsYXhhdGlvbiwgdGhpcy53b3JsZC5kdCk7XG4gICAgY29uc3QgbWF0QSA9IHNpLm1hdGVyaWFsIHx8IGJpLm1hdGVyaWFsO1xuICAgIGNvbnN0IG1hdEIgPSBzai5tYXRlcmlhbCB8fCBiai5tYXRlcmlhbDtcblxuICAgIGlmIChtYXRBICYmIG1hdEIgJiYgbWF0QS5yZXN0aXR1dGlvbiA+PSAwICYmIG1hdEIucmVzdGl0dXRpb24gPj0gMCkge1xuICAgICAgYy5yZXN0aXR1dGlvbiA9IG1hdEEucmVzdGl0dXRpb24gKiBtYXRCLnJlc3RpdHV0aW9uO1xuICAgIH1cblxuICAgIGMuc2kgPSBvdmVycmlkZVNoYXBlQSB8fCBzaTtcbiAgICBjLnNqID0gb3ZlcnJpZGVTaGFwZUIgfHwgc2o7XG4gICAgcmV0dXJuIGM7XG4gIH1cblxuICBjcmVhdGVGcmljdGlvbkVxdWF0aW9uc0Zyb21Db250YWN0KGNvbnRhY3RFcXVhdGlvbiwgb3V0QXJyYXkpIHtcbiAgICBjb25zdCBib2R5QSA9IGNvbnRhY3RFcXVhdGlvbi5iaTtcbiAgICBjb25zdCBib2R5QiA9IGNvbnRhY3RFcXVhdGlvbi5iajtcbiAgICBjb25zdCBzaGFwZUEgPSBjb250YWN0RXF1YXRpb24uc2k7XG4gICAgY29uc3Qgc2hhcGVCID0gY29udGFjdEVxdWF0aW9uLnNqO1xuICAgIGNvbnN0IHdvcmxkID0gdGhpcy53b3JsZDtcbiAgICBjb25zdCBjbSA9IHRoaXMuY3VycmVudENvbnRhY3RNYXRlcmlhbDsgLy8gSWYgZnJpY3Rpb24gb3IgcmVzdGl0dXRpb24gd2VyZSBzcGVjaWZpZWQgaW4gdGhlIG1hdGVyaWFsLCB1c2UgdGhlbVxuXG4gICAgbGV0IGZyaWN0aW9uID0gY20uZnJpY3Rpb247XG4gICAgY29uc3QgbWF0QSA9IHNoYXBlQS5tYXRlcmlhbCB8fCBib2R5QS5tYXRlcmlhbDtcbiAgICBjb25zdCBtYXRCID0gc2hhcGVCLm1hdGVyaWFsIHx8IGJvZHlCLm1hdGVyaWFsO1xuXG4gICAgaWYgKG1hdEEgJiYgbWF0QiAmJiBtYXRBLmZyaWN0aW9uID49IDAgJiYgbWF0Qi5mcmljdGlvbiA+PSAwKSB7XG4gICAgICBmcmljdGlvbiA9IG1hdEEuZnJpY3Rpb24gKiBtYXRCLmZyaWN0aW9uO1xuICAgIH1cblxuICAgIGlmIChmcmljdGlvbiA+IDApIHtcbiAgICAgIC8vIENyZWF0ZSAyIHRhbmdlbnQgZXF1YXRpb25zXG4gICAgICBjb25zdCBtdWcgPSBmcmljdGlvbiAqIHdvcmxkLmdyYXZpdHkubGVuZ3RoKCk7XG4gICAgICBsZXQgcmVkdWNlZE1hc3MgPSBib2R5QS5pbnZNYXNzICsgYm9keUIuaW52TWFzcztcblxuICAgICAgaWYgKHJlZHVjZWRNYXNzID4gMCkge1xuICAgICAgICByZWR1Y2VkTWFzcyA9IDEgLyByZWR1Y2VkTWFzcztcbiAgICAgIH1cblxuICAgICAgY29uc3QgcG9vbCA9IHRoaXMuZnJpY3Rpb25FcXVhdGlvblBvb2w7XG4gICAgICBjb25zdCBjMSA9IHBvb2wubGVuZ3RoID8gcG9vbC5wb3AoKSA6IG5ldyBGcmljdGlvbkVxdWF0aW9uKGJvZHlBLCBib2R5QiwgbXVnICogcmVkdWNlZE1hc3MpO1xuICAgICAgY29uc3QgYzIgPSBwb29sLmxlbmd0aCA/IHBvb2wucG9wKCkgOiBuZXcgRnJpY3Rpb25FcXVhdGlvbihib2R5QSwgYm9keUIsIG11ZyAqIHJlZHVjZWRNYXNzKTtcbiAgICAgIGMxLmJpID0gYzIuYmkgPSBib2R5QTtcbiAgICAgIGMxLmJqID0gYzIuYmogPSBib2R5QjtcbiAgICAgIGMxLm1pbkZvcmNlID0gYzIubWluRm9yY2UgPSAtbXVnICogcmVkdWNlZE1hc3M7XG4gICAgICBjMS5tYXhGb3JjZSA9IGMyLm1heEZvcmNlID0gbXVnICogcmVkdWNlZE1hc3M7IC8vIENvcHkgb3ZlciB0aGUgcmVsYXRpdmUgdmVjdG9yc1xuXG4gICAgICBjMS5yaS5jb3B5KGNvbnRhY3RFcXVhdGlvbi5yaSk7XG4gICAgICBjMS5yai5jb3B5KGNvbnRhY3RFcXVhdGlvbi5yaik7XG4gICAgICBjMi5yaS5jb3B5KGNvbnRhY3RFcXVhdGlvbi5yaSk7XG4gICAgICBjMi5yai5jb3B5KGNvbnRhY3RFcXVhdGlvbi5yaik7IC8vIENvbnN0cnVjdCB0YW5nZW50c1xuXG4gICAgICBjb250YWN0RXF1YXRpb24ubmkudGFuZ2VudHMoYzEudCwgYzIudCk7IC8vIFNldCBzcG9vayBwYXJhbXNcblxuICAgICAgYzEuc2V0U3Bvb2tQYXJhbXMoY20uZnJpY3Rpb25FcXVhdGlvblN0aWZmbmVzcywgY20uZnJpY3Rpb25FcXVhdGlvblJlbGF4YXRpb24sIHdvcmxkLmR0KTtcbiAgICAgIGMyLnNldFNwb29rUGFyYW1zKGNtLmZyaWN0aW9uRXF1YXRpb25TdGlmZm5lc3MsIGNtLmZyaWN0aW9uRXF1YXRpb25SZWxheGF0aW9uLCB3b3JsZC5kdCk7XG4gICAgICBjMS5lbmFibGVkID0gYzIuZW5hYmxlZCA9IGNvbnRhY3RFcXVhdGlvbi5lbmFibGVkO1xuICAgICAgb3V0QXJyYXkucHVzaChjMSwgYzIpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9IC8vIFRha2UgdGhlIGF2ZXJhZ2UgTiBsYXRlc3QgY29udGFjdCBwb2ludCBvbiB0aGUgcGxhbmUuXG5cblxuICBjcmVhdGVGcmljdGlvbkZyb21BdmVyYWdlKG51bUNvbnRhY3RzKSB7XG4gICAgLy8gVGhlIGxhc3QgY29udGFjdEVxdWF0aW9uXG4gICAgbGV0IGMgPSB0aGlzLnJlc3VsdFt0aGlzLnJlc3VsdC5sZW5ndGggLSAxXTsgLy8gQ3JlYXRlIHRoZSByZXN1bHQ6IHR3byBcImF2ZXJhZ2VcIiBmcmljdGlvbiBlcXVhdGlvbnNcblxuICAgIGlmICghdGhpcy5jcmVhdGVGcmljdGlvbkVxdWF0aW9uc0Zyb21Db250YWN0KGMsIHRoaXMuZnJpY3Rpb25SZXN1bHQpIHx8IG51bUNvbnRhY3RzID09PSAxKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgZjEgPSB0aGlzLmZyaWN0aW9uUmVzdWx0W3RoaXMuZnJpY3Rpb25SZXN1bHQubGVuZ3RoIC0gMl07XG4gICAgY29uc3QgZjIgPSB0aGlzLmZyaWN0aW9uUmVzdWx0W3RoaXMuZnJpY3Rpb25SZXN1bHQubGVuZ3RoIC0gMV07XG4gICAgYXZlcmFnZU5vcm1hbC5zZXRaZXJvKCk7XG4gICAgYXZlcmFnZUNvbnRhY3RQb2ludEEuc2V0WmVybygpO1xuICAgIGF2ZXJhZ2VDb250YWN0UG9pbnRCLnNldFplcm8oKTtcbiAgICBjb25zdCBib2R5QSA9IGMuYmk7XG4gICAgY29uc3QgYm9keUIgPSBjLmJqO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgIT09IG51bUNvbnRhY3RzOyBpKyspIHtcbiAgICAgIGMgPSB0aGlzLnJlc3VsdFt0aGlzLnJlc3VsdC5sZW5ndGggLSAxIC0gaV07XG5cbiAgICAgIGlmIChjLmJpICE9PSBib2R5QSkge1xuICAgICAgICBhdmVyYWdlTm9ybWFsLnZhZGQoYy5uaSwgYXZlcmFnZU5vcm1hbCk7XG4gICAgICAgIGF2ZXJhZ2VDb250YWN0UG9pbnRBLnZhZGQoYy5yaSwgYXZlcmFnZUNvbnRhY3RQb2ludEEpO1xuICAgICAgICBhdmVyYWdlQ29udGFjdFBvaW50Qi52YWRkKGMucmosIGF2ZXJhZ2VDb250YWN0UG9pbnRCKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGF2ZXJhZ2VOb3JtYWwudnN1YihjLm5pLCBhdmVyYWdlTm9ybWFsKTtcbiAgICAgICAgYXZlcmFnZUNvbnRhY3RQb2ludEEudmFkZChjLnJqLCBhdmVyYWdlQ29udGFjdFBvaW50QSk7XG4gICAgICAgIGF2ZXJhZ2VDb250YWN0UG9pbnRCLnZhZGQoYy5yaSwgYXZlcmFnZUNvbnRhY3RQb2ludEIpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IGludk51bUNvbnRhY3RzID0gMSAvIG51bUNvbnRhY3RzO1xuICAgIGF2ZXJhZ2VDb250YWN0UG9pbnRBLnNjYWxlKGludk51bUNvbnRhY3RzLCBmMS5yaSk7XG4gICAgYXZlcmFnZUNvbnRhY3RQb2ludEIuc2NhbGUoaW52TnVtQ29udGFjdHMsIGYxLnJqKTtcbiAgICBmMi5yaS5jb3B5KGYxLnJpKTsgLy8gU2hvdWxkIGJlIHRoZSBzYW1lXG5cbiAgICBmMi5yai5jb3B5KGYxLnJqKTtcbiAgICBhdmVyYWdlTm9ybWFsLm5vcm1hbGl6ZSgpO1xuICAgIGF2ZXJhZ2VOb3JtYWwudGFuZ2VudHMoZjEudCwgZjIudCk7IC8vIHJldHVybiBlcTtcbiAgfVxuICAvKipcclxuICAgKiBHZW5lcmF0ZSBhbGwgY29udGFjdHMgYmV0d2VlbiBhIGxpc3Qgb2YgYm9keSBwYWlyc1xyXG4gICAqIEBtZXRob2QgZ2V0Q29udGFjdHNcclxuICAgKiBAcGFyYW0ge2FycmF5fSBwMSBBcnJheSBvZiBib2R5IGluZGljZXNcclxuICAgKiBAcGFyYW0ge2FycmF5fSBwMiBBcnJheSBvZiBib2R5IGluZGljZXNcclxuICAgKiBAcGFyYW0ge1dvcmxkfSB3b3JsZFxyXG4gICAqIEBwYXJhbSB7YXJyYXl9IHJlc3VsdCBBcnJheSB0byBzdG9yZSBnZW5lcmF0ZWQgY29udGFjdHNcclxuICAgKiBAcGFyYW0ge2FycmF5fSBvbGRjb250YWN0cyBPcHRpb25hbC4gQXJyYXkgb2YgcmV1c2FibGUgY29udGFjdCBvYmplY3RzXHJcbiAgICovXG5cblxuICBnZXRDb250YWN0cyhwMSwgcDIsIHdvcmxkLCByZXN1bHQsIG9sZGNvbnRhY3RzLCBmcmljdGlvblJlc3VsdCwgZnJpY3Rpb25Qb29sKSB7XG4gICAgLy8gU2F2ZSBvbGQgY29udGFjdCBvYmplY3RzXG4gICAgdGhpcy5jb250YWN0UG9pbnRQb29sID0gb2xkY29udGFjdHM7XG4gICAgdGhpcy5mcmljdGlvbkVxdWF0aW9uUG9vbCA9IGZyaWN0aW9uUG9vbDtcbiAgICB0aGlzLnJlc3VsdCA9IHJlc3VsdDtcbiAgICB0aGlzLmZyaWN0aW9uUmVzdWx0ID0gZnJpY3Rpb25SZXN1bHQ7XG4gICAgY29uc3QgcWkgPSB0bXBRdWF0MTtcbiAgICBjb25zdCBxaiA9IHRtcFF1YXQyO1xuICAgIGNvbnN0IHhpID0gdG1wVmVjMSQyO1xuICAgIGNvbnN0IHhqID0gdG1wVmVjMiQyO1xuXG4gICAgZm9yIChsZXQgayA9IDAsIE4gPSBwMS5sZW5ndGg7IGsgIT09IE47IGsrKykge1xuICAgICAgLy8gR2V0IGN1cnJlbnQgY29sbGlzaW9uIGJvZGllc1xuICAgICAgY29uc3QgYmkgPSBwMVtrXTtcbiAgICAgIGNvbnN0IGJqID0gcDJba107IC8vIEdldCBjb250YWN0IG1hdGVyaWFsXG5cbiAgICAgIGxldCBib2R5Q29udGFjdE1hdGVyaWFsID0gbnVsbDtcblxuICAgICAgaWYgKGJpLm1hdGVyaWFsICYmIGJqLm1hdGVyaWFsKSB7XG4gICAgICAgIGJvZHlDb250YWN0TWF0ZXJpYWwgPSB3b3JsZC5nZXRDb250YWN0TWF0ZXJpYWwoYmkubWF0ZXJpYWwsIGJqLm1hdGVyaWFsKSB8fCBudWxsO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBqdXN0VGVzdCA9IGJpLnR5cGUgJiBCb2R5LktJTkVNQVRJQyAmJiBiai50eXBlICYgQm9keS5TVEFUSUMgfHwgYmkudHlwZSAmIEJvZHkuU1RBVElDICYmIGJqLnR5cGUgJiBCb2R5LktJTkVNQVRJQyB8fCBiaS50eXBlICYgQm9keS5LSU5FTUFUSUMgJiYgYmoudHlwZSAmIEJvZHkuS0lORU1BVElDO1xuXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGJpLnNoYXBlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBiaS5xdWF0ZXJuaW9uLm11bHQoYmkuc2hhcGVPcmllbnRhdGlvbnNbaV0sIHFpKTtcbiAgICAgICAgYmkucXVhdGVybmlvbi52bXVsdChiaS5zaGFwZU9mZnNldHNbaV0sIHhpKTtcbiAgICAgICAgeGkudmFkZChiaS5wb3NpdGlvbiwgeGkpO1xuICAgICAgICBjb25zdCBzaSA9IGJpLnNoYXBlc1tpXTtcblxuICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGJqLnNoYXBlcy5sZW5ndGg7IGorKykge1xuICAgICAgICAgIC8vIENvbXB1dGUgd29ybGQgdHJhbnNmb3JtIG9mIHNoYXBlc1xuICAgICAgICAgIGJqLnF1YXRlcm5pb24ubXVsdChiai5zaGFwZU9yaWVudGF0aW9uc1tqXSwgcWopO1xuICAgICAgICAgIGJqLnF1YXRlcm5pb24udm11bHQoYmouc2hhcGVPZmZzZXRzW2pdLCB4aik7XG4gICAgICAgICAgeGoudmFkZChiai5wb3NpdGlvbiwgeGopO1xuICAgICAgICAgIGNvbnN0IHNqID0gYmouc2hhcGVzW2pdO1xuXG4gICAgICAgICAgaWYgKCEoc2kuY29sbGlzaW9uRmlsdGVyTWFzayAmIHNqLmNvbGxpc2lvbkZpbHRlckdyb3VwICYmIHNqLmNvbGxpc2lvbkZpbHRlck1hc2sgJiBzaS5jb2xsaXNpb25GaWx0ZXJHcm91cCkpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmICh4aS5kaXN0YW5jZVRvKHhqKSA+IHNpLmJvdW5kaW5nU3BoZXJlUmFkaXVzICsgc2ouYm91bmRpbmdTcGhlcmVSYWRpdXMpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH0gLy8gR2V0IGNvbGxpc2lvbiBtYXRlcmlhbFxuXG5cbiAgICAgICAgICBsZXQgc2hhcGVDb250YWN0TWF0ZXJpYWwgPSBudWxsO1xuXG4gICAgICAgICAgaWYgKHNpLm1hdGVyaWFsICYmIHNqLm1hdGVyaWFsKSB7XG4gICAgICAgICAgICBzaGFwZUNvbnRhY3RNYXRlcmlhbCA9IHdvcmxkLmdldENvbnRhY3RNYXRlcmlhbChzaS5tYXRlcmlhbCwgc2oubWF0ZXJpYWwpIHx8IG51bGw7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdGhpcy5jdXJyZW50Q29udGFjdE1hdGVyaWFsID0gc2hhcGVDb250YWN0TWF0ZXJpYWwgfHwgYm9keUNvbnRhY3RNYXRlcmlhbCB8fCB3b3JsZC5kZWZhdWx0Q29udGFjdE1hdGVyaWFsOyAvLyBHZXQgY29udGFjdHNcblxuICAgICAgICAgIGNvbnN0IHJlc29sdmVySW5kZXggPSBzaS50eXBlIHwgc2oudHlwZTtcbiAgICAgICAgICBjb25zdCByZXNvbHZlciA9IHRoaXNbcmVzb2x2ZXJJbmRleF07XG5cbiAgICAgICAgICBpZiAocmVzb2x2ZXIpIHtcbiAgICAgICAgICAgIGxldCByZXR2YWwgPSBmYWxzZTsgLy8gVE8gRE86IGludmVzdGlnYXRlIHdoeSBzcGhlcmVQYXJ0aWNsZSBhbmQgY29udmV4UGFydGljbGVcbiAgICAgICAgICAgIC8vIHJlc29sdmVycyBleHBlY3Qgc2kgYW5kIHNqIHNoYXBlcyB0byBiZSBpbiByZXZlcnNlIG9yZGVyXG4gICAgICAgICAgICAvLyAoaS5lLiBsYXJnZXIgaW50ZWdlciB2YWx1ZSB0eXBlIGZpcnN0IGluc3RlYWQgb2Ygc21hbGxlciBmaXJzdClcblxuICAgICAgICAgICAgaWYgKHNpLnR5cGUgPCBzai50eXBlKSB7XG4gICAgICAgICAgICAgIHJldHZhbCA9IHJlc29sdmVyLmNhbGwodGhpcywgc2ksIHNqLCB4aSwgeGosIHFpLCBxaiwgYmksIGJqLCBzaSwgc2osIGp1c3RUZXN0KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHJldHZhbCA9IHJlc29sdmVyLmNhbGwodGhpcywgc2osIHNpLCB4aiwgeGksIHFqLCBxaSwgYmosIGJpLCBzaSwgc2osIGp1c3RUZXN0KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHJldHZhbCAmJiBqdXN0VGVzdCkge1xuICAgICAgICAgICAgICAvLyBSZWdpc3RlciBvdmVybGFwXG4gICAgICAgICAgICAgIHdvcmxkLnNoYXBlT3ZlcmxhcEtlZXBlci5zZXQoc2kuaWQsIHNqLmlkKTtcbiAgICAgICAgICAgICAgd29ybGQuYm9keU92ZXJsYXBLZWVwZXIuc2V0KGJpLmlkLCBiai5pZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgc3BoZXJlU3BoZXJlKHNpLCBzaiwgeGksIHhqLCBxaSwgcWosIGJpLCBiaiwgcnNpLCByc2osIGp1c3RUZXN0KSB7XG4gICAgaWYgKGp1c3RUZXN0KSB7XG4gICAgICByZXR1cm4geGkuZGlzdGFuY2VTcXVhcmVkKHhqKSA8IChzaS5yYWRpdXMgKyBzai5yYWRpdXMpICoqIDI7XG4gICAgfSAvLyBXZSB3aWxsIGhhdmUgb25seSBvbmUgY29udGFjdCBpbiB0aGlzIGNhc2VcblxuXG4gICAgY29uc3QgciA9IHRoaXMuY3JlYXRlQ29udGFjdEVxdWF0aW9uKGJpLCBiaiwgc2ksIHNqLCByc2ksIHJzaik7IC8vIENvbnRhY3Qgbm9ybWFsXG5cbiAgICB4ai52c3ViKHhpLCByLm5pKTtcbiAgICByLm5pLm5vcm1hbGl6ZSgpOyAvLyBDb250YWN0IHBvaW50IGxvY2F0aW9uc1xuXG4gICAgci5yaS5jb3B5KHIubmkpO1xuICAgIHIucmouY29weShyLm5pKTtcbiAgICByLnJpLnNjYWxlKHNpLnJhZGl1cywgci5yaSk7XG4gICAgci5yai5zY2FsZSgtc2oucmFkaXVzLCByLnJqKTtcbiAgICByLnJpLnZhZGQoeGksIHIucmkpO1xuICAgIHIucmkudnN1YihiaS5wb3NpdGlvbiwgci5yaSk7XG4gICAgci5yai52YWRkKHhqLCByLnJqKTtcbiAgICByLnJqLnZzdWIoYmoucG9zaXRpb24sIHIucmopO1xuICAgIHRoaXMucmVzdWx0LnB1c2gocik7XG4gICAgdGhpcy5jcmVhdGVGcmljdGlvbkVxdWF0aW9uc0Zyb21Db250YWN0KHIsIHRoaXMuZnJpY3Rpb25SZXN1bHQpO1xuICB9XG5cbiAgc3BoZXJlUGxhbmUoc2ksIHNqLCB4aSwgeGosIHFpLCBxaiwgYmksIGJqLCByc2ksIHJzaiwganVzdFRlc3QpIHtcbiAgICAvLyBXZSB3aWxsIGhhdmUgb25lIGNvbnRhY3QgaW4gdGhpcyBjYXNlXG4gICAgY29uc3QgciA9IHRoaXMuY3JlYXRlQ29udGFjdEVxdWF0aW9uKGJpLCBiaiwgc2ksIHNqLCByc2ksIHJzaik7IC8vIENvbnRhY3Qgbm9ybWFsXG5cbiAgICByLm5pLnNldCgwLCAwLCAxKTtcbiAgICBxai52bXVsdChyLm5pLCByLm5pKTtcbiAgICByLm5pLm5lZ2F0ZShyLm5pKTsgLy8gYm9keSBpIGlzIHRoZSBzcGhlcmUsIGZsaXAgbm9ybWFsXG5cbiAgICByLm5pLm5vcm1hbGl6ZSgpOyAvLyBOZWVkZWQ/XG4gICAgLy8gVmVjdG9yIGZyb20gc3BoZXJlIGNlbnRlciB0byBjb250YWN0IHBvaW50XG5cbiAgICByLm5pLnNjYWxlKHNpLnJhZGl1cywgci5yaSk7IC8vIFByb2plY3QgZG93biBzcGhlcmUgb24gcGxhbmVcblxuICAgIHhpLnZzdWIoeGosIHBvaW50X29uX3BsYW5lX3RvX3NwaGVyZSk7XG4gICAgci5uaS5zY2FsZShyLm5pLmRvdChwb2ludF9vbl9wbGFuZV90b19zcGhlcmUpLCBwbGFuZV90b19zcGhlcmVfb3J0aG8pO1xuICAgIHBvaW50X29uX3BsYW5lX3RvX3NwaGVyZS52c3ViKHBsYW5lX3RvX3NwaGVyZV9vcnRobywgci5yaik7IC8vIFRoZSBzcGhlcmUgcG9zaXRpb24gcHJvamVjdGVkIHRvIHBsYW5lXG5cbiAgICBpZiAoLXBvaW50X29uX3BsYW5lX3RvX3NwaGVyZS5kb3Qoci5uaSkgPD0gc2kucmFkaXVzKSB7XG4gICAgICBpZiAoanVzdFRlc3QpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9IC8vIE1ha2UgaXQgcmVsYXRpdmUgdG8gdGhlIGJvZHlcblxuXG4gICAgICBjb25zdCByaSA9IHIucmk7XG4gICAgICBjb25zdCByaiA9IHIucmo7XG4gICAgICByaS52YWRkKHhpLCByaSk7XG4gICAgICByaS52c3ViKGJpLnBvc2l0aW9uLCByaSk7XG4gICAgICByai52YWRkKHhqLCByaik7XG4gICAgICByai52c3ViKGJqLnBvc2l0aW9uLCByaik7XG4gICAgICB0aGlzLnJlc3VsdC5wdXNoKHIpO1xuICAgICAgdGhpcy5jcmVhdGVGcmljdGlvbkVxdWF0aW9uc0Zyb21Db250YWN0KHIsIHRoaXMuZnJpY3Rpb25SZXN1bHQpO1xuICAgIH1cbiAgfVxuXG4gIGJveEJveChzaSwgc2osIHhpLCB4aiwgcWksIHFqLCBiaSwgYmosIHJzaSwgcnNqLCBqdXN0VGVzdCkge1xuICAgIHNpLmNvbnZleFBvbHloZWRyb25SZXByZXNlbnRhdGlvbi5tYXRlcmlhbCA9IHNpLm1hdGVyaWFsO1xuICAgIHNqLmNvbnZleFBvbHloZWRyb25SZXByZXNlbnRhdGlvbi5tYXRlcmlhbCA9IHNqLm1hdGVyaWFsO1xuICAgIHNpLmNvbnZleFBvbHloZWRyb25SZXByZXNlbnRhdGlvbi5jb2xsaXNpb25SZXNwb25zZSA9IHNpLmNvbGxpc2lvblJlc3BvbnNlO1xuICAgIHNqLmNvbnZleFBvbHloZWRyb25SZXByZXNlbnRhdGlvbi5jb2xsaXNpb25SZXNwb25zZSA9IHNqLmNvbGxpc2lvblJlc3BvbnNlO1xuICAgIHJldHVybiB0aGlzLmNvbnZleENvbnZleChzaS5jb252ZXhQb2x5aGVkcm9uUmVwcmVzZW50YXRpb24sIHNqLmNvbnZleFBvbHloZWRyb25SZXByZXNlbnRhdGlvbiwgeGksIHhqLCBxaSwgcWosIGJpLCBiaiwgc2ksIHNqLCBqdXN0VGVzdCk7XG4gIH1cblxuICBzcGhlcmVCb3goc2ksIHNqLCB4aSwgeGosIHFpLCBxaiwgYmksIGJqLCByc2ksIHJzaiwganVzdFRlc3QpIHtcbiAgICBjb25zdCB2M3Bvb2wgPSB0aGlzLnYzcG9vbDsgLy8gd2UgcmVmZXIgdG8gdGhlIGJveCBhcyBib2R5IGpcblxuICAgIGNvbnN0IHNpZGVzID0gc3BoZXJlQm94X3NpZGVzO1xuICAgIHhpLnZzdWIoeGosIGJveF90b19zcGhlcmUpO1xuICAgIHNqLmdldFNpZGVOb3JtYWxzKHNpZGVzLCBxaik7XG4gICAgY29uc3QgUiA9IHNpLnJhZGl1cztcblxuICAgIGxldCBmb3VuZCA9IGZhbHNlOyAvLyBTdG9yZSB0aGUgcmVzdWx0aW5nIHNpZGUgcGVuZXRyYXRpb24gaW5mb1xuXG4gICAgY29uc3Qgc2lkZV9ucyA9IHNwaGVyZUJveF9zaWRlX25zO1xuICAgIGNvbnN0IHNpZGVfbnMxID0gc3BoZXJlQm94X3NpZGVfbnMxO1xuICAgIGNvbnN0IHNpZGVfbnMyID0gc3BoZXJlQm94X3NpZGVfbnMyO1xuICAgIGxldCBzaWRlX2ggPSBudWxsO1xuICAgIGxldCBzaWRlX3BlbmV0cmF0aW9ucyA9IDA7XG4gICAgbGV0IHNpZGVfZG90MSA9IDA7XG4gICAgbGV0IHNpZGVfZG90MiA9IDA7XG4gICAgbGV0IHNpZGVfZGlzdGFuY2UgPSBudWxsO1xuXG4gICAgZm9yIChsZXQgaWR4ID0gMCwgbnNpZGVzID0gc2lkZXMubGVuZ3RoOyBpZHggIT09IG5zaWRlcyAmJiBmb3VuZCA9PT0gZmFsc2U7IGlkeCsrKSB7XG4gICAgICAvLyBHZXQgdGhlIHBsYW5lIHNpZGUgbm9ybWFsIChucylcbiAgICAgIGNvbnN0IG5zID0gc3BoZXJlQm94X25zO1xuICAgICAgbnMuY29weShzaWRlc1tpZHhdKTtcbiAgICAgIGNvbnN0IGggPSBucy5sZW5ndGgoKTtcbiAgICAgIG5zLm5vcm1hbGl6ZSgpOyAvLyBUaGUgbm9ybWFsL2Rpc3RhbmNlIGRvdCBwcm9kdWN0IHRlbGxzIHdoaWNoIHNpZGUgb2YgdGhlIHBsYW5lIHdlIGFyZVxuXG4gICAgICBjb25zdCBkb3QgPSBib3hfdG9fc3BoZXJlLmRvdChucyk7XG5cbiAgICAgIGlmIChkb3QgPCBoICsgUiAmJiBkb3QgPiAwKSB7XG4gICAgICAgIC8vIEludGVyc2VjdHMgcGxhbmUuIE5vdyBjaGVjayB0aGUgb3RoZXIgdHdvIGRpbWVuc2lvbnNcbiAgICAgICAgY29uc3QgbnMxID0gc3BoZXJlQm94X25zMTtcbiAgICAgICAgY29uc3QgbnMyID0gc3BoZXJlQm94X25zMjtcbiAgICAgICAgbnMxLmNvcHkoc2lkZXNbKGlkeCArIDEpICUgM10pO1xuICAgICAgICBuczIuY29weShzaWRlc1soaWR4ICsgMikgJSAzXSk7XG4gICAgICAgIGNvbnN0IGgxID0gbnMxLmxlbmd0aCgpO1xuICAgICAgICBjb25zdCBoMiA9IG5zMi5sZW5ndGgoKTtcbiAgICAgICAgbnMxLm5vcm1hbGl6ZSgpO1xuICAgICAgICBuczIubm9ybWFsaXplKCk7XG4gICAgICAgIGNvbnN0IGRvdDEgPSBib3hfdG9fc3BoZXJlLmRvdChuczEpO1xuICAgICAgICBjb25zdCBkb3QyID0gYm94X3RvX3NwaGVyZS5kb3QobnMyKTtcblxuICAgICAgICBpZiAoZG90MSA8IGgxICYmIGRvdDEgPiAtaDEgJiYgZG90MiA8IGgyICYmIGRvdDIgPiAtaDIpIHtcbiAgICAgICAgICBjb25zdCBkaXN0ID0gTWF0aC5hYnMoZG90IC0gaCAtIFIpO1xuXG4gICAgICAgICAgaWYgKHNpZGVfZGlzdGFuY2UgPT09IG51bGwgfHwgZGlzdCA8IHNpZGVfZGlzdGFuY2UpIHtcbiAgICAgICAgICAgIHNpZGVfZGlzdGFuY2UgPSBkaXN0O1xuICAgICAgICAgICAgc2lkZV9kb3QxID0gZG90MTtcbiAgICAgICAgICAgIHNpZGVfZG90MiA9IGRvdDI7XG4gICAgICAgICAgICBzaWRlX2ggPSBoO1xuICAgICAgICAgICAgc2lkZV9ucy5jb3B5KG5zKTtcbiAgICAgICAgICAgIHNpZGVfbnMxLmNvcHkobnMxKTtcbiAgICAgICAgICAgIHNpZGVfbnMyLmNvcHkobnMyKTtcbiAgICAgICAgICAgIHNpZGVfcGVuZXRyYXRpb25zKys7XG5cbiAgICAgICAgICAgIGlmIChqdXN0VGVzdCkge1xuICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoc2lkZV9wZW5ldHJhdGlvbnMpIHtcbiAgICAgIGZvdW5kID0gdHJ1ZTtcbiAgICAgIGNvbnN0IHIgPSB0aGlzLmNyZWF0ZUNvbnRhY3RFcXVhdGlvbihiaSwgYmosIHNpLCBzaiwgcnNpLCByc2opO1xuICAgICAgc2lkZV9ucy5zY2FsZSgtUiwgci5yaSk7IC8vIFNwaGVyZSByXG5cbiAgICAgIHIubmkuY29weShzaWRlX25zKTtcbiAgICAgIHIubmkubmVnYXRlKHIubmkpOyAvLyBOb3JtYWwgc2hvdWxkIGJlIG91dCBvZiBzcGhlcmVcblxuICAgICAgc2lkZV9ucy5zY2FsZShzaWRlX2gsIHNpZGVfbnMpO1xuICAgICAgc2lkZV9uczEuc2NhbGUoc2lkZV9kb3QxLCBzaWRlX25zMSk7XG4gICAgICBzaWRlX25zLnZhZGQoc2lkZV9uczEsIHNpZGVfbnMpO1xuICAgICAgc2lkZV9uczIuc2NhbGUoc2lkZV9kb3QyLCBzaWRlX25zMik7XG4gICAgICBzaWRlX25zLnZhZGQoc2lkZV9uczIsIHIucmopOyAvLyBNYWtlIHJlbGF0aXZlIHRvIGJvZGllc1xuXG4gICAgICByLnJpLnZhZGQoeGksIHIucmkpO1xuICAgICAgci5yaS52c3ViKGJpLnBvc2l0aW9uLCByLnJpKTtcbiAgICAgIHIucmoudmFkZCh4aiwgci5yaik7XG4gICAgICByLnJqLnZzdWIoYmoucG9zaXRpb24sIHIucmopO1xuICAgICAgdGhpcy5yZXN1bHQucHVzaChyKTtcbiAgICAgIHRoaXMuY3JlYXRlRnJpY3Rpb25FcXVhdGlvbnNGcm9tQ29udGFjdChyLCB0aGlzLmZyaWN0aW9uUmVzdWx0KTtcbiAgICB9IC8vIENoZWNrIGNvcm5lcnNcblxuXG4gICAgbGV0IHJqID0gdjNwb29sLmdldCgpO1xuICAgIGNvbnN0IHNwaGVyZV90b19jb3JuZXIgPSBzcGhlcmVCb3hfc3BoZXJlX3RvX2Nvcm5lcjtcblxuICAgIGZvciAobGV0IGogPSAwOyBqICE9PSAyICYmICFmb3VuZDsgaisrKSB7XG4gICAgICBmb3IgKGxldCBrID0gMDsgayAhPT0gMiAmJiAhZm91bmQ7IGsrKykge1xuICAgICAgICBmb3IgKGxldCBsID0gMDsgbCAhPT0gMiAmJiAhZm91bmQ7IGwrKykge1xuICAgICAgICAgIHJqLnNldCgwLCAwLCAwKTtcblxuICAgICAgICAgIGlmIChqKSB7XG4gICAgICAgICAgICByai52YWRkKHNpZGVzWzBdLCByaik7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJqLnZzdWIoc2lkZXNbMF0sIHJqKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoaykge1xuICAgICAgICAgICAgcmoudmFkZChzaWRlc1sxXSwgcmopO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByai52c3ViKHNpZGVzWzFdLCByaik7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKGwpIHtcbiAgICAgICAgICAgIHJqLnZhZGQoc2lkZXNbMl0sIHJqKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmoudnN1YihzaWRlc1syXSwgcmopO1xuICAgICAgICAgIH0gLy8gV29ybGQgcG9zaXRpb24gb2YgY29ybmVyXG5cblxuICAgICAgICAgIHhqLnZhZGQocmosIHNwaGVyZV90b19jb3JuZXIpO1xuICAgICAgICAgIHNwaGVyZV90b19jb3JuZXIudnN1Yih4aSwgc3BoZXJlX3RvX2Nvcm5lcik7XG5cbiAgICAgICAgICBpZiAoc3BoZXJlX3RvX2Nvcm5lci5sZW5ndGhTcXVhcmVkKCkgPCBSICogUikge1xuICAgICAgICAgICAgaWYgKGp1c3RUZXN0KSB7XG4gICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmb3VuZCA9IHRydWU7XG4gICAgICAgICAgICBjb25zdCByID0gdGhpcy5jcmVhdGVDb250YWN0RXF1YXRpb24oYmksIGJqLCBzaSwgc2osIHJzaSwgcnNqKTtcbiAgICAgICAgICAgIHIucmkuY29weShzcGhlcmVfdG9fY29ybmVyKTtcbiAgICAgICAgICAgIHIucmkubm9ybWFsaXplKCk7XG4gICAgICAgICAgICByLm5pLmNvcHkoci5yaSk7XG4gICAgICAgICAgICByLnJpLnNjYWxlKFIsIHIucmkpO1xuICAgICAgICAgICAgci5yai5jb3B5KHJqKTsgLy8gTWFrZSByZWxhdGl2ZSB0byBib2RpZXNcblxuICAgICAgICAgICAgci5yaS52YWRkKHhpLCByLnJpKTtcbiAgICAgICAgICAgIHIucmkudnN1YihiaS5wb3NpdGlvbiwgci5yaSk7XG4gICAgICAgICAgICByLnJqLnZhZGQoeGosIHIucmopO1xuICAgICAgICAgICAgci5yai52c3ViKGJqLnBvc2l0aW9uLCByLnJqKTtcbiAgICAgICAgICAgIHRoaXMucmVzdWx0LnB1c2gocik7XG4gICAgICAgICAgICB0aGlzLmNyZWF0ZUZyaWN0aW9uRXF1YXRpb25zRnJvbUNvbnRhY3QociwgdGhpcy5mcmljdGlvblJlc3VsdCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgdjNwb29sLnJlbGVhc2UocmopO1xuICAgIHJqID0gbnVsbDsgLy8gQ2hlY2sgZWRnZXNcblxuICAgIGNvbnN0IGVkZ2VUYW5nZW50ID0gdjNwb29sLmdldCgpO1xuICAgIGNvbnN0IGVkZ2VDZW50ZXIgPSB2M3Bvb2wuZ2V0KCk7XG4gICAgY29uc3QgciA9IHYzcG9vbC5nZXQoKTsgLy8gciA9IGVkZ2UgY2VudGVyIHRvIHNwaGVyZSBjZW50ZXJcblxuICAgIGNvbnN0IG9ydGhvZ29uYWwgPSB2M3Bvb2wuZ2V0KCk7XG4gICAgY29uc3QgZGlzdCA9IHYzcG9vbC5nZXQoKTtcbiAgICBjb25zdCBOc2lkZXMgPSBzaWRlcy5sZW5ndGg7XG5cbiAgICBmb3IgKGxldCBqID0gMDsgaiAhPT0gTnNpZGVzICYmICFmb3VuZDsgaisrKSB7XG4gICAgICBmb3IgKGxldCBrID0gMDsgayAhPT0gTnNpZGVzICYmICFmb3VuZDsgaysrKSB7XG4gICAgICAgIGlmIChqICUgMyAhPT0gayAlIDMpIHtcbiAgICAgICAgICAvLyBHZXQgZWRnZSB0YW5nZW50XG4gICAgICAgICAgc2lkZXNba10uY3Jvc3Moc2lkZXNbal0sIGVkZ2VUYW5nZW50KTtcbiAgICAgICAgICBlZGdlVGFuZ2VudC5ub3JtYWxpemUoKTtcbiAgICAgICAgICBzaWRlc1tqXS52YWRkKHNpZGVzW2tdLCBlZGdlQ2VudGVyKTtcbiAgICAgICAgICByLmNvcHkoeGkpO1xuICAgICAgICAgIHIudnN1YihlZGdlQ2VudGVyLCByKTtcbiAgICAgICAgICByLnZzdWIoeGosIHIpO1xuICAgICAgICAgIGNvbnN0IG9ydGhvbm9ybSA9IHIuZG90KGVkZ2VUYW5nZW50KTsgLy8gZGlzdGFuY2UgZnJvbSBlZGdlIGNlbnRlciB0byBzcGhlcmUgY2VudGVyIGluIHRoZSB0YW5nZW50IGRpcmVjdGlvblxuXG4gICAgICAgICAgZWRnZVRhbmdlbnQuc2NhbGUob3J0aG9ub3JtLCBvcnRob2dvbmFsKTsgLy8gVmVjdG9yIGZyb20gZWRnZSBjZW50ZXIgdG8gc3BoZXJlIGNlbnRlciBpbiB0aGUgdGFuZ2VudCBkaXJlY3Rpb25cbiAgICAgICAgICAvLyBGaW5kIHRoZSB0aGlyZCBzaWRlIG9ydGhvZ29uYWwgdG8gdGhpcyBvbmVcblxuICAgICAgICAgIGxldCBsID0gMDtcblxuICAgICAgICAgIHdoaWxlIChsID09PSBqICUgMyB8fCBsID09PSBrICUgMykge1xuICAgICAgICAgICAgbCsrO1xuICAgICAgICAgIH0gLy8gdmVjIGZyb20gZWRnZSBjZW50ZXIgdG8gc3BoZXJlIHByb2plY3RlZCB0byB0aGUgcGxhbmUgb3J0aG9nb25hbCB0byB0aGUgZWRnZSB0YW5nZW50XG5cblxuICAgICAgICAgIGRpc3QuY29weSh4aSk7XG4gICAgICAgICAgZGlzdC52c3ViKG9ydGhvZ29uYWwsIGRpc3QpO1xuICAgICAgICAgIGRpc3QudnN1YihlZGdlQ2VudGVyLCBkaXN0KTtcbiAgICAgICAgICBkaXN0LnZzdWIoeGosIGRpc3QpOyAvLyBEaXN0YW5jZXMgaW4gdGFuZ2VudCBkaXJlY3Rpb24gYW5kIGRpc3RhbmNlIGluIHRoZSBwbGFuZSBvcnRob2dvbmFsIHRvIGl0XG5cbiAgICAgICAgICBjb25zdCB0ZGlzdCA9IE1hdGguYWJzKG9ydGhvbm9ybSk7XG4gICAgICAgICAgY29uc3QgbmRpc3QgPSBkaXN0Lmxlbmd0aCgpO1xuXG4gICAgICAgICAgaWYgKHRkaXN0IDwgc2lkZXNbbF0ubGVuZ3RoKCkgJiYgbmRpc3QgPCBSKSB7XG4gICAgICAgICAgICBpZiAoanVzdFRlc3QpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZvdW5kID0gdHJ1ZTtcbiAgICAgICAgICAgIGNvbnN0IHJlcyA9IHRoaXMuY3JlYXRlQ29udGFjdEVxdWF0aW9uKGJpLCBiaiwgc2ksIHNqLCByc2ksIHJzaik7XG4gICAgICAgICAgICBlZGdlQ2VudGVyLnZhZGQob3J0aG9nb25hbCwgcmVzLnJqKTsgLy8gYm94IHJqXG5cbiAgICAgICAgICAgIHJlcy5yai5jb3B5KHJlcy5yaik7XG4gICAgICAgICAgICBkaXN0Lm5lZ2F0ZShyZXMubmkpO1xuICAgICAgICAgICAgcmVzLm5pLm5vcm1hbGl6ZSgpO1xuICAgICAgICAgICAgcmVzLnJpLmNvcHkocmVzLnJqKTtcbiAgICAgICAgICAgIHJlcy5yaS52YWRkKHhqLCByZXMucmkpO1xuICAgICAgICAgICAgcmVzLnJpLnZzdWIoeGksIHJlcy5yaSk7XG4gICAgICAgICAgICByZXMucmkubm9ybWFsaXplKCk7XG4gICAgICAgICAgICByZXMucmkuc2NhbGUoUiwgcmVzLnJpKTsgLy8gTWFrZSByZWxhdGl2ZSB0byBib2RpZXNcblxuICAgICAgICAgICAgcmVzLnJpLnZhZGQoeGksIHJlcy5yaSk7XG4gICAgICAgICAgICByZXMucmkudnN1YihiaS5wb3NpdGlvbiwgcmVzLnJpKTtcbiAgICAgICAgICAgIHJlcy5yai52YWRkKHhqLCByZXMucmopO1xuICAgICAgICAgICAgcmVzLnJqLnZzdWIoYmoucG9zaXRpb24sIHJlcy5yaik7XG4gICAgICAgICAgICB0aGlzLnJlc3VsdC5wdXNoKHJlcyk7XG4gICAgICAgICAgICB0aGlzLmNyZWF0ZUZyaWN0aW9uRXF1YXRpb25zRnJvbUNvbnRhY3QocmVzLCB0aGlzLmZyaWN0aW9uUmVzdWx0KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICB2M3Bvb2wucmVsZWFzZShlZGdlVGFuZ2VudCwgZWRnZUNlbnRlciwgciwgb3J0aG9nb25hbCwgZGlzdCk7XG4gIH1cblxuICBwbGFuZUJveChzaSwgc2osIHhpLCB4aiwgcWksIHFqLCBiaSwgYmosIHJzaSwgcnNqLCBqdXN0VGVzdCkge1xuICAgIHNqLmNvbnZleFBvbHloZWRyb25SZXByZXNlbnRhdGlvbi5tYXRlcmlhbCA9IHNqLm1hdGVyaWFsO1xuICAgIHNqLmNvbnZleFBvbHloZWRyb25SZXByZXNlbnRhdGlvbi5jb2xsaXNpb25SZXNwb25zZSA9IHNqLmNvbGxpc2lvblJlc3BvbnNlO1xuICAgIHNqLmNvbnZleFBvbHloZWRyb25SZXByZXNlbnRhdGlvbi5pZCA9IHNqLmlkO1xuICAgIHJldHVybiB0aGlzLnBsYW5lQ29udmV4KHNpLCBzai5jb252ZXhQb2x5aGVkcm9uUmVwcmVzZW50YXRpb24sIHhpLCB4aiwgcWksIHFqLCBiaSwgYmosIHNpLCBzaiwganVzdFRlc3QpO1xuICB9XG5cbiAgY29udmV4Q29udmV4KHNpLCBzaiwgeGksIHhqLCBxaSwgcWosIGJpLCBiaiwgcnNpLCByc2osIGp1c3RUZXN0LCBmYWNlTGlzdEEsIGZhY2VMaXN0Qikge1xuICAgIGNvbnN0IHNlcEF4aXMgPSBjb252ZXhDb252ZXhfc2VwQXhpcztcblxuICAgIGlmICh4aS5kaXN0YW5jZVRvKHhqKSA+IHNpLmJvdW5kaW5nU3BoZXJlUmFkaXVzICsgc2ouYm91bmRpbmdTcGhlcmVSYWRpdXMpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoc2kuZmluZFNlcGFyYXRpbmdBeGlzKHNqLCB4aSwgcWksIHhqLCBxaiwgc2VwQXhpcywgZmFjZUxpc3RBLCBmYWNlTGlzdEIpKSB7XG4gICAgICBjb25zdCByZXMgPSBbXTtcbiAgICAgIGNvbnN0IHEgPSBjb252ZXhDb252ZXhfcTtcbiAgICAgIHNpLmNsaXBBZ2FpbnN0SHVsbCh4aSwgcWksIHNqLCB4aiwgcWosIHNlcEF4aXMsIC0xMDAsIDEwMCwgcmVzKTtcbiAgICAgIGxldCBudW1Db250YWN0cyA9IDA7XG5cbiAgICAgIGZvciAobGV0IGogPSAwOyBqICE9PSByZXMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgaWYgKGp1c3RUZXN0KSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCByID0gdGhpcy5jcmVhdGVDb250YWN0RXF1YXRpb24oYmksIGJqLCBzaSwgc2osIHJzaSwgcnNqKTtcbiAgICAgICAgY29uc3QgcmkgPSByLnJpO1xuICAgICAgICBjb25zdCByaiA9IHIucmo7XG4gICAgICAgIHNlcEF4aXMubmVnYXRlKHIubmkpO1xuICAgICAgICByZXNbal0ubm9ybWFsLm5lZ2F0ZShxKTtcbiAgICAgICAgcS5zY2FsZShyZXNbal0uZGVwdGgsIHEpO1xuICAgICAgICByZXNbal0ucG9pbnQudmFkZChxLCByaSk7XG4gICAgICAgIHJqLmNvcHkocmVzW2pdLnBvaW50KTsgLy8gQ29udGFjdCBwb2ludHMgYXJlIGluIHdvcmxkIGNvb3JkaW5hdGVzLiBUcmFuc2Zvcm0gYmFjayB0byByZWxhdGl2ZVxuXG4gICAgICAgIHJpLnZzdWIoeGksIHJpKTtcbiAgICAgICAgcmoudnN1Yih4aiwgcmopOyAvLyBNYWtlIHJlbGF0aXZlIHRvIGJvZGllc1xuXG4gICAgICAgIHJpLnZhZGQoeGksIHJpKTtcbiAgICAgICAgcmkudnN1YihiaS5wb3NpdGlvbiwgcmkpO1xuICAgICAgICByai52YWRkKHhqLCByaik7XG4gICAgICAgIHJqLnZzdWIoYmoucG9zaXRpb24sIHJqKTtcbiAgICAgICAgdGhpcy5yZXN1bHQucHVzaChyKTtcbiAgICAgICAgbnVtQ29udGFjdHMrKztcblxuICAgICAgICBpZiAoIXRoaXMuZW5hYmxlRnJpY3Rpb25SZWR1Y3Rpb24pIHtcbiAgICAgICAgICB0aGlzLmNyZWF0ZUZyaWN0aW9uRXF1YXRpb25zRnJvbUNvbnRhY3QociwgdGhpcy5mcmljdGlvblJlc3VsdCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuZW5hYmxlRnJpY3Rpb25SZWR1Y3Rpb24gJiYgbnVtQ29udGFjdHMpIHtcbiAgICAgICAgdGhpcy5jcmVhdGVGcmljdGlvbkZyb21BdmVyYWdlKG51bUNvbnRhY3RzKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBzcGhlcmVDb252ZXgoc2ksIHNqLCB4aSwgeGosIHFpLCBxaiwgYmksIGJqLCByc2ksIHJzaiwganVzdFRlc3QpIHtcbiAgICBjb25zdCB2M3Bvb2wgPSB0aGlzLnYzcG9vbDtcbiAgICB4aS52c3ViKHhqLCBjb252ZXhfdG9fc3BoZXJlKTtcbiAgICBjb25zdCBub3JtYWxzID0gc2ouZmFjZU5vcm1hbHM7XG4gICAgY29uc3QgZmFjZXMgPSBzai5mYWNlcztcbiAgICBjb25zdCB2ZXJ0cyA9IHNqLnZlcnRpY2VzO1xuICAgIGNvbnN0IFIgPSBzaS5yYWRpdXM7XG4gICAgLy8gICAgIHJldHVybjtcbiAgICAvLyB9XG5cbiAgICBsZXQgZm91bmQgPSBmYWxzZTsgLy8gQ2hlY2sgY29ybmVyc1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgIT09IHZlcnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCB2ID0gdmVydHNbaV07IC8vIFdvcmxkIHBvc2l0aW9uIG9mIGNvcm5lclxuXG4gICAgICBjb25zdCB3b3JsZENvcm5lciA9IHNwaGVyZUNvbnZleF93b3JsZENvcm5lcjtcbiAgICAgIHFqLnZtdWx0KHYsIHdvcmxkQ29ybmVyKTtcbiAgICAgIHhqLnZhZGQod29ybGRDb3JuZXIsIHdvcmxkQ29ybmVyKTtcbiAgICAgIGNvbnN0IHNwaGVyZV90b19jb3JuZXIgPSBzcGhlcmVDb252ZXhfc3BoZXJlVG9Db3JuZXI7XG4gICAgICB3b3JsZENvcm5lci52c3ViKHhpLCBzcGhlcmVfdG9fY29ybmVyKTtcblxuICAgICAgaWYgKHNwaGVyZV90b19jb3JuZXIubGVuZ3RoU3F1YXJlZCgpIDwgUiAqIFIpIHtcbiAgICAgICAgaWYgKGp1c3RUZXN0KSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBmb3VuZCA9IHRydWU7XG4gICAgICAgIGNvbnN0IHIgPSB0aGlzLmNyZWF0ZUNvbnRhY3RFcXVhdGlvbihiaSwgYmosIHNpLCBzaiwgcnNpLCByc2opO1xuICAgICAgICByLnJpLmNvcHkoc3BoZXJlX3RvX2Nvcm5lcik7XG4gICAgICAgIHIucmkubm9ybWFsaXplKCk7XG4gICAgICAgIHIubmkuY29weShyLnJpKTtcbiAgICAgICAgci5yaS5zY2FsZShSLCByLnJpKTtcbiAgICAgICAgd29ybGRDb3JuZXIudnN1Yih4aiwgci5yaik7IC8vIFNob3VsZCBiZSByZWxhdGl2ZSB0byB0aGUgYm9keS5cblxuICAgICAgICByLnJpLnZhZGQoeGksIHIucmkpO1xuICAgICAgICByLnJpLnZzdWIoYmkucG9zaXRpb24sIHIucmkpOyAvLyBTaG91bGQgYmUgcmVsYXRpdmUgdG8gdGhlIGJvZHkuXG5cbiAgICAgICAgci5yai52YWRkKHhqLCByLnJqKTtcbiAgICAgICAgci5yai52c3ViKGJqLnBvc2l0aW9uLCByLnJqKTtcbiAgICAgICAgdGhpcy5yZXN1bHQucHVzaChyKTtcbiAgICAgICAgdGhpcy5jcmVhdGVGcmljdGlvbkVxdWF0aW9uc0Zyb21Db250YWN0KHIsIHRoaXMuZnJpY3Rpb25SZXN1bHQpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfSAvLyBDaGVjayBzaWRlIChwbGFuZSkgaW50ZXJzZWN0aW9uc1xuXG5cbiAgICBmb3IgKGxldCBpID0gMCwgbmZhY2VzID0gZmFjZXMubGVuZ3RoOyBpICE9PSBuZmFjZXMgJiYgZm91bmQgPT09IGZhbHNlOyBpKyspIHtcbiAgICAgIGNvbnN0IG5vcm1hbCA9IG5vcm1hbHNbaV07XG4gICAgICBjb25zdCBmYWNlID0gZmFjZXNbaV07IC8vIEdldCB3b3JsZC10cmFuc2Zvcm1lZCBub3JtYWwgb2YgdGhlIGZhY2VcblxuICAgICAgY29uc3Qgd29ybGROb3JtYWwgPSBzcGhlcmVDb252ZXhfd29ybGROb3JtYWw7XG4gICAgICBxai52bXVsdChub3JtYWwsIHdvcmxkTm9ybWFsKTsgLy8gR2V0IGEgd29ybGQgdmVydGV4IGZyb20gdGhlIGZhY2VcblxuICAgICAgY29uc3Qgd29ybGRQb2ludCA9IHNwaGVyZUNvbnZleF93b3JsZFBvaW50O1xuICAgICAgcWoudm11bHQodmVydHNbZmFjZVswXV0sIHdvcmxkUG9pbnQpO1xuICAgICAgd29ybGRQb2ludC52YWRkKHhqLCB3b3JsZFBvaW50KTsgLy8gR2V0IGEgcG9pbnQgb24gdGhlIHNwaGVyZSwgY2xvc2VzdCB0byB0aGUgZmFjZSBub3JtYWxcblxuICAgICAgY29uc3Qgd29ybGRTcGhlcmVQb2ludENsb3Nlc3RUb1BsYW5lID0gc3BoZXJlQ29udmV4X3dvcmxkU3BoZXJlUG9pbnRDbG9zZXN0VG9QbGFuZTtcbiAgICAgIHdvcmxkTm9ybWFsLnNjYWxlKC1SLCB3b3JsZFNwaGVyZVBvaW50Q2xvc2VzdFRvUGxhbmUpO1xuICAgICAgeGkudmFkZCh3b3JsZFNwaGVyZVBvaW50Q2xvc2VzdFRvUGxhbmUsIHdvcmxkU3BoZXJlUG9pbnRDbG9zZXN0VG9QbGFuZSk7IC8vIFZlY3RvciBmcm9tIGEgZmFjZSBwb2ludCB0byB0aGUgY2xvc2VzdCBwb2ludCBvbiB0aGUgc3BoZXJlXG5cbiAgICAgIGNvbnN0IHBlbmV0cmF0aW9uVmVjID0gc3BoZXJlQ29udmV4X3BlbmV0cmF0aW9uVmVjO1xuICAgICAgd29ybGRTcGhlcmVQb2ludENsb3Nlc3RUb1BsYW5lLnZzdWIod29ybGRQb2ludCwgcGVuZXRyYXRpb25WZWMpOyAvLyBUaGUgcGVuZXRyYXRpb24uIE5lZ2F0aXZlIHZhbHVlIG1lYW5zIG92ZXJsYXAuXG5cbiAgICAgIGNvbnN0IHBlbmV0cmF0aW9uID0gcGVuZXRyYXRpb25WZWMuZG90KHdvcmxkTm9ybWFsKTtcbiAgICAgIGNvbnN0IHdvcmxkUG9pbnRUb1NwaGVyZSA9IHNwaGVyZUNvbnZleF9zcGhlcmVUb1dvcmxkUG9pbnQ7XG4gICAgICB4aS52c3ViKHdvcmxkUG9pbnQsIHdvcmxkUG9pbnRUb1NwaGVyZSk7XG5cbiAgICAgIGlmIChwZW5ldHJhdGlvbiA8IDAgJiYgd29ybGRQb2ludFRvU3BoZXJlLmRvdCh3b3JsZE5vcm1hbCkgPiAwKSB7XG4gICAgICAgIC8vIEludGVyc2VjdHMgcGxhbmUuIE5vdyBjaGVjayBpZiB0aGUgc3BoZXJlIGlzIGluc2lkZSB0aGUgZmFjZSBwb2x5Z29uXG4gICAgICAgIGNvbnN0IGZhY2VWZXJ0cyA9IFtdOyAvLyBGYWNlIHZlcnRpY2VzLCBpbiB3b3JsZCBjb29yZHNcblxuICAgICAgICBmb3IgKGxldCBqID0gMCwgTnZlcnRzID0gZmFjZS5sZW5ndGg7IGogIT09IE52ZXJ0czsgaisrKSB7XG4gICAgICAgICAgY29uc3Qgd29ybGRWZXJ0ZXggPSB2M3Bvb2wuZ2V0KCk7XG4gICAgICAgICAgcWoudm11bHQodmVydHNbZmFjZVtqXV0sIHdvcmxkVmVydGV4KTtcbiAgICAgICAgICB4ai52YWRkKHdvcmxkVmVydGV4LCB3b3JsZFZlcnRleCk7XG4gICAgICAgICAgZmFjZVZlcnRzLnB1c2god29ybGRWZXJ0ZXgpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHBvaW50SW5Qb2x5Z29uKGZhY2VWZXJ0cywgd29ybGROb3JtYWwsIHhpKSkge1xuICAgICAgICAgIC8vIElzIHRoZSBzcGhlcmUgY2VudGVyIGluIHRoZSBmYWNlIHBvbHlnb24/XG4gICAgICAgICAgaWYgKGp1c3RUZXN0KSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBmb3VuZCA9IHRydWU7XG4gICAgICAgICAgY29uc3QgciA9IHRoaXMuY3JlYXRlQ29udGFjdEVxdWF0aW9uKGJpLCBiaiwgc2ksIHNqLCByc2ksIHJzaik7XG4gICAgICAgICAgd29ybGROb3JtYWwuc2NhbGUoLVIsIHIucmkpOyAvLyBDb250YWN0IG9mZnNldCwgZnJvbSBzcGhlcmUgY2VudGVyIHRvIGNvbnRhY3RcblxuICAgICAgICAgIHdvcmxkTm9ybWFsLm5lZ2F0ZShyLm5pKTsgLy8gTm9ybWFsIHBvaW50aW5nIG91dCBvZiBzcGhlcmVcblxuICAgICAgICAgIGNvbnN0IHBlbmV0cmF0aW9uVmVjMiA9IHYzcG9vbC5nZXQoKTtcbiAgICAgICAgICB3b3JsZE5vcm1hbC5zY2FsZSgtcGVuZXRyYXRpb24sIHBlbmV0cmF0aW9uVmVjMik7XG4gICAgICAgICAgY29uc3QgcGVuZXRyYXRpb25TcGhlcmVQb2ludCA9IHYzcG9vbC5nZXQoKTtcbiAgICAgICAgICB3b3JsZE5vcm1hbC5zY2FsZSgtUiwgcGVuZXRyYXRpb25TcGhlcmVQb2ludCk7IC8veGkudnN1Yih4aikudmFkZChwZW5ldHJhdGlvblNwaGVyZVBvaW50KS52YWRkKHBlbmV0cmF0aW9uVmVjMiAsIHIucmopO1xuXG4gICAgICAgICAgeGkudnN1Yih4aiwgci5yaik7XG4gICAgICAgICAgci5yai52YWRkKHBlbmV0cmF0aW9uU3BoZXJlUG9pbnQsIHIucmopO1xuICAgICAgICAgIHIucmoudmFkZChwZW5ldHJhdGlvblZlYzIsIHIucmopOyAvLyBTaG91bGQgYmUgcmVsYXRpdmUgdG8gdGhlIGJvZHkuXG5cbiAgICAgICAgICByLnJqLnZhZGQoeGosIHIucmopO1xuICAgICAgICAgIHIucmoudnN1Yihiai5wb3NpdGlvbiwgci5yaik7IC8vIFNob3VsZCBiZSByZWxhdGl2ZSB0byB0aGUgYm9keS5cblxuICAgICAgICAgIHIucmkudmFkZCh4aSwgci5yaSk7XG4gICAgICAgICAgci5yaS52c3ViKGJpLnBvc2l0aW9uLCByLnJpKTtcbiAgICAgICAgICB2M3Bvb2wucmVsZWFzZShwZW5ldHJhdGlvblZlYzIpO1xuICAgICAgICAgIHYzcG9vbC5yZWxlYXNlKHBlbmV0cmF0aW9uU3BoZXJlUG9pbnQpO1xuICAgICAgICAgIHRoaXMucmVzdWx0LnB1c2gocik7XG4gICAgICAgICAgdGhpcy5jcmVhdGVGcmljdGlvbkVxdWF0aW9uc0Zyb21Db250YWN0KHIsIHRoaXMuZnJpY3Rpb25SZXN1bHQpOyAvLyBSZWxlYXNlIHdvcmxkIHZlcnRpY2VzXG5cbiAgICAgICAgICBmb3IgKGxldCBqID0gMCwgTmZhY2V2ZXJ0cyA9IGZhY2VWZXJ0cy5sZW5ndGg7IGogIT09IE5mYWNldmVydHM7IGorKykge1xuICAgICAgICAgICAgdjNwb29sLnJlbGVhc2UoZmFjZVZlcnRzW2pdKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm47IC8vIFdlIG9ubHkgZXhwZWN0ICpvbmUqIGZhY2UgY29udGFjdFxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIEVkZ2U/XG4gICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogIT09IGZhY2UubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgIC8vIEdldCB0d28gd29ybGQgdHJhbnNmb3JtZWQgdmVydGljZXNcbiAgICAgICAgICAgIGNvbnN0IHYxID0gdjNwb29sLmdldCgpO1xuICAgICAgICAgICAgY29uc3QgdjIgPSB2M3Bvb2wuZ2V0KCk7XG4gICAgICAgICAgICBxai52bXVsdCh2ZXJ0c1tmYWNlWyhqICsgMSkgJSBmYWNlLmxlbmd0aF1dLCB2MSk7XG4gICAgICAgICAgICBxai52bXVsdCh2ZXJ0c1tmYWNlWyhqICsgMikgJSBmYWNlLmxlbmd0aF1dLCB2Mik7XG4gICAgICAgICAgICB4ai52YWRkKHYxLCB2MSk7XG4gICAgICAgICAgICB4ai52YWRkKHYyLCB2Mik7IC8vIENvbnN0cnVjdCBlZGdlIHZlY3RvclxuXG4gICAgICAgICAgICBjb25zdCBlZGdlID0gc3BoZXJlQ29udmV4X2VkZ2U7XG4gICAgICAgICAgICB2Mi52c3ViKHYxLCBlZGdlKTsgLy8gQ29uc3RydWN0IHRoZSBzYW1lIHZlY3RvciwgYnV0IG5vcm1hbGl6ZWRcblxuICAgICAgICAgICAgY29uc3QgZWRnZVVuaXQgPSBzcGhlcmVDb252ZXhfZWRnZVVuaXQ7XG4gICAgICAgICAgICBlZGdlLnVuaXQoZWRnZVVuaXQpOyAvLyBwIGlzIHhpIHByb2plY3RlZCBvbnRvIHRoZSBlZGdlXG5cbiAgICAgICAgICAgIGNvbnN0IHAgPSB2M3Bvb2wuZ2V0KCk7XG4gICAgICAgICAgICBjb25zdCB2MV90b194aSA9IHYzcG9vbC5nZXQoKTtcbiAgICAgICAgICAgIHhpLnZzdWIodjEsIHYxX3RvX3hpKTtcbiAgICAgICAgICAgIGNvbnN0IGRvdCA9IHYxX3RvX3hpLmRvdChlZGdlVW5pdCk7XG4gICAgICAgICAgICBlZGdlVW5pdC5zY2FsZShkb3QsIHApO1xuICAgICAgICAgICAgcC52YWRkKHYxLCBwKTsgLy8gQ29tcHV0ZSBhIHZlY3RvciBmcm9tIHAgdG8gdGhlIGNlbnRlciBvZiB0aGUgc3BoZXJlXG5cbiAgICAgICAgICAgIGNvbnN0IHhpX3RvX3AgPSB2M3Bvb2wuZ2V0KCk7XG4gICAgICAgICAgICBwLnZzdWIoeGksIHhpX3RvX3ApOyAvLyBDb2xsaXNpb24gaWYgdGhlIGVkZ2Utc3BoZXJlIGRpc3RhbmNlIGlzIGxlc3MgdGhhbiB0aGUgcmFkaXVzXG4gICAgICAgICAgICAvLyBBTkQgaWYgcCBpcyBpbiBiZXR3ZWVuIHYxIGFuZCB2MlxuXG4gICAgICAgICAgICBpZiAoZG90ID4gMCAmJiBkb3QgKiBkb3QgPCBlZGdlLmxlbmd0aFNxdWFyZWQoKSAmJiB4aV90b19wLmxlbmd0aFNxdWFyZWQoKSA8IFIgKiBSKSB7XG4gICAgICAgICAgICAgIC8vIENvbGxpc2lvbiBpZiB0aGUgZWRnZS1zcGhlcmUgZGlzdGFuY2UgaXMgbGVzcyB0aGFuIHRoZSByYWRpdXNcbiAgICAgICAgICAgICAgLy8gRWRnZSBjb250YWN0IVxuICAgICAgICAgICAgICBpZiAoanVzdFRlc3QpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGNvbnN0IHIgPSB0aGlzLmNyZWF0ZUNvbnRhY3RFcXVhdGlvbihiaSwgYmosIHNpLCBzaiwgcnNpLCByc2opO1xuICAgICAgICAgICAgICBwLnZzdWIoeGosIHIucmopO1xuICAgICAgICAgICAgICBwLnZzdWIoeGksIHIubmkpO1xuICAgICAgICAgICAgICByLm5pLm5vcm1hbGl6ZSgpO1xuICAgICAgICAgICAgICByLm5pLnNjYWxlKFIsIHIucmkpOyAvLyBTaG91bGQgYmUgcmVsYXRpdmUgdG8gdGhlIGJvZHkuXG5cbiAgICAgICAgICAgICAgci5yai52YWRkKHhqLCByLnJqKTtcbiAgICAgICAgICAgICAgci5yai52c3ViKGJqLnBvc2l0aW9uLCByLnJqKTsgLy8gU2hvdWxkIGJlIHJlbGF0aXZlIHRvIHRoZSBib2R5LlxuXG4gICAgICAgICAgICAgIHIucmkudmFkZCh4aSwgci5yaSk7XG4gICAgICAgICAgICAgIHIucmkudnN1YihiaS5wb3NpdGlvbiwgci5yaSk7XG4gICAgICAgICAgICAgIHRoaXMucmVzdWx0LnB1c2gocik7XG4gICAgICAgICAgICAgIHRoaXMuY3JlYXRlRnJpY3Rpb25FcXVhdGlvbnNGcm9tQ29udGFjdChyLCB0aGlzLmZyaWN0aW9uUmVzdWx0KTsgLy8gUmVsZWFzZSB3b3JsZCB2ZXJ0aWNlc1xuXG4gICAgICAgICAgICAgIGZvciAobGV0IGogPSAwLCBOZmFjZXZlcnRzID0gZmFjZVZlcnRzLmxlbmd0aDsgaiAhPT0gTmZhY2V2ZXJ0czsgaisrKSB7XG4gICAgICAgICAgICAgICAgdjNwb29sLnJlbGVhc2UoZmFjZVZlcnRzW2pdKTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIHYzcG9vbC5yZWxlYXNlKHYxKTtcbiAgICAgICAgICAgICAgdjNwb29sLnJlbGVhc2UodjIpO1xuICAgICAgICAgICAgICB2M3Bvb2wucmVsZWFzZShwKTtcbiAgICAgICAgICAgICAgdjNwb29sLnJlbGVhc2UoeGlfdG9fcCk7XG4gICAgICAgICAgICAgIHYzcG9vbC5yZWxlYXNlKHYxX3RvX3hpKTtcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2M3Bvb2wucmVsZWFzZSh2MSk7XG4gICAgICAgICAgICB2M3Bvb2wucmVsZWFzZSh2Mik7XG4gICAgICAgICAgICB2M3Bvb2wucmVsZWFzZShwKTtcbiAgICAgICAgICAgIHYzcG9vbC5yZWxlYXNlKHhpX3RvX3ApO1xuICAgICAgICAgICAgdjNwb29sLnJlbGVhc2UodjFfdG9feGkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSAvLyBSZWxlYXNlIHdvcmxkIHZlcnRpY2VzXG5cblxuICAgICAgICBmb3IgKGxldCBqID0gMCwgTmZhY2V2ZXJ0cyA9IGZhY2VWZXJ0cy5sZW5ndGg7IGogIT09IE5mYWNldmVydHM7IGorKykge1xuICAgICAgICAgIHYzcG9vbC5yZWxlYXNlKGZhY2VWZXJ0c1tqXSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBwbGFuZUNvbnZleChwbGFuZVNoYXBlLCBjb252ZXhTaGFwZSwgcGxhbmVQb3NpdGlvbiwgY29udmV4UG9zaXRpb24sIHBsYW5lUXVhdCwgY29udmV4UXVhdCwgcGxhbmVCb2R5LCBjb252ZXhCb2R5LCBzaSwgc2osIGp1c3RUZXN0KSB7XG4gICAgLy8gU2ltcGx5IHJldHVybiB0aGUgcG9pbnRzIGJlaGluZCB0aGUgcGxhbmUuXG4gICAgY29uc3Qgd29ybGRWZXJ0ZXggPSBwbGFuZUNvbnZleF92O1xuICAgIGNvbnN0IHdvcmxkTm9ybWFsID0gcGxhbmVDb252ZXhfbm9ybWFsO1xuICAgIHdvcmxkTm9ybWFsLnNldCgwLCAwLCAxKTtcbiAgICBwbGFuZVF1YXQudm11bHQod29ybGROb3JtYWwsIHdvcmxkTm9ybWFsKTsgLy8gVHVybiBub3JtYWwgYWNjb3JkaW5nIHRvIHBsYW5lIG9yaWVudGF0aW9uXG5cbiAgICBsZXQgbnVtQ29udGFjdHMgPSAwO1xuICAgIGNvbnN0IHJlbHBvcyA9IHBsYW5lQ29udmV4X3JlbHBvcztcblxuICAgIGZvciAobGV0IGkgPSAwOyBpICE9PSBjb252ZXhTaGFwZS52ZXJ0aWNlcy5sZW5ndGg7IGkrKykge1xuICAgICAgLy8gR2V0IHdvcmxkIGNvbnZleCB2ZXJ0ZXhcbiAgICAgIHdvcmxkVmVydGV4LmNvcHkoY29udmV4U2hhcGUudmVydGljZXNbaV0pO1xuICAgICAgY29udmV4UXVhdC52bXVsdCh3b3JsZFZlcnRleCwgd29ybGRWZXJ0ZXgpO1xuICAgICAgY29udmV4UG9zaXRpb24udmFkZCh3b3JsZFZlcnRleCwgd29ybGRWZXJ0ZXgpO1xuICAgICAgd29ybGRWZXJ0ZXgudnN1YihwbGFuZVBvc2l0aW9uLCByZWxwb3MpO1xuICAgICAgY29uc3QgZG90ID0gd29ybGROb3JtYWwuZG90KHJlbHBvcyk7XG5cbiAgICAgIGlmIChkb3QgPD0gMC4wKSB7XG4gICAgICAgIGlmIChqdXN0VGVzdCkge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgciA9IHRoaXMuY3JlYXRlQ29udGFjdEVxdWF0aW9uKHBsYW5lQm9keSwgY29udmV4Qm9keSwgcGxhbmVTaGFwZSwgY29udmV4U2hhcGUsIHNpLCBzaik7IC8vIEdldCB2ZXJ0ZXggcG9zaXRpb24gcHJvamVjdGVkIG9uIHBsYW5lXG5cbiAgICAgICAgY29uc3QgcHJvamVjdGVkID0gcGxhbmVDb252ZXhfcHJvamVjdGVkO1xuICAgICAgICB3b3JsZE5vcm1hbC5zY2FsZSh3b3JsZE5vcm1hbC5kb3QocmVscG9zKSwgcHJvamVjdGVkKTtcbiAgICAgICAgd29ybGRWZXJ0ZXgudnN1Yihwcm9qZWN0ZWQsIHByb2plY3RlZCk7XG4gICAgICAgIHByb2plY3RlZC52c3ViKHBsYW5lUG9zaXRpb24sIHIucmkpOyAvLyBGcm9tIHBsYW5lIHRvIHZlcnRleCBwcm9qZWN0ZWQgb24gcGxhbmVcblxuICAgICAgICByLm5pLmNvcHkod29ybGROb3JtYWwpOyAvLyBDb250YWN0IG5vcm1hbCBpcyB0aGUgcGxhbmUgbm9ybWFsIG91dCBmcm9tIHBsYW5lXG4gICAgICAgIC8vIHJqIGlzIG5vdyBqdXN0IHRoZSB2ZWN0b3IgZnJvbSB0aGUgY29udmV4IGNlbnRlciB0byB0aGUgdmVydGV4XG5cbiAgICAgICAgd29ybGRWZXJ0ZXgudnN1Yihjb252ZXhQb3NpdGlvbiwgci5yaik7IC8vIE1ha2UgaXQgcmVsYXRpdmUgdG8gdGhlIGJvZHlcblxuICAgICAgICByLnJpLnZhZGQocGxhbmVQb3NpdGlvbiwgci5yaSk7XG4gICAgICAgIHIucmkudnN1YihwbGFuZUJvZHkucG9zaXRpb24sIHIucmkpO1xuICAgICAgICByLnJqLnZhZGQoY29udmV4UG9zaXRpb24sIHIucmopO1xuICAgICAgICByLnJqLnZzdWIoY29udmV4Qm9keS5wb3NpdGlvbiwgci5yaik7XG4gICAgICAgIHRoaXMucmVzdWx0LnB1c2gocik7XG4gICAgICAgIG51bUNvbnRhY3RzKys7XG5cbiAgICAgICAgaWYgKCF0aGlzLmVuYWJsZUZyaWN0aW9uUmVkdWN0aW9uKSB7XG4gICAgICAgICAgdGhpcy5jcmVhdGVGcmljdGlvbkVxdWF0aW9uc0Zyb21Db250YWN0KHIsIHRoaXMuZnJpY3Rpb25SZXN1bHQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuZW5hYmxlRnJpY3Rpb25SZWR1Y3Rpb24gJiYgbnVtQ29udGFjdHMpIHtcbiAgICAgIHRoaXMuY3JlYXRlRnJpY3Rpb25Gcm9tQXZlcmFnZShudW1Db250YWN0cyk7XG4gICAgfVxuICB9XG5cbiAgYm94Q29udmV4KHNpLCBzaiwgeGksIHhqLCBxaSwgcWosIGJpLCBiaiwgcnNpLCByc2osIGp1c3RUZXN0KSB7XG4gICAgc2kuY29udmV4UG9seWhlZHJvblJlcHJlc2VudGF0aW9uLm1hdGVyaWFsID0gc2kubWF0ZXJpYWw7XG4gICAgc2kuY29udmV4UG9seWhlZHJvblJlcHJlc2VudGF0aW9uLmNvbGxpc2lvblJlc3BvbnNlID0gc2kuY29sbGlzaW9uUmVzcG9uc2U7XG4gICAgcmV0dXJuIHRoaXMuY29udmV4Q29udmV4KHNpLmNvbnZleFBvbHloZWRyb25SZXByZXNlbnRhdGlvbiwgc2osIHhpLCB4aiwgcWksIHFqLCBiaSwgYmosIHNpLCBzaiwganVzdFRlc3QpO1xuICB9XG5cbiAgc3BoZXJlSGVpZ2h0ZmllbGQoc3BoZXJlU2hhcGUsIGhmU2hhcGUsIHNwaGVyZVBvcywgaGZQb3MsIHNwaGVyZVF1YXQsIGhmUXVhdCwgc3BoZXJlQm9keSwgaGZCb2R5LCByc2ksIHJzaiwganVzdFRlc3QpIHtcbiAgICBjb25zdCBkYXRhID0gaGZTaGFwZS5kYXRhO1xuICAgIGNvbnN0IHJhZGl1cyA9IHNwaGVyZVNoYXBlLnJhZGl1cztcbiAgICBjb25zdCB3ID0gaGZTaGFwZS5lbGVtZW50U2l6ZTtcbiAgICBjb25zdCB3b3JsZFBpbGxhck9mZnNldCA9IHNwaGVyZUhlaWdodGZpZWxkX3RtcDI7IC8vIEdldCBzcGhlcmUgcG9zaXRpb24gdG8gaGVpZ2h0ZmllbGQgbG9jYWwhXG5cbiAgICBjb25zdCBsb2NhbFNwaGVyZVBvcyA9IHNwaGVyZUhlaWdodGZpZWxkX3RtcDE7XG4gICAgVHJhbnNmb3JtLnBvaW50VG9Mb2NhbEZyYW1lKGhmUG9zLCBoZlF1YXQsIHNwaGVyZVBvcywgbG9jYWxTcGhlcmVQb3MpOyAvLyBHZXQgdGhlIGluZGV4IG9mIHRoZSBkYXRhIHBvaW50cyB0byB0ZXN0IGFnYWluc3RcblxuICAgIGxldCBpTWluWCA9IE1hdGguZmxvb3IoKGxvY2FsU3BoZXJlUG9zLnggLSByYWRpdXMpIC8gdykgLSAxO1xuICAgIGxldCBpTWF4WCA9IE1hdGguY2VpbCgobG9jYWxTcGhlcmVQb3MueCArIHJhZGl1cykgLyB3KSArIDE7XG4gICAgbGV0IGlNaW5ZID0gTWF0aC5mbG9vcigobG9jYWxTcGhlcmVQb3MueSAtIHJhZGl1cykgLyB3KSAtIDE7XG4gICAgbGV0IGlNYXhZID0gTWF0aC5jZWlsKChsb2NhbFNwaGVyZVBvcy55ICsgcmFkaXVzKSAvIHcpICsgMTsgLy8gQmFpbCBvdXQgaWYgd2UgYXJlIG91dCBvZiB0aGUgdGVycmFpblxuXG4gICAgaWYgKGlNYXhYIDwgMCB8fCBpTWF4WSA8IDAgfHwgaU1pblggPiBkYXRhLmxlbmd0aCB8fCBpTWluWSA+IGRhdGFbMF0ubGVuZ3RoKSB7XG4gICAgICByZXR1cm47XG4gICAgfSAvLyBDbGFtcCBpbmRleCB0byBlZGdlc1xuXG5cbiAgICBpZiAoaU1pblggPCAwKSB7XG4gICAgICBpTWluWCA9IDA7XG4gICAgfVxuXG4gICAgaWYgKGlNYXhYIDwgMCkge1xuICAgICAgaU1heFggPSAwO1xuICAgIH1cblxuICAgIGlmIChpTWluWSA8IDApIHtcbiAgICAgIGlNaW5ZID0gMDtcbiAgICB9XG5cbiAgICBpZiAoaU1heFkgPCAwKSB7XG4gICAgICBpTWF4WSA9IDA7XG4gICAgfVxuXG4gICAgaWYgKGlNaW5YID49IGRhdGEubGVuZ3RoKSB7XG4gICAgICBpTWluWCA9IGRhdGEubGVuZ3RoIC0gMTtcbiAgICB9XG5cbiAgICBpZiAoaU1heFggPj0gZGF0YS5sZW5ndGgpIHtcbiAgICAgIGlNYXhYID0gZGF0YS5sZW5ndGggLSAxO1xuICAgIH1cblxuICAgIGlmIChpTWF4WSA+PSBkYXRhWzBdLmxlbmd0aCkge1xuICAgICAgaU1heFkgPSBkYXRhWzBdLmxlbmd0aCAtIDE7XG4gICAgfVxuXG4gICAgaWYgKGlNaW5ZID49IGRhdGFbMF0ubGVuZ3RoKSB7XG4gICAgICBpTWluWSA9IGRhdGFbMF0ubGVuZ3RoIC0gMTtcbiAgICB9XG5cbiAgICBjb25zdCBtaW5NYXggPSBbXTtcbiAgICBoZlNoYXBlLmdldFJlY3RNaW5NYXgoaU1pblgsIGlNaW5ZLCBpTWF4WCwgaU1heFksIG1pbk1heCk7XG4gICAgY29uc3QgbWluID0gbWluTWF4WzBdO1xuICAgIGNvbnN0IG1heCA9IG1pbk1heFsxXTsgLy8gQmFpbCBvdXQgaWYgd2UgY2FuJ3QgdG91Y2ggdGhlIGJvdW5kaW5nIGhlaWdodCBib3hcblxuICAgIGlmIChsb2NhbFNwaGVyZVBvcy56IC0gcmFkaXVzID4gbWF4IHx8IGxvY2FsU3BoZXJlUG9zLnogKyByYWRpdXMgPCBtaW4pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCByZXN1bHQgPSB0aGlzLnJlc3VsdDtcblxuICAgIGZvciAobGV0IGkgPSBpTWluWDsgaSA8IGlNYXhYOyBpKyspIHtcbiAgICAgIGZvciAobGV0IGogPSBpTWluWTsgaiA8IGlNYXhZOyBqKyspIHtcbiAgICAgICAgY29uc3QgbnVtQ29udGFjdHNCZWZvcmUgPSByZXN1bHQubGVuZ3RoO1xuICAgICAgICBsZXQgaW50ZXJzZWN0aW5nID0gZmFsc2U7IC8vIExvd2VyIHRyaWFuZ2xlXG5cbiAgICAgICAgaGZTaGFwZS5nZXRDb252ZXhUcmlhbmdsZVBpbGxhcihpLCBqLCBmYWxzZSk7XG4gICAgICAgIFRyYW5zZm9ybS5wb2ludFRvV29ybGRGcmFtZShoZlBvcywgaGZRdWF0LCBoZlNoYXBlLnBpbGxhck9mZnNldCwgd29ybGRQaWxsYXJPZmZzZXQpO1xuXG4gICAgICAgIGlmIChzcGhlcmVQb3MuZGlzdGFuY2VUbyh3b3JsZFBpbGxhck9mZnNldCkgPCBoZlNoYXBlLnBpbGxhckNvbnZleC5ib3VuZGluZ1NwaGVyZVJhZGl1cyArIHNwaGVyZVNoYXBlLmJvdW5kaW5nU3BoZXJlUmFkaXVzKSB7XG4gICAgICAgICAgaW50ZXJzZWN0aW5nID0gdGhpcy5zcGhlcmVDb252ZXgoc3BoZXJlU2hhcGUsIGhmU2hhcGUucGlsbGFyQ29udmV4LCBzcGhlcmVQb3MsIHdvcmxkUGlsbGFyT2Zmc2V0LCBzcGhlcmVRdWF0LCBoZlF1YXQsIHNwaGVyZUJvZHksIGhmQm9keSwgc3BoZXJlU2hhcGUsIGhmU2hhcGUsIGp1c3RUZXN0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChqdXN0VGVzdCAmJiBpbnRlcnNlY3RpbmcpIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSAvLyBVcHBlciB0cmlhbmdsZVxuXG5cbiAgICAgICAgaGZTaGFwZS5nZXRDb252ZXhUcmlhbmdsZVBpbGxhcihpLCBqLCB0cnVlKTtcbiAgICAgICAgVHJhbnNmb3JtLnBvaW50VG9Xb3JsZEZyYW1lKGhmUG9zLCBoZlF1YXQsIGhmU2hhcGUucGlsbGFyT2Zmc2V0LCB3b3JsZFBpbGxhck9mZnNldCk7XG5cbiAgICAgICAgaWYgKHNwaGVyZVBvcy5kaXN0YW5jZVRvKHdvcmxkUGlsbGFyT2Zmc2V0KSA8IGhmU2hhcGUucGlsbGFyQ29udmV4LmJvdW5kaW5nU3BoZXJlUmFkaXVzICsgc3BoZXJlU2hhcGUuYm91bmRpbmdTcGhlcmVSYWRpdXMpIHtcbiAgICAgICAgICBpbnRlcnNlY3RpbmcgPSB0aGlzLnNwaGVyZUNvbnZleChzcGhlcmVTaGFwZSwgaGZTaGFwZS5waWxsYXJDb252ZXgsIHNwaGVyZVBvcywgd29ybGRQaWxsYXJPZmZzZXQsIHNwaGVyZVF1YXQsIGhmUXVhdCwgc3BoZXJlQm9keSwgaGZCb2R5LCBzcGhlcmVTaGFwZSwgaGZTaGFwZSwganVzdFRlc3QpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGp1c3RUZXN0ICYmIGludGVyc2VjdGluZykge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgbnVtQ29udGFjdHMgPSByZXN1bHQubGVuZ3RoIC0gbnVtQ29udGFjdHNCZWZvcmU7XG5cbiAgICAgICAgaWYgKG51bUNvbnRhY3RzID4gMikge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvKlxyXG4gICAgICAgICAgLy8gU2tpcCBhbGwgYnV0IDFcclxuICAgICAgICAgIGZvciAobGV0IGsgPSAwOyBrIDwgbnVtQ29udGFjdHMgLSAxOyBrKyspIHtcclxuICAgICAgICAgICAgICByZXN1bHQucG9wKCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgKi9cblxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGJveEhlaWdodGZpZWxkKHNpLCBzaiwgeGksIHhqLCBxaSwgcWosIGJpLCBiaiwgcnNpLCByc2osIGp1c3RUZXN0KSB7XG4gICAgc2kuY29udmV4UG9seWhlZHJvblJlcHJlc2VudGF0aW9uLm1hdGVyaWFsID0gc2kubWF0ZXJpYWw7XG4gICAgc2kuY29udmV4UG9seWhlZHJvblJlcHJlc2VudGF0aW9uLmNvbGxpc2lvblJlc3BvbnNlID0gc2kuY29sbGlzaW9uUmVzcG9uc2U7XG4gICAgcmV0dXJuIHRoaXMuY29udmV4SGVpZ2h0ZmllbGQoc2kuY29udmV4UG9seWhlZHJvblJlcHJlc2VudGF0aW9uLCBzaiwgeGksIHhqLCBxaSwgcWosIGJpLCBiaiwgc2ksIHNqLCBqdXN0VGVzdCk7XG4gIH1cblxuICBjb252ZXhIZWlnaHRmaWVsZChjb252ZXhTaGFwZSwgaGZTaGFwZSwgY29udmV4UG9zLCBoZlBvcywgY29udmV4UXVhdCwgaGZRdWF0LCBjb252ZXhCb2R5LCBoZkJvZHksIHJzaSwgcnNqLCBqdXN0VGVzdCkge1xuICAgIGNvbnN0IGRhdGEgPSBoZlNoYXBlLmRhdGE7XG4gICAgY29uc3QgdyA9IGhmU2hhcGUuZWxlbWVudFNpemU7XG4gICAgY29uc3QgcmFkaXVzID0gY29udmV4U2hhcGUuYm91bmRpbmdTcGhlcmVSYWRpdXM7XG4gICAgY29uc3Qgd29ybGRQaWxsYXJPZmZzZXQgPSBjb252ZXhIZWlnaHRmaWVsZF90bXAyO1xuICAgIGNvbnN0IGZhY2VMaXN0ID0gY29udmV4SGVpZ2h0ZmllbGRfZmFjZUxpc3Q7IC8vIEdldCBzcGhlcmUgcG9zaXRpb24gdG8gaGVpZ2h0ZmllbGQgbG9jYWwhXG5cbiAgICBjb25zdCBsb2NhbENvbnZleFBvcyA9IGNvbnZleEhlaWdodGZpZWxkX3RtcDE7XG4gICAgVHJhbnNmb3JtLnBvaW50VG9Mb2NhbEZyYW1lKGhmUG9zLCBoZlF1YXQsIGNvbnZleFBvcywgbG9jYWxDb252ZXhQb3MpOyAvLyBHZXQgdGhlIGluZGV4IG9mIHRoZSBkYXRhIHBvaW50cyB0byB0ZXN0IGFnYWluc3RcblxuICAgIGxldCBpTWluWCA9IE1hdGguZmxvb3IoKGxvY2FsQ29udmV4UG9zLnggLSByYWRpdXMpIC8gdykgLSAxO1xuICAgIGxldCBpTWF4WCA9IE1hdGguY2VpbCgobG9jYWxDb252ZXhQb3MueCArIHJhZGl1cykgLyB3KSArIDE7XG4gICAgbGV0IGlNaW5ZID0gTWF0aC5mbG9vcigobG9jYWxDb252ZXhQb3MueSAtIHJhZGl1cykgLyB3KSAtIDE7XG4gICAgbGV0IGlNYXhZID0gTWF0aC5jZWlsKChsb2NhbENvbnZleFBvcy55ICsgcmFkaXVzKSAvIHcpICsgMTsgLy8gQmFpbCBvdXQgaWYgd2UgYXJlIG91dCBvZiB0aGUgdGVycmFpblxuXG4gICAgaWYgKGlNYXhYIDwgMCB8fCBpTWF4WSA8IDAgfHwgaU1pblggPiBkYXRhLmxlbmd0aCB8fCBpTWluWSA+IGRhdGFbMF0ubGVuZ3RoKSB7XG4gICAgICByZXR1cm47XG4gICAgfSAvLyBDbGFtcCBpbmRleCB0byBlZGdlc1xuXG5cbiAgICBpZiAoaU1pblggPCAwKSB7XG4gICAgICBpTWluWCA9IDA7XG4gICAgfVxuXG4gICAgaWYgKGlNYXhYIDwgMCkge1xuICAgICAgaU1heFggPSAwO1xuICAgIH1cblxuICAgIGlmIChpTWluWSA8IDApIHtcbiAgICAgIGlNaW5ZID0gMDtcbiAgICB9XG5cbiAgICBpZiAoaU1heFkgPCAwKSB7XG4gICAgICBpTWF4WSA9IDA7XG4gICAgfVxuXG4gICAgaWYgKGlNaW5YID49IGRhdGEubGVuZ3RoKSB7XG4gICAgICBpTWluWCA9IGRhdGEubGVuZ3RoIC0gMTtcbiAgICB9XG5cbiAgICBpZiAoaU1heFggPj0gZGF0YS5sZW5ndGgpIHtcbiAgICAgIGlNYXhYID0gZGF0YS5sZW5ndGggLSAxO1xuICAgIH1cblxuICAgIGlmIChpTWF4WSA+PSBkYXRhWzBdLmxlbmd0aCkge1xuICAgICAgaU1heFkgPSBkYXRhWzBdLmxlbmd0aCAtIDE7XG4gICAgfVxuXG4gICAgaWYgKGlNaW5ZID49IGRhdGFbMF0ubGVuZ3RoKSB7XG4gICAgICBpTWluWSA9IGRhdGFbMF0ubGVuZ3RoIC0gMTtcbiAgICB9XG5cbiAgICBjb25zdCBtaW5NYXggPSBbXTtcbiAgICBoZlNoYXBlLmdldFJlY3RNaW5NYXgoaU1pblgsIGlNaW5ZLCBpTWF4WCwgaU1heFksIG1pbk1heCk7XG4gICAgY29uc3QgbWluID0gbWluTWF4WzBdO1xuICAgIGNvbnN0IG1heCA9IG1pbk1heFsxXTsgLy8gQmFpbCBvdXQgaWYgd2UncmUgY2FudCB0b3VjaCB0aGUgYm91bmRpbmcgaGVpZ2h0IGJveFxuXG4gICAgaWYgKGxvY2FsQ29udmV4UG9zLnogLSByYWRpdXMgPiBtYXggfHwgbG9jYWxDb252ZXhQb3MueiArIHJhZGl1cyA8IG1pbikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGZvciAobGV0IGkgPSBpTWluWDsgaSA8IGlNYXhYOyBpKyspIHtcbiAgICAgIGZvciAobGV0IGogPSBpTWluWTsgaiA8IGlNYXhZOyBqKyspIHtcbiAgICAgICAgbGV0IGludGVyc2VjdGluZyA9IGZhbHNlOyAvLyBMb3dlciB0cmlhbmdsZVxuXG4gICAgICAgIGhmU2hhcGUuZ2V0Q29udmV4VHJpYW5nbGVQaWxsYXIoaSwgaiwgZmFsc2UpO1xuICAgICAgICBUcmFuc2Zvcm0ucG9pbnRUb1dvcmxkRnJhbWUoaGZQb3MsIGhmUXVhdCwgaGZTaGFwZS5waWxsYXJPZmZzZXQsIHdvcmxkUGlsbGFyT2Zmc2V0KTtcblxuICAgICAgICBpZiAoY29udmV4UG9zLmRpc3RhbmNlVG8od29ybGRQaWxsYXJPZmZzZXQpIDwgaGZTaGFwZS5waWxsYXJDb252ZXguYm91bmRpbmdTcGhlcmVSYWRpdXMgKyBjb252ZXhTaGFwZS5ib3VuZGluZ1NwaGVyZVJhZGl1cykge1xuICAgICAgICAgIGludGVyc2VjdGluZyA9IHRoaXMuY29udmV4Q29udmV4KGNvbnZleFNoYXBlLCBoZlNoYXBlLnBpbGxhckNvbnZleCwgY29udmV4UG9zLCB3b3JsZFBpbGxhck9mZnNldCwgY29udmV4UXVhdCwgaGZRdWF0LCBjb252ZXhCb2R5LCBoZkJvZHksIG51bGwsIG51bGwsIGp1c3RUZXN0LCBmYWNlTGlzdCwgbnVsbCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoanVzdFRlc3QgJiYgaW50ZXJzZWN0aW5nKSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0gLy8gVXBwZXIgdHJpYW5nbGVcblxuXG4gICAgICAgIGhmU2hhcGUuZ2V0Q29udmV4VHJpYW5nbGVQaWxsYXIoaSwgaiwgdHJ1ZSk7XG4gICAgICAgIFRyYW5zZm9ybS5wb2ludFRvV29ybGRGcmFtZShoZlBvcywgaGZRdWF0LCBoZlNoYXBlLnBpbGxhck9mZnNldCwgd29ybGRQaWxsYXJPZmZzZXQpO1xuXG4gICAgICAgIGlmIChjb252ZXhQb3MuZGlzdGFuY2VUbyh3b3JsZFBpbGxhck9mZnNldCkgPCBoZlNoYXBlLnBpbGxhckNvbnZleC5ib3VuZGluZ1NwaGVyZVJhZGl1cyArIGNvbnZleFNoYXBlLmJvdW5kaW5nU3BoZXJlUmFkaXVzKSB7XG4gICAgICAgICAgaW50ZXJzZWN0aW5nID0gdGhpcy5jb252ZXhDb252ZXgoY29udmV4U2hhcGUsIGhmU2hhcGUucGlsbGFyQ29udmV4LCBjb252ZXhQb3MsIHdvcmxkUGlsbGFyT2Zmc2V0LCBjb252ZXhRdWF0LCBoZlF1YXQsIGNvbnZleEJvZHksIGhmQm9keSwgbnVsbCwgbnVsbCwganVzdFRlc3QsIGZhY2VMaXN0LCBudWxsKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChqdXN0VGVzdCAmJiBpbnRlcnNlY3RpbmcpIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHNwaGVyZVBhcnRpY2xlKHNqLCBzaSwgeGosIHhpLCBxaiwgcWksIGJqLCBiaSwgcnNpLCByc2osIGp1c3RUZXN0KSB7XG4gICAgLy8gVGhlIG5vcm1hbCBpcyB0aGUgdW5pdCB2ZWN0b3IgZnJvbSBzcGhlcmUgY2VudGVyIHRvIHBhcnRpY2xlIGNlbnRlclxuICAgIGNvbnN0IG5vcm1hbCA9IHBhcnRpY2xlU3BoZXJlX25vcm1hbDtcbiAgICBub3JtYWwuc2V0KDAsIDAsIDEpO1xuICAgIHhpLnZzdWIoeGosIG5vcm1hbCk7XG4gICAgY29uc3QgbGVuZ3RoU3F1YXJlZCA9IG5vcm1hbC5sZW5ndGhTcXVhcmVkKCk7XG5cbiAgICBpZiAobGVuZ3RoU3F1YXJlZCA8PSBzai5yYWRpdXMgKiBzai5yYWRpdXMpIHtcbiAgICAgIGlmIChqdXN0VGVzdCkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgciA9IHRoaXMuY3JlYXRlQ29udGFjdEVxdWF0aW9uKGJpLCBiaiwgc2ksIHNqLCByc2ksIHJzaik7XG4gICAgICBub3JtYWwubm9ybWFsaXplKCk7XG4gICAgICByLnJqLmNvcHkobm9ybWFsKTtcbiAgICAgIHIucmouc2NhbGUoc2oucmFkaXVzLCByLnJqKTtcbiAgICAgIHIubmkuY29weShub3JtYWwpOyAvLyBDb250YWN0IG5vcm1hbFxuXG4gICAgICByLm5pLm5lZ2F0ZShyLm5pKTtcbiAgICAgIHIucmkuc2V0KDAsIDAsIDApOyAvLyBDZW50ZXIgb2YgcGFydGljbGVcblxuICAgICAgdGhpcy5yZXN1bHQucHVzaChyKTtcbiAgICAgIHRoaXMuY3JlYXRlRnJpY3Rpb25FcXVhdGlvbnNGcm9tQ29udGFjdChyLCB0aGlzLmZyaWN0aW9uUmVzdWx0KTtcbiAgICB9XG4gIH1cblxuICBwbGFuZVBhcnRpY2xlKHNqLCBzaSwgeGosIHhpLCBxaiwgcWksIGJqLCBiaSwgcnNpLCByc2osIGp1c3RUZXN0KSB7XG4gICAgY29uc3Qgbm9ybWFsID0gcGFydGljbGVQbGFuZV9ub3JtYWw7XG4gICAgbm9ybWFsLnNldCgwLCAwLCAxKTtcbiAgICBiai5xdWF0ZXJuaW9uLnZtdWx0KG5vcm1hbCwgbm9ybWFsKTsgLy8gVHVybiBub3JtYWwgYWNjb3JkaW5nIHRvIHBsYW5lIG9yaWVudGF0aW9uXG5cbiAgICBjb25zdCByZWxwb3MgPSBwYXJ0aWNsZVBsYW5lX3JlbHBvcztcbiAgICB4aS52c3ViKGJqLnBvc2l0aW9uLCByZWxwb3MpO1xuICAgIGNvbnN0IGRvdCA9IG5vcm1hbC5kb3QocmVscG9zKTtcblxuICAgIGlmIChkb3QgPD0gMC4wKSB7XG4gICAgICBpZiAoanVzdFRlc3QpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHIgPSB0aGlzLmNyZWF0ZUNvbnRhY3RFcXVhdGlvbihiaSwgYmosIHNpLCBzaiwgcnNpLCByc2opO1xuICAgICAgci5uaS5jb3B5KG5vcm1hbCk7IC8vIENvbnRhY3Qgbm9ybWFsIGlzIHRoZSBwbGFuZSBub3JtYWxcblxuICAgICAgci5uaS5uZWdhdGUoci5uaSk7XG4gICAgICByLnJpLnNldCgwLCAwLCAwKTsgLy8gQ2VudGVyIG9mIHBhcnRpY2xlXG4gICAgICAvLyBHZXQgcGFydGljbGUgcG9zaXRpb24gcHJvamVjdGVkIG9uIHBsYW5lXG5cbiAgICAgIGNvbnN0IHByb2plY3RlZCA9IHBhcnRpY2xlUGxhbmVfcHJvamVjdGVkO1xuICAgICAgbm9ybWFsLnNjYWxlKG5vcm1hbC5kb3QoeGkpLCBwcm9qZWN0ZWQpO1xuICAgICAgeGkudnN1Yihwcm9qZWN0ZWQsIHByb2plY3RlZCk7IC8vcHJvamVjdGVkLnZhZGQoYmoucG9zaXRpb24scHJvamVjdGVkKTtcbiAgICAgIC8vIHJqIGlzIG5vdyB0aGUgcHJvamVjdGVkIHdvcmxkIHBvc2l0aW9uIG1pbnVzIHBsYW5lIHBvc2l0aW9uXG5cbiAgICAgIHIucmouY29weShwcm9qZWN0ZWQpO1xuICAgICAgdGhpcy5yZXN1bHQucHVzaChyKTtcbiAgICAgIHRoaXMuY3JlYXRlRnJpY3Rpb25FcXVhdGlvbnNGcm9tQ29udGFjdChyLCB0aGlzLmZyaWN0aW9uUmVzdWx0KTtcbiAgICB9XG4gIH1cblxuICBib3hQYXJ0aWNsZShzaSwgc2osIHhpLCB4aiwgcWksIHFqLCBiaSwgYmosIHJzaSwgcnNqLCBqdXN0VGVzdCkge1xuICAgIHNpLmNvbnZleFBvbHloZWRyb25SZXByZXNlbnRhdGlvbi5tYXRlcmlhbCA9IHNpLm1hdGVyaWFsO1xuICAgIHNpLmNvbnZleFBvbHloZWRyb25SZXByZXNlbnRhdGlvbi5jb2xsaXNpb25SZXNwb25zZSA9IHNpLmNvbGxpc2lvblJlc3BvbnNlO1xuICAgIHJldHVybiB0aGlzLmNvbnZleFBhcnRpY2xlKHNpLmNvbnZleFBvbHloZWRyb25SZXByZXNlbnRhdGlvbiwgc2osIHhpLCB4aiwgcWksIHFqLCBiaSwgYmosIHNpLCBzaiwganVzdFRlc3QpO1xuICB9XG5cbiAgY29udmV4UGFydGljbGUoc2osIHNpLCB4aiwgeGksIHFqLCBxaSwgYmosIGJpLCByc2ksIHJzaiwganVzdFRlc3QpIHtcbiAgICBsZXQgcGVuZXRyYXRlZEZhY2VJbmRleCA9IC0xO1xuICAgIGNvbnN0IHBlbmV0cmF0ZWRGYWNlTm9ybWFsID0gY29udmV4UGFydGljbGVfcGVuZXRyYXRlZEZhY2VOb3JtYWw7XG4gICAgY29uc3Qgd29ybGRQZW5ldHJhdGlvblZlYyA9IGNvbnZleFBhcnRpY2xlX3dvcmxkUGVuZXRyYXRpb25WZWM7XG4gICAgbGV0IG1pblBlbmV0cmF0aW9uID0gbnVsbDtcblxuICAgIGNvbnN0IGxvY2FsID0gY29udmV4UGFydGljbGVfbG9jYWw7XG4gICAgbG9jYWwuY29weSh4aSk7XG4gICAgbG9jYWwudnN1Yih4aiwgbG9jYWwpOyAvLyBDb252ZXJ0IHBvc2l0aW9uIHRvIHJlbGF0aXZlIHRoZSBjb252ZXggb3JpZ2luXG5cbiAgICBxai5jb25qdWdhdGUoY3FqKTtcbiAgICBjcWoudm11bHQobG9jYWwsIGxvY2FsKTtcblxuICAgIGlmIChzai5wb2ludElzSW5zaWRlKGxvY2FsKSkge1xuICAgICAgaWYgKHNqLndvcmxkVmVydGljZXNOZWVkc1VwZGF0ZSkge1xuICAgICAgICBzai5jb21wdXRlV29ybGRWZXJ0aWNlcyh4aiwgcWopO1xuICAgICAgfVxuXG4gICAgICBpZiAoc2oud29ybGRGYWNlTm9ybWFsc05lZWRzVXBkYXRlKSB7XG4gICAgICAgIHNqLmNvbXB1dGVXb3JsZEZhY2VOb3JtYWxzKHFqKTtcbiAgICAgIH0gLy8gRm9yIGVhY2ggd29ybGQgcG9seWdvbiBpbiB0aGUgcG9seWhlZHJhXG5cblxuICAgICAgZm9yIChsZXQgaSA9IDAsIG5mYWNlcyA9IHNqLmZhY2VzLmxlbmd0aDsgaSAhPT0gbmZhY2VzOyBpKyspIHtcbiAgICAgICAgLy8gQ29uc3RydWN0IHdvcmxkIGZhY2UgdmVydGljZXNcbiAgICAgICAgY29uc3QgdmVydHMgPSBbc2oud29ybGRWZXJ0aWNlc1tzai5mYWNlc1tpXVswXV1dO1xuICAgICAgICBjb25zdCBub3JtYWwgPSBzai53b3JsZEZhY2VOb3JtYWxzW2ldOyAvLyBDaGVjayBob3cgbXVjaCB0aGUgcGFydGljbGUgcGVuZXRyYXRlcyB0aGUgcG9seWdvbiBwbGFuZS5cblxuICAgICAgICB4aS52c3ViKHZlcnRzWzBdLCBjb252ZXhQYXJ0aWNsZV92ZXJ0ZXhUb1BhcnRpY2xlKTtcbiAgICAgICAgY29uc3QgcGVuZXRyYXRpb24gPSAtbm9ybWFsLmRvdChjb252ZXhQYXJ0aWNsZV92ZXJ0ZXhUb1BhcnRpY2xlKTtcblxuICAgICAgICBpZiAobWluUGVuZXRyYXRpb24gPT09IG51bGwgfHwgTWF0aC5hYnMocGVuZXRyYXRpb24pIDwgTWF0aC5hYnMobWluUGVuZXRyYXRpb24pKSB7XG4gICAgICAgICAgaWYgKGp1c3RUZXN0KSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBtaW5QZW5ldHJhdGlvbiA9IHBlbmV0cmF0aW9uO1xuICAgICAgICAgIHBlbmV0cmF0ZWRGYWNlSW5kZXggPSBpO1xuICAgICAgICAgIHBlbmV0cmF0ZWRGYWNlTm9ybWFsLmNvcHkobm9ybWFsKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAocGVuZXRyYXRlZEZhY2VJbmRleCAhPT0gLTEpIHtcbiAgICAgICAgLy8gU2V0dXAgY29udGFjdFxuICAgICAgICBjb25zdCByID0gdGhpcy5jcmVhdGVDb250YWN0RXF1YXRpb24oYmksIGJqLCBzaSwgc2osIHJzaSwgcnNqKTtcbiAgICAgICAgcGVuZXRyYXRlZEZhY2VOb3JtYWwuc2NhbGUobWluUGVuZXRyYXRpb24sIHdvcmxkUGVuZXRyYXRpb25WZWMpOyAvLyByaiBpcyB0aGUgcGFydGljbGUgcG9zaXRpb24gcHJvamVjdGVkIHRvIHRoZSBmYWNlXG5cbiAgICAgICAgd29ybGRQZW5ldHJhdGlvblZlYy52YWRkKHhpLCB3b3JsZFBlbmV0cmF0aW9uVmVjKTtcbiAgICAgICAgd29ybGRQZW5ldHJhdGlvblZlYy52c3ViKHhqLCB3b3JsZFBlbmV0cmF0aW9uVmVjKTtcbiAgICAgICAgci5yai5jb3B5KHdvcmxkUGVuZXRyYXRpb25WZWMpOyAvL2NvbnN0IHByb2plY3RlZFRvRmFjZSA9IHhpLnZzdWIoeGopLnZhZGQod29ybGRQZW5ldHJhdGlvblZlYyk7XG4gICAgICAgIC8vcHJvamVjdGVkVG9GYWNlLmNvcHkoci5yaik7XG4gICAgICAgIC8vcWoudm11bHQoci5yaixyLnJqKTtcblxuICAgICAgICBwZW5ldHJhdGVkRmFjZU5vcm1hbC5uZWdhdGUoci5uaSk7IC8vIENvbnRhY3Qgbm9ybWFsXG5cbiAgICAgICAgci5yaS5zZXQoMCwgMCwgMCk7IC8vIENlbnRlciBvZiBwYXJ0aWNsZVxuXG4gICAgICAgIGNvbnN0IHJpID0gci5yaTtcbiAgICAgICAgY29uc3QgcmogPSByLnJqOyAvLyBNYWtlIHJlbGF0aXZlIHRvIGJvZGllc1xuXG4gICAgICAgIHJpLnZhZGQoeGksIHJpKTtcbiAgICAgICAgcmkudnN1YihiaS5wb3NpdGlvbiwgcmkpO1xuICAgICAgICByai52YWRkKHhqLCByaik7XG4gICAgICAgIHJqLnZzdWIoYmoucG9zaXRpb24sIHJqKTtcbiAgICAgICAgdGhpcy5yZXN1bHQucHVzaChyKTtcbiAgICAgICAgdGhpcy5jcmVhdGVGcmljdGlvbkVxdWF0aW9uc0Zyb21Db250YWN0KHIsIHRoaXMuZnJpY3Rpb25SZXN1bHQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc29sZS53YXJuKCdQb2ludCBmb3VuZCBpbnNpZGUgY29udmV4LCBidXQgZGlkIG5vdCBmaW5kIHBlbmV0cmF0aW5nIGZhY2UhJyk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgc3BoZXJlVHJpbWVzaChzcGhlcmVTaGFwZSwgdHJpbWVzaFNoYXBlLCBzcGhlcmVQb3MsIHRyaW1lc2hQb3MsIHNwaGVyZVF1YXQsIHRyaW1lc2hRdWF0LCBzcGhlcmVCb2R5LCB0cmltZXNoQm9keSwgcnNpLCByc2osIGp1c3RUZXN0KSB7XG4gICAgY29uc3QgZWRnZVZlcnRleEEgPSBzcGhlcmVUcmltZXNoX2VkZ2VWZXJ0ZXhBO1xuICAgIGNvbnN0IGVkZ2VWZXJ0ZXhCID0gc3BoZXJlVHJpbWVzaF9lZGdlVmVydGV4QjtcbiAgICBjb25zdCBlZGdlVmVjdG9yID0gc3BoZXJlVHJpbWVzaF9lZGdlVmVjdG9yO1xuICAgIGNvbnN0IGVkZ2VWZWN0b3JVbml0ID0gc3BoZXJlVHJpbWVzaF9lZGdlVmVjdG9yVW5pdDtcbiAgICBjb25zdCBsb2NhbFNwaGVyZVBvcyA9IHNwaGVyZVRyaW1lc2hfbG9jYWxTcGhlcmVQb3M7XG4gICAgY29uc3QgdG1wID0gc3BoZXJlVHJpbWVzaF90bXA7XG4gICAgY29uc3QgbG9jYWxTcGhlcmVBQUJCID0gc3BoZXJlVHJpbWVzaF9sb2NhbFNwaGVyZUFBQkI7XG4gICAgY29uc3QgdjIgPSBzcGhlcmVUcmltZXNoX3YyO1xuICAgIGNvbnN0IHJlbHBvcyA9IHNwaGVyZVRyaW1lc2hfcmVscG9zO1xuICAgIGNvbnN0IHRyaWFuZ2xlcyA9IHNwaGVyZVRyaW1lc2hfdHJpYW5nbGVzOyAvLyBDb252ZXJ0IHNwaGVyZSBwb3NpdGlvbiB0byBsb2NhbCBpbiB0aGUgdHJpbWVzaFxuXG4gICAgVHJhbnNmb3JtLnBvaW50VG9Mb2NhbEZyYW1lKHRyaW1lc2hQb3MsIHRyaW1lc2hRdWF0LCBzcGhlcmVQb3MsIGxvY2FsU3BoZXJlUG9zKTsgLy8gR2V0IHRoZSBhYWJiIG9mIHRoZSBzcGhlcmUgbG9jYWxseSBpbiB0aGUgdHJpbWVzaFxuXG4gICAgY29uc3Qgc3BoZXJlUmFkaXVzID0gc3BoZXJlU2hhcGUucmFkaXVzO1xuICAgIGxvY2FsU3BoZXJlQUFCQi5sb3dlckJvdW5kLnNldChsb2NhbFNwaGVyZVBvcy54IC0gc3BoZXJlUmFkaXVzLCBsb2NhbFNwaGVyZVBvcy55IC0gc3BoZXJlUmFkaXVzLCBsb2NhbFNwaGVyZVBvcy56IC0gc3BoZXJlUmFkaXVzKTtcbiAgICBsb2NhbFNwaGVyZUFBQkIudXBwZXJCb3VuZC5zZXQobG9jYWxTcGhlcmVQb3MueCArIHNwaGVyZVJhZGl1cywgbG9jYWxTcGhlcmVQb3MueSArIHNwaGVyZVJhZGl1cywgbG9jYWxTcGhlcmVQb3MueiArIHNwaGVyZVJhZGl1cyk7XG4gICAgdHJpbWVzaFNoYXBlLmdldFRyaWFuZ2xlc0luQUFCQihsb2NhbFNwaGVyZUFBQkIsIHRyaWFuZ2xlcyk7IC8vZm9yIChsZXQgaSA9IDA7IGkgPCB0cmltZXNoU2hhcGUuaW5kaWNlcy5sZW5ndGggLyAzOyBpKyspIHRyaWFuZ2xlcy5wdXNoKGkpOyAvLyBBbGxcbiAgICAvLyBWZXJ0aWNlc1xuXG4gICAgY29uc3QgdiA9IHNwaGVyZVRyaW1lc2hfdjtcbiAgICBjb25zdCByYWRpdXNTcXVhcmVkID0gc3BoZXJlU2hhcGUucmFkaXVzICogc3BoZXJlU2hhcGUucmFkaXVzO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0cmlhbmdsZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgMzsgaisrKSB7XG4gICAgICAgIHRyaW1lc2hTaGFwZS5nZXRWZXJ0ZXgodHJpbWVzaFNoYXBlLmluZGljZXNbdHJpYW5nbGVzW2ldICogMyArIGpdLCB2KTsgLy8gQ2hlY2sgdmVydGV4IG92ZXJsYXAgaW4gc3BoZXJlXG5cbiAgICAgICAgdi52c3ViKGxvY2FsU3BoZXJlUG9zLCByZWxwb3MpO1xuXG4gICAgICAgIGlmIChyZWxwb3MubGVuZ3RoU3F1YXJlZCgpIDw9IHJhZGl1c1NxdWFyZWQpIHtcbiAgICAgICAgICAvLyBTYWZlIHVwXG4gICAgICAgICAgdjIuY29weSh2KTtcbiAgICAgICAgICBUcmFuc2Zvcm0ucG9pbnRUb1dvcmxkRnJhbWUodHJpbWVzaFBvcywgdHJpbWVzaFF1YXQsIHYyLCB2KTtcbiAgICAgICAgICB2LnZzdWIoc3BoZXJlUG9zLCByZWxwb3MpO1xuXG4gICAgICAgICAgaWYgKGp1c3RUZXN0KSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBsZXQgciA9IHRoaXMuY3JlYXRlQ29udGFjdEVxdWF0aW9uKHNwaGVyZUJvZHksIHRyaW1lc2hCb2R5LCBzcGhlcmVTaGFwZSwgdHJpbWVzaFNoYXBlLCByc2ksIHJzaik7XG4gICAgICAgICAgci5uaS5jb3B5KHJlbHBvcyk7XG4gICAgICAgICAgci5uaS5ub3JtYWxpemUoKTsgLy8gcmkgaXMgdGhlIHZlY3RvciBmcm9tIHNwaGVyZSBjZW50ZXIgdG8gdGhlIHNwaGVyZSBzdXJmYWNlXG5cbiAgICAgICAgICByLnJpLmNvcHkoci5uaSk7XG4gICAgICAgICAgci5yaS5zY2FsZShzcGhlcmVTaGFwZS5yYWRpdXMsIHIucmkpO1xuICAgICAgICAgIHIucmkudmFkZChzcGhlcmVQb3MsIHIucmkpO1xuICAgICAgICAgIHIucmkudnN1YihzcGhlcmVCb2R5LnBvc2l0aW9uLCByLnJpKTtcbiAgICAgICAgICByLnJqLmNvcHkodik7XG4gICAgICAgICAgci5yai52c3ViKHRyaW1lc2hCb2R5LnBvc2l0aW9uLCByLnJqKTsgLy8gU3RvcmUgcmVzdWx0XG5cbiAgICAgICAgICB0aGlzLnJlc3VsdC5wdXNoKHIpO1xuICAgICAgICAgIHRoaXMuY3JlYXRlRnJpY3Rpb25FcXVhdGlvbnNGcm9tQ29udGFjdChyLCB0aGlzLmZyaWN0aW9uUmVzdWx0KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gLy8gQ2hlY2sgYWxsIGVkZ2VzXG5cblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdHJpYW5nbGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBmb3IgKGxldCBqID0gMDsgaiA8IDM7IGorKykge1xuICAgICAgICB0cmltZXNoU2hhcGUuZ2V0VmVydGV4KHRyaW1lc2hTaGFwZS5pbmRpY2VzW3RyaWFuZ2xlc1tpXSAqIDMgKyBqXSwgZWRnZVZlcnRleEEpO1xuICAgICAgICB0cmltZXNoU2hhcGUuZ2V0VmVydGV4KHRyaW1lc2hTaGFwZS5pbmRpY2VzW3RyaWFuZ2xlc1tpXSAqIDMgKyAoaiArIDEpICUgM10sIGVkZ2VWZXJ0ZXhCKTtcbiAgICAgICAgZWRnZVZlcnRleEIudnN1YihlZGdlVmVydGV4QSwgZWRnZVZlY3Rvcik7IC8vIFByb2plY3Qgc3BoZXJlIHBvc2l0aW9uIHRvIHRoZSBlZGdlXG5cbiAgICAgICAgbG9jYWxTcGhlcmVQb3MudnN1YihlZGdlVmVydGV4QiwgdG1wKTtcbiAgICAgICAgY29uc3QgcG9zaXRpb25BbG9uZ0VkZ2VCID0gdG1wLmRvdChlZGdlVmVjdG9yKTtcbiAgICAgICAgbG9jYWxTcGhlcmVQb3MudnN1YihlZGdlVmVydGV4QSwgdG1wKTtcbiAgICAgICAgbGV0IHBvc2l0aW9uQWxvbmdFZGdlQSA9IHRtcC5kb3QoZWRnZVZlY3Rvcik7XG5cbiAgICAgICAgaWYgKHBvc2l0aW9uQWxvbmdFZGdlQSA+IDAgJiYgcG9zaXRpb25BbG9uZ0VkZ2VCIDwgMCkge1xuICAgICAgICAgIC8vIE5vdyBjaGVjayB0aGUgb3J0aG9nb25hbCBkaXN0YW5jZSBmcm9tIGVkZ2UgdG8gc3BoZXJlIGNlbnRlclxuICAgICAgICAgIGxvY2FsU3BoZXJlUG9zLnZzdWIoZWRnZVZlcnRleEEsIHRtcCk7XG4gICAgICAgICAgZWRnZVZlY3RvclVuaXQuY29weShlZGdlVmVjdG9yKTtcbiAgICAgICAgICBlZGdlVmVjdG9yVW5pdC5ub3JtYWxpemUoKTtcbiAgICAgICAgICBwb3NpdGlvbkFsb25nRWRnZUEgPSB0bXAuZG90KGVkZ2VWZWN0b3JVbml0KTtcbiAgICAgICAgICBlZGdlVmVjdG9yVW5pdC5zY2FsZShwb3NpdGlvbkFsb25nRWRnZUEsIHRtcCk7XG4gICAgICAgICAgdG1wLnZhZGQoZWRnZVZlcnRleEEsIHRtcCk7IC8vIHRtcCBpcyBub3cgdGhlIHNwaGVyZSBjZW50ZXIgcG9zaXRpb24gcHJvamVjdGVkIHRvIHRoZSBlZGdlLCBkZWZpbmVkIGxvY2FsbHkgaW4gdGhlIHRyaW1lc2ggZnJhbWVcblxuICAgICAgICAgIGNvbnN0IGRpc3QgPSB0bXAuZGlzdGFuY2VUbyhsb2NhbFNwaGVyZVBvcyk7XG5cbiAgICAgICAgICBpZiAoZGlzdCA8IHNwaGVyZVNoYXBlLnJhZGl1cykge1xuICAgICAgICAgICAgaWYgKGp1c3RUZXN0KSB7XG4gICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCByID0gdGhpcy5jcmVhdGVDb250YWN0RXF1YXRpb24oc3BoZXJlQm9keSwgdHJpbWVzaEJvZHksIHNwaGVyZVNoYXBlLCB0cmltZXNoU2hhcGUsIHJzaSwgcnNqKTtcbiAgICAgICAgICAgIHRtcC52c3ViKGxvY2FsU3BoZXJlUG9zLCByLm5pKTtcbiAgICAgICAgICAgIHIubmkubm9ybWFsaXplKCk7XG4gICAgICAgICAgICByLm5pLnNjYWxlKHNwaGVyZVNoYXBlLnJhZGl1cywgci5yaSk7XG4gICAgICAgICAgICByLnJpLnZhZGQoc3BoZXJlUG9zLCByLnJpKTtcbiAgICAgICAgICAgIHIucmkudnN1YihzcGhlcmVCb2R5LnBvc2l0aW9uLCByLnJpKTtcbiAgICAgICAgICAgIFRyYW5zZm9ybS5wb2ludFRvV29ybGRGcmFtZSh0cmltZXNoUG9zLCB0cmltZXNoUXVhdCwgdG1wLCB0bXApO1xuICAgICAgICAgICAgdG1wLnZzdWIodHJpbWVzaEJvZHkucG9zaXRpb24sIHIucmopO1xuICAgICAgICAgICAgVHJhbnNmb3JtLnZlY3RvclRvV29ybGRGcmFtZSh0cmltZXNoUXVhdCwgci5uaSwgci5uaSk7XG4gICAgICAgICAgICBUcmFuc2Zvcm0udmVjdG9yVG9Xb3JsZEZyYW1lKHRyaW1lc2hRdWF0LCByLnJpLCByLnJpKTtcbiAgICAgICAgICAgIHRoaXMucmVzdWx0LnB1c2gocik7XG4gICAgICAgICAgICB0aGlzLmNyZWF0ZUZyaWN0aW9uRXF1YXRpb25zRnJvbUNvbnRhY3QociwgdGhpcy5mcmljdGlvblJlc3VsdCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSAvLyBUcmlhbmdsZSBmYWNlc1xuXG5cbiAgICBjb25zdCB2YSA9IHNwaGVyZVRyaW1lc2hfdmE7XG4gICAgY29uc3QgdmIgPSBzcGhlcmVUcmltZXNoX3ZiO1xuICAgIGNvbnN0IHZjID0gc3BoZXJlVHJpbWVzaF92YztcbiAgICBjb25zdCBub3JtYWwgPSBzcGhlcmVUcmltZXNoX25vcm1hbDtcblxuICAgIGZvciAobGV0IGkgPSAwLCBOID0gdHJpYW5nbGVzLmxlbmd0aDsgaSAhPT0gTjsgaSsrKSB7XG4gICAgICB0cmltZXNoU2hhcGUuZ2V0VHJpYW5nbGVWZXJ0aWNlcyh0cmlhbmdsZXNbaV0sIHZhLCB2YiwgdmMpO1xuICAgICAgdHJpbWVzaFNoYXBlLmdldE5vcm1hbCh0cmlhbmdsZXNbaV0sIG5vcm1hbCk7XG4gICAgICBsb2NhbFNwaGVyZVBvcy52c3ViKHZhLCB0bXApO1xuICAgICAgbGV0IGRpc3QgPSB0bXAuZG90KG5vcm1hbCk7XG4gICAgICBub3JtYWwuc2NhbGUoZGlzdCwgdG1wKTtcbiAgICAgIGxvY2FsU3BoZXJlUG9zLnZzdWIodG1wLCB0bXApOyAvLyB0bXAgaXMgbm93IHRoZSBzcGhlcmUgcG9zaXRpb24gcHJvamVjdGVkIHRvIHRoZSB0cmlhbmdsZSBwbGFuZVxuXG4gICAgICBkaXN0ID0gdG1wLmRpc3RhbmNlVG8obG9jYWxTcGhlcmVQb3MpO1xuXG4gICAgICBpZiAoUmF5LnBvaW50SW5UcmlhbmdsZSh0bXAsIHZhLCB2YiwgdmMpICYmIGRpc3QgPCBzcGhlcmVTaGFwZS5yYWRpdXMpIHtcbiAgICAgICAgaWYgKGp1c3RUZXN0KSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgciA9IHRoaXMuY3JlYXRlQ29udGFjdEVxdWF0aW9uKHNwaGVyZUJvZHksIHRyaW1lc2hCb2R5LCBzcGhlcmVTaGFwZSwgdHJpbWVzaFNoYXBlLCByc2ksIHJzaik7XG4gICAgICAgIHRtcC52c3ViKGxvY2FsU3BoZXJlUG9zLCByLm5pKTtcbiAgICAgICAgci5uaS5ub3JtYWxpemUoKTtcbiAgICAgICAgci5uaS5zY2FsZShzcGhlcmVTaGFwZS5yYWRpdXMsIHIucmkpO1xuICAgICAgICByLnJpLnZhZGQoc3BoZXJlUG9zLCByLnJpKTtcbiAgICAgICAgci5yaS52c3ViKHNwaGVyZUJvZHkucG9zaXRpb24sIHIucmkpO1xuICAgICAgICBUcmFuc2Zvcm0ucG9pbnRUb1dvcmxkRnJhbWUodHJpbWVzaFBvcywgdHJpbWVzaFF1YXQsIHRtcCwgdG1wKTtcbiAgICAgICAgdG1wLnZzdWIodHJpbWVzaEJvZHkucG9zaXRpb24sIHIucmopO1xuICAgICAgICBUcmFuc2Zvcm0udmVjdG9yVG9Xb3JsZEZyYW1lKHRyaW1lc2hRdWF0LCByLm5pLCByLm5pKTtcbiAgICAgICAgVHJhbnNmb3JtLnZlY3RvclRvV29ybGRGcmFtZSh0cmltZXNoUXVhdCwgci5yaSwgci5yaSk7XG4gICAgICAgIHRoaXMucmVzdWx0LnB1c2gocik7XG4gICAgICAgIHRoaXMuY3JlYXRlRnJpY3Rpb25FcXVhdGlvbnNGcm9tQ29udGFjdChyLCB0aGlzLmZyaWN0aW9uUmVzdWx0KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0cmlhbmdsZXMubGVuZ3RoID0gMDtcbiAgfVxuXG4gIHBsYW5lVHJpbWVzaChwbGFuZVNoYXBlLCB0cmltZXNoU2hhcGUsIHBsYW5lUG9zLCB0cmltZXNoUG9zLCBwbGFuZVF1YXQsIHRyaW1lc2hRdWF0LCBwbGFuZUJvZHksIHRyaW1lc2hCb2R5LCByc2ksIHJzaiwganVzdFRlc3QpIHtcbiAgICAvLyBNYWtlIGNvbnRhY3RzIVxuICAgIGNvbnN0IHYgPSBuZXcgVmVjMygpO1xuICAgIGNvbnN0IG5vcm1hbCA9IHBsYW5lVHJpbWVzaF9ub3JtYWw7XG4gICAgbm9ybWFsLnNldCgwLCAwLCAxKTtcbiAgICBwbGFuZVF1YXQudm11bHQobm9ybWFsLCBub3JtYWwpOyAvLyBUdXJuIG5vcm1hbCBhY2NvcmRpbmcgdG8gcGxhbmVcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdHJpbWVzaFNoYXBlLnZlcnRpY2VzLmxlbmd0aCAvIDM7IGkrKykge1xuICAgICAgLy8gR2V0IHdvcmxkIHZlcnRleCBmcm9tIHRyaW1lc2hcbiAgICAgIHRyaW1lc2hTaGFwZS5nZXRWZXJ0ZXgoaSwgdik7IC8vIFNhZmUgdXBcblxuICAgICAgY29uc3QgdjIgPSBuZXcgVmVjMygpO1xuICAgICAgdjIuY29weSh2KTtcbiAgICAgIFRyYW5zZm9ybS5wb2ludFRvV29ybGRGcmFtZSh0cmltZXNoUG9zLCB0cmltZXNoUXVhdCwgdjIsIHYpOyAvLyBDaGVjayBwbGFuZSBzaWRlXG5cbiAgICAgIGNvbnN0IHJlbHBvcyA9IHBsYW5lVHJpbWVzaF9yZWxwb3M7XG4gICAgICB2LnZzdWIocGxhbmVQb3MsIHJlbHBvcyk7XG4gICAgICBjb25zdCBkb3QgPSBub3JtYWwuZG90KHJlbHBvcyk7XG5cbiAgICAgIGlmIChkb3QgPD0gMC4wKSB7XG4gICAgICAgIGlmIChqdXN0VGVzdCkge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgciA9IHRoaXMuY3JlYXRlQ29udGFjdEVxdWF0aW9uKHBsYW5lQm9keSwgdHJpbWVzaEJvZHksIHBsYW5lU2hhcGUsIHRyaW1lc2hTaGFwZSwgcnNpLCByc2opO1xuICAgICAgICByLm5pLmNvcHkobm9ybWFsKTsgLy8gQ29udGFjdCBub3JtYWwgaXMgdGhlIHBsYW5lIG5vcm1hbFxuICAgICAgICAvLyBHZXQgdmVydGV4IHBvc2l0aW9uIHByb2plY3RlZCBvbiBwbGFuZVxuXG4gICAgICAgIGNvbnN0IHByb2plY3RlZCA9IHBsYW5lVHJpbWVzaF9wcm9qZWN0ZWQ7XG4gICAgICAgIG5vcm1hbC5zY2FsZShyZWxwb3MuZG90KG5vcm1hbCksIHByb2plY3RlZCk7XG4gICAgICAgIHYudnN1Yihwcm9qZWN0ZWQsIHByb2plY3RlZCk7IC8vIHJpIGlzIHRoZSBwcm9qZWN0ZWQgd29ybGQgcG9zaXRpb24gbWludXMgcGxhbmUgcG9zaXRpb25cblxuICAgICAgICByLnJpLmNvcHkocHJvamVjdGVkKTtcbiAgICAgICAgci5yaS52c3ViKHBsYW5lQm9keS5wb3NpdGlvbiwgci5yaSk7XG4gICAgICAgIHIucmouY29weSh2KTtcbiAgICAgICAgci5yai52c3ViKHRyaW1lc2hCb2R5LnBvc2l0aW9uLCByLnJqKTsgLy8gU3RvcmUgcmVzdWx0XG5cbiAgICAgICAgdGhpcy5yZXN1bHQucHVzaChyKTtcbiAgICAgICAgdGhpcy5jcmVhdGVGcmljdGlvbkVxdWF0aW9uc0Zyb21Db250YWN0KHIsIHRoaXMuZnJpY3Rpb25SZXN1bHQpO1xuICAgICAgfVxuICAgIH1cbiAgfSAvLyBjb252ZXhUcmltZXNoKFxuICAvLyAgIHNpOiBDb252ZXhQb2x5aGVkcm9uLCBzajogVHJpbWVzaCwgeGk6IFZlYzMsIHhqOiBWZWMzLCBxaTogUXVhdGVybmlvbiwgcWo6IFF1YXRlcm5pb24sXG4gIC8vICAgYmk6IEJvZHksIGJqOiBCb2R5LCByc2k/OiBTaGFwZSB8IG51bGwsIHJzaj86IFNoYXBlIHwgbnVsbCxcbiAgLy8gICBmYWNlTGlzdEE/OiBudW1iZXJbXSB8IG51bGwsIGZhY2VMaXN0Qj86IG51bWJlcltdIHwgbnVsbCxcbiAgLy8gKSB7XG4gIC8vICAgY29uc3Qgc2VwQXhpcyA9IGNvbnZleENvbnZleF9zZXBBeGlzO1xuICAvLyAgIGlmKHhpLmRpc3RhbmNlVG8oeGopID4gc2kuYm91bmRpbmdTcGhlcmVSYWRpdXMgKyBzai5ib3VuZGluZ1NwaGVyZVJhZGl1cyl7XG4gIC8vICAgICAgIHJldHVybjtcbiAgLy8gICB9XG4gIC8vICAgLy8gQ29uc3RydWN0IGEgdGVtcCBodWxsIGZvciBlYWNoIHRyaWFuZ2xlXG4gIC8vICAgY29uc3QgaHVsbEIgPSBuZXcgQ29udmV4UG9seWhlZHJvbigpO1xuICAvLyAgIGh1bGxCLmZhY2VzID0gW1swLDEsMl1dO1xuICAvLyAgIGNvbnN0IHZhID0gbmV3IFZlYzMoKTtcbiAgLy8gICBjb25zdCB2YiA9IG5ldyBWZWMzKCk7XG4gIC8vICAgY29uc3QgdmMgPSBuZXcgVmVjMygpO1xuICAvLyAgIGh1bGxCLnZlcnRpY2VzID0gW1xuICAvLyAgICAgICB2YSxcbiAgLy8gICAgICAgdmIsXG4gIC8vICAgICAgIHZjXG4gIC8vICAgXTtcbiAgLy8gICBmb3IgKGxldCBpID0gMDsgaSA8IHNqLmluZGljZXMubGVuZ3RoIC8gMzsgaSsrKSB7XG4gIC8vICAgICAgIGNvbnN0IHRyaWFuZ2xlTm9ybWFsID0gbmV3IFZlYzMoKTtcbiAgLy8gICAgICAgc2ouZ2V0Tm9ybWFsKGksIHRyaWFuZ2xlTm9ybWFsKTtcbiAgLy8gICAgICAgaHVsbEIuZmFjZU5vcm1hbHMgPSBbdHJpYW5nbGVOb3JtYWxdO1xuICAvLyAgICAgICBzai5nZXRUcmlhbmdsZVZlcnRpY2VzKGksIHZhLCB2YiwgdmMpO1xuICAvLyAgICAgICBsZXQgZCA9IHNpLnRlc3RTZXBBeGlzKHRyaWFuZ2xlTm9ybWFsLCBodWxsQiwgeGksIHFpLCB4aiwgcWopO1xuICAvLyAgICAgICBpZighZCl7XG4gIC8vICAgICAgICAgICB0cmlhbmdsZU5vcm1hbC5zY2FsZSgtMSwgdHJpYW5nbGVOb3JtYWwpO1xuICAvLyAgICAgICAgICAgZCA9IHNpLnRlc3RTZXBBeGlzKHRyaWFuZ2xlTm9ybWFsLCBodWxsQiwgeGksIHFpLCB4aiwgcWopO1xuICAvLyAgICAgICAgICAgaWYoIWQpe1xuICAvLyAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAvLyAgICAgICAgICAgfVxuICAvLyAgICAgICB9XG4gIC8vICAgICAgIGNvbnN0IHJlczogQ29udmV4UG9seWhlZHJvbkNvbnRhY3RQb2ludFtdID0gW107XG4gIC8vICAgICAgIGNvbnN0IHEgPSBjb252ZXhDb252ZXhfcTtcbiAgLy8gICAgICAgc2kuY2xpcEFnYWluc3RIdWxsKHhpLHFpLGh1bGxCLHhqLHFqLHRyaWFuZ2xlTm9ybWFsLC0xMDAsMTAwLHJlcyk7XG4gIC8vICAgICAgIGZvcihsZXQgaiA9IDA7IGogIT09IHJlcy5sZW5ndGg7IGorKyl7XG4gIC8vICAgICAgICAgICBjb25zdCByID0gdGhpcy5jcmVhdGVDb250YWN0RXF1YXRpb24oYmksYmosc2ksc2oscnNpLHJzaiksXG4gIC8vICAgICAgICAgICAgICAgcmkgPSByLnJpLFxuICAvLyAgICAgICAgICAgICAgIHJqID0gci5yajtcbiAgLy8gICAgICAgICAgIHIubmkuY29weSh0cmlhbmdsZU5vcm1hbCk7XG4gIC8vICAgICAgICAgICByLm5pLm5lZ2F0ZShyLm5pKTtcbiAgLy8gICAgICAgICAgIHJlc1tqXS5ub3JtYWwubmVnYXRlKHEpO1xuICAvLyAgICAgICAgICAgcS5tdWx0KHJlc1tqXS5kZXB0aCwgcSk7XG4gIC8vICAgICAgICAgICByZXNbal0ucG9pbnQudmFkZChxLCByaSk7XG4gIC8vICAgICAgICAgICByai5jb3B5KHJlc1tqXS5wb2ludCk7XG4gIC8vICAgICAgICAgICAvLyBDb250YWN0IHBvaW50cyBhcmUgaW4gd29ybGQgY29vcmRpbmF0ZXMuIFRyYW5zZm9ybSBiYWNrIHRvIHJlbGF0aXZlXG4gIC8vICAgICAgICAgICByaS52c3ViKHhpLHJpKTtcbiAgLy8gICAgICAgICAgIHJqLnZzdWIoeGoscmopO1xuICAvLyAgICAgICAgICAgLy8gTWFrZSByZWxhdGl2ZSB0byBib2RpZXNcbiAgLy8gICAgICAgICAgIHJpLnZhZGQoeGksIHJpKTtcbiAgLy8gICAgICAgICAgIHJpLnZzdWIoYmkucG9zaXRpb24sIHJpKTtcbiAgLy8gICAgICAgICAgIHJqLnZhZGQoeGosIHJqKTtcbiAgLy8gICAgICAgICAgIHJqLnZzdWIoYmoucG9zaXRpb24sIHJqKTtcbiAgLy8gICAgICAgICAgIHJlc3VsdC5wdXNoKHIpO1xuICAvLyAgICAgICB9XG4gIC8vICAgfVxuICAvLyB9XG5cblxufVxuY29uc3QgYXZlcmFnZU5vcm1hbCA9IG5ldyBWZWMzKCk7XG5jb25zdCBhdmVyYWdlQ29udGFjdFBvaW50QSA9IG5ldyBWZWMzKCk7XG5jb25zdCBhdmVyYWdlQ29udGFjdFBvaW50QiA9IG5ldyBWZWMzKCk7XG5jb25zdCB0bXBWZWMxJDIgPSBuZXcgVmVjMygpO1xuY29uc3QgdG1wVmVjMiQyID0gbmV3IFZlYzMoKTtcbmNvbnN0IHRtcFF1YXQxID0gbmV3IFF1YXRlcm5pb24oKTtcbmNvbnN0IHRtcFF1YXQyID0gbmV3IFF1YXRlcm5pb24oKTtcblxuTmFycm93cGhhc2UucHJvdG90eXBlW0NPTExJU0lPTl9UWVBFUy5ib3hCb3hdID0gTmFycm93cGhhc2UucHJvdG90eXBlLmJveEJveDtcbk5hcnJvd3BoYXNlLnByb3RvdHlwZVtDT0xMSVNJT05fVFlQRVMuYm94Q29udmV4XSA9IE5hcnJvd3BoYXNlLnByb3RvdHlwZS5ib3hDb252ZXg7XG5OYXJyb3dwaGFzZS5wcm90b3R5cGVbQ09MTElTSU9OX1RZUEVTLmJveFBhcnRpY2xlXSA9IE5hcnJvd3BoYXNlLnByb3RvdHlwZS5ib3hQYXJ0aWNsZTtcbk5hcnJvd3BoYXNlLnByb3RvdHlwZVtDT0xMSVNJT05fVFlQRVMuc3BoZXJlU3BoZXJlXSA9IE5hcnJvd3BoYXNlLnByb3RvdHlwZS5zcGhlcmVTcGhlcmU7XG5jb25zdCBwbGFuZVRyaW1lc2hfbm9ybWFsID0gbmV3IFZlYzMoKTtcbmNvbnN0IHBsYW5lVHJpbWVzaF9yZWxwb3MgPSBuZXcgVmVjMygpO1xuY29uc3QgcGxhbmVUcmltZXNoX3Byb2plY3RlZCA9IG5ldyBWZWMzKCk7XG5OYXJyb3dwaGFzZS5wcm90b3R5cGVbQ09MTElTSU9OX1RZUEVTLnBsYW5lVHJpbWVzaF0gPSBOYXJyb3dwaGFzZS5wcm90b3R5cGUucGxhbmVUcmltZXNoO1xuY29uc3Qgc3BoZXJlVHJpbWVzaF9ub3JtYWwgPSBuZXcgVmVjMygpO1xuY29uc3Qgc3BoZXJlVHJpbWVzaF9yZWxwb3MgPSBuZXcgVmVjMygpO1xuY29uc3Qgc3BoZXJlVHJpbWVzaF92ID0gbmV3IFZlYzMoKTtcbmNvbnN0IHNwaGVyZVRyaW1lc2hfdjIgPSBuZXcgVmVjMygpO1xuY29uc3Qgc3BoZXJlVHJpbWVzaF9lZGdlVmVydGV4QSA9IG5ldyBWZWMzKCk7XG5jb25zdCBzcGhlcmVUcmltZXNoX2VkZ2VWZXJ0ZXhCID0gbmV3IFZlYzMoKTtcbmNvbnN0IHNwaGVyZVRyaW1lc2hfZWRnZVZlY3RvciA9IG5ldyBWZWMzKCk7XG5jb25zdCBzcGhlcmVUcmltZXNoX2VkZ2VWZWN0b3JVbml0ID0gbmV3IFZlYzMoKTtcbmNvbnN0IHNwaGVyZVRyaW1lc2hfbG9jYWxTcGhlcmVQb3MgPSBuZXcgVmVjMygpO1xuY29uc3Qgc3BoZXJlVHJpbWVzaF90bXAgPSBuZXcgVmVjMygpO1xuY29uc3Qgc3BoZXJlVHJpbWVzaF92YSA9IG5ldyBWZWMzKCk7XG5jb25zdCBzcGhlcmVUcmltZXNoX3ZiID0gbmV3IFZlYzMoKTtcbmNvbnN0IHNwaGVyZVRyaW1lc2hfdmMgPSBuZXcgVmVjMygpO1xuY29uc3Qgc3BoZXJlVHJpbWVzaF9sb2NhbFNwaGVyZUFBQkIgPSBuZXcgQUFCQigpO1xuY29uc3Qgc3BoZXJlVHJpbWVzaF90cmlhbmdsZXMgPSBbXTtcbk5hcnJvd3BoYXNlLnByb3RvdHlwZVtDT0xMSVNJT05fVFlQRVMuc3BoZXJlVHJpbWVzaF0gPSBOYXJyb3dwaGFzZS5wcm90b3R5cGUuc3BoZXJlVHJpbWVzaDtcbmNvbnN0IHBvaW50X29uX3BsYW5lX3RvX3NwaGVyZSA9IG5ldyBWZWMzKCk7XG5jb25zdCBwbGFuZV90b19zcGhlcmVfb3J0aG8gPSBuZXcgVmVjMygpO1xuTmFycm93cGhhc2UucHJvdG90eXBlW0NPTExJU0lPTl9UWVBFUy5zcGhlcmVQbGFuZV0gPSBOYXJyb3dwaGFzZS5wcm90b3R5cGUuc3BoZXJlUGxhbmU7IC8vIFNlZSBodHRwOi8vYnVsbGV0cGh5c2ljcy5jb20vQnVsbGV0L0J1bGxldEZ1bGwvU3BoZXJlVHJpYW5nbGVEZXRlY3Rvcl84Y3BwX3NvdXJjZS5odG1sXG5cbmNvbnN0IHBvaW50SW5Qb2x5Z29uX2VkZ2UgPSBuZXcgVmVjMygpO1xuY29uc3QgcG9pbnRJblBvbHlnb25fZWRnZV94X25vcm1hbCA9IG5ldyBWZWMzKCk7XG5jb25zdCBwb2ludEluUG9seWdvbl92dHAgPSBuZXcgVmVjMygpO1xuXG5mdW5jdGlvbiBwb2ludEluUG9seWdvbih2ZXJ0cywgbm9ybWFsLCBwKSB7XG4gIGxldCBwb3NpdGl2ZVJlc3VsdCA9IG51bGw7XG4gIGNvbnN0IE4gPSB2ZXJ0cy5sZW5ndGg7XG5cbiAgZm9yIChsZXQgaSA9IDA7IGkgIT09IE47IGkrKykge1xuICAgIGNvbnN0IHYgPSB2ZXJ0c1tpXTsgLy8gR2V0IGVkZ2UgdG8gdGhlIG5leHQgdmVydGV4XG5cbiAgICBjb25zdCBlZGdlID0gcG9pbnRJblBvbHlnb25fZWRnZTtcbiAgICB2ZXJ0c1soaSArIDEpICUgTl0udnN1Yih2LCBlZGdlKTsgLy8gR2V0IGNyb3NzIHByb2R1Y3QgYmV0d2VlbiBwb2x5Z29uIG5vcm1hbCBhbmQgdGhlIGVkZ2VcblxuICAgIGNvbnN0IGVkZ2VfeF9ub3JtYWwgPSBwb2ludEluUG9seWdvbl9lZGdlX3hfbm9ybWFsOyAvL2NvbnN0IGVkZ2VfeF9ub3JtYWwgPSBuZXcgVmVjMygpO1xuXG4gICAgZWRnZS5jcm9zcyhub3JtYWwsIGVkZ2VfeF9ub3JtYWwpOyAvLyBHZXQgdmVjdG9yIGJldHdlZW4gcG9pbnQgYW5kIGN1cnJlbnQgdmVydGV4XG5cbiAgICBjb25zdCB2ZXJ0ZXhfdG9fcCA9IHBvaW50SW5Qb2x5Z29uX3Z0cDtcbiAgICBwLnZzdWIodiwgdmVydGV4X3RvX3ApOyAvLyBUaGlzIGRvdCBwcm9kdWN0IGRldGVybWluZXMgd2hpY2ggc2lkZSBvZiB0aGUgZWRnZSB0aGUgcG9pbnQgaXNcblxuICAgIGNvbnN0IHIgPSBlZGdlX3hfbm9ybWFsLmRvdCh2ZXJ0ZXhfdG9fcCk7IC8vIElmIGFsbCBzdWNoIGRvdCBwcm9kdWN0cyBoYXZlIHNhbWUgc2lnbiwgd2UgYXJlIGluc2lkZSB0aGUgcG9seWdvbi5cblxuICAgIGlmIChwb3NpdGl2ZVJlc3VsdCA9PT0gbnVsbCB8fCByID4gMCAmJiBwb3NpdGl2ZVJlc3VsdCA9PT0gdHJ1ZSB8fCByIDw9IDAgJiYgcG9zaXRpdmVSZXN1bHQgPT09IGZhbHNlKSB7XG4gICAgICBpZiAocG9zaXRpdmVSZXN1bHQgPT09IG51bGwpIHtcbiAgICAgICAgcG9zaXRpdmVSZXN1bHQgPSByID4gMDtcbiAgICAgIH1cblxuICAgICAgY29udGludWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBmYWxzZTsgLy8gRW5jb3VudGVyZWQgc29tZSBvdGhlciBzaWduLiBFeGl0LlxuICAgIH1cbiAgfSAvLyBJZiB3ZSBnb3QgaGVyZSwgYWxsIGRvdCBwcm9kdWN0cyB3ZXJlIG9mIHRoZSBzYW1lIHNpZ24uXG5cblxuICByZXR1cm4gdHJ1ZTtcbn1cblxuY29uc3QgYm94X3RvX3NwaGVyZSA9IG5ldyBWZWMzKCk7XG5jb25zdCBzcGhlcmVCb3hfbnMgPSBuZXcgVmVjMygpO1xuY29uc3Qgc3BoZXJlQm94X25zMSA9IG5ldyBWZWMzKCk7XG5jb25zdCBzcGhlcmVCb3hfbnMyID0gbmV3IFZlYzMoKTtcbmNvbnN0IHNwaGVyZUJveF9zaWRlcyA9IFtuZXcgVmVjMygpLCBuZXcgVmVjMygpLCBuZXcgVmVjMygpLCBuZXcgVmVjMygpLCBuZXcgVmVjMygpLCBuZXcgVmVjMygpXTtcbmNvbnN0IHNwaGVyZUJveF9zcGhlcmVfdG9fY29ybmVyID0gbmV3IFZlYzMoKTtcbmNvbnN0IHNwaGVyZUJveF9zaWRlX25zID0gbmV3IFZlYzMoKTtcbmNvbnN0IHNwaGVyZUJveF9zaWRlX25zMSA9IG5ldyBWZWMzKCk7XG5jb25zdCBzcGhlcmVCb3hfc2lkZV9uczIgPSBuZXcgVmVjMygpO1xuTmFycm93cGhhc2UucHJvdG90eXBlW0NPTExJU0lPTl9UWVBFUy5zcGhlcmVCb3hdID0gTmFycm93cGhhc2UucHJvdG90eXBlLnNwaGVyZUJveDtcbmNvbnN0IGNvbnZleF90b19zcGhlcmUgPSBuZXcgVmVjMygpO1xuY29uc3Qgc3BoZXJlQ29udmV4X2VkZ2UgPSBuZXcgVmVjMygpO1xuY29uc3Qgc3BoZXJlQ29udmV4X2VkZ2VVbml0ID0gbmV3IFZlYzMoKTtcbmNvbnN0IHNwaGVyZUNvbnZleF9zcGhlcmVUb0Nvcm5lciA9IG5ldyBWZWMzKCk7XG5jb25zdCBzcGhlcmVDb252ZXhfd29ybGRDb3JuZXIgPSBuZXcgVmVjMygpO1xuY29uc3Qgc3BoZXJlQ29udmV4X3dvcmxkTm9ybWFsID0gbmV3IFZlYzMoKTtcbmNvbnN0IHNwaGVyZUNvbnZleF93b3JsZFBvaW50ID0gbmV3IFZlYzMoKTtcbmNvbnN0IHNwaGVyZUNvbnZleF93b3JsZFNwaGVyZVBvaW50Q2xvc2VzdFRvUGxhbmUgPSBuZXcgVmVjMygpO1xuY29uc3Qgc3BoZXJlQ29udmV4X3BlbmV0cmF0aW9uVmVjID0gbmV3IFZlYzMoKTtcbmNvbnN0IHNwaGVyZUNvbnZleF9zcGhlcmVUb1dvcmxkUG9pbnQgPSBuZXcgVmVjMygpO1xuTmFycm93cGhhc2UucHJvdG90eXBlW0NPTExJU0lPTl9UWVBFUy5zcGhlcmVDb252ZXhdID0gTmFycm93cGhhc2UucHJvdG90eXBlLnNwaGVyZUNvbnZleDtcbk5hcnJvd3BoYXNlLnByb3RvdHlwZVtDT0xMSVNJT05fVFlQRVMucGxhbmVCb3hdID0gTmFycm93cGhhc2UucHJvdG90eXBlLnBsYW5lQm94O1xuY29uc3QgcGxhbmVDb252ZXhfdiA9IG5ldyBWZWMzKCk7XG5jb25zdCBwbGFuZUNvbnZleF9ub3JtYWwgPSBuZXcgVmVjMygpO1xuY29uc3QgcGxhbmVDb252ZXhfcmVscG9zID0gbmV3IFZlYzMoKTtcbmNvbnN0IHBsYW5lQ29udmV4X3Byb2plY3RlZCA9IG5ldyBWZWMzKCk7XG5OYXJyb3dwaGFzZS5wcm90b3R5cGVbQ09MTElTSU9OX1RZUEVTLnBsYW5lQ29udmV4XSA9IE5hcnJvd3BoYXNlLnByb3RvdHlwZS5wbGFuZUNvbnZleDtcbmNvbnN0IGNvbnZleENvbnZleF9zZXBBeGlzID0gbmV3IFZlYzMoKTtcbmNvbnN0IGNvbnZleENvbnZleF9xID0gbmV3IFZlYzMoKTtcbk5hcnJvd3BoYXNlLnByb3RvdHlwZVtDT0xMSVNJT05fVFlQRVMuY29udmV4Q29udmV4XSA9IE5hcnJvd3BoYXNlLnByb3RvdHlwZS5jb252ZXhDb252ZXg7IC8vIE5hcnJvd3BoYXNlLnByb3RvdHlwZVtDT0xMSVNJT05fVFlQRVMuY29udmV4VHJpbWVzaF0gPSBOYXJyb3dwaGFzZS5wcm90b3R5cGUuY29udmV4VHJpbWVzaFxuXG5jb25zdCBwYXJ0aWNsZVBsYW5lX25vcm1hbCA9IG5ldyBWZWMzKCk7XG5jb25zdCBwYXJ0aWNsZVBsYW5lX3JlbHBvcyA9IG5ldyBWZWMzKCk7XG5jb25zdCBwYXJ0aWNsZVBsYW5lX3Byb2plY3RlZCA9IG5ldyBWZWMzKCk7XG5OYXJyb3dwaGFzZS5wcm90b3R5cGVbQ09MTElTSU9OX1RZUEVTLnBsYW5lUGFydGljbGVdID0gTmFycm93cGhhc2UucHJvdG90eXBlLnBsYW5lUGFydGljbGU7XG5jb25zdCBwYXJ0aWNsZVNwaGVyZV9ub3JtYWwgPSBuZXcgVmVjMygpO1xuTmFycm93cGhhc2UucHJvdG90eXBlW0NPTExJU0lPTl9UWVBFUy5zcGhlcmVQYXJ0aWNsZV0gPSBOYXJyb3dwaGFzZS5wcm90b3R5cGUuc3BoZXJlUGFydGljbGU7IC8vIFdJUFxuXG5jb25zdCBjcWogPSBuZXcgUXVhdGVybmlvbigpO1xuY29uc3QgY29udmV4UGFydGljbGVfbG9jYWwgPSBuZXcgVmVjMygpO1xuY29uc3QgY29udmV4UGFydGljbGVfcGVuZXRyYXRlZEZhY2VOb3JtYWwgPSBuZXcgVmVjMygpO1xuY29uc3QgY29udmV4UGFydGljbGVfdmVydGV4VG9QYXJ0aWNsZSA9IG5ldyBWZWMzKCk7XG5jb25zdCBjb252ZXhQYXJ0aWNsZV93b3JsZFBlbmV0cmF0aW9uVmVjID0gbmV3IFZlYzMoKTtcbk5hcnJvd3BoYXNlLnByb3RvdHlwZVtDT0xMSVNJT05fVFlQRVMuY29udmV4UGFydGljbGVdID0gTmFycm93cGhhc2UucHJvdG90eXBlLmNvbnZleFBhcnRpY2xlO1xuTmFycm93cGhhc2UucHJvdG90eXBlW0NPTExJU0lPTl9UWVBFUy5ib3hIZWlnaHRmaWVsZF0gPSBOYXJyb3dwaGFzZS5wcm90b3R5cGUuYm94SGVpZ2h0ZmllbGQ7XG5jb25zdCBjb252ZXhIZWlnaHRmaWVsZF90bXAxID0gbmV3IFZlYzMoKTtcbmNvbnN0IGNvbnZleEhlaWdodGZpZWxkX3RtcDIgPSBuZXcgVmVjMygpO1xuY29uc3QgY29udmV4SGVpZ2h0ZmllbGRfZmFjZUxpc3QgPSBbMF07XG5OYXJyb3dwaGFzZS5wcm90b3R5cGVbQ09MTElTSU9OX1RZUEVTLmNvbnZleEhlaWdodGZpZWxkXSA9IE5hcnJvd3BoYXNlLnByb3RvdHlwZS5jb252ZXhIZWlnaHRmaWVsZDtcbmNvbnN0IHNwaGVyZUhlaWdodGZpZWxkX3RtcDEgPSBuZXcgVmVjMygpO1xuY29uc3Qgc3BoZXJlSGVpZ2h0ZmllbGRfdG1wMiA9IG5ldyBWZWMzKCk7XG5OYXJyb3dwaGFzZS5wcm90b3R5cGVbQ09MTElTSU9OX1RZUEVTLnNwaGVyZUhlaWdodGZpZWxkXSA9IE5hcnJvd3BoYXNlLnByb3RvdHlwZS5zcGhlcmVIZWlnaHRmaWVsZDtcblxuLyoqXHJcbiAqIEBjbGFzcyBPdmVybGFwS2VlcGVyXHJcbiAqIEBjb25zdHJ1Y3RvclxyXG4gKi9cbmNsYXNzIE92ZXJsYXBLZWVwZXIge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmN1cnJlbnQgPSBbXTtcbiAgICB0aGlzLnByZXZpb3VzID0gW107XG4gIH1cblxuICBnZXRLZXkoaSwgaikge1xuICAgIGlmIChqIDwgaSkge1xuICAgICAgY29uc3QgdGVtcCA9IGo7XG4gICAgICBqID0gaTtcbiAgICAgIGkgPSB0ZW1wO1xuICAgIH1cblxuICAgIHJldHVybiBpIDw8IDE2IHwgajtcbiAgfVxuICAvKipcclxuICAgKiBAbWV0aG9kIHNldFxyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBpXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IGpcclxuICAgKi9cblxuXG4gIHNldChpLCBqKSB7XG4gICAgLy8gSW5zZXJ0aW9uIHNvcnQuIFRoaXMgd2F5IHRoZSBkaWZmIHdpbGwgaGF2ZSBsaW5lYXIgY29tcGxleGl0eS5cbiAgICBjb25zdCBrZXkgPSB0aGlzLmdldEtleShpLCBqKTtcbiAgICBjb25zdCBjdXJyZW50ID0gdGhpcy5jdXJyZW50O1xuICAgIGxldCBpbmRleCA9IDA7XG5cbiAgICB3aGlsZSAoa2V5ID4gY3VycmVudFtpbmRleF0pIHtcbiAgICAgIGluZGV4Kys7XG4gICAgfVxuXG4gICAgaWYgKGtleSA9PT0gY3VycmVudFtpbmRleF0pIHtcbiAgICAgIHJldHVybjsgLy8gUGFpciB3YXMgYWxyZWFkeSBhZGRlZFxuICAgIH1cblxuICAgIGZvciAobGV0IGogPSBjdXJyZW50Lmxlbmd0aCAtIDE7IGogPj0gaW5kZXg7IGotLSkge1xuICAgICAgY3VycmVudFtqICsgMV0gPSBjdXJyZW50W2pdO1xuICAgIH1cblxuICAgIGN1cnJlbnRbaW5kZXhdID0ga2V5O1xuICB9XG4gIC8qKlxyXG4gICAqIEBtZXRob2QgdGlja1xyXG4gICAqL1xuXG5cbiAgdGljaygpIHtcbiAgICBjb25zdCB0bXAgPSB0aGlzLmN1cnJlbnQ7XG4gICAgdGhpcy5jdXJyZW50ID0gdGhpcy5wcmV2aW91cztcbiAgICB0aGlzLnByZXZpb3VzID0gdG1wO1xuICAgIHRoaXMuY3VycmVudC5sZW5ndGggPSAwO1xuICB9XG4gIC8qKlxyXG4gICAqIEBtZXRob2QgZ2V0RGlmZlxyXG4gICAqIEBwYXJhbSAge2FycmF5fSBhZGRpdGlvbnNcclxuICAgKiBAcGFyYW0gIHthcnJheX0gcmVtb3ZhbHNcclxuICAgKi9cblxuXG4gIGdldERpZmYoYWRkaXRpb25zLCByZW1vdmFscykge1xuICAgIGNvbnN0IGEgPSB0aGlzLmN1cnJlbnQ7XG4gICAgY29uc3QgYiA9IHRoaXMucHJldmlvdXM7XG4gICAgY29uc3QgYWwgPSBhLmxlbmd0aDtcbiAgICBjb25zdCBibCA9IGIubGVuZ3RoO1xuICAgIGxldCBqID0gMDtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYWw7IGkrKykge1xuICAgICAgbGV0IGZvdW5kID0gZmFsc2U7XG4gICAgICBjb25zdCBrZXlBID0gYVtpXTtcblxuICAgICAgd2hpbGUgKGtleUEgPiBiW2pdKSB7XG4gICAgICAgIGorKztcbiAgICAgIH1cblxuICAgICAgZm91bmQgPSBrZXlBID09PSBiW2pdO1xuXG4gICAgICBpZiAoIWZvdW5kKSB7XG4gICAgICAgIHVucGFja0FuZFB1c2goYWRkaXRpb25zLCBrZXlBKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBqID0gMDtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYmw7IGkrKykge1xuICAgICAgbGV0IGZvdW5kID0gZmFsc2U7XG4gICAgICBjb25zdCBrZXlCID0gYltpXTtcblxuICAgICAgd2hpbGUgKGtleUIgPiBhW2pdKSB7XG4gICAgICAgIGorKztcbiAgICAgIH1cblxuICAgICAgZm91bmQgPSBhW2pdID09PSBrZXlCO1xuXG4gICAgICBpZiAoIWZvdW5kKSB7XG4gICAgICAgIHVucGFja0FuZFB1c2gocmVtb3ZhbHMsIGtleUIpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG59XG5cbmZ1bmN0aW9uIHVucGFja0FuZFB1c2goYXJyYXksIGtleSkge1xuICBhcnJheS5wdXNoKChrZXkgJiAweGZmZmYwMDAwKSA+PiAxNiwga2V5ICYgMHgwMDAwZmZmZik7XG59XG5cbi8qKlxyXG4gKiBAY2xhc3MgVHVwbGVEaWN0aW9uYXJ5XHJcbiAqIEBjb25zdHJ1Y3RvclxyXG4gKi9cbmNsYXNzIFR1cGxlRGljdGlvbmFyeSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuZGF0YSA9IHtcbiAgICAgIGtleXM6IFtdXG4gICAgfTtcbiAgfVxuICAvKipcclxuICAgKiBAbWV0aG9kIGdldFxyXG4gICAqIEBwYXJhbSAge051bWJlcn0gaVxyXG4gICAqIEBwYXJhbSAge051bWJlcn0galxyXG4gICAqIEByZXR1cm4ge09iamVjdH1cclxuICAgKi9cblxuXG4gIGdldChpLCBqKSB7XG4gICAgaWYgKGkgPiBqKSB7XG4gICAgICAvLyBzd2FwXG4gICAgICBjb25zdCB0ZW1wID0gajtcbiAgICAgIGogPSBpO1xuICAgICAgaSA9IHRlbXA7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuZGF0YVtpICsgXCItXCIgKyBqXTtcbiAgfVxuICAvKipcclxuICAgKiBAbWV0aG9kIHNldFxyXG4gICAqIEBwYXJhbSAge051bWJlcn0gaVxyXG4gICAqIEBwYXJhbSAge051bWJlcn0galxyXG4gICAqIEBwYXJhbSB7T2JqZWN0fSB2YWx1ZVxyXG4gICAqL1xuXG5cbiAgc2V0KGksIGosIHZhbHVlKSB7XG4gICAgaWYgKGkgPiBqKSB7XG4gICAgICBjb25zdCB0ZW1wID0gajtcbiAgICAgIGogPSBpO1xuICAgICAgaSA9IHRlbXA7XG4gICAgfVxuXG4gICAgY29uc3Qga2V5ID0gaSArIFwiLVwiICsgajsgLy8gQ2hlY2sgaWYga2V5IGFscmVhZHkgZXhpc3RzXG5cbiAgICBpZiAoIXRoaXMuZ2V0KGksIGopKSB7XG4gICAgICB0aGlzLmRhdGEua2V5cy5wdXNoKGtleSk7XG4gICAgfVxuXG4gICAgdGhpcy5kYXRhW2tleV0gPSB2YWx1ZTtcbiAgfVxuICAvKipcclxuICAgKiBAbWV0aG9kIHJlc2V0XHJcbiAgICovXG5cblxuICByZXNldCgpIHtcbiAgICBjb25zdCBkYXRhID0gdGhpcy5kYXRhO1xuICAgIGNvbnN0IGtleXMgPSBkYXRhLmtleXM7XG5cbiAgICB3aGlsZSAoa2V5cy5sZW5ndGggPiAwKSB7XG4gICAgICBjb25zdCBrZXkgPSBrZXlzLnBvcCgpO1xuICAgICAgZGVsZXRlIGRhdGFba2V5XTtcbiAgICB9XG4gIH1cblxufVxuXG4vKipcclxuICogVGhlIHBoeXNpY3Mgd29ybGRcclxuICogQGNsYXNzIFdvcmxkXHJcbiAqIEBjb25zdHJ1Y3RvclxyXG4gKiBAZXh0ZW5kcyBFdmVudFRhcmdldFxyXG4gKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdXHJcbiAqIEBwYXJhbSB7VmVjM30gW29wdGlvbnMuZ3Jhdml0eV1cclxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5hbGxvd1NsZWVwXVxyXG4gKiBAcGFyYW0ge0Jyb2FkcGhhc2V9IFtvcHRpb25zLmJyb2FkcGhhc2VdXHJcbiAqIEBwYXJhbSB7U29sdmVyfSBbb3B0aW9ucy5zb2x2ZXJdXHJcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMucXVhdE5vcm1hbGl6ZUZhc3RdXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5xdWF0Tm9ybWFsaXplU2tpcF1cclxuICovXG5jbGFzcyBXb3JsZCBleHRlbmRzIEV2ZW50VGFyZ2V0IHtcbiAgLy8gQ3VycmVudGx5IC8gbGFzdCB1c2VkIHRpbWVzdGVwLiBJcyBzZXQgdG8gLTEgaWYgbm90IGF2YWlsYWJsZS4gVGhpcyB2YWx1ZSBpcyB1cGRhdGVkIGJlZm9yZSBlYWNoIGludGVybmFsIHN0ZXAsIHdoaWNoIG1lYW5zIHRoYXQgaXQgaXMgXCJmcmVzaFwiIGluc2lkZSBldmVudCBjYWxsYmFja3MuXG4gIC8vIE1ha2VzIGJvZGllcyBnbyB0byBzbGVlcCB3aGVuIHRoZXkndmUgYmVlbiBpbmFjdGl2ZS5cbiAgLy8gQWxsIHRoZSBjdXJyZW50IGNvbnRhY3RzIChpbnN0YW5jZXMgb2YgQ29udGFjdEVxdWF0aW9uKSBpbiB0aGUgd29ybGQuXG4gIC8vIEhvdyBvZnRlbiB0byBub3JtYWxpemUgcXVhdGVybmlvbnMuIFNldCB0byAwIGZvciBldmVyeSBzdGVwLCAxIGZvciBldmVyeSBzZWNvbmQgZXRjLi4gQSBsYXJnZXIgdmFsdWUgaW5jcmVhc2VzIHBlcmZvcm1hbmNlLiBJZiBib2RpZXMgdGVuZCB0byBleHBsb2RlLCBzZXQgdG8gYSBzbWFsbGVyIHZhbHVlICh6ZXJvIHRvIGJlIHN1cmUgbm90aGluZyBjYW4gZ28gd3JvbmcpLlxuICAvLyBTZXQgdG8gdHJ1ZSB0byB1c2UgZmFzdCBxdWF0ZXJuaW9uIG5vcm1hbGl6YXRpb24uIEl0IGlzIG9mdGVuIGVub3VnaCBhY2N1cmF0ZSB0byB1c2UuIElmIGJvZGllcyB0ZW5kIHRvIGV4cGxvZGUsIHNldCB0byBmYWxzZS5cbiAgLy8gVGhlIHdhbGwtY2xvY2sgdGltZSBzaW5jZSBzaW11bGF0aW9uIHN0YXJ0LlxuICAvLyBOdW1iZXIgb2YgdGltZXN0ZXBzIHRha2VuIHNpbmNlIHN0YXJ0LlxuICAvLyBEZWZhdWx0IGFuZCBsYXN0IHRpbWVzdGVwIHNpemVzLlxuICAvLyBUaGUgYnJvYWRwaGFzZSBhbGdvcml0aG0gdG8gdXNlLiBEZWZhdWx0IGlzIE5haXZlQnJvYWRwaGFzZS5cbiAgLy8gQWxsIGJvZGllcyBpbiB0aGlzIHdvcmxkXG4gIC8vIFRydWUgaWYgYW55IGJvZGllcyBhcmUgbm90IHNsZWVwaW5nLCBmYWxzZSBpZiBldmVyeSBib2R5IGlzIHNsZWVwaW5nLlxuICAvLyBUaGUgc29sdmVyIGFsZ29yaXRobSB0byB1c2UuIERlZmF1bHQgaXMgR1NTb2x2ZXIuXG4gIC8vIENvbGxpc2lvbk1hdHJpeCBmcm9tIHRoZSBwcmV2aW91cyBzdGVwLlxuICAvLyBBbGwgYWRkZWQgbWF0ZXJpYWxzLlxuICAvLyBVc2VkIHRvIGxvb2sgdXAgYSBDb250YWN0TWF0ZXJpYWwgZ2l2ZW4gdHdvIGluc3RhbmNlcyBvZiBNYXRlcmlhbC5cbiAgLy8gVGhpcyBjb250YWN0IG1hdGVyaWFsIGlzIHVzZWQgaWYgbm8gc3VpdGFibGUgY29udGFjdG1hdGVyaWFsIGlzIGZvdW5kIGZvciBhIGNvbnRhY3QuXG4gIC8vIFRpbWUgYWNjdW11bGF0b3IgZm9yIGludGVycG9sYXRpb24uIFNlZSBodHRwOi8vZ2FmZmVyb25nYW1lcy5jb20vZ2FtZS1waHlzaWNzL2ZpeC15b3VyLXRpbWVzdGVwL1xuICAvLyBEaXNwYXRjaGVkIGFmdGVyIGEgYm9keSBoYXMgYmVlbiBhZGRlZCB0byB0aGUgd29ybGQuXG4gIC8vIERpc3BhdGNoZWQgYWZ0ZXIgYSBib2R5IGhhcyBiZWVuIHJlbW92ZWQgZnJvbSB0aGUgd29ybGQuXG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMgPSB7fSkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5kdCA9IC0xO1xuICAgIHRoaXMuYWxsb3dTbGVlcCA9ICEhb3B0aW9ucy5hbGxvd1NsZWVwO1xuICAgIHRoaXMuY29udGFjdHMgPSBbXTtcbiAgICB0aGlzLmZyaWN0aW9uRXF1YXRpb25zID0gW107XG4gICAgdGhpcy5xdWF0Tm9ybWFsaXplU2tpcCA9IG9wdGlvbnMucXVhdE5vcm1hbGl6ZVNraXAgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMucXVhdE5vcm1hbGl6ZVNraXAgOiAwO1xuICAgIHRoaXMucXVhdE5vcm1hbGl6ZUZhc3QgPSBvcHRpb25zLnF1YXROb3JtYWxpemVGYXN0ICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLnF1YXROb3JtYWxpemVGYXN0IDogZmFsc2U7XG4gICAgdGhpcy50aW1lID0gMC4wO1xuICAgIHRoaXMuc3RlcG51bWJlciA9IDA7XG4gICAgdGhpcy5kZWZhdWx0X2R0ID0gMSAvIDYwO1xuICAgIHRoaXMubmV4dElkID0gMDtcbiAgICB0aGlzLmdyYXZpdHkgPSBuZXcgVmVjMygpO1xuXG4gICAgaWYgKG9wdGlvbnMuZ3Jhdml0eSkge1xuICAgICAgdGhpcy5ncmF2aXR5LmNvcHkob3B0aW9ucy5ncmF2aXR5KTtcbiAgICB9XG5cbiAgICB0aGlzLmJyb2FkcGhhc2UgPSBvcHRpb25zLmJyb2FkcGhhc2UgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuYnJvYWRwaGFzZSA6IG5ldyBOYWl2ZUJyb2FkcGhhc2UoKTtcbiAgICB0aGlzLmJvZGllcyA9IFtdO1xuICAgIHRoaXMuaGFzQWN0aXZlQm9kaWVzID0gZmFsc2U7XG4gICAgdGhpcy5zb2x2ZXIgPSBvcHRpb25zLnNvbHZlciAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5zb2x2ZXIgOiBuZXcgR1NTb2x2ZXIoKTtcbiAgICB0aGlzLmNvbnN0cmFpbnRzID0gW107XG4gICAgdGhpcy5uYXJyb3dwaGFzZSA9IG5ldyBOYXJyb3dwaGFzZSh0aGlzKTtcbiAgICB0aGlzLmNvbGxpc2lvbk1hdHJpeCA9IG5ldyBBcnJheUNvbGxpc2lvbk1hdHJpeCgpO1xuICAgIHRoaXMuY29sbGlzaW9uTWF0cml4UHJldmlvdXMgPSBuZXcgQXJyYXlDb2xsaXNpb25NYXRyaXgoKTtcbiAgICB0aGlzLmJvZHlPdmVybGFwS2VlcGVyID0gbmV3IE92ZXJsYXBLZWVwZXIoKTtcbiAgICB0aGlzLnNoYXBlT3ZlcmxhcEtlZXBlciA9IG5ldyBPdmVybGFwS2VlcGVyKCk7XG4gICAgdGhpcy5tYXRlcmlhbHMgPSBbXTtcbiAgICB0aGlzLmNvbnRhY3RtYXRlcmlhbHMgPSBbXTtcbiAgICB0aGlzLmNvbnRhY3RNYXRlcmlhbFRhYmxlID0gbmV3IFR1cGxlRGljdGlvbmFyeSgpO1xuICAgIHRoaXMuZGVmYXVsdE1hdGVyaWFsID0gbmV3IE1hdGVyaWFsKCdkZWZhdWx0Jyk7XG4gICAgdGhpcy5kZWZhdWx0Q29udGFjdE1hdGVyaWFsID0gbmV3IENvbnRhY3RNYXRlcmlhbCh0aGlzLmRlZmF1bHRNYXRlcmlhbCwgdGhpcy5kZWZhdWx0TWF0ZXJpYWwsIHtcbiAgICAgIGZyaWN0aW9uOiAwLjMsXG4gICAgICByZXN0aXR1dGlvbjogMC4wXG4gICAgfSk7XG4gICAgdGhpcy5kb1Byb2ZpbGluZyA9IGZhbHNlO1xuICAgIHRoaXMucHJvZmlsZSA9IHtcbiAgICAgIHNvbHZlOiAwLFxuICAgICAgbWFrZUNvbnRhY3RDb25zdHJhaW50czogMCxcbiAgICAgIGJyb2FkcGhhc2U6IDAsXG4gICAgICBpbnRlZ3JhdGU6IDAsXG4gICAgICBuYXJyb3dwaGFzZTogMFxuICAgIH07XG4gICAgdGhpcy5hY2N1bXVsYXRvciA9IDA7XG4gICAgdGhpcy5zdWJzeXN0ZW1zID0gW107XG4gICAgdGhpcy5hZGRCb2R5RXZlbnQgPSB7XG4gICAgICB0eXBlOiAnYWRkQm9keScsXG4gICAgICBib2R5OiBudWxsXG4gICAgfTtcbiAgICB0aGlzLnJlbW92ZUJvZHlFdmVudCA9IHtcbiAgICAgIHR5cGU6ICdyZW1vdmVCb2R5JyxcbiAgICAgIGJvZHk6IG51bGxcbiAgICB9O1xuICAgIHRoaXMuaWRUb0JvZHlNYXAgPSB7fTtcbiAgICB0aGlzLmJyb2FkcGhhc2Uuc2V0V29ybGQodGhpcyk7XG4gIH1cbiAgLyoqXHJcbiAgICogR2V0IHRoZSBjb250YWN0IG1hdGVyaWFsIGJldHdlZW4gbWF0ZXJpYWxzIG0xIGFuZCBtMlxyXG4gICAqIEBtZXRob2QgZ2V0Q29udGFjdE1hdGVyaWFsXHJcbiAgICogQHBhcmFtIHtNYXRlcmlhbH0gbTFcclxuICAgKiBAcGFyYW0ge01hdGVyaWFsfSBtMlxyXG4gICAqIEByZXR1cm4ge0NvbnRhY3RNYXRlcmlhbH0gVGhlIGNvbnRhY3QgbWF0ZXJpYWwgaWYgaXQgd2FzIGZvdW5kLlxyXG4gICAqL1xuXG5cbiAgZ2V0Q29udGFjdE1hdGVyaWFsKG0xLCBtMikge1xuICAgIHJldHVybiB0aGlzLmNvbnRhY3RNYXRlcmlhbFRhYmxlLmdldChtMS5pZCwgbTIuaWQpO1xuICB9XG4gIC8qKlxyXG4gICAqIEdldCBudW1iZXIgb2Ygb2JqZWN0cyBpbiB0aGUgd29ybGQuXHJcbiAgICogQG1ldGhvZCBudW1PYmplY3RzXHJcbiAgICogQHJldHVybiB7TnVtYmVyfVxyXG4gICAqIEBkZXByZWNhdGVkXHJcbiAgICovXG5cblxuICBudW1PYmplY3RzKCkge1xuICAgIHJldHVybiB0aGlzLmJvZGllcy5sZW5ndGg7XG4gIH1cbiAgLyoqXHJcbiAgICogU3RvcmUgb2xkIGNvbGxpc2lvbiBzdGF0ZSBpbmZvXHJcbiAgICogQG1ldGhvZCBjb2xsaXNpb25NYXRyaXhUaWNrXHJcbiAgICovXG5cblxuICBjb2xsaXNpb25NYXRyaXhUaWNrKCkge1xuICAgIGNvbnN0IHRlbXAgPSB0aGlzLmNvbGxpc2lvbk1hdHJpeFByZXZpb3VzO1xuICAgIHRoaXMuY29sbGlzaW9uTWF0cml4UHJldmlvdXMgPSB0aGlzLmNvbGxpc2lvbk1hdHJpeDtcbiAgICB0aGlzLmNvbGxpc2lvbk1hdHJpeCA9IHRlbXA7XG4gICAgdGhpcy5jb2xsaXNpb25NYXRyaXgucmVzZXQoKTtcbiAgICB0aGlzLmJvZHlPdmVybGFwS2VlcGVyLnRpY2soKTtcbiAgICB0aGlzLnNoYXBlT3ZlcmxhcEtlZXBlci50aWNrKCk7XG4gIH1cbiAgLyoqXHJcbiAgICogQWRkIGEgY29uc3RyYWludCB0byB0aGUgc2ltdWxhdGlvbi5cclxuICAgKiBAbWV0aG9kIGFkZENvbnN0cmFpbnRcclxuICAgKiBAcGFyYW0ge0NvbnN0cmFpbnR9IGNcclxuICAgKi9cblxuXG4gIGFkZENvbnN0cmFpbnQoYykge1xuICAgIHRoaXMuY29uc3RyYWludHMucHVzaChjKTtcbiAgfVxuICAvKipcclxuICAgKiBSZW1vdmVzIGEgY29uc3RyYWludFxyXG4gICAqIEBtZXRob2QgcmVtb3ZlQ29uc3RyYWludFxyXG4gICAqIEBwYXJhbSB7Q29uc3RyYWludH0gY1xyXG4gICAqL1xuXG5cbiAgcmVtb3ZlQ29uc3RyYWludChjKSB7XG4gICAgY29uc3QgaWR4ID0gdGhpcy5jb25zdHJhaW50cy5pbmRleE9mKGMpO1xuXG4gICAgaWYgKGlkeCAhPT0gLTEpIHtcbiAgICAgIHRoaXMuY29uc3RyYWludHMuc3BsaWNlKGlkeCwgMSk7XG4gICAgfVxuICB9XG4gIC8qKlxyXG4gICAqIFJheWNhc3QgdGVzdFxyXG4gICAqIEBtZXRob2QgcmF5VGVzdFxyXG4gICAqIEBwYXJhbSB7VmVjM30gZnJvbVxyXG4gICAqIEBwYXJhbSB7VmVjM30gdG9cclxuICAgKiBAcGFyYW0ge1JheWNhc3RSZXN1bHR9IHJlc3VsdFxyXG4gICAqIEBkZXByZWNhdGVkIFVzZSAucmF5Y2FzdEFsbCwgLnJheWNhc3RDbG9zZXN0IG9yIC5yYXljYXN0QW55IGluc3RlYWQuXHJcbiAgICovXG5cblxuICByYXlUZXN0KGZyb20sIHRvLCByZXN1bHQpIHtcbiAgICBpZiAocmVzdWx0IGluc3RhbmNlb2YgUmF5Y2FzdFJlc3VsdCkge1xuICAgICAgLy8gRG8gcmF5Y2FzdENsb3Nlc3RcbiAgICAgIHRoaXMucmF5Y2FzdENsb3Nlc3QoZnJvbSwgdG8sIHtcbiAgICAgICAgc2tpcEJhY2tmYWNlczogdHJ1ZVxuICAgICAgfSwgcmVzdWx0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gRG8gcmF5Y2FzdEFsbFxuICAgICAgdGhpcy5yYXljYXN0QWxsKGZyb20sIHRvLCB7XG4gICAgICAgIHNraXBCYWNrZmFjZXM6IHRydWVcbiAgICAgIH0sIHJlc3VsdCk7XG4gICAgfVxuICB9XG4gIC8qKlxyXG4gICAqIFJheSBjYXN0IGFnYWluc3QgYWxsIGJvZGllcy4gVGhlIHByb3ZpZGVkIGNhbGxiYWNrIHdpbGwgYmUgZXhlY3V0ZWQgZm9yIGVhY2ggaGl0IHdpdGggYSBSYXljYXN0UmVzdWx0IGFzIHNpbmdsZSBhcmd1bWVudC5cclxuICAgKiBAbWV0aG9kIHJheWNhc3RBbGxcclxuICAgKiBAcGFyYW0gIHtWZWMzfSBmcm9tXHJcbiAgICogQHBhcmFtICB7VmVjM30gdG9cclxuICAgKiBAcGFyYW0gIHtPYmplY3R9IG9wdGlvbnNcclxuICAgKiBAcGFyYW0gIHtudW1iZXJ9IFtvcHRpb25zLmNvbGxpc2lvbkZpbHRlck1hc2s9LTFdXHJcbiAgICogQHBhcmFtICB7bnVtYmVyfSBbb3B0aW9ucy5jb2xsaXNpb25GaWx0ZXJHcm91cD0tMV1cclxuICAgKiBAcGFyYW0gIHtib29sZWFufSBbb3B0aW9ucy5za2lwQmFja2ZhY2VzPWZhbHNlXVxyXG4gICAqIEBwYXJhbSAge2Jvb2xlYW59IFtvcHRpb25zLmNoZWNrQ29sbGlzaW9uUmVzcG9uc2U9dHJ1ZV1cclxuICAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gY2FsbGJhY2tcclxuICAgKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIGFueSBib2R5IHdhcyBoaXQuXHJcbiAgICovXG5cblxuICByYXljYXN0QWxsKGZyb20sIHRvLCBvcHRpb25zID0ge30sIGNhbGxiYWNrKSB7XG4gICAgb3B0aW9ucy5tb2RlID0gUmF5LkFMTDtcbiAgICBvcHRpb25zLmZyb20gPSBmcm9tO1xuICAgIG9wdGlvbnMudG8gPSB0bztcbiAgICBvcHRpb25zLmNhbGxiYWNrID0gY2FsbGJhY2s7XG4gICAgcmV0dXJuIHRtcFJheSQxLmludGVyc2VjdFdvcmxkKHRoaXMsIG9wdGlvbnMpO1xuICB9XG4gIC8qKlxyXG4gICAqIFJheSBjYXN0LCBhbmQgc3RvcCBhdCB0aGUgZmlyc3QgcmVzdWx0LiBOb3RlIHRoYXQgdGhlIG9yZGVyIGlzIHJhbmRvbSAtIGJ1dCB0aGUgbWV0aG9kIGlzIGZhc3QuXHJcbiAgICogQG1ldGhvZCByYXljYXN0QW55XHJcbiAgICogQHBhcmFtICB7VmVjM30gZnJvbVxyXG4gICAqIEBwYXJhbSAge1ZlYzN9IHRvXHJcbiAgICogQHBhcmFtICB7T2JqZWN0fSBvcHRpb25zXHJcbiAgICogQHBhcmFtICB7bnVtYmVyfSBbb3B0aW9ucy5jb2xsaXNpb25GaWx0ZXJNYXNrPS0xXVxyXG4gICAqIEBwYXJhbSAge251bWJlcn0gW29wdGlvbnMuY29sbGlzaW9uRmlsdGVyR3JvdXA9LTFdXHJcbiAgICogQHBhcmFtICB7Ym9vbGVhbn0gW29wdGlvbnMuc2tpcEJhY2tmYWNlcz1mYWxzZV1cclxuICAgKiBAcGFyYW0gIHtib29sZWFufSBbb3B0aW9ucy5jaGVja0NvbGxpc2lvblJlc3BvbnNlPXRydWVdXHJcbiAgICogQHBhcmFtICB7UmF5Y2FzdFJlc3VsdH0gcmVzdWx0XHJcbiAgICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiBhbnkgYm9keSB3YXMgaGl0LlxyXG4gICAqL1xuXG5cbiAgcmF5Y2FzdEFueShmcm9tLCB0bywgb3B0aW9ucyA9IHt9LCByZXN1bHQpIHtcbiAgICBvcHRpb25zLm1vZGUgPSBSYXkuQU5ZO1xuICAgIG9wdGlvbnMuZnJvbSA9IGZyb207XG4gICAgb3B0aW9ucy50byA9IHRvO1xuICAgIG9wdGlvbnMucmVzdWx0ID0gcmVzdWx0O1xuICAgIHJldHVybiB0bXBSYXkkMS5pbnRlcnNlY3RXb3JsZCh0aGlzLCBvcHRpb25zKTtcbiAgfVxuICAvKipcclxuICAgKiBSYXkgY2FzdCwgYW5kIHJldHVybiBpbmZvcm1hdGlvbiBvZiB0aGUgY2xvc2VzdCBoaXQuXHJcbiAgICogQG1ldGhvZCByYXljYXN0Q2xvc2VzdFxyXG4gICAqIEBwYXJhbSAge1ZlYzN9IGZyb21cclxuICAgKiBAcGFyYW0gIHtWZWMzfSB0b1xyXG4gICAqIEBwYXJhbSAge09iamVjdH0gb3B0aW9uc1xyXG4gICAqIEBwYXJhbSAge251bWJlcn0gW29wdGlvbnMuY29sbGlzaW9uRmlsdGVyTWFzaz0tMV1cclxuICAgKiBAcGFyYW0gIHtudW1iZXJ9IFtvcHRpb25zLmNvbGxpc2lvbkZpbHRlckdyb3VwPS0xXVxyXG4gICAqIEBwYXJhbSAge2Jvb2xlYW59IFtvcHRpb25zLnNraXBCYWNrZmFjZXM9ZmFsc2VdXHJcbiAgICogQHBhcmFtICB7Ym9vbGVhbn0gW29wdGlvbnMuY2hlY2tDb2xsaXNpb25SZXNwb25zZT10cnVlXVxyXG4gICAqIEBwYXJhbSAge1JheWNhc3RSZXN1bHR9IHJlc3VsdFxyXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgYW55IGJvZHkgd2FzIGhpdC5cclxuICAgKi9cblxuXG4gIHJheWNhc3RDbG9zZXN0KGZyb20sIHRvLCBvcHRpb25zID0ge30sIHJlc3VsdCkge1xuICAgIG9wdGlvbnMubW9kZSA9IFJheS5DTE9TRVNUO1xuICAgIG9wdGlvbnMuZnJvbSA9IGZyb207XG4gICAgb3B0aW9ucy50byA9IHRvO1xuICAgIG9wdGlvbnMucmVzdWx0ID0gcmVzdWx0O1xuICAgIHJldHVybiB0bXBSYXkkMS5pbnRlcnNlY3RXb3JsZCh0aGlzLCBvcHRpb25zKTtcbiAgfVxuICAvKipcclxuICAgKiBBZGQgYSByaWdpZCBib2R5IHRvIHRoZSBzaW11bGF0aW9uLlxyXG4gICAqIEBtZXRob2QgYWRkXHJcbiAgICogQHBhcmFtIHtCb2R5fSBib2R5XHJcbiAgICogQHRvZG8gSWYgdGhlIHNpbXVsYXRpb24gaGFzIG5vdCB5ZXQgc3RhcnRlZCwgd2h5IHJlY3JldGUgYW5kIGNvcHkgYXJyYXlzIGZvciBlYWNoIGJvZHk/IEFjY3VtdWxhdGUgaW4gZHluYW1pYyBhcnJheXMgaW4gdGhpcyBjYXNlLlxyXG4gICAqIEB0b2RvIEFkZGluZyBhbiBhcnJheSBvZiBib2RpZXMgc2hvdWxkIGJlIHBvc3NpYmxlLiBUaGlzIHdvdWxkIHNhdmUgc29tZSBsb29wcyB0b29cclxuICAgKi9cblxuXG4gIGFkZEJvZHkoYm9keSkge1xuICAgIGlmICh0aGlzLmJvZGllcy5pbmNsdWRlcyhib2R5KSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGJvZHkuaW5kZXggPSB0aGlzLmJvZGllcy5sZW5ndGg7XG4gICAgdGhpcy5ib2RpZXMucHVzaChib2R5KTtcbiAgICBib2R5LndvcmxkID0gdGhpcztcbiAgICBib2R5LmluaXRQb3NpdGlvbi5jb3B5KGJvZHkucG9zaXRpb24pO1xuICAgIGJvZHkuaW5pdFZlbG9jaXR5LmNvcHkoYm9keS52ZWxvY2l0eSk7XG4gICAgYm9keS50aW1lTGFzdFNsZWVweSA9IHRoaXMudGltZTtcblxuICAgIGlmIChib2R5IGluc3RhbmNlb2YgQm9keSkge1xuICAgICAgYm9keS5pbml0QW5ndWxhclZlbG9jaXR5LmNvcHkoYm9keS5hbmd1bGFyVmVsb2NpdHkpO1xuICAgICAgYm9keS5pbml0UXVhdGVybmlvbi5jb3B5KGJvZHkucXVhdGVybmlvbik7XG4gICAgfVxuXG4gICAgdGhpcy5jb2xsaXNpb25NYXRyaXguc2V0TnVtT2JqZWN0cyh0aGlzLmJvZGllcy5sZW5ndGgpO1xuICAgIHRoaXMuYWRkQm9keUV2ZW50LmJvZHkgPSBib2R5O1xuICAgIHRoaXMuaWRUb0JvZHlNYXBbYm9keS5pZF0gPSBib2R5O1xuICAgIHRoaXMuZGlzcGF0Y2hFdmVudCh0aGlzLmFkZEJvZHlFdmVudCk7XG4gIH1cbiAgLyoqXHJcbiAgICogUmVtb3ZlIGEgcmlnaWQgYm9keSBmcm9tIHRoZSBzaW11bGF0aW9uLlxyXG4gICAqIEBtZXRob2QgcmVtb3ZlXHJcbiAgICogQHBhcmFtIHtCb2R5fSBib2R5XHJcbiAgICovXG5cblxuICByZW1vdmVCb2R5KGJvZHkpIHtcbiAgICBib2R5LndvcmxkID0gbnVsbDtcbiAgICBjb25zdCBuID0gdGhpcy5ib2RpZXMubGVuZ3RoIC0gMTtcbiAgICBjb25zdCBib2RpZXMgPSB0aGlzLmJvZGllcztcbiAgICBjb25zdCBpZHggPSBib2RpZXMuaW5kZXhPZihib2R5KTtcblxuICAgIGlmIChpZHggIT09IC0xKSB7XG4gICAgICBib2RpZXMuc3BsaWNlKGlkeCwgMSk7IC8vIFRvZG86IHNob3VsZCB1c2UgYSBnYXJiYWdlIGZyZWUgbWV0aG9kXG4gICAgICAvLyBSZWNvbXB1dGUgaW5kZXhcblxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgIT09IGJvZGllcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBib2RpZXNbaV0uaW5kZXggPSBpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmNvbGxpc2lvbk1hdHJpeC5zZXROdW1PYmplY3RzKG4pO1xuICAgICAgdGhpcy5yZW1vdmVCb2R5RXZlbnQuYm9keSA9IGJvZHk7XG4gICAgICBkZWxldGUgdGhpcy5pZFRvQm9keU1hcFtib2R5LmlkXTtcbiAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudCh0aGlzLnJlbW92ZUJvZHlFdmVudCk7XG4gICAgfVxuICB9XG5cbiAgZ2V0Qm9keUJ5SWQoaWQpIHtcbiAgICByZXR1cm4gdGhpcy5pZFRvQm9keU1hcFtpZF07XG4gIH0gLy8gVE9ETyBNYWtlIGEgZmFzdGVyIG1hcFxuXG5cbiAgZ2V0U2hhcGVCeUlkKGlkKSB7XG4gICAgY29uc3QgYm9kaWVzID0gdGhpcy5ib2RpZXM7XG5cbiAgICBmb3IgKGxldCBpID0gMCwgYmwgPSBib2RpZXMubGVuZ3RoOyBpIDwgYmw7IGkrKykge1xuICAgICAgY29uc3Qgc2hhcGVzID0gYm9kaWVzW2ldLnNoYXBlcztcblxuICAgICAgZm9yIChsZXQgaiA9IDAsIHNsID0gc2hhcGVzLmxlbmd0aDsgaiA8IHNsOyBqKyspIHtcbiAgICAgICAgY29uc3Qgc2hhcGUgPSBzaGFwZXNbal07XG5cbiAgICAgICAgaWYgKHNoYXBlLmlkID09PSBpZCkge1xuICAgICAgICAgIHJldHVybiBzaGFwZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuICAvKipcclxuICAgKiBBZGRzIGEgbWF0ZXJpYWwgdG8gdGhlIFdvcmxkLlxyXG4gICAqIEBtZXRob2QgYWRkTWF0ZXJpYWxcclxuICAgKiBAcGFyYW0ge01hdGVyaWFsfSBtXHJcbiAgICogQHRvZG8gTmVjZXNzYXJ5P1xyXG4gICAqL1xuXG5cbiAgYWRkTWF0ZXJpYWwobSkge1xuICAgIHRoaXMubWF0ZXJpYWxzLnB1c2gobSk7XG4gIH1cbiAgLyoqXHJcbiAgICogQWRkcyBhIGNvbnRhY3QgbWF0ZXJpYWwgdG8gdGhlIFdvcmxkXHJcbiAgICogQG1ldGhvZCBhZGRDb250YWN0TWF0ZXJpYWxcclxuICAgKiBAcGFyYW0ge0NvbnRhY3RNYXRlcmlhbH0gY21hdFxyXG4gICAqL1xuXG5cbiAgYWRkQ29udGFjdE1hdGVyaWFsKGNtYXQpIHtcbiAgICAvLyBBZGQgY29udGFjdCBtYXRlcmlhbFxuICAgIHRoaXMuY29udGFjdG1hdGVyaWFscy5wdXNoKGNtYXQpOyAvLyBBZGQgY3VycmVudCBjb250YWN0IG1hdGVyaWFsIHRvIHRoZSBtYXRlcmlhbCB0YWJsZVxuXG4gICAgdGhpcy5jb250YWN0TWF0ZXJpYWxUYWJsZS5zZXQoY21hdC5tYXRlcmlhbHNbMF0uaWQsIGNtYXQubWF0ZXJpYWxzWzFdLmlkLCBjbWF0KTtcbiAgfVxuICAvKipcclxuICAgKiBTdGVwIHRoZSBwaHlzaWNzIHdvcmxkIGZvcndhcmQgaW4gdGltZS5cclxuICAgKlxyXG4gICAqIFRoZXJlIGFyZSB0d28gbW9kZXMuIFRoZSBzaW1wbGUgbW9kZSBpcyBmaXhlZCB0aW1lc3RlcHBpbmcgd2l0aG91dCBpbnRlcnBvbGF0aW9uLiBJbiB0aGlzIGNhc2UgeW91IG9ubHkgdXNlIHRoZSBmaXJzdCBhcmd1bWVudC4gVGhlIHNlY29uZCBjYXNlIHVzZXMgaW50ZXJwb2xhdGlvbi4gSW4gdGhhdCB5b3UgYWxzbyBwcm92aWRlIHRoZSB0aW1lIHNpbmNlIHRoZSBmdW5jdGlvbiB3YXMgbGFzdCB1c2VkLCBhcyB3ZWxsIGFzIHRoZSBtYXhpbXVtIGZpeGVkIHRpbWVzdGVwcyB0byB0YWtlLlxyXG4gICAqXHJcbiAgICogQG1ldGhvZCBzdGVwXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IGR0ICAgICAgICAgICAgICAgICAgICAgICBUaGUgZml4ZWQgdGltZSBzdGVwIHNpemUgdG8gdXNlLlxyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBbdGltZVNpbmNlTGFzdENhbGxlZF0gICAgVGhlIHRpbWUgZWxhcHNlZCBzaW5jZSB0aGUgZnVuY3Rpb24gd2FzIGxhc3QgY2FsbGVkLlxyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBbbWF4U3ViU3RlcHM9MTBdICAgICAgICAgTWF4aW11bSBudW1iZXIgb2YgZml4ZWQgc3RlcHMgdG8gdGFrZSBwZXIgZnVuY3Rpb24gY2FsbC5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogICAgIC8vIGZpeGVkIHRpbWVzdGVwcGluZyB3aXRob3V0IGludGVycG9sYXRpb25cclxuICAgKiAgICAgd29ybGQuc3RlcCgxLzYwKTtcclxuICAgKlxyXG4gICAqIEBzZWUgaHR0cDovL2J1bGxldHBoeXNpY3Mub3JnL21lZGlhd2lraS0xLjUuOC9pbmRleC5waHAvU3RlcHBpbmdfVGhlX1dvcmxkXHJcbiAgICovXG5cblxuICBzdGVwKGR0LCB0aW1lU2luY2VMYXN0Q2FsbGVkLCBtYXhTdWJTdGVwcyA9IDEwKSB7XG4gICAgaWYgKHRpbWVTaW5jZUxhc3RDYWxsZWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgLy8gRml4ZWQsIHNpbXBsZSBzdGVwcGluZ1xuICAgICAgdGhpcy5pbnRlcm5hbFN0ZXAoZHQpOyAvLyBJbmNyZW1lbnQgdGltZVxuXG4gICAgICB0aGlzLnRpbWUgKz0gZHQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuYWNjdW11bGF0b3IgKz0gdGltZVNpbmNlTGFzdENhbGxlZDtcbiAgICAgIGNvbnN0IHQwID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgICBsZXQgc3Vic3RlcHMgPSAwO1xuXG4gICAgICB3aGlsZSAodGhpcy5hY2N1bXVsYXRvciA+PSBkdCAmJiBzdWJzdGVwcyA8IG1heFN1YlN0ZXBzKSB7XG4gICAgICAgIC8vIERvIGZpeGVkIHN0ZXBzIHRvIGNhdGNoIHVwXG4gICAgICAgIHRoaXMuaW50ZXJuYWxTdGVwKGR0KTtcbiAgICAgICAgdGhpcy5hY2N1bXVsYXRvciAtPSBkdDtcbiAgICAgICAgc3Vic3RlcHMrKztcblxuICAgICAgICBpZiAocGVyZm9ybWFuY2Uubm93KCkgLSB0MCA+IGR0ICogMiAqIDEwMDApIHtcbiAgICAgICAgICAvLyBUaGUgZnJhbWVyYXRlIGlzIG5vdCBpbnRlcmFjdGl2ZSBhbnltb3JlLlxuICAgICAgICAgIC8vIFdlIGFyZSBhdCBoYWxmIG9mIHRoZSB0YXJnZXQgZnJhbWVyYXRlLlxuICAgICAgICAgIC8vIEJldHRlciBiYWlsIG91dC5cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfSAvLyBSZW1vdmUgdGhlIGV4Y2VzcyBhY2N1bXVsYXRvciwgc2luY2Ugd2UgbWF5IG5vdFxuICAgICAgLy8gaGF2ZSBoYWQgZW5vdWdoIHN1YnN0ZXBzIGF2YWlsYWJsZSB0byBjYXRjaCB1cFxuXG5cbiAgICAgIHRoaXMuYWNjdW11bGF0b3IgPSB0aGlzLmFjY3VtdWxhdG9yICUgZHQ7XG4gICAgICBjb25zdCB0ID0gdGhpcy5hY2N1bXVsYXRvciAvIGR0O1xuXG4gICAgICBmb3IgKGxldCBqID0gMDsgaiAhPT0gdGhpcy5ib2RpZXMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgY29uc3QgYiA9IHRoaXMuYm9kaWVzW2pdO1xuICAgICAgICBiLnByZXZpb3VzUG9zaXRpb24ubGVycChiLnBvc2l0aW9uLCB0LCBiLmludGVycG9sYXRlZFBvc2l0aW9uKTtcbiAgICAgICAgYi5wcmV2aW91c1F1YXRlcm5pb24uc2xlcnAoYi5xdWF0ZXJuaW9uLCB0LCBiLmludGVycG9sYXRlZFF1YXRlcm5pb24pO1xuICAgICAgICBiLnByZXZpb3VzUXVhdGVybmlvbi5ub3JtYWxpemUoKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy50aW1lICs9IHRpbWVTaW5jZUxhc3RDYWxsZWQ7XG4gICAgfVxuICB9XG5cbiAgaW50ZXJuYWxTdGVwKGR0KSB7XG4gICAgdGhpcy5kdCA9IGR0O1xuICAgIGNvbnN0IGNvbnRhY3RzID0gdGhpcy5jb250YWN0cztcbiAgICBjb25zdCBwMSA9IFdvcmxkX3N0ZXBfcDE7XG4gICAgY29uc3QgcDIgPSBXb3JsZF9zdGVwX3AyO1xuICAgIGNvbnN0IE4gPSB0aGlzLm51bU9iamVjdHMoKTtcbiAgICBjb25zdCBib2RpZXMgPSB0aGlzLmJvZGllcztcbiAgICBjb25zdCBzb2x2ZXIgPSB0aGlzLnNvbHZlcjtcbiAgICBjb25zdCBncmF2aXR5ID0gdGhpcy5ncmF2aXR5O1xuICAgIGNvbnN0IGRvUHJvZmlsaW5nID0gdGhpcy5kb1Byb2ZpbGluZztcbiAgICBjb25zdCBwcm9maWxlID0gdGhpcy5wcm9maWxlO1xuICAgIGNvbnN0IERZTkFNSUMgPSBCb2R5LkRZTkFNSUM7XG4gICAgbGV0IHByb2ZpbGluZ1N0YXJ0ID0gLUluZmluaXR5O1xuICAgIGNvbnN0IGNvbnN0cmFpbnRzID0gdGhpcy5jb25zdHJhaW50cztcbiAgICBjb25zdCBmcmljdGlvbkVxdWF0aW9uUG9vbCA9IFdvcmxkX3N0ZXBfZnJpY3Rpb25FcXVhdGlvblBvb2w7XG4gICAgY29uc3QgZ25vcm0gPSBncmF2aXR5Lmxlbmd0aCgpO1xuICAgIGNvbnN0IGd4ID0gZ3Jhdml0eS54O1xuICAgIGNvbnN0IGd5ID0gZ3Jhdml0eS55O1xuICAgIGNvbnN0IGd6ID0gZ3Jhdml0eS56O1xuICAgIGxldCBpID0gMDtcblxuICAgIGlmIChkb1Byb2ZpbGluZykge1xuICAgICAgcHJvZmlsaW5nU3RhcnQgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICB9IC8vIEFkZCBncmF2aXR5IHRvIGFsbCBvYmplY3RzXG5cblxuICAgIGZvciAoaSA9IDA7IGkgIT09IE47IGkrKykge1xuICAgICAgY29uc3QgYmkgPSBib2RpZXNbaV07XG5cbiAgICAgIGlmIChiaS50eXBlID09PSBEWU5BTUlDKSB7XG4gICAgICAgIC8vIE9ubHkgZm9yIGR5bmFtaWMgYm9kaWVzXG4gICAgICAgIGNvbnN0IGYgPSBiaS5mb3JjZTtcbiAgICAgICAgY29uc3QgbSA9IGJpLm1hc3M7XG4gICAgICAgIGYueCArPSBtICogZ3g7XG4gICAgICAgIGYueSArPSBtICogZ3k7XG4gICAgICAgIGYueiArPSBtICogZ3o7XG4gICAgICB9XG4gICAgfSAvLyBVcGRhdGUgc3Vic3lzdGVtc1xuXG5cbiAgICBmb3IgKGxldCBpID0gMCwgTnN1YnN5c3RlbXMgPSB0aGlzLnN1YnN5c3RlbXMubGVuZ3RoOyBpICE9PSBOc3Vic3lzdGVtczsgaSsrKSB7XG4gICAgICB0aGlzLnN1YnN5c3RlbXNbaV0udXBkYXRlKCk7XG4gICAgfSAvLyBDb2xsaXNpb24gZGV0ZWN0aW9uXG5cblxuICAgIGlmIChkb1Byb2ZpbGluZykge1xuICAgICAgcHJvZmlsaW5nU3RhcnQgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICB9XG5cbiAgICBwMS5sZW5ndGggPSAwOyAvLyBDbGVhbiB1cCBwYWlyIGFycmF5cyBmcm9tIGxhc3Qgc3RlcFxuXG4gICAgcDIubGVuZ3RoID0gMDtcbiAgICB0aGlzLmJyb2FkcGhhc2UuY29sbGlzaW9uUGFpcnModGhpcywgcDEsIHAyKTtcblxuICAgIGlmIChkb1Byb2ZpbGluZykge1xuICAgICAgcHJvZmlsZS5icm9hZHBoYXNlID0gcGVyZm9ybWFuY2Uubm93KCkgLSBwcm9maWxpbmdTdGFydDtcbiAgICB9IC8vIFJlbW92ZSBjb25zdHJhaW5lZCBwYWlycyB3aXRoIGNvbGxpZGVDb25uZWN0ZWQgPT0gZmFsc2VcblxuXG4gICAgbGV0IE5jb25zdHJhaW50cyA9IGNvbnN0cmFpbnRzLmxlbmd0aDtcblxuICAgIGZvciAoaSA9IDA7IGkgIT09IE5jb25zdHJhaW50czsgaSsrKSB7XG4gICAgICBjb25zdCBjID0gY29uc3RyYWludHNbaV07XG5cbiAgICAgIGlmICghYy5jb2xsaWRlQ29ubmVjdGVkKSB7XG4gICAgICAgIGZvciAobGV0IGogPSBwMS5sZW5ndGggLSAxOyBqID49IDA7IGogLT0gMSkge1xuICAgICAgICAgIGlmIChjLmJvZHlBID09PSBwMVtqXSAmJiBjLmJvZHlCID09PSBwMltqXSB8fCBjLmJvZHlCID09PSBwMVtqXSAmJiBjLmJvZHlBID09PSBwMltqXSkge1xuICAgICAgICAgICAgcDEuc3BsaWNlKGosIDEpO1xuICAgICAgICAgICAgcDIuc3BsaWNlKGosIDEpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuY29sbGlzaW9uTWF0cml4VGljaygpOyAvLyBHZW5lcmF0ZSBjb250YWN0c1xuXG4gICAgaWYgKGRvUHJvZmlsaW5nKSB7XG4gICAgICBwcm9maWxpbmdTdGFydCA9IHBlcmZvcm1hbmNlLm5vdygpO1xuICAgIH1cblxuICAgIGNvbnN0IG9sZGNvbnRhY3RzID0gV29ybGRfc3RlcF9vbGRDb250YWN0cztcbiAgICBjb25zdCBOb2xkQ29udGFjdHMgPSBjb250YWN0cy5sZW5ndGg7XG5cbiAgICBmb3IgKGkgPSAwOyBpICE9PSBOb2xkQ29udGFjdHM7IGkrKykge1xuICAgICAgb2xkY29udGFjdHMucHVzaChjb250YWN0c1tpXSk7XG4gICAgfVxuXG4gICAgY29udGFjdHMubGVuZ3RoID0gMDsgLy8gVHJhbnNmZXIgRnJpY3Rpb25FcXVhdGlvbiBmcm9tIGN1cnJlbnQgbGlzdCB0byB0aGUgcG9vbCBmb3IgcmV1c2VcblxuICAgIGNvbnN0IE5vbGRGcmljdGlvbkVxdWF0aW9ucyA9IHRoaXMuZnJpY3Rpb25FcXVhdGlvbnMubGVuZ3RoO1xuXG4gICAgZm9yIChpID0gMDsgaSAhPT0gTm9sZEZyaWN0aW9uRXF1YXRpb25zOyBpKyspIHtcbiAgICAgIGZyaWN0aW9uRXF1YXRpb25Qb29sLnB1c2godGhpcy5mcmljdGlvbkVxdWF0aW9uc1tpXSk7XG4gICAgfVxuXG4gICAgdGhpcy5mcmljdGlvbkVxdWF0aW9ucy5sZW5ndGggPSAwO1xuICAgIHRoaXMubmFycm93cGhhc2UuZ2V0Q29udGFjdHMocDEsIHAyLCB0aGlzLCBjb250YWN0cywgb2xkY29udGFjdHMsIC8vIFRvIGJlIHJldXNlZFxuICAgIHRoaXMuZnJpY3Rpb25FcXVhdGlvbnMsIGZyaWN0aW9uRXF1YXRpb25Qb29sKTtcblxuICAgIGlmIChkb1Byb2ZpbGluZykge1xuICAgICAgcHJvZmlsZS5uYXJyb3dwaGFzZSA9IHBlcmZvcm1hbmNlLm5vdygpIC0gcHJvZmlsaW5nU3RhcnQ7XG4gICAgfSAvLyBMb29wIG92ZXIgYWxsIGNvbGxpc2lvbnNcblxuXG4gICAgaWYgKGRvUHJvZmlsaW5nKSB7XG4gICAgICBwcm9maWxpbmdTdGFydCA9IHBlcmZvcm1hbmNlLm5vdygpO1xuICAgIH0gLy8gQWRkIGFsbCBmcmljdGlvbiBlcXNcblxuXG4gICAgZm9yIChpID0gMDsgaSA8IHRoaXMuZnJpY3Rpb25FcXVhdGlvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHNvbHZlci5hZGRFcXVhdGlvbih0aGlzLmZyaWN0aW9uRXF1YXRpb25zW2ldKTtcbiAgICB9XG5cbiAgICBjb25zdCBuY29udGFjdHMgPSBjb250YWN0cy5sZW5ndGg7XG5cbiAgICBmb3IgKGxldCBrID0gMDsgayAhPT0gbmNvbnRhY3RzOyBrKyspIHtcbiAgICAgIC8vIEN1cnJlbnQgY29udGFjdFxuICAgICAgY29uc3QgYyA9IGNvbnRhY3RzW2tdOyAvLyBHZXQgY3VycmVudCBjb2xsaXNpb24gaW5kZWNlc1xuXG4gICAgICBjb25zdCBiaSA9IGMuYmk7XG4gICAgICBjb25zdCBiaiA9IGMuYmo7XG4gICAgICBjb25zdCBzaSA9IGMuc2k7XG4gICAgICBjb25zdCBzaiA9IGMuc2o7IC8vIEdldCBjb2xsaXNpb24gcHJvcGVydGllc1xuXG4gICAgICBsZXQgY207XG5cbiAgICAgIGlmIChiaS5tYXRlcmlhbCAmJiBiai5tYXRlcmlhbCkge1xuICAgICAgICBjbSA9IHRoaXMuZ2V0Q29udGFjdE1hdGVyaWFsKGJpLm1hdGVyaWFsLCBiai5tYXRlcmlhbCkgfHwgdGhpcy5kZWZhdWx0Q29udGFjdE1hdGVyaWFsO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY20gPSB0aGlzLmRlZmF1bHRDb250YWN0TWF0ZXJpYWw7XG4gICAgICB9IC8vIGMuZW5hYmxlZCA9IGJpLmNvbGxpc2lvblJlc3BvbnNlICYmIGJqLmNvbGxpc2lvblJlc3BvbnNlICYmIHNpLmNvbGxpc2lvblJlc3BvbnNlICYmIHNqLmNvbGxpc2lvblJlc3BvbnNlO1xuXG5cbiAgICAgIGxldCBtdSA9IGNtLmZyaWN0aW9uOyAvLyBjLnJlc3RpdHV0aW9uID0gY20ucmVzdGl0dXRpb247XG4gICAgICAvLyBJZiBmcmljdGlvbiBvciByZXN0aXR1dGlvbiB3ZXJlIHNwZWNpZmllZCBpbiB0aGUgbWF0ZXJpYWwsIHVzZSB0aGVtXG5cbiAgICAgIGlmIChiaS5tYXRlcmlhbCAmJiBiai5tYXRlcmlhbCkge1xuICAgICAgICBpZiAoYmkubWF0ZXJpYWwuZnJpY3Rpb24gPj0gMCAmJiBiai5tYXRlcmlhbC5mcmljdGlvbiA+PSAwKSB7XG4gICAgICAgICAgbXUgPSBiaS5tYXRlcmlhbC5mcmljdGlvbiAqIGJqLm1hdGVyaWFsLmZyaWN0aW9uO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGJpLm1hdGVyaWFsLnJlc3RpdHV0aW9uID49IDAgJiYgYmoubWF0ZXJpYWwucmVzdGl0dXRpb24gPj0gMCkge1xuICAgICAgICAgIGMucmVzdGl0dXRpb24gPSBiaS5tYXRlcmlhbC5yZXN0aXR1dGlvbiAqIGJqLm1hdGVyaWFsLnJlc3RpdHV0aW9uO1xuICAgICAgICB9XG4gICAgICB9IC8vIGMuc2V0U3Bvb2tQYXJhbXMoXG4gICAgICAvLyAgICAgICAgICAgY20uY29udGFjdEVxdWF0aW9uU3RpZmZuZXNzLFxuICAgICAgLy8gICAgICAgICAgIGNtLmNvbnRhY3RFcXVhdGlvblJlbGF4YXRpb24sXG4gICAgICAvLyAgICAgICAgICAgZHRcbiAgICAgIC8vICAgICAgICk7XG5cblxuICAgICAgc29sdmVyLmFkZEVxdWF0aW9uKGMpOyAvLyAvLyBBZGQgZnJpY3Rpb24gY29uc3RyYWludCBlcXVhdGlvblxuICAgICAgLy8gaWYobXUgPiAwKXtcbiAgICAgIC8vIFx0Ly8gQ3JlYXRlIDIgdGFuZ2VudCBlcXVhdGlvbnNcbiAgICAgIC8vIFx0Y29uc3QgbXVnID0gbXUgKiBnbm9ybTtcbiAgICAgIC8vIFx0Y29uc3QgcmVkdWNlZE1hc3MgPSAoYmkuaW52TWFzcyArIGJqLmludk1hc3MpO1xuICAgICAgLy8gXHRpZihyZWR1Y2VkTWFzcyA+IDApe1xuICAgICAgLy8gXHRcdHJlZHVjZWRNYXNzID0gMS9yZWR1Y2VkTWFzcztcbiAgICAgIC8vIFx0fVxuICAgICAgLy8gXHRjb25zdCBwb29sID0gZnJpY3Rpb25FcXVhdGlvblBvb2w7XG4gICAgICAvLyBcdGNvbnN0IGMxID0gcG9vbC5sZW5ndGggPyBwb29sLnBvcCgpIDogbmV3IEZyaWN0aW9uRXF1YXRpb24oYmksYmosbXVnKnJlZHVjZWRNYXNzKTtcbiAgICAgIC8vIFx0Y29uc3QgYzIgPSBwb29sLmxlbmd0aCA/IHBvb2wucG9wKCkgOiBuZXcgRnJpY3Rpb25FcXVhdGlvbihiaSxiaixtdWcqcmVkdWNlZE1hc3MpO1xuICAgICAgLy8gXHR0aGlzLmZyaWN0aW9uRXF1YXRpb25zLnB1c2goYzEsIGMyKTtcbiAgICAgIC8vIFx0YzEuYmkgPSBjMi5iaSA9IGJpO1xuICAgICAgLy8gXHRjMS5iaiA9IGMyLmJqID0gYmo7XG4gICAgICAvLyBcdGMxLm1pbkZvcmNlID0gYzIubWluRm9yY2UgPSAtbXVnKnJlZHVjZWRNYXNzO1xuICAgICAgLy8gXHRjMS5tYXhGb3JjZSA9IGMyLm1heEZvcmNlID0gbXVnKnJlZHVjZWRNYXNzO1xuICAgICAgLy8gXHQvLyBDb3B5IG92ZXIgdGhlIHJlbGF0aXZlIHZlY3RvcnNcbiAgICAgIC8vIFx0YzEucmkuY29weShjLnJpKTtcbiAgICAgIC8vIFx0YzEucmouY29weShjLnJqKTtcbiAgICAgIC8vIFx0YzIucmkuY29weShjLnJpKTtcbiAgICAgIC8vIFx0YzIucmouY29weShjLnJqKTtcbiAgICAgIC8vIFx0Ly8gQ29uc3RydWN0IHRhbmdlbnRzXG4gICAgICAvLyBcdGMubmkudGFuZ2VudHMoYzEudCwgYzIudCk7XG4gICAgICAvLyAgICAgICAgICAgLy8gU2V0IHNwb29rIHBhcmFtc1xuICAgICAgLy8gICAgICAgICAgIGMxLnNldFNwb29rUGFyYW1zKGNtLmZyaWN0aW9uRXF1YXRpb25TdGlmZm5lc3MsIGNtLmZyaWN0aW9uRXF1YXRpb25SZWxheGF0aW9uLCBkdCk7XG4gICAgICAvLyAgICAgICAgICAgYzIuc2V0U3Bvb2tQYXJhbXMoY20uZnJpY3Rpb25FcXVhdGlvblN0aWZmbmVzcywgY20uZnJpY3Rpb25FcXVhdGlvblJlbGF4YXRpb24sIGR0KTtcbiAgICAgIC8vICAgICAgICAgICBjMS5lbmFibGVkID0gYzIuZW5hYmxlZCA9IGMuZW5hYmxlZDtcbiAgICAgIC8vIFx0Ly8gQWRkIGVxdWF0aW9ucyB0byBzb2x2ZXJcbiAgICAgIC8vIFx0c29sdmVyLmFkZEVxdWF0aW9uKGMxKTtcbiAgICAgIC8vIFx0c29sdmVyLmFkZEVxdWF0aW9uKGMyKTtcbiAgICAgIC8vIH1cblxuICAgICAgaWYgKGJpLmFsbG93U2xlZXAgJiYgYmkudHlwZSA9PT0gQm9keS5EWU5BTUlDICYmIGJpLnNsZWVwU3RhdGUgPT09IEJvZHkuU0xFRVBJTkcgJiYgYmouc2xlZXBTdGF0ZSA9PT0gQm9keS5BV0FLRSAmJiBiai50eXBlICE9PSBCb2R5LlNUQVRJQykge1xuICAgICAgICBjb25zdCBzcGVlZFNxdWFyZWRCID0gYmoudmVsb2NpdHkubGVuZ3RoU3F1YXJlZCgpICsgYmouYW5ndWxhclZlbG9jaXR5Lmxlbmd0aFNxdWFyZWQoKTtcbiAgICAgICAgY29uc3Qgc3BlZWRMaW1pdFNxdWFyZWRCID0gYmouc2xlZXBTcGVlZExpbWl0ICoqIDI7XG5cbiAgICAgICAgaWYgKHNwZWVkU3F1YXJlZEIgPj0gc3BlZWRMaW1pdFNxdWFyZWRCICogMikge1xuICAgICAgICAgIGJpLndha2VVcEFmdGVyTmFycm93cGhhc2UgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChiai5hbGxvd1NsZWVwICYmIGJqLnR5cGUgPT09IEJvZHkuRFlOQU1JQyAmJiBiai5zbGVlcFN0YXRlID09PSBCb2R5LlNMRUVQSU5HICYmIGJpLnNsZWVwU3RhdGUgPT09IEJvZHkuQVdBS0UgJiYgYmkudHlwZSAhPT0gQm9keS5TVEFUSUMpIHtcbiAgICAgICAgY29uc3Qgc3BlZWRTcXVhcmVkQSA9IGJpLnZlbG9jaXR5Lmxlbmd0aFNxdWFyZWQoKSArIGJpLmFuZ3VsYXJWZWxvY2l0eS5sZW5ndGhTcXVhcmVkKCk7XG4gICAgICAgIGNvbnN0IHNwZWVkTGltaXRTcXVhcmVkQSA9IGJpLnNsZWVwU3BlZWRMaW1pdCAqKiAyO1xuXG4gICAgICAgIGlmIChzcGVlZFNxdWFyZWRBID49IHNwZWVkTGltaXRTcXVhcmVkQSAqIDIpIHtcbiAgICAgICAgICBiai53YWtlVXBBZnRlck5hcnJvd3BoYXNlID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfSAvLyBOb3cgd2Uga25vdyB0aGF0IGkgYW5kIGogYXJlIGluIGNvbnRhY3QuIFNldCBjb2xsaXNpb24gbWF0cml4IHN0YXRlXG5cblxuICAgICAgdGhpcy5jb2xsaXNpb25NYXRyaXguc2V0KGJpLCBiaiwgdHJ1ZSk7XG5cbiAgICAgIGlmICghdGhpcy5jb2xsaXNpb25NYXRyaXhQcmV2aW91cy5nZXQoYmksIGJqKSkge1xuICAgICAgICAvLyBGaXJzdCBjb250YWN0IVxuICAgICAgICAvLyBXZSByZXVzZSB0aGUgY29sbGlkZUV2ZW50IG9iamVjdCwgb3RoZXJ3aXNlIHdlIHdpbGwgZW5kIHVwIGNyZWF0aW5nIG5ldyBvYmplY3RzIGZvciBlYWNoIG5ldyBjb250YWN0LCBldmVuIGlmIHRoZXJlJ3Mgbm8gZXZlbnQgbGlzdGVuZXIgYXR0YWNoZWQuXG4gICAgICAgIFdvcmxkX3N0ZXBfY29sbGlkZUV2ZW50LmJvZHkgPSBiajtcbiAgICAgICAgV29ybGRfc3RlcF9jb2xsaWRlRXZlbnQuY29udGFjdCA9IGM7XG4gICAgICAgIGJpLmRpc3BhdGNoRXZlbnQoV29ybGRfc3RlcF9jb2xsaWRlRXZlbnQpO1xuICAgICAgICBXb3JsZF9zdGVwX2NvbGxpZGVFdmVudC5ib2R5ID0gYmk7XG4gICAgICAgIGJqLmRpc3BhdGNoRXZlbnQoV29ybGRfc3RlcF9jb2xsaWRlRXZlbnQpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmJvZHlPdmVybGFwS2VlcGVyLnNldChiaS5pZCwgYmouaWQpO1xuICAgICAgdGhpcy5zaGFwZU92ZXJsYXBLZWVwZXIuc2V0KHNpLmlkLCBzai5pZCk7XG4gICAgfVxuXG4gICAgdGhpcy5lbWl0Q29udGFjdEV2ZW50cygpO1xuXG4gICAgaWYgKGRvUHJvZmlsaW5nKSB7XG4gICAgICBwcm9maWxlLm1ha2VDb250YWN0Q29uc3RyYWludHMgPSBwZXJmb3JtYW5jZS5ub3coKSAtIHByb2ZpbGluZ1N0YXJ0O1xuICAgICAgcHJvZmlsaW5nU3RhcnQgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICB9IC8vIFdha2UgdXAgYm9kaWVzXG5cblxuICAgIGZvciAoaSA9IDA7IGkgIT09IE47IGkrKykge1xuICAgICAgY29uc3QgYmkgPSBib2RpZXNbaV07XG5cbiAgICAgIGlmIChiaS53YWtlVXBBZnRlck5hcnJvd3BoYXNlKSB7XG4gICAgICAgIGJpLndha2VVcCgpO1xuICAgICAgICBiaS53YWtlVXBBZnRlck5hcnJvd3BoYXNlID0gZmFsc2U7XG4gICAgICB9XG4gICAgfSAvLyBBZGQgdXNlci1hZGRlZCBjb25zdHJhaW50c1xuXG5cbiAgICBOY29uc3RyYWludHMgPSBjb25zdHJhaW50cy5sZW5ndGg7XG5cbiAgICBmb3IgKGkgPSAwOyBpICE9PSBOY29uc3RyYWludHM7IGkrKykge1xuICAgICAgY29uc3QgYyA9IGNvbnN0cmFpbnRzW2ldO1xuICAgICAgYy51cGRhdGUoKTtcblxuICAgICAgZm9yIChsZXQgaiA9IDAsIE5lcSA9IGMuZXF1YXRpb25zLmxlbmd0aDsgaiAhPT0gTmVxOyBqKyspIHtcbiAgICAgICAgY29uc3QgZXEgPSBjLmVxdWF0aW9uc1tqXTtcbiAgICAgICAgc29sdmVyLmFkZEVxdWF0aW9uKGVxKTtcbiAgICAgIH1cbiAgICB9IC8vIFNvbHZlIHRoZSBjb25zdHJhaW5lZCBzeXN0ZW1cblxuXG4gICAgc29sdmVyLnNvbHZlKGR0LCB0aGlzKTtcblxuICAgIGlmIChkb1Byb2ZpbGluZykge1xuICAgICAgcHJvZmlsZS5zb2x2ZSA9IHBlcmZvcm1hbmNlLm5vdygpIC0gcHJvZmlsaW5nU3RhcnQ7XG4gICAgfSAvLyBSZW1vdmUgYWxsIGNvbnRhY3RzIGZyb20gc29sdmVyXG5cblxuICAgIHNvbHZlci5yZW1vdmVBbGxFcXVhdGlvbnMoKTsgLy8gQXBwbHkgZGFtcGluZywgc2VlIGh0dHA6Ly9jb2RlLmdvb2dsZS5jb20vcC9idWxsZXQvaXNzdWVzL2RldGFpbD9pZD03NCBmb3IgZGV0YWlsc1xuXG4gICAgY29uc3QgcG93ID0gTWF0aC5wb3c7XG5cbiAgICBmb3IgKGkgPSAwOyBpICE9PSBOOyBpKyspIHtcbiAgICAgIGNvbnN0IGJpID0gYm9kaWVzW2ldO1xuXG4gICAgICBpZiAoYmkudHlwZSAmIERZTkFNSUMpIHtcbiAgICAgICAgLy8gT25seSBmb3IgZHluYW1pYyBib2RpZXNcbiAgICAgICAgY29uc3QgbGQgPSBwb3coMS4wIC0gYmkubGluZWFyRGFtcGluZywgZHQpO1xuICAgICAgICBjb25zdCB2ID0gYmkudmVsb2NpdHk7XG4gICAgICAgIHYuc2NhbGUobGQsIHYpO1xuICAgICAgICBjb25zdCBhdiA9IGJpLmFuZ3VsYXJWZWxvY2l0eTtcblxuICAgICAgICBpZiAoYXYpIHtcbiAgICAgICAgICBjb25zdCBhZCA9IHBvdygxLjAgLSBiaS5hbmd1bGFyRGFtcGluZywgZHQpO1xuICAgICAgICAgIGF2LnNjYWxlKGFkLCBhdik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLmRpc3BhdGNoRXZlbnQoV29ybGRfc3RlcF9wcmVTdGVwRXZlbnQpOyAvLyBJbnZva2UgcHJlLXN0ZXAgY2FsbGJhY2tzXG5cbiAgICBmb3IgKGkgPSAwOyBpICE9PSBOOyBpKyspIHtcbiAgICAgIGNvbnN0IGJpID0gYm9kaWVzW2ldO1xuXG4gICAgICBpZiAoYmkucHJlU3RlcCkge1xuICAgICAgICBiaS5wcmVTdGVwLmNhbGwoYmkpO1xuICAgICAgfVxuICAgIH0gLy8gTGVhcCBmcm9nXG4gICAgLy8gdm5ldyA9IHYgKyBoKmYvbVxuICAgIC8vIHhuZXcgPSB4ICsgaCp2bmV3XG5cblxuICAgIGlmIChkb1Byb2ZpbGluZykge1xuICAgICAgcHJvZmlsaW5nU3RhcnQgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICB9XG5cbiAgICBjb25zdCBzdGVwbnVtYmVyID0gdGhpcy5zdGVwbnVtYmVyO1xuICAgIGNvbnN0IHF1YXROb3JtYWxpemUgPSBzdGVwbnVtYmVyICUgKHRoaXMucXVhdE5vcm1hbGl6ZVNraXAgKyAxKSA9PT0gMDtcbiAgICBjb25zdCBxdWF0Tm9ybWFsaXplRmFzdCA9IHRoaXMucXVhdE5vcm1hbGl6ZUZhc3Q7XG5cbiAgICBmb3IgKGkgPSAwOyBpICE9PSBOOyBpKyspIHtcbiAgICAgIGJvZGllc1tpXS5pbnRlZ3JhdGUoZHQsIHF1YXROb3JtYWxpemUsIHF1YXROb3JtYWxpemVGYXN0KTtcbiAgICB9XG5cbiAgICB0aGlzLmNsZWFyRm9yY2VzKCk7XG4gICAgdGhpcy5icm9hZHBoYXNlLmRpcnR5ID0gdHJ1ZTtcblxuICAgIGlmIChkb1Byb2ZpbGluZykge1xuICAgICAgcHJvZmlsZS5pbnRlZ3JhdGUgPSBwZXJmb3JtYW5jZS5ub3coKSAtIHByb2ZpbGluZ1N0YXJ0O1xuICAgIH0gLy8gVXBkYXRlIHdvcmxkIHRpbWVcblxuXG4gICAgdGhpcy50aW1lICs9IGR0O1xuICAgIHRoaXMuc3RlcG51bWJlciArPSAxO1xuICAgIHRoaXMuZGlzcGF0Y2hFdmVudChXb3JsZF9zdGVwX3Bvc3RTdGVwRXZlbnQpOyAvLyBJbnZva2UgcG9zdC1zdGVwIGNhbGxiYWNrc1xuXG4gICAgZm9yIChpID0gMDsgaSAhPT0gTjsgaSsrKSB7XG4gICAgICBjb25zdCBiaSA9IGJvZGllc1tpXTtcbiAgICAgIGNvbnN0IHBvc3RTdGVwID0gYmkucG9zdFN0ZXA7XG5cbiAgICAgIGlmIChwb3N0U3RlcCkge1xuICAgICAgICBwb3N0U3RlcC5jYWxsKGJpKTtcbiAgICAgIH1cbiAgICB9IC8vIFNsZWVwaW5nIHVwZGF0ZVxuXG5cbiAgICBsZXQgaGFzQWN0aXZlQm9kaWVzID0gdHJ1ZTtcblxuICAgIGlmICh0aGlzLmFsbG93U2xlZXApIHtcbiAgICAgIGhhc0FjdGl2ZUJvZGllcyA9IGZhbHNlO1xuXG4gICAgICBmb3IgKGkgPSAwOyBpICE9PSBOOyBpKyspIHtcbiAgICAgICAgY29uc3QgYmkgPSBib2RpZXNbaV07XG4gICAgICAgIGJpLnNsZWVwVGljayh0aGlzLnRpbWUpO1xuXG4gICAgICAgIGlmIChiaS5zbGVlcFN0YXRlICE9PSBCb2R5LlNMRUVQSU5HKSB7XG4gICAgICAgICAgaGFzQWN0aXZlQm9kaWVzID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuaGFzQWN0aXZlQm9kaWVzID0gaGFzQWN0aXZlQm9kaWVzO1xuICB9XG4gIC8qKlxyXG4gICAqIFNldHMgYWxsIGJvZHkgZm9yY2VzIGluIHRoZSB3b3JsZCB0byB6ZXJvLlxyXG4gICAqIEBtZXRob2QgY2xlYXJGb3JjZXNcclxuICAgKi9cblxuXG4gIGNsZWFyRm9yY2VzKCkge1xuICAgIGNvbnN0IGJvZGllcyA9IHRoaXMuYm9kaWVzO1xuICAgIGNvbnN0IE4gPSBib2RpZXMubGVuZ3RoO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgIT09IE47IGkrKykge1xuICAgICAgY29uc3QgYiA9IGJvZGllc1tpXTtcbiAgICAgIGNvbnN0IGZvcmNlID0gYi5mb3JjZTtcbiAgICAgIGNvbnN0IHRhdSA9IGIudG9ycXVlO1xuICAgICAgYi5mb3JjZS5zZXQoMCwgMCwgMCk7XG4gICAgICBiLnRvcnF1ZS5zZXQoMCwgMCwgMCk7XG4gICAgfVxuICB9XG5cbn0gLy8gVGVtcCBzdHVmZlxuXG5jb25zdCB0bXBBQUJCMSA9IG5ldyBBQUJCKCk7XG5jb25zdCB0bXBSYXkkMSA9IG5ldyBSYXkoKTsgLy8gcGVyZm9ybWFuY2Uubm93KCkgZmFsbGJhY2sgb24gRGF0ZS5ub3coKVxuXG5jb25zdCBwZXJmb3JtYW5jZSA9IGdsb2JhbFRoaXMucGVyZm9ybWFuY2UgfHwge307XG5cbmlmICghcGVyZm9ybWFuY2Uubm93KSB7XG4gIGxldCBub3dPZmZzZXQgPSBEYXRlLm5vdygpO1xuXG4gIGlmIChwZXJmb3JtYW5jZS50aW1pbmcgJiYgcGVyZm9ybWFuY2UudGltaW5nLm5hdmlnYXRpb25TdGFydCkge1xuICAgIG5vd09mZnNldCA9IHBlcmZvcm1hbmNlLnRpbWluZy5uYXZpZ2F0aW9uU3RhcnQ7XG4gIH1cblxuICBwZXJmb3JtYW5jZS5ub3cgPSAoKSA9PiBEYXRlLm5vdygpIC0gbm93T2Zmc2V0O1xufVxuLy8gUmV1c2FibGUgZXZlbnQgb2JqZWN0cyB0byBzYXZlIG1lbW9yeS5cblxuY29uc3QgV29ybGRfc3RlcF9wb3N0U3RlcEV2ZW50ID0ge1xuICB0eXBlOiAncG9zdFN0ZXAnXG59OyAvLyBEaXNwYXRjaGVkIGJlZm9yZSB0aGUgd29ybGQgc3RlcHMgZm9yd2FyZCBpbiB0aW1lLlxuXG5jb25zdCBXb3JsZF9zdGVwX3ByZVN0ZXBFdmVudCA9IHtcbiAgdHlwZTogJ3ByZVN0ZXAnXG59O1xuY29uc3QgV29ybGRfc3RlcF9jb2xsaWRlRXZlbnQgPSB7XG4gIHR5cGU6IEJvZHkuQ09MTElERV9FVkVOVF9OQU1FLFxuICBib2R5OiBudWxsLFxuICBjb250YWN0OiBudWxsXG59OyAvLyBQb29scyBmb3IgdW51c2VkIG9iamVjdHNcblxuY29uc3QgV29ybGRfc3RlcF9vbGRDb250YWN0cyA9IFtdO1xuY29uc3QgV29ybGRfc3RlcF9mcmljdGlvbkVxdWF0aW9uUG9vbCA9IFtdOyAvLyBSZXVzYWJsZSBhcnJheXMgZm9yIGNvbGxpc2lvbiBwYWlyc1xuXG5jb25zdCBXb3JsZF9zdGVwX3AxID0gW107XG5jb25zdCBXb3JsZF9zdGVwX3AyID0gW107XG5cbldvcmxkLnByb3RvdHlwZS5lbWl0Q29udGFjdEV2ZW50cyA9ICgoKSA9PiB7XG4gIGNvbnN0IGFkZGl0aW9ucyA9IFtdO1xuICBjb25zdCByZW1vdmFscyA9IFtdO1xuICBjb25zdCBiZWdpbkNvbnRhY3RFdmVudCA9IHtcbiAgICB0eXBlOiAnYmVnaW5Db250YWN0JyxcbiAgICBib2R5QTogbnVsbCxcbiAgICBib2R5QjogbnVsbFxuICB9O1xuICBjb25zdCBlbmRDb250YWN0RXZlbnQgPSB7XG4gICAgdHlwZTogJ2VuZENvbnRhY3QnLFxuICAgIGJvZHlBOiBudWxsLFxuICAgIGJvZHlCOiBudWxsXG4gIH07XG4gIGNvbnN0IGJlZ2luU2hhcGVDb250YWN0RXZlbnQgPSB7XG4gICAgdHlwZTogJ2JlZ2luU2hhcGVDb250YWN0JyxcbiAgICBib2R5QTogbnVsbCxcbiAgICBib2R5QjogbnVsbCxcbiAgICBzaGFwZUE6IG51bGwsXG4gICAgc2hhcGVCOiBudWxsXG4gIH07XG4gIGNvbnN0IGVuZFNoYXBlQ29udGFjdEV2ZW50ID0ge1xuICAgIHR5cGU6ICdlbmRTaGFwZUNvbnRhY3QnLFxuICAgIGJvZHlBOiBudWxsLFxuICAgIGJvZHlCOiBudWxsLFxuICAgIHNoYXBlQTogbnVsbCxcbiAgICBzaGFwZUI6IG51bGxcbiAgfTtcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICBjb25zdCBoYXNCZWdpbkNvbnRhY3QgPSB0aGlzLmhhc0FueUV2ZW50TGlzdGVuZXIoJ2JlZ2luQ29udGFjdCcpO1xuICAgIGNvbnN0IGhhc0VuZENvbnRhY3QgPSB0aGlzLmhhc0FueUV2ZW50TGlzdGVuZXIoJ2VuZENvbnRhY3QnKTtcblxuICAgIGlmIChoYXNCZWdpbkNvbnRhY3QgfHwgaGFzRW5kQ29udGFjdCkge1xuICAgICAgdGhpcy5ib2R5T3ZlcmxhcEtlZXBlci5nZXREaWZmKGFkZGl0aW9ucywgcmVtb3ZhbHMpO1xuICAgIH1cblxuICAgIGlmIChoYXNCZWdpbkNvbnRhY3QpIHtcbiAgICAgIGZvciAobGV0IGkgPSAwLCBsID0gYWRkaXRpb25zLmxlbmd0aDsgaSA8IGw7IGkgKz0gMikge1xuICAgICAgICBiZWdpbkNvbnRhY3RFdmVudC5ib2R5QSA9IHRoaXMuZ2V0Qm9keUJ5SWQoYWRkaXRpb25zW2ldKTtcbiAgICAgICAgYmVnaW5Db250YWN0RXZlbnQuYm9keUIgPSB0aGlzLmdldEJvZHlCeUlkKGFkZGl0aW9uc1tpICsgMV0pO1xuICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoYmVnaW5Db250YWN0RXZlbnQpO1xuICAgICAgfVxuXG4gICAgICBiZWdpbkNvbnRhY3RFdmVudC5ib2R5QSA9IGJlZ2luQ29udGFjdEV2ZW50LmJvZHlCID0gbnVsbDtcbiAgICB9XG5cbiAgICBpZiAoaGFzRW5kQ29udGFjdCkge1xuICAgICAgZm9yIChsZXQgaSA9IDAsIGwgPSByZW1vdmFscy5sZW5ndGg7IGkgPCBsOyBpICs9IDIpIHtcbiAgICAgICAgZW5kQ29udGFjdEV2ZW50LmJvZHlBID0gdGhpcy5nZXRCb2R5QnlJZChyZW1vdmFsc1tpXSk7XG4gICAgICAgIGVuZENvbnRhY3RFdmVudC5ib2R5QiA9IHRoaXMuZ2V0Qm9keUJ5SWQocmVtb3ZhbHNbaSArIDFdKTtcbiAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGVuZENvbnRhY3RFdmVudCk7XG4gICAgICB9XG5cbiAgICAgIGVuZENvbnRhY3RFdmVudC5ib2R5QSA9IGVuZENvbnRhY3RFdmVudC5ib2R5QiA9IG51bGw7XG4gICAgfVxuXG4gICAgYWRkaXRpb25zLmxlbmd0aCA9IHJlbW92YWxzLmxlbmd0aCA9IDA7XG4gICAgY29uc3QgaGFzQmVnaW5TaGFwZUNvbnRhY3QgPSB0aGlzLmhhc0FueUV2ZW50TGlzdGVuZXIoJ2JlZ2luU2hhcGVDb250YWN0Jyk7XG4gICAgY29uc3QgaGFzRW5kU2hhcGVDb250YWN0ID0gdGhpcy5oYXNBbnlFdmVudExpc3RlbmVyKCdlbmRTaGFwZUNvbnRhY3QnKTtcblxuICAgIGlmIChoYXNCZWdpblNoYXBlQ29udGFjdCB8fCBoYXNFbmRTaGFwZUNvbnRhY3QpIHtcbiAgICAgIHRoaXMuc2hhcGVPdmVybGFwS2VlcGVyLmdldERpZmYoYWRkaXRpb25zLCByZW1vdmFscyk7XG4gICAgfVxuXG4gICAgaWYgKGhhc0JlZ2luU2hhcGVDb250YWN0KSB7XG4gICAgICBmb3IgKGxldCBpID0gMCwgbCA9IGFkZGl0aW9ucy5sZW5ndGg7IGkgPCBsOyBpICs9IDIpIHtcbiAgICAgICAgY29uc3Qgc2hhcGVBID0gdGhpcy5nZXRTaGFwZUJ5SWQoYWRkaXRpb25zW2ldKTtcbiAgICAgICAgY29uc3Qgc2hhcGVCID0gdGhpcy5nZXRTaGFwZUJ5SWQoYWRkaXRpb25zW2kgKyAxXSk7XG4gICAgICAgIGJlZ2luU2hhcGVDb250YWN0RXZlbnQuc2hhcGVBID0gc2hhcGVBO1xuICAgICAgICBiZWdpblNoYXBlQ29udGFjdEV2ZW50LnNoYXBlQiA9IHNoYXBlQjtcbiAgICAgICAgYmVnaW5TaGFwZUNvbnRhY3RFdmVudC5ib2R5QSA9IHNoYXBlQS5ib2R5O1xuICAgICAgICBiZWdpblNoYXBlQ29udGFjdEV2ZW50LmJvZHlCID0gc2hhcGVCLmJvZHk7XG4gICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChiZWdpblNoYXBlQ29udGFjdEV2ZW50KTtcbiAgICAgIH1cblxuICAgICAgYmVnaW5TaGFwZUNvbnRhY3RFdmVudC5ib2R5QSA9IGJlZ2luU2hhcGVDb250YWN0RXZlbnQuYm9keUIgPSBiZWdpblNoYXBlQ29udGFjdEV2ZW50LnNoYXBlQSA9IGJlZ2luU2hhcGVDb250YWN0RXZlbnQuc2hhcGVCID0gbnVsbDtcbiAgICB9XG5cbiAgICBpZiAoaGFzRW5kU2hhcGVDb250YWN0KSB7XG4gICAgICBmb3IgKGxldCBpID0gMCwgbCA9IHJlbW92YWxzLmxlbmd0aDsgaSA8IGw7IGkgKz0gMikge1xuICAgICAgICBjb25zdCBzaGFwZUEgPSB0aGlzLmdldFNoYXBlQnlJZChyZW1vdmFsc1tpXSk7XG4gICAgICAgIGNvbnN0IHNoYXBlQiA9IHRoaXMuZ2V0U2hhcGVCeUlkKHJlbW92YWxzW2kgKyAxXSk7XG4gICAgICAgIGVuZFNoYXBlQ29udGFjdEV2ZW50LnNoYXBlQSA9IHNoYXBlQTtcbiAgICAgICAgZW5kU2hhcGVDb250YWN0RXZlbnQuc2hhcGVCID0gc2hhcGVCO1xuICAgICAgICBlbmRTaGFwZUNvbnRhY3RFdmVudC5ib2R5QSA9IHNoYXBlQS5ib2R5O1xuICAgICAgICBlbmRTaGFwZUNvbnRhY3RFdmVudC5ib2R5QiA9IHNoYXBlQi5ib2R5O1xuICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZW5kU2hhcGVDb250YWN0RXZlbnQpO1xuICAgICAgfVxuXG4gICAgICBlbmRTaGFwZUNvbnRhY3RFdmVudC5ib2R5QSA9IGVuZFNoYXBlQ29udGFjdEV2ZW50LmJvZHlCID0gZW5kU2hhcGVDb250YWN0RXZlbnQuc2hhcGVBID0gZW5kU2hhcGVDb250YWN0RXZlbnQuc2hhcGVCID0gbnVsbDtcbiAgICB9XG4gIH07XG59KSgpO1xuXG5leHBvcnQgeyBBQUJCLCBBcnJheUNvbGxpc2lvbk1hdHJpeCwgQk9EWV9TTEVFUF9TVEFURVMsIEJPRFlfVFlQRVMsIEJvZHksIEJveCwgQnJvYWRwaGFzZSwgQ09MTElTSU9OX1RZUEVTLCBDb25lVHdpc3RDb25zdHJhaW50LCBDb25zdHJhaW50LCBDb250YWN0RXF1YXRpb24sIENvbnRhY3RNYXRlcmlhbCwgQ29udmV4UG9seWhlZHJvbiwgQ3lsaW5kZXIsIERpc3RhbmNlQ29uc3RyYWludCwgRXF1YXRpb24sIEV2ZW50VGFyZ2V0LCBGcmljdGlvbkVxdWF0aW9uLCBHU1NvbHZlciwgR3JpZEJyb2FkcGhhc2UsIEhlaWdodGZpZWxkLCBIaW5nZUNvbnN0cmFpbnQsIEphY29iaWFuRWxlbWVudCwgTG9ja0NvbnN0cmFpbnQsIE1hdDMsIE1hdGVyaWFsLCBOYWl2ZUJyb2FkcGhhc2UsIE5hcnJvd3BoYXNlLCBPYmplY3RDb2xsaXNpb25NYXRyaXgsIFBhcnRpY2xlLCBQbGFuZSwgUG9pbnRUb1BvaW50Q29uc3RyYWludCwgUG9vbCwgUXVhdGVybmlvbiwgUkFZX01PREVTLCBSYXksIFJheWNhc3RSZXN1bHQsIFJheWNhc3RWZWhpY2xlLCBSaWdpZFZlaGljbGUsIFJvdGF0aW9uYWxFcXVhdGlvbiwgUm90YXRpb25hbE1vdG9yRXF1YXRpb24sIFNBUEJyb2FkcGhhc2UsIFNIQVBFX1RZUEVTLCBTUEhTeXN0ZW0sIFNoYXBlLCBTb2x2ZXIsIFNwaGVyZSwgU3BsaXRTb2x2ZXIsIFNwcmluZywgVHJhbnNmb3JtLCBUcmltZXNoLCBWZWMzLCBWZWMzUG9vbCwgV29ybGQgfTtcbiIsImltcG9ydCB7XG4gIFdvcmxkLFxuICBOYWl2ZUJyb2FkcGhhc2UsXG4gIFNBUEJyb2FkcGhhc2UsXG4gIEJvZHksXG4gIFBsYW5lLFxuICBCb3gsXG4gIFZlYzMsXG4gIENvbnZleFBvbHloZWRyb24sXG4gIEN5bGluZGVyLFxuICBIZWlnaHRmaWVsZCxcbiAgUGFydGljbGUsXG4gIFNwaGVyZSxcbiAgVHJpbWVzaCxcbiAgUG9pbnRUb1BvaW50Q29uc3RyYWludCxcbiAgQ29uZVR3aXN0Q29uc3RyYWludCxcbiAgSGluZ2VDb25zdHJhaW50LFxuICBEaXN0YW5jZUNvbnN0cmFpbnQsXG4gIExvY2tDb25zdHJhaW50LFxuICBDb25zdHJhaW50LFxuICBTcHJpbmcsXG4gIE1hdGVyaWFsLFxuICBRdWF0ZXJuaW9uLFxuICBSYXksXG4gIFJheWNhc3RSZXN1bHQsXG59IGZyb20gJ2Nhbm5vbi1lcydcblxubGV0IGJvZGllcyA9IHt9XG5jb25zdCBzcHJpbmdzID0ge31cbmNvbnN0IHJheXMgPSB7fVxuY29uc3Qgd29ybGQgPSBuZXcgV29ybGQoKVxuY29uc3QgY29uZmlnID0geyBzdGVwOiAxIC8gNjAgfVxuY29uc3Qgc3Vic2NyaXB0aW9ucyA9IHt9XG5jb25zdCB0ZW1wVmVjdG9yID0gbmV3IFZlYzMoKVxuXG5mdW5jdGlvbiBjcmVhdGVTaGFwZSh0eXBlLCBhcmdzKSB7XG4gIHN3aXRjaCAodHlwZSkge1xuICAgIGNhc2UgJ0JveCc6XG4gICAgICByZXR1cm4gbmV3IEJveChuZXcgVmVjMyguLi5hcmdzLm1hcCgodikgPT4gdiAvIDIpKSkgLy8gZXh0ZW50cyA9PiBoYWxmRXh0ZW50c1xuICAgIGNhc2UgJ0NvbnZleFBvbHloZWRyb24nOlxuICAgICAgY29uc3QgW3YsIGYsIG5dID0gYXJnc1xuICAgICAgcmV0dXJuIG5ldyBDb252ZXhQb2x5aGVkcm9uKHtcbiAgICAgICAgdmVydGljZXM6IHYubWFwKChbeCwgeSwgel0pID0+IG5ldyBWZWMzKHgsIHksIHopKSxcbiAgICAgICAgbm9ybWFsczogbiA/IG4ubWFwKChbeCwgeSwgel0pID0+IG5ldyBWZWMzKHgsIHksIHopKSA6IG51bGwsXG4gICAgICAgIGZhY2VzOiBmLFxuICAgICAgfSlcbiAgICBjYXNlICdDeWxpbmRlcic6XG4gICAgICByZXR1cm4gbmV3IEN5bGluZGVyKC4uLmFyZ3MpIC8vIFsgcmFkaXVzVG9wLCByYWRpdXNCb3R0b20sIGhlaWdodCwgbnVtU2VnbWVudHMgXSA9IGFyZ3NcbiAgICBjYXNlICdIZWlnaHRmaWVsZCc6XG4gICAgICByZXR1cm4gbmV3IEhlaWdodGZpZWxkKC4uLmFyZ3MpIC8vIFsgQXJyYXkgZGF0YSwgb3B0aW9uczoge21pblZhbHVlLCBtYXhWYWx1ZSwgZWxlbWVudFNpemV9ICBdID0gYXJnc1xuICAgIGNhc2UgJ1BhcnRpY2xlJzpcbiAgICAgIHJldHVybiBuZXcgUGFydGljbGUoKSAvLyBubyBhcmdzXG4gICAgY2FzZSAnUGxhbmUnOlxuICAgICAgcmV0dXJuIG5ldyBQbGFuZSgpIC8vIG5vIGFyZ3MsIGluZmluaXRlIHggYW5kIHlcbiAgICBjYXNlICdTcGhlcmUnOlxuICAgICAgcmV0dXJuIG5ldyBTcGhlcmUoLi4uYXJncykgLy8gW3JhZGl1c10gPSBhcmdzXG4gICAgY2FzZSAnVHJpbWVzaCc6XG4gICAgICByZXR1cm4gbmV3IFRyaW1lc2goLi4uYXJncykgLy8gW3ZlcnRpY2VzLCBpbmRpY2VzXSA9IGFyZ3NcbiAgfVxufVxuXG5mdW5jdGlvbiBzeW5jQm9kaWVzKCkge1xuICBzZWxmLnBvc3RNZXNzYWdlKHsgb3A6ICdzeW5jJywgYm9kaWVzOiB3b3JsZC5ib2RpZXMubWFwKChib2R5KSA9PiBib2R5LnV1aWQpIH0pXG4gIGJvZGllcyA9IHdvcmxkLmJvZGllcy5yZWR1Y2UoKGFjYywgYm9keSkgPT4gKHsgLi4uYWNjLCBbYm9keS51dWlkXTogYm9keSB9KSwge30pXG59XG5cbnNlbGYub25tZXNzYWdlID0gKGUpID0+IHtcbiAgY29uc3QgeyBvcCwgdXVpZCwgdHlwZSwgcG9zaXRpb25zLCBxdWF0ZXJuaW9ucywgcHJvcHMgfSA9IGUuZGF0YVxuXG4gIHN3aXRjaCAob3ApIHtcbiAgICBjYXNlICdpbml0Jzoge1xuICAgICAgY29uc3Qge1xuICAgICAgICBncmF2aXR5LFxuICAgICAgICB0b2xlcmFuY2UsXG4gICAgICAgIHN0ZXAsXG4gICAgICAgIGl0ZXJhdGlvbnMsXG4gICAgICAgIGFsbG93U2xlZXAsXG4gICAgICAgIGJyb2FkcGhhc2UsXG4gICAgICAgIGF4aXNJbmRleCxcbiAgICAgICAgZGVmYXVsdENvbnRhY3RNYXRlcmlhbCxcbiAgICAgIH0gPSBwcm9wc1xuICAgICAgY29uc3QgYnJvYWRwaGFzZXMgPSB7IE5haXZlQnJvYWRwaGFzZSwgU0FQQnJvYWRwaGFzZSB9XG4gICAgICB3b3JsZC5hbGxvd1NsZWVwID0gYWxsb3dTbGVlcFxuICAgICAgd29ybGQuZ3Jhdml0eS5zZXQoZ3Jhdml0eVswXSwgZ3Jhdml0eVsxXSwgZ3Jhdml0eVsyXSlcbiAgICAgIHdvcmxkLnNvbHZlci50b2xlcmFuY2UgPSB0b2xlcmFuY2VcbiAgICAgIHdvcmxkLnNvbHZlci5pdGVyYXRpb25zID0gaXRlcmF0aW9uc1xuICAgICAgd29ybGQuYnJvYWRwaGFzZSA9IG5ldyAoYnJvYWRwaGFzZXNbYnJvYWRwaGFzZSArICdCcm9hZHBoYXNlJ10gfHwgTmFpdmVCcm9hZHBoYXNlKSh3b3JsZClcbiAgICAgIHdvcmxkLmJyb2FkcGhhc2UuYXhpc0luZGV4ID0gYXhpc0luZGV4ID8/IDBcbiAgICAgIE9iamVjdC5hc3NpZ24od29ybGQuZGVmYXVsdENvbnRhY3RNYXRlcmlhbCwgZGVmYXVsdENvbnRhY3RNYXRlcmlhbClcbiAgICAgIGNvbmZpZy5zdGVwID0gc3RlcFxuICAgICAgYnJlYWtcbiAgICB9XG4gICAgY2FzZSAnc3RlcCc6IHtcbiAgICAgIHdvcmxkLnN0ZXAoY29uZmlnLnN0ZXApXG4gICAgICBjb25zdCBudW1iZXJPZkJvZGllcyA9IHdvcmxkLmJvZGllcy5sZW5ndGhcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbnVtYmVyT2ZCb2RpZXM7IGkrKykge1xuICAgICAgICBsZXQgYiA9IHdvcmxkLmJvZGllc1tpXSxcbiAgICAgICAgICBwID0gYi5wb3NpdGlvbixcbiAgICAgICAgICBxID0gYi5xdWF0ZXJuaW9uXG4gICAgICAgIHBvc2l0aW9uc1szICogaSArIDBdID0gcC54XG4gICAgICAgIHBvc2l0aW9uc1szICogaSArIDFdID0gcC55XG4gICAgICAgIHBvc2l0aW9uc1szICogaSArIDJdID0gcC56XG4gICAgICAgIHF1YXRlcm5pb25zWzQgKiBpICsgMF0gPSBxLnhcbiAgICAgICAgcXVhdGVybmlvbnNbNCAqIGkgKyAxXSA9IHEueVxuICAgICAgICBxdWF0ZXJuaW9uc1s0ICogaSArIDJdID0gcS56XG4gICAgICAgIHF1YXRlcm5pb25zWzQgKiBpICsgM10gPSBxLndcbiAgICAgIH1cbiAgICAgIGNvbnN0IG9ic2VydmF0aW9ucyA9IFtdXG4gICAgICBmb3IgKGNvbnN0IGlkIG9mIE9iamVjdC5rZXlzKHN1YnNjcmlwdGlvbnMpKSB7XG4gICAgICAgIGNvbnN0IFt1dWlkLCB0eXBlXSA9IHN1YnNjcmlwdGlvbnNbaWRdXG4gICAgICAgIGxldCB2YWx1ZSA9IGJvZGllc1t1dWlkXVt0eXBlXVxuICAgICAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBWZWMzKSB2YWx1ZSA9IHZhbHVlLnRvQXJyYXkoKVxuICAgICAgICBlbHNlIGlmICh2YWx1ZSBpbnN0YW5jZW9mIFF1YXRlcm5pb24pIHtcbiAgICAgICAgICB2YWx1ZS50b0V1bGVyKHRlbXBWZWN0b3IpXG4gICAgICAgICAgdmFsdWUgPSB0ZW1wVmVjdG9yLnRvQXJyYXkoKVxuICAgICAgICB9XG4gICAgICAgIG9ic2VydmF0aW9ucy5wdXNoKFtpZCwgdmFsdWVdKVxuICAgICAgfVxuICAgICAgc2VsZi5wb3N0TWVzc2FnZShcbiAgICAgICAge1xuICAgICAgICAgIG9wOiAnZnJhbWUnLFxuICAgICAgICAgIHBvc2l0aW9ucyxcbiAgICAgICAgICBxdWF0ZXJuaW9ucyxcbiAgICAgICAgICBvYnNlcnZhdGlvbnMsXG4gICAgICAgICAgYWN0aXZlOiB3b3JsZC5oYXNBY3RpdmVCb2RpZXMsXG4gICAgICAgIH0sXG4gICAgICAgIFtwb3NpdGlvbnMuYnVmZmVyLCBxdWF0ZXJuaW9ucy5idWZmZXJdXG4gICAgICApXG4gICAgICBicmVha1xuICAgIH1cbiAgICBjYXNlICdhZGRCb2RpZXMnOiB7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHV1aWQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3Qge1xuICAgICAgICAgIGFyZ3MgPSBbXSxcbiAgICAgICAgICBwb3NpdGlvbiA9IFswLCAwLCAwXSxcbiAgICAgICAgICByb3RhdGlvbiA9IFswLCAwLCAwXSxcbiAgICAgICAgICBzY2FsZSA9IFsxLCAxLCAxXSxcbiAgICAgICAgICB2ZWxvY2l0eSA9IFswLCAwLCAwXSxcbiAgICAgICAgICBhbmd1bGFyVmVsb2NpdHkgPSBbMCwgMCwgMF0sXG4gICAgICAgICAgbGluZWFyRmFjdG9yID0gWzEsIDEsIDFdLFxuICAgICAgICAgIGFuZ3VsYXJGYWN0b3IgPSBbMSwgMSwgMV0sXG4gICAgICAgICAgdHlwZTogYm9keVR5cGUsXG4gICAgICAgICAgbWFzcyxcbiAgICAgICAgICBtYXRlcmlhbCxcbiAgICAgICAgICBzaGFwZXMsXG4gICAgICAgICAgb25Db2xsaWRlLFxuICAgICAgICAgIC4uLmV4dHJhXG4gICAgICAgIH0gPSBwcm9wc1tpXVxuXG4gICAgICAgIGNvbnN0IGJvZHkgPSBuZXcgQm9keSh7XG4gICAgICAgICAgLi4uZXh0cmEsXG4gICAgICAgICAgbWFzczogYm9keVR5cGUgPT09ICdTdGF0aWMnID8gMCA6IG1hc3MsXG4gICAgICAgICAgdHlwZTogYm9keVR5cGUgPyBCb2R5W2JvZHlUeXBlLnRvVXBwZXJDYXNlKCldIDogdW5kZWZpbmVkLFxuICAgICAgICAgIG1hdGVyaWFsOiBtYXRlcmlhbCA/IG5ldyBNYXRlcmlhbChtYXRlcmlhbCkgOiB1bmRlZmluZWQsXG4gICAgICAgIH0pXG4gICAgICAgIGJvZHkudXVpZCA9IHV1aWRbaV1cblxuICAgICAgICBpZiAodHlwZSA9PT0gJ0NvbXBvdW5kJykge1xuICAgICAgICAgIHNoYXBlcy5mb3JFYWNoKCh7IHR5cGUsIGFyZ3MsIHBvc2l0aW9uLCByb3RhdGlvbiwgbWF0ZXJpYWwsIC4uLmV4dHJhIH0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHNoYXBlQm9keSA9IGJvZHkuYWRkU2hhcGUoXG4gICAgICAgICAgICAgIGNyZWF0ZVNoYXBlKHR5cGUsIGFyZ3MpLFxuICAgICAgICAgICAgICBwb3NpdGlvbiA/IG5ldyBWZWMzKC4uLnBvc2l0aW9uKSA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgcm90YXRpb24gPyBuZXcgUXVhdGVybmlvbigpLnNldEZyb21FdWxlciguLi5yb3RhdGlvbikgOiB1bmRlZmluZWRcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIGlmIChtYXRlcmlhbCkgc2hhcGVCb2R5Lm1hdGVyaWFsID0gbmV3IE1hdGVyaWFsKG1hdGVyaWFsKVxuICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihzaGFwZUJvZHksIGV4dHJhKVxuICAgICAgICAgIH0pXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYm9keS5hZGRTaGFwZShjcmVhdGVTaGFwZSh0eXBlLCBhcmdzKSlcbiAgICAgICAgfVxuXG4gICAgICAgIGJvZHkucG9zaXRpb24uc2V0KHBvc2l0aW9uWzBdLCBwb3NpdGlvblsxXSwgcG9zaXRpb25bMl0pXG4gICAgICAgIGJvZHkucXVhdGVybmlvbi5zZXRGcm9tRXVsZXIocm90YXRpb25bMF0sIHJvdGF0aW9uWzFdLCByb3RhdGlvblsyXSlcbiAgICAgICAgYm9keS52ZWxvY2l0eS5zZXQodmVsb2NpdHlbMF0sIHZlbG9jaXR5WzFdLCB2ZWxvY2l0eVsyXSlcbiAgICAgICAgYm9keS5hbmd1bGFyVmVsb2NpdHkuc2V0KGFuZ3VsYXJWZWxvY2l0eVswXSwgYW5ndWxhclZlbG9jaXR5WzFdLCBhbmd1bGFyVmVsb2NpdHlbMl0pXG4gICAgICAgIGJvZHkubGluZWFyRmFjdG9yLnNldChsaW5lYXJGYWN0b3JbMF0sIGxpbmVhckZhY3RvclsxXSwgbGluZWFyRmFjdG9yWzJdKVxuICAgICAgICBib2R5LmFuZ3VsYXJGYWN0b3Iuc2V0KGFuZ3VsYXJGYWN0b3JbMF0sIGFuZ3VsYXJGYWN0b3JbMV0sIGFuZ3VsYXJGYWN0b3JbMl0pXG4gICAgICAgIHdvcmxkLmFkZEJvZHkoYm9keSlcblxuICAgICAgICBpZiAob25Db2xsaWRlKVxuICAgICAgICAgIGJvZHkuYWRkRXZlbnRMaXN0ZW5lcignY29sbGlkZScsICh7IHR5cGUsIGJvZHksIHRhcmdldCwgY29udGFjdCB9KSA9PiB7XG4gICAgICAgICAgICBjb25zdCB7IG5pLCByaSwgcmogfSA9IGNvbnRhY3RcbiAgICAgICAgICAgIHNlbGYucG9zdE1lc3NhZ2Uoe1xuICAgICAgICAgICAgICBvcDogJ2V2ZW50JyxcbiAgICAgICAgICAgICAgdHlwZSxcbiAgICAgICAgICAgICAgYm9keTogYm9keS51dWlkLFxuICAgICAgICAgICAgICB0YXJnZXQ6IHRhcmdldC51dWlkLFxuICAgICAgICAgICAgICBjb250YWN0OiB7XG4gICAgICAgICAgICAgICAgbmk6IG5pLnRvQXJyYXkoKSxcbiAgICAgICAgICAgICAgICByaTogcmkudG9BcnJheSgpLFxuICAgICAgICAgICAgICAgIHJqOiByai50b0FycmF5KCksXG4gICAgICAgICAgICAgICAgaW1wYWN0VmVsb2NpdHk6IGNvbnRhY3QuZ2V0SW1wYWN0VmVsb2NpdHlBbG9uZ05vcm1hbCgpLFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBjb2xsaXNpb25GaWx0ZXJzOiB7XG4gICAgICAgICAgICAgICAgYm9keUZpbHRlckdyb3VwOiBib2R5LmNvbGxpc2lvbkZpbHRlckdyb3VwLFxuICAgICAgICAgICAgICAgIGJvZHlGaWx0ZXJNYXNrOiBib2R5LmNvbGxpc2lvbkZpbHRlck1hc2ssXG4gICAgICAgICAgICAgICAgdGFyZ2V0RmlsdGVyR3JvdXA6IHRhcmdldC5jb2xsaXNpb25GaWx0ZXJHcm91cCxcbiAgICAgICAgICAgICAgICB0YXJnZXRGaWx0ZXJNYXNrOiB0YXJnZXQuY29sbGlzaW9uRmlsdGVyTWFzayxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgfSlcbiAgICAgIH1cbiAgICAgIHN5bmNCb2RpZXMoKVxuICAgICAgYnJlYWtcbiAgICB9XG4gICAgY2FzZSAncmVtb3ZlQm9kaWVzJzoge1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB1dWlkLmxlbmd0aDsgaSsrKSB3b3JsZC5yZW1vdmVCb2R5KGJvZGllc1t1dWlkW2ldXSlcbiAgICAgIHN5bmNCb2RpZXMoKVxuICAgICAgYnJlYWtcbiAgICB9XG4gICAgY2FzZSAnc3Vic2NyaWJlJzoge1xuICAgICAgY29uc3QgeyBpZCwgdHlwZSB9ID0gcHJvcHNcbiAgICAgIHN1YnNjcmlwdGlvbnNbaWRdID0gW3V1aWQsIHR5cGVdXG4gICAgICBicmVha1xuICAgIH1cbiAgICBjYXNlICd1bnN1YnNjcmliZSc6IHtcbiAgICAgIGRlbGV0ZSBzdWJzY3JpcHRpb25zW3Byb3BzXVxuICAgICAgYnJlYWtcbiAgICB9XG4gICAgY2FzZSAnc2V0UG9zaXRpb24nOlxuICAgICAgYm9kaWVzW3V1aWRdLnBvc2l0aW9uLnNldChwcm9wc1swXSwgcHJvcHNbMV0sIHByb3BzWzJdKVxuICAgICAgYnJlYWtcbiAgICBjYXNlICdzZXRRdWF0ZXJuaW9uJzpcbiAgICAgIGJvZGllc1t1dWlkXS5xdWF0ZXJuaW9uLnNldEZyb21FdWxlcihwcm9wc1swXSwgcHJvcHNbMV0sIHByb3BzWzJdKVxuICAgICAgYnJlYWtcbiAgICBjYXNlICdzZXRWZWxvY2l0eSc6XG4gICAgICBib2RpZXNbdXVpZF0udmVsb2NpdHkuc2V0KHByb3BzWzBdLCBwcm9wc1sxXSwgcHJvcHNbMl0pXG4gICAgICBicmVha1xuICAgIGNhc2UgJ3NldEFuZ3VsYXJWZWxvY2l0eSc6XG4gICAgICBib2RpZXNbdXVpZF0uYW5ndWxhclZlbG9jaXR5LnNldChwcm9wc1swXSwgcHJvcHNbMV0sIHByb3BzWzJdKVxuICAgICAgYnJlYWtcbiAgICBjYXNlICdzZXRMaW5lYXJGYWN0b3InOlxuICAgICAgYm9kaWVzW3V1aWRdLmxpbmVhckZhY3Rvci5zZXQocHJvcHNbMF0sIHByb3BzWzFdLCBwcm9wc1syXSlcbiAgICAgIGJyZWFrXG4gICAgY2FzZSAnc2V0QW5ndWxhckZhY3Rvcic6XG4gICAgICBib2RpZXNbdXVpZF0uYW5ndWxhckZhY3Rvci5zZXQocHJvcHNbMF0sIHByb3BzWzFdLCBwcm9wc1syXSlcbiAgICAgIGJyZWFrXG4gICAgY2FzZSAnc2V0TWFzcyc6XG4gICAgICBib2RpZXNbdXVpZF0ubWFzcyA9IHByb3BzXG4gICAgICBicmVha1xuICAgIGNhc2UgJ3NldExpbmVhckRhbXBpbmcnOlxuICAgICAgYm9kaWVzW3V1aWRdLmxpbmVhckRhbXBpbmcgPSBwcm9wc1xuICAgICAgYnJlYWtcbiAgICBjYXNlICdzZXRBbmd1bGFyRGFtcGluZyc6XG4gICAgICBib2RpZXNbdXVpZF0uYW5ndWxhckRhbXBpbmcgPSBwcm9wc1xuICAgICAgYnJlYWtcbiAgICBjYXNlICdzZXRBbGxvd1NsZWVwJzpcbiAgICAgIGJvZGllc1t1dWlkXS5hbGxvd1NsZWVwID0gcHJvcHNcbiAgICAgIGJyZWFrXG4gICAgY2FzZSAnc2V0U2xlZXBTcGVlZExpbWl0JzpcbiAgICAgIGJvZGllc1t1dWlkXS5zbGVlcFNwZWVkTGltaXQgPSBwcm9wc1xuICAgICAgYnJlYWtcbiAgICBjYXNlICdzZXRTbGVlcFRpbWVMaW1pdCc6XG4gICAgICBib2RpZXNbdXVpZF0uc2xlZXBUaW1lTGltaXQgPSBwcm9wc1xuICAgICAgYnJlYWtcbiAgICBjYXNlICdzZXRDb2xsaXNpb25GaWx0ZXJHcm91cCc6XG4gICAgICBib2RpZXNbdXVpZF0uY29sbGlzaW9uRmlsdGVyR3JvdXAgPSBwcm9wc1xuICAgICAgYnJlYWtcbiAgICBjYXNlICdzZXRDb2xsaXNpb25GaWx0ZXJNYXNrJzpcbiAgICAgIGJvZGllc1t1dWlkXS5jb2xsaXNpb25GaWx0ZXJNYXNrID0gcHJvcHNcbiAgICAgIGJyZWFrXG4gICAgY2FzZSAnc2V0Q29sbGlzaW9uRmlsdGVyTWFzayc6XG4gICAgICBib2RpZXNbdXVpZF0uY29sbGlzaW9uRmlsdGVyTWFzayA9IHByb3BzXG4gICAgICBicmVha1xuICAgIGNhc2UgJ3NldEZpeGVkUm90YXRpb24nOlxuICAgICAgYm9kaWVzW3V1aWRdLmZpeGVkUm90YXRpb24gPSBwcm9wc1xuICAgICAgYnJlYWtcbiAgICBjYXNlICdhcHBseUZvcmNlJzpcbiAgICAgIGJvZGllc1t1dWlkXS5hcHBseUZvcmNlKG5ldyBWZWMzKC4uLnByb3BzWzBdKSwgbmV3IFZlYzMoLi4ucHJvcHNbMV0pKVxuICAgICAgYnJlYWtcbiAgICBjYXNlICdhcHBseUltcHVsc2UnOlxuICAgICAgYm9kaWVzW3V1aWRdLmFwcGx5SW1wdWxzZShuZXcgVmVjMyguLi5wcm9wc1swXSksIG5ldyBWZWMzKC4uLnByb3BzWzFdKSlcbiAgICAgIGJyZWFrXG4gICAgY2FzZSAnYXBwbHlMb2NhbEZvcmNlJzpcbiAgICAgIGJvZGllc1t1dWlkXS5hcHBseUxvY2FsRm9yY2UobmV3IFZlYzMoLi4ucHJvcHNbMF0pLCBuZXcgVmVjMyguLi5wcm9wc1sxXSkpXG4gICAgICBicmVha1xuICAgIGNhc2UgJ2FwcGx5TG9jYWxJbXB1bHNlJzpcbiAgICAgIGJvZGllc1t1dWlkXS5hcHBseUxvY2FsSW1wdWxzZShuZXcgVmVjMyguLi5wcm9wc1swXSksIG5ldyBWZWMzKC4uLnByb3BzWzFdKSlcbiAgICAgIGJyZWFrXG4gICAgY2FzZSAnYWRkQ29uc3RyYWludCc6IHtcbiAgICAgIGNvbnN0IFtib2R5QSwgYm9keUIsIG9wdG5zXSA9IHByb3BzXG4gICAgICBsZXQgeyBwaXZvdEEsIHBpdm90QiwgYXhpc0EsIGF4aXNCLCAuLi5vcHRpb25zIH0gPSBvcHRuc1xuXG4gICAgICAvLyBpcyB0aGVyZSBhIGJldHRlciB3YXkgdG8gZW5mb3JjZSBkZWZhdWx0cz9cbiAgICAgIHBpdm90QSA9IEFycmF5LmlzQXJyYXkocGl2b3RBKSA/IG5ldyBWZWMzKC4uLnBpdm90QSkgOiB1bmRlZmluZWRcbiAgICAgIHBpdm90QiA9IEFycmF5LmlzQXJyYXkocGl2b3RCKSA/IG5ldyBWZWMzKC4uLnBpdm90QikgOiB1bmRlZmluZWRcbiAgICAgIGF4aXNBID0gQXJyYXkuaXNBcnJheShheGlzQSkgPyBuZXcgVmVjMyguLi5heGlzQSkgOiB1bmRlZmluZWRcbiAgICAgIGF4aXNCID0gQXJyYXkuaXNBcnJheShheGlzQikgPyBuZXcgVmVjMyguLi5heGlzQikgOiB1bmRlZmluZWRcblxuICAgICAgbGV0IGNvbnN0cmFpbnRcblxuICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgIGNhc2UgJ1BvaW50VG9Qb2ludCc6XG4gICAgICAgICAgY29uc3RyYWludCA9IG5ldyBQb2ludFRvUG9pbnRDb25zdHJhaW50KFxuICAgICAgICAgICAgYm9kaWVzW2JvZHlBXSxcbiAgICAgICAgICAgIHBpdm90QSxcbiAgICAgICAgICAgIGJvZGllc1tib2R5Ql0sXG4gICAgICAgICAgICBwaXZvdEIsXG4gICAgICAgICAgICBvcHRucy5tYXhGb3JjZVxuICAgICAgICAgIClcbiAgICAgICAgICBicmVha1xuICAgICAgICBjYXNlICdDb25lVHdpc3QnOlxuICAgICAgICAgIGNvbnN0cmFpbnQgPSBuZXcgQ29uZVR3aXN0Q29uc3RyYWludChib2RpZXNbYm9keUFdLCBib2RpZXNbYm9keUJdLCB7XG4gICAgICAgICAgICBwaXZvdEEsXG4gICAgICAgICAgICBwaXZvdEIsXG4gICAgICAgICAgICBheGlzQSxcbiAgICAgICAgICAgIGF4aXNCLFxuICAgICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgICB9KVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIGNhc2UgJ0hpbmdlJzpcbiAgICAgICAgICBjb25zdHJhaW50ID0gbmV3IEhpbmdlQ29uc3RyYWludChib2RpZXNbYm9keUFdLCBib2RpZXNbYm9keUJdLCB7XG4gICAgICAgICAgICBwaXZvdEEsXG4gICAgICAgICAgICBwaXZvdEIsXG4gICAgICAgICAgICBheGlzQSxcbiAgICAgICAgICAgIGF4aXNCLFxuICAgICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgICB9KVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIGNhc2UgJ0Rpc3RhbmNlJzpcbiAgICAgICAgICBjb25zdHJhaW50ID0gbmV3IERpc3RhbmNlQ29uc3RyYWludChib2RpZXNbYm9keUFdLCBib2RpZXNbYm9keUJdLCBvcHRucy5kaXN0YW5jZSwgb3B0bnMubWF4Rm9yY2UpXG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgY2FzZSAnTG9jayc6XG4gICAgICAgICAgY29uc3RyYWludCA9IG5ldyBMb2NrQ29uc3RyYWludChib2RpZXNbYm9keUFdLCBib2RpZXNbYm9keUJdLCBvcHRucylcbiAgICAgICAgICBicmVha1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGNvbnN0cmFpbnQgPSBuZXcgQ29uc3RyYWludChib2RpZXNbYm9keUFdLCBib2RpZXNbYm9keUJdLCBvcHRucylcbiAgICAgICAgICBicmVha1xuICAgICAgfVxuICAgICAgY29uc3RyYWludC51dWlkID0gdXVpZFxuICAgICAgd29ybGQuYWRkQ29uc3RyYWludChjb25zdHJhaW50KVxuICAgICAgYnJlYWtcbiAgICB9XG4gICAgY2FzZSAncmVtb3ZlQ29uc3RyYWludCc6XG4gICAgICB3b3JsZC5jb25zdHJhaW50cy5maWx0ZXIoKHsgdXVpZDogdGhpc0lkIH0pID0+IHRoaXNJZCA9PT0gdXVpZCkubWFwKChjKSA9PiB3b3JsZC5yZW1vdmVDb25zdHJhaW50KGMpKVxuICAgICAgYnJlYWtcblxuICAgIGNhc2UgJ2VuYWJsZUNvbnN0cmFpbnQnOlxuICAgICAgd29ybGQuY29uc3RyYWludHMuZmlsdGVyKCh7IHV1aWQ6IHRoaXNJZCB9KSA9PiB0aGlzSWQgPT09IHV1aWQpLm1hcCgoYykgPT4gYy5lbmFibGUoKSlcbiAgICAgIGJyZWFrXG5cbiAgICBjYXNlICdkaXNhYmxlQ29uc3RyYWludCc6XG4gICAgICB3b3JsZC5jb25zdHJhaW50cy5maWx0ZXIoKHsgdXVpZDogdGhpc0lkIH0pID0+IHRoaXNJZCA9PT0gdXVpZCkubWFwKChjKSA9PiBjLmRpc2FibGUoKSlcbiAgICAgIGJyZWFrXG5cbiAgICBjYXNlICdhZGRTcHJpbmcnOiB7XG4gICAgICBjb25zdCBbYm9keUEsIGJvZHlCLCBvcHRuc10gPSBwcm9wc1xuICAgICAgbGV0IHsgd29ybGRBbmNob3JBLCB3b3JsZEFuY2hvckIsIGxvY2FsQW5jaG9yQSwgbG9jYWxBbmNob3JCLCByZXN0TGVuZ3RoLCBzdGlmZm5lc3MsIGRhbXBpbmcgfSA9IG9wdG5zXG5cbiAgICAgIHdvcmxkQW5jaG9yQSA9IEFycmF5LmlzQXJyYXkod29ybGRBbmNob3JBKSA/IG5ldyBWZWMzKC4uLndvcmxkQW5jaG9yQSkgOiB1bmRlZmluZWRcbiAgICAgIHdvcmxkQW5jaG9yQiA9IEFycmF5LmlzQXJyYXkod29ybGRBbmNob3JCKSA/IG5ldyBWZWMzKC4uLndvcmxkQW5jaG9yQikgOiB1bmRlZmluZWRcbiAgICAgIGxvY2FsQW5jaG9yQSA9IEFycmF5LmlzQXJyYXkobG9jYWxBbmNob3JBKSA/IG5ldyBWZWMzKC4uLmxvY2FsQW5jaG9yQSkgOiB1bmRlZmluZWRcbiAgICAgIGxvY2FsQW5jaG9yQiA9IEFycmF5LmlzQXJyYXkobG9jYWxBbmNob3JCKSA/IG5ldyBWZWMzKC4uLmxvY2FsQW5jaG9yQikgOiB1bmRlZmluZWRcblxuICAgICAgbGV0IHNwcmluZyA9IG5ldyBTcHJpbmcoYm9kaWVzW2JvZHlBXSwgYm9kaWVzW2JvZHlCXSwge1xuICAgICAgICB3b3JsZEFuY2hvckEsXG4gICAgICAgIHdvcmxkQW5jaG9yQixcbiAgICAgICAgbG9jYWxBbmNob3JBLFxuICAgICAgICBsb2NhbEFuY2hvckIsXG4gICAgICAgIHJlc3RMZW5ndGgsXG4gICAgICAgIHN0aWZmbmVzcyxcbiAgICAgICAgZGFtcGluZyxcbiAgICAgIH0pXG5cbiAgICAgIHNwcmluZy51dWlkID0gdXVpZFxuXG4gICAgICBsZXQgcG9zdFN0ZXBTcHJpbmcgPSAoZSkgPT4gc3ByaW5nLmFwcGx5Rm9yY2UoKVxuXG4gICAgICBzcHJpbmdzW3V1aWRdID0gcG9zdFN0ZXBTcHJpbmdcblxuICAgICAgLy8gQ29tcHV0ZSB0aGUgZm9yY2UgYWZ0ZXIgZWFjaCBzdGVwXG4gICAgICB3b3JsZC5hZGRFdmVudExpc3RlbmVyKCdwb3N0U3RlcCcsIHNwcmluZ3NbdXVpZF0pXG4gICAgICBicmVha1xuICAgIH1cbiAgICBjYXNlICdyZW1vdmVTcHJpbmcnOiB7XG4gICAgICB3b3JsZC5yZW1vdmVFdmVudExpc3RlbmVyKCdwb3N0U3RlcCcsIHNwcmluZ3NbdXVpZF0pXG4gICAgICBicmVha1xuICAgIH1cbiAgICBjYXNlICdhZGRSYXknOiB7XG4gICAgICBjb25zdCB7IGZyb20sIHRvLCAuLi5vcHRpb25zIH0gPSBwcm9wc1xuICAgICAgY29uc3QgcmF5ID0gbmV3IFJheShmcm9tID8gbmV3IFZlYzMoLi4uZnJvbSkgOiB1bmRlZmluZWQsIHRvID8gbmV3IFZlYzMoLi4udG8pIDogdW5kZWZpbmVkKVxuICAgICAgb3B0aW9ucy5tb2RlID0gUmF5W29wdGlvbnMubW9kZS50b1VwcGVyQ2FzZSgpXVxuICAgICAgb3B0aW9ucy5yZXN1bHQgPSBuZXcgUmF5Y2FzdFJlc3VsdCgpXG4gICAgICByYXlzW3V1aWRdID0gKCkgPT4ge1xuICAgICAgICByYXkuaW50ZXJzZWN0V29ybGQod29ybGQsIG9wdGlvbnMpXG4gICAgICAgIGNvbnN0IHtcbiAgICAgICAgICBib2R5LFxuICAgICAgICAgIHNoYXBlLFxuICAgICAgICAgIHJheUZyb21Xb3JsZCxcbiAgICAgICAgICByYXlUb1dvcmxkLFxuICAgICAgICAgIGhpdE5vcm1hbFdvcmxkLFxuICAgICAgICAgIGhpdFBvaW50V29ybGQsXG4gICAgICAgICAgLi4ucmVzdFxuICAgICAgICB9ID0gb3B0aW9ucy5yZXN1bHRcbiAgICAgICAgc2VsZi5wb3N0TWVzc2FnZSh7XG4gICAgICAgICAgb3A6ICdldmVudCcsXG4gICAgICAgICAgdHlwZTogJ3JheWhpdCcsXG4gICAgICAgICAgcmF5OiB7XG4gICAgICAgICAgICBmcm9tLFxuICAgICAgICAgICAgdG8sXG4gICAgICAgICAgICBkaXJlY3Rpb246IHJheS5kaXJlY3Rpb24udG9BcnJheSgpLFxuICAgICAgICAgICAgY29sbGlzaW9uRmlsdGVyR3JvdXA6IHJheS5jb2xsaXNpb25GaWx0ZXJHcm91cCxcbiAgICAgICAgICAgIGNvbGxpc2lvbkZpbHRlck1hc2s6IHJheS5jb2xsaXNpb25GaWx0ZXJNYXNrLFxuICAgICAgICAgICAgdXVpZCxcbiAgICAgICAgICB9LFxuICAgICAgICAgIGJvZHk6IGJvZHkgPyBib2R5LnV1aWQgOiBudWxsLFxuICAgICAgICAgIHNoYXBlOiBzaGFwZSA/IHsgLi4uc2hhcGUsIGJvZHk6IGJvZHkudXVpZCB9IDogbnVsbCxcbiAgICAgICAgICByYXlGcm9tV29ybGQ6IHJheUZyb21Xb3JsZC50b0FycmF5KCksXG4gICAgICAgICAgcmF5VG9Xb3JsZDogcmF5VG9Xb3JsZC50b0FycmF5KCksXG4gICAgICAgICAgaGl0Tm9ybWFsV29ybGQ6IGhpdE5vcm1hbFdvcmxkLnRvQXJyYXkoKSxcbiAgICAgICAgICBoaXRQb2ludFdvcmxkOiBoaXRQb2ludFdvcmxkLnRvQXJyYXkoKSxcbiAgICAgICAgICAuLi5yZXN0LFxuICAgICAgICB9KVxuICAgICAgfVxuICAgICAgd29ybGQuYWRkRXZlbnRMaXN0ZW5lcigncHJlU3RlcCcsIHJheXNbdXVpZF0pXG4gICAgICBicmVha1xuICAgIH1cbiAgICBjYXNlICdyZW1vdmVSYXknOiB7XG4gICAgICB3b3JsZC5yZW1vdmVFdmVudExpc3RlbmVyKCdwcmVTdGVwJywgcmF5c1t1dWlkXSlcbiAgICAgIGRlbGV0ZSByYXlzW3V1aWRdXG4gICAgICBicmVha1xuICAgIH1cbiAgfVxufVxuIl0sIm5hbWVzIjpbIk1hdDMiLCJjb25zdHJ1Y3RvciIsImVsZW1lbnRzIiwiaWRlbnRpdHkiLCJlIiwic2V0WmVybyIsInNldFRyYWNlIiwidmVjdG9yIiwieCIsInkiLCJ6IiwiZ2V0VHJhY2UiLCJ0YXJnZXQiLCJWZWMzIiwidm11bHQiLCJ2Iiwic211bHQiLCJzIiwiaSIsImxlbmd0aCIsIm1tdWx0IiwibWF0cml4IiwiaiIsInN1bSIsImsiLCJzY2FsZSIsInQiLCJzb2x2ZSIsImIiLCJuciIsIm5jIiwiZXFucyIsInB1c2giLCJuIiwibnAiLCJrcCIsInAiLCJtdWx0aXBsaWVyIiwiaXNOYU4iLCJJbmZpbml0eSIsInRvU3RyaW5nIiwicm93IiwiY29sdW1uIiwidmFsdWUiLCJ1bmRlZmluZWQiLCJjb3B5IiwiciIsInNlcCIsInJldmVyc2UiLCJzZXRSb3RhdGlvbkZyb21RdWF0ZXJuaW9uIiwicSIsInciLCJ4MiIsInkyIiwiejIiLCJ4eCIsInh5IiwieHoiLCJ5eSIsInl6IiwienoiLCJ3eCIsInd5Iiwid3oiLCJ0cmFuc3Bvc2UiLCJNdCIsIk0iLCJjcm9zcyIsInZ4IiwidnkiLCJ2eiIsInNldCIsInZhZGQiLCJ2c3ViIiwiY3Jvc3NtYXQiLCJub3JtYWxpemUiLCJNYXRoIiwic3FydCIsImludk4iLCJ1bml0IiwibmludiIsImxlbmd0aFNxdWFyZWQiLCJkb3QiLCJkaXN0YW5jZVRvIiwicHgiLCJweSIsInB6IiwiZGlzdGFuY2VTcXVhcmVkIiwic2NhbGFyIiwidm11bCIsImFkZFNjYWxlZFZlY3RvciIsImlzWmVybyIsIm5lZ2F0ZSIsInRhbmdlbnRzIiwidDEiLCJ0MiIsIm5vcm0iLCJWZWMzX3RhbmdlbnRzX24iLCJpbm9ybSIsInJhbmRWZWMiLCJWZWMzX3RhbmdlbnRzX3JhbmRWZWMiLCJhYnMiLCJ0b0FycmF5IiwibGVycCIsImFsbW9zdEVxdWFscyIsInByZWNpc2lvbiIsImFsbW9zdFplcm8iLCJpc0FudGlwYXJhbGxlbFRvIiwiYW50aXBfbmVnIiwiY2xvbmUiLCJaRVJPIiwiVU5JVF9YIiwiVU5JVF9ZIiwiVU5JVF9aIiwiQUFCQiIsIm9wdGlvbnMiLCJsb3dlckJvdW5kIiwidXBwZXJCb3VuZCIsInNldEZyb21Qb2ludHMiLCJwb2ludHMiLCJwb3NpdGlvbiIsInF1YXRlcm5pb24iLCJza2luU2l6ZSIsImwiLCJ1IiwidG1wIiwiYWFiYiIsImV4dGVuZCIsIm1pbiIsIm1heCIsIm92ZXJsYXBzIiwibDEiLCJ1MSIsImwyIiwidTIiLCJvdmVybGFwc1giLCJvdmVybGFwc1kiLCJvdmVybGFwc1oiLCJ2b2x1bWUiLCJjb250YWlucyIsImdldENvcm5lcnMiLCJhIiwiYyIsImQiLCJmIiwiZyIsImgiLCJ0b0xvY2FsRnJhbWUiLCJmcmFtZSIsImNvcm5lcnMiLCJ0cmFuc2Zvcm1JbnRvRnJhbWVfY29ybmVycyIsImNvcm5lciIsInBvaW50VG9Mb2NhbCIsInRvV29ybGRGcmFtZSIsInBvaW50VG9Xb3JsZCIsIm92ZXJsYXBzUmF5IiwicmF5IiwiZGlyZWN0aW9uIiwiZnJvbSIsImRpckZyYWNYIiwiZGlyRnJhY1kiLCJkaXJGcmFjWiIsInQzIiwidDQiLCJ0NSIsInQ2IiwidG1pbiIsInRtYXgiLCJBcnJheUNvbGxpc2lvbk1hdHJpeCIsImdldCIsImJpIiwiYmoiLCJpbmRleCIsInRlbXAiLCJyZXNldCIsInNldE51bU9iamVjdHMiLCJFdmVudFRhcmdldCIsImFkZEV2ZW50TGlzdGVuZXIiLCJ0eXBlIiwibGlzdGVuZXIiLCJfbGlzdGVuZXJzIiwibGlzdGVuZXJzIiwiaW5jbHVkZXMiLCJoYXNFdmVudExpc3RlbmVyIiwiaGFzQW55RXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJpbmRleE9mIiwic3BsaWNlIiwiZGlzcGF0Y2hFdmVudCIsImV2ZW50IiwibGlzdGVuZXJBcnJheSIsImNhbGwiLCJRdWF0ZXJuaW9uIiwic2V0RnJvbUF4aXNBbmdsZSIsImFuZ2xlIiwic2luIiwiY29zIiwidG9BeGlzQW5nbGUiLCJ0YXJnZXRBeGlzIiwiYWNvcyIsInNldEZyb21WZWN0b3JzIiwic2Z2X3QxIiwic2Z2X3QyIiwiUEkiLCJtdWx0IiwicXVhdCIsImF4IiwiYXkiLCJheiIsImF3IiwiYngiLCJieSIsImJ6IiwiYnciLCJpbnZlcnNlIiwiY29uanVnYXRlIiwiaW5vcm0yIiwibm9ybWFsaXplRmFzdCIsInF4IiwicXkiLCJxeiIsInF3IiwiaXgiLCJpeSIsIml6IiwiaXciLCJ0b0V1bGVyIiwib3JkZXIiLCJoZWFkaW5nIiwiYXR0aXR1ZGUiLCJiYW5rIiwidGVzdCIsImF0YW4yIiwic3F4Iiwic3F5Iiwic3F6IiwiYXNpbiIsIkVycm9yIiwic2V0RnJvbUV1bGVyIiwiYzEiLCJjMiIsImMzIiwiczEiLCJzMiIsInMzIiwic2xlcnAiLCJ0b1F1YXQiLCJvbWVnYSIsImNvc29tIiwic2lub20iLCJzY2FsZTAiLCJzY2FsZTEiLCJpbnRlZ3JhdGUiLCJhbmd1bGFyVmVsb2NpdHkiLCJkdCIsImFuZ3VsYXJGYWN0b3IiLCJoYWxmX2R0IiwiU0hBUEVfVFlQRVMiLCJTUEhFUkUiLCJQTEFORSIsIkJPWCIsIkNPTVBPVU5EIiwiQ09OVkVYUE9MWUhFRFJPTiIsIkhFSUdIVEZJRUxEIiwiUEFSVElDTEUiLCJDWUxJTkRFUiIsIlRSSU1FU0giLCJTaGFwZSIsImlkIiwiaWRDb3VudGVyIiwiYm91bmRpbmdTcGhlcmVSYWRpdXMiLCJjb2xsaXNpb25SZXNwb25zZSIsImNvbGxpc2lvbkZpbHRlckdyb3VwIiwiY29sbGlzaW9uRmlsdGVyTWFzayIsIm1hdGVyaWFsIiwiYm9keSIsInVwZGF0ZUJvdW5kaW5nU3BoZXJlUmFkaXVzIiwiY2FsY3VsYXRlTG9jYWxJbmVydGlhIiwibWFzcyIsImNhbGN1bGF0ZVdvcmxkQUFCQiIsInBvcyIsInR5cGVzIiwiVHJhbnNmb3JtIiwid29ybGRQb2ludCIsInJlc3VsdCIsInBvaW50VG9Mb2NhbEZyYW1lIiwibG9jYWxQb2ludCIsInBvaW50VG9Xb3JsZEZyYW1lIiwidmVjdG9yVG9Xb3JsZEZyYW1lIiwibG9jYWxWZWN0b3IiLCJ0bXBRdWF0IiwidmVjdG9yVG9Mb2NhbEZyYW1lIiwid29ybGRWZWN0b3IiLCJDb252ZXhQb2x5aGVkcm9uIiwicHJvcHMiLCJ2ZXJ0aWNlcyIsImZhY2VzIiwibm9ybWFscyIsImF4ZXMiLCJmYWNlTm9ybWFscyIsImNvbXB1dGVOb3JtYWxzIiwid29ybGRWZXJ0aWNlcyIsIndvcmxkVmVydGljZXNOZWVkc1VwZGF0ZSIsIndvcmxkRmFjZU5vcm1hbHMiLCJ3b3JsZEZhY2VOb3JtYWxzTmVlZHNVcGRhdGUiLCJ1bmlxdWVBeGVzIiwic2xpY2UiLCJ1bmlxdWVFZGdlcyIsImNvbXB1dGVFZGdlcyIsImVkZ2VzIiwiZWRnZSIsImZhY2UiLCJudW1WZXJ0aWNlcyIsImZvdW5kIiwiZ2V0RmFjZU5vcm1hbCIsInZlcnRleCIsImNvbnNvbGUiLCJlcnJvciIsIndhcm4iLCJ2YSIsInZiIiwidmMiLCJjb21wdXRlTm9ybWFsIiwiY2xpcEFnYWluc3RIdWxsIiwicG9zQSIsInF1YXRBIiwiaHVsbEIiLCJwb3NCIiwicXVhdEIiLCJzZXBhcmF0aW5nTm9ybWFsIiwibWluRGlzdCIsIm1heERpc3QiLCJXb3JsZE5vcm1hbCIsImNsb3Nlc3RGYWNlQiIsImRtYXgiLCJOdW1iZXIiLCJNQVhfVkFMVUUiLCJ3b3JsZFZlcnRzQjEiLCJ3b3JsZGIiLCJjbGlwRmFjZUFnYWluc3RIdWxsIiwiZmluZFNlcGFyYXRpbmdBeGlzIiwiZmFjZUxpc3RBIiwiZmFjZUxpc3RCIiwiZmFjZUFOb3JtYWxXUzMiLCJXb3JsZG5vcm1hbDEiLCJkZWx0YUMiLCJ3b3JsZEVkZ2UwIiwid29ybGRFZGdlMSIsIkNyb3NzIiwiZG1pbiIsImh1bGxBIiwibnVtRmFjZXNBIiwiZmkiLCJ0ZXN0U2VwQXhpcyIsIm51bUZhY2VzQiIsImUwIiwiZTEiLCJkaXN0IiwiYXhpcyIsInByb2plY3QiLCJtYXhtaW5BIiwibWF4bWluQiIsIm1heEEiLCJtaW5BIiwibWF4QiIsIm1pbkIiLCJkMCIsImQxIiwiZGVwdGgiLCJhYWJibWF4IiwiYWFiYm1pbiIsImNvbXB1dGVMb2NhbEFBQkIiLCJnZXRQbGFuZUNvbnN0YW50T2ZGYWNlIiwiZmFjZV9pIiwiZmFjZUFOb3JtYWxXUyIsImVkZ2UwIiwiV29ybGRFZGdlMCIsIndvcmxkUGxhbmVBbm9ybWFsMSIsInBsYW5lTm9ybWFsV1MxIiwid29ybGRBMSIsImxvY2FsUGxhbmVOb3JtYWwiLCJwbGFuZU5vcm1hbFdTIiwid29ybGRWZXJ0c0IyIiwicFZ0eEluIiwicFZ0eE91dCIsImNsb3Nlc3RGYWNlQSIsInBvbHlBIiwiY29ubmVjdGVkRmFjZXMiLCJudW1WZXJ0aWNlc0EiLCJvdGhlckZhY2UiLCJsb2NhbFBsYW5lRXEiLCJwbGFuZUVxV1MiLCJjbGlwRmFjZUFnYWluc3RQbGFuZSIsInNoaWZ0IiwibG9nIiwicG9pbnQiLCJub3JtYWwiLCJpblZlcnRpY2VzIiwib3V0VmVydGljZXMiLCJwbGFuZU5vcm1hbCIsInBsYW5lQ29uc3RhbnQiLCJuX2RvdF9maXJzdCIsIm5fZG90X2xhc3QiLCJudW1WZXJ0cyIsImZpcnN0VmVydGV4IiwibGFzdFZlcnRleCIsInZpIiwibmV3diIsImNvbXB1dGVXb3JsZFZlcnRpY2VzIiwidmVydHMiLCJ3b3JsZFZlcnRzIiwiY29tcHV0ZVdvcmxkRmFjZU5vcm1hbHMiLCJOIiwid29ybGROb3JtYWxzIiwibWF4MiIsIm5vcm0yIiwibWlueCIsIm1pbnkiLCJtaW56IiwibWF4eCIsIm1heHkiLCJtYXh6IiwidGVtcFdvcmxkVmVydGV4IiwiZ2V0QXZlcmFnZVBvaW50TG9jYWwiLCJ0cmFuc2Zvcm1BbGxQb2ludHMiLCJvZmZzZXQiLCJwb2ludElzSW5zaWRlIiwicG9pbnRJbnNpZGUiLCJ2VG9QIiwicjEiLCJ2VG9Qb2ludEluc2lkZSIsInIyIiwiY2IiLCJhYiIsInNoYXBlIiwibG9jYWxBeGlzIiwibG9jYWxPcmlnaW4iLCJ2cyIsImFkZCIsInZhbCIsIkJveCIsImhhbGZFeHRlbnRzIiwiY29udmV4UG9seWhlZHJvblJlcHJlc2VudGF0aW9uIiwidXBkYXRlQ29udmV4UG9seWhlZHJvblJlcHJlc2VudGF0aW9uIiwic3giLCJzeSIsInN6IiwiViIsImNhbGN1bGF0ZUluZXJ0aWEiLCJnZXRTaWRlTm9ybWFscyIsInNpeFRhcmdldFZlY3RvcnMiLCJzaWRlcyIsImV4IiwiZm9yRWFjaFdvcmxkQ29ybmVyIiwiY2FsbGJhY2siLCJ3b3JsZENvcm5lclRlbXBQb3MiLCJ3b3JsZENvcm5lcnNUZW1wIiwid2MiLCJCT0RZX1NMRUVQX1NUQVRFUyIsIkFXQUtFIiwiU0xFRVBZIiwiU0xFRVBJTkciLCJCb2R5Iiwid29ybGQiLCJwcmVTdGVwIiwicG9zdFN0ZXAiLCJ2bGFtYmRhIiwicHJldmlvdXNQb3NpdGlvbiIsImludGVycG9sYXRlZFBvc2l0aW9uIiwiaW5pdFBvc2l0aW9uIiwidmVsb2NpdHkiLCJpbml0VmVsb2NpdHkiLCJmb3JjZSIsImludk1hc3MiLCJsaW5lYXJEYW1waW5nIiwiU1RBVElDIiwiRFlOQU1JQyIsImFsbG93U2xlZXAiLCJzbGVlcFN0YXRlIiwic2xlZXBTcGVlZExpbWl0Iiwic2xlZXBUaW1lTGltaXQiLCJ0aW1lTGFzdFNsZWVweSIsIndha2VVcEFmdGVyTmFycm93cGhhc2UiLCJ0b3JxdWUiLCJpbml0UXVhdGVybmlvbiIsInByZXZpb3VzUXVhdGVybmlvbiIsImludGVycG9sYXRlZFF1YXRlcm5pb24iLCJpbml0QW5ndWxhclZlbG9jaXR5Iiwic2hhcGVzIiwic2hhcGVPZmZzZXRzIiwic2hhcGVPcmllbnRhdGlvbnMiLCJpbmVydGlhIiwiaW52SW5lcnRpYSIsImludkluZXJ0aWFXb3JsZCIsImludk1hc3NTb2x2ZSIsImludkluZXJ0aWFTb2x2ZSIsImludkluZXJ0aWFXb3JsZFNvbHZlIiwiZml4ZWRSb3RhdGlvbiIsImFuZ3VsYXJEYW1waW5nIiwibGluZWFyRmFjdG9yIiwiYWFiYk5lZWRzVXBkYXRlIiwiYm91bmRpbmdSYWRpdXMiLCJ3bGFtYmRhIiwiYWRkU2hhcGUiLCJ1cGRhdGVNYXNzUHJvcGVydGllcyIsIndha2VVcCIsInByZXZTdGF0ZSIsIndha2V1cEV2ZW50Iiwic2xlZXAiLCJzbGVlcFRpY2siLCJ0aW1lIiwic3BlZWRTcXVhcmVkIiwic3BlZWRMaW1pdFNxdWFyZWQiLCJzbGVlcHlFdmVudCIsInNsZWVwRXZlbnQiLCJ1cGRhdGVTb2x2ZU1hc3NQcm9wZXJ0aWVzIiwiS0lORU1BVElDIiwiX29mZnNldCIsIl9vcmllbnRhdGlvbiIsIm9yaWVudGF0aW9uIiwidXBkYXRlQm91bmRpbmdSYWRpdXMiLCJyYWRpdXMiLCJjb21wdXRlQUFCQiIsInRtcFZlYyIsInRtcFF1YXQkMSIsImJvZHlRdWF0Iiwic2hhcGVBQUJCIiwiY29tcHV0ZUFBQkJfc2hhcGVBQUJCIiwidXBkYXRlSW5lcnRpYVdvcmxkIiwiSSIsIm0xIiwidWl3X20xIiwibTIiLCJ1aXdfbTIiLCJhcHBseUZvcmNlIiwicmVsYXRpdmVQb2ludCIsInJvdEZvcmNlIiwiQm9keV9hcHBseUZvcmNlX3JvdEZvcmNlIiwiYXBwbHlMb2NhbEZvcmNlIiwibG9jYWxGb3JjZSIsIndvcmxkRm9yY2UiLCJCb2R5X2FwcGx5TG9jYWxGb3JjZV93b3JsZEZvcmNlIiwicmVsYXRpdmVQb2ludFdvcmxkIiwiQm9keV9hcHBseUxvY2FsRm9yY2VfcmVsYXRpdmVQb2ludFdvcmxkIiwiYXBwbHlJbXB1bHNlIiwiaW1wdWxzZSIsInZlbG8iLCJCb2R5X2FwcGx5SW1wdWxzZV92ZWxvIiwicm90VmVsbyIsIkJvZHlfYXBwbHlJbXB1bHNlX3JvdFZlbG8iLCJhcHBseUxvY2FsSW1wdWxzZSIsImxvY2FsSW1wdWxzZSIsIndvcmxkSW1wdWxzZSIsIkJvZHlfYXBwbHlMb2NhbEltcHVsc2Vfd29ybGRJbXB1bHNlIiwiQm9keV9hcHBseUxvY2FsSW1wdWxzZV9yZWxhdGl2ZVBvaW50IiwiQm9keV91cGRhdGVNYXNzUHJvcGVydGllc19oYWxmRXh0ZW50cyIsImZpeGVkIiwiZ2V0VmVsb2NpdHlBdFdvcmxkUG9pbnQiLCJxdWF0Tm9ybWFsaXplIiwicXVhdE5vcm1hbGl6ZUZhc3QiLCJhbmd1bGFyVmVsbyIsImlNZHQiLCJ0eCIsInR5IiwidHoiLCJDT0xMSURFX0VWRU5UX05BTUUiLCJCcm9hZHBoYXNlIiwidXNlQm91bmRpbmdCb3hlcyIsImRpcnR5IiwiY29sbGlzaW9uUGFpcnMiLCJwMSIsInAyIiwibmVlZEJyb2FkcGhhc2VDb2xsaXNpb24iLCJib2R5QSIsImJvZHlCIiwiaW50ZXJzZWN0aW9uVGVzdCIsInBhaXJzMSIsInBhaXJzMiIsImRvQm91bmRpbmdCb3hCcm9hZHBoYXNlIiwiZG9Cb3VuZGluZ1NwaGVyZUJyb2FkcGhhc2UiLCJCcm9hZHBoYXNlX2NvbGxpc2lvblBhaXJzX3IiLCJib3VuZGluZ1JhZGl1c1N1bTIiLCJtYWtlUGFpcnNVbmlxdWUiLCJCcm9hZHBoYXNlX21ha2VQYWlyc1VuaXF1ZV90ZW1wIiwiQnJvYWRwaGFzZV9tYWtlUGFpcnNVbmlxdWVfcDEiLCJCcm9hZHBoYXNlX21ha2VQYWlyc1VuaXF1ZV9wMiIsImlkMSIsImlkMiIsImtleSIsImtleXMiLCJwb3AiLCJwYWlySW5kZXgiLCJzZXRXb3JsZCIsImFhYmJRdWVyeSIsImJvdW5kaW5nU3BoZXJlQ2hlY2siLCJzYSIsInNiIiwicG93IiwiTmFpdmVCcm9hZHBoYXNlIiwiYm9kaWVzIiwiUmF5Y2FzdFJlc3VsdCIsInJheUZyb21Xb3JsZCIsInJheVRvV29ybGQiLCJoaXROb3JtYWxXb3JsZCIsImhpdFBvaW50V29ybGQiLCJoYXNIaXQiLCJoaXRGYWNlSW5kZXgiLCJkaXN0YW5jZSIsInNob3VsZFN0b3AiLCJhYm9ydCIsIlJheSIsInRvIiwiY2hlY2tDb2xsaXNpb25SZXNwb25zZSIsInNraXBCYWNrZmFjZXMiLCJtb2RlIiwiQU5ZIiwiaW50ZXJzZWN0V29ybGQiLCJ1cGRhdGVEaXJlY3Rpb24iLCJnZXRBQUJCIiwidG1wQUFCQiIsInRtcEFycmF5IiwiYnJvYWRwaGFzZSIsImludGVyc2VjdEJvZGllcyIsImludGVyc2VjdEJvZHkiLCJ4aSIsImludGVyc2VjdEJvZHlfeGkiLCJxaSIsImludGVyc2VjdEJvZHlfcWkiLCJpbnRlcnNlY3RTaGFwZSIsImRpc3RhbmNlRnJvbUludGVyc2VjdGlvbiIsImludGVyc2VjdE1ldGhvZCIsIl9pbnRlcnNlY3RCb3giLCJib3giLCJyZXBvcnRlZFNoYXBlIiwiX2ludGVyc2VjdENvbnZleCIsIl9pbnRlcnNlY3RQbGFuZSIsIndvcmxkTm9ybWFsIiwibGVuIiwicGxhbmVUb0Zyb20iLCJwbGFuZVRvVG8iLCJuX2RvdF9kaXIiLCJwbGFuZVBvaW50VG9Gcm9tIiwiZGlyX3NjYWxlZF93aXRoX3QiLCJyZXBvcnRJbnRlcnNlY3Rpb24iLCJfaW50ZXJzZWN0SGVpZ2h0ZmllbGQiLCJkYXRhIiwiZWxlbWVudFNpemUiLCJsb2NhbFJheSIsImludGVyc2VjdEhlaWdodGZpZWxkX2xvY2FsUmF5IiwiaW50ZXJzZWN0SGVpZ2h0ZmllbGRfaW5kZXgiLCJpTWluWCIsImlNaW5ZIiwiaU1heFgiLCJpTWF4WSIsImdldEluZGV4T2ZQb3NpdGlvbiIsImdldEFhYmJBdEluZGV4IiwiZ2V0Q29udmV4VHJpYW5nbGVQaWxsYXIiLCJwaWxsYXJPZmZzZXQiLCJ3b3JsZFBpbGxhck9mZnNldCIsInBpbGxhckNvbnZleCIsImludGVyc2VjdENvbnZleE9wdGlvbnMiLCJfaW50ZXJzZWN0U3BoZXJlIiwic3BoZXJlIiwiZGVsdGEiLCJpbnRlcnNlY3Rpb25Qb2ludCIsIlJheV9pbnRlcnNlY3RTcGhlcmVfaW50ZXJzZWN0aW9uUG9pbnQiLCJSYXlfaW50ZXJzZWN0U3BoZXJlX25vcm1hbCIsImQyIiwiaW50ZXJzZWN0Q29udmV4X25vcm1hbCIsImludGVyc2VjdENvbnZleF92ZWN0b3IiLCJmYWNlTGlzdCIsImZyb21Ub0Rpc3RhbmNlIiwiTmZhY2VzIiwiZmFjZU5vcm1hbCIsImludGVyc2VjdFBvaW50IiwicG9pbnRJblRyaWFuZ2xlIiwiX2ludGVyc2VjdFRyaW1lc2giLCJtZXNoIiwiaW50ZXJzZWN0VHJpbWVzaF9ub3JtYWwiLCJ0cmlhbmdsZXMiLCJpbnRlcnNlY3RUcmltZXNoX3RyaWFuZ2xlcyIsInRyZWVUcmFuc2Zvcm0iLCJpbnRlcnNlY3RUcmltZXNoX3RyZWVUcmFuc2Zvcm0iLCJsb2NhbERpcmVjdGlvbiIsImludGVyc2VjdFRyaW1lc2hfbG9jYWxEaXJlY3Rpb24iLCJsb2NhbEZyb20iLCJpbnRlcnNlY3RUcmltZXNoX2xvY2FsRnJvbSIsImxvY2FsVG8iLCJpbnRlcnNlY3RUcmltZXNoX2xvY2FsVG8iLCJ3b3JsZEludGVyc2VjdFBvaW50IiwiaW50ZXJzZWN0VHJpbWVzaF93b3JsZEludGVyc2VjdFBvaW50IiwiaW50ZXJzZWN0VHJpbWVzaF93b3JsZE5vcm1hbCIsImluZGljZXMiLCJmcm9tVG9EaXN0YW5jZVNxdWFyZWQiLCJ0cmVlIiwicmF5UXVlcnkiLCJ0cmlhbmdsZXNJbmRleCIsImdldE5vcm1hbCIsImdldFZlcnRleCIsInNxdWFyZWREaXN0YW5jZSIsIkFMTCIsIkNMT1NFU1QiLCJ2MSIsInYyIiwidjAiLCJkb3QwMCIsImRvdDAxIiwiZG90MDIiLCJkb3QxMSIsImRvdDEyIiwicHJvdG90eXBlIiwiaW50ZXJzZWN0VHJpbWVzaF9sb2NhbEFBQkIiLCJpbnRlcnNlY3QiLCJTQVBCcm9hZHBoYXNlIiwiYXhpc0xpc3QiLCJheGlzSW5kZXgiLCJfYWRkQm9keUhhbmRsZXIiLCJfcmVtb3ZlQm9keUhhbmRsZXIiLCJpZHgiLCJzb3J0TGlzdCIsImNoZWNrQm91bmRzIiwiaW5zZXJ0aW9uU29ydFgiLCJpbnNlcnRpb25Tb3J0WSIsImluc2VydGlvblNvcnRaIiwiYXV0b0RldGVjdEF4aXMiLCJzdW1YIiwic3VtWDIiLCJzdW1ZIiwic3VtWTIiLCJzdW1aIiwic3VtWjIiLCJjZW50ZXJYIiwiY2VudGVyWSIsImNlbnRlcloiLCJ2YXJpYW5jZVgiLCJ2YXJpYW5jZVkiLCJ2YXJpYW5jZVoiLCJsb3dlciIsInVwcGVyIiwiYmlQb3MiLCJialBvcyIsInJpIiwicmoiLCJib3VuZEEyIiwiYm91bmRCMSIsIlV0aWxzIiwiZGVmYXVsdHMiLCJDb25zdHJhaW50IiwiY29sbGlkZUNvbm5lY3RlZCIsIndha2VVcEJvZGllcyIsImVxdWF0aW9ucyIsInVwZGF0ZSIsImVuYWJsZSIsImVxcyIsImVuYWJsZWQiLCJkaXNhYmxlIiwiSmFjb2JpYW5FbGVtZW50Iiwic3BhdGlhbCIsInJvdGF0aW9uYWwiLCJtdWx0aXBseUVsZW1lbnQiLCJlbGVtZW50IiwibXVsdGlwbHlWZWN0b3JzIiwiRXF1YXRpb24iLCJtaW5Gb3JjZSIsIm1heEZvcmNlIiwiZXBzIiwiamFjb2JpYW5FbGVtZW50QSIsImphY29iaWFuRWxlbWVudEIiLCJzZXRTcG9va1BhcmFtcyIsInN0aWZmbmVzcyIsInJlbGF4YXRpb24iLCJ0aW1lU3RlcCIsImNvbXB1dGVCIiwiR1ciLCJjb21wdXRlR1ciLCJHcSIsImNvbXB1dGVHcSIsIkdpTWYiLCJjb21wdXRlR2lNZiIsIkdBIiwiR0IiLCJ4aiIsInZqIiwid2kiLCJ3aiIsImNvbXB1dGVHV2xhbWJkYSIsInRpIiwiZmoiLCJ0aiIsImludk1hc3NpIiwiaW52TWFzc2oiLCJpTWZpIiwiaU1maiIsImludklpX3ZtdWx0X3RhdWkiLCJpbnZJal92bXVsdF90YXVqIiwiY29tcHV0ZUdpTUd0IiwiaW52SWkiLCJpbnZJaiIsInRtcCQxIiwiYWRkVG9XbGFtYmRhIiwiZGVsdGFsYW1iZGEiLCJhZGRUb1dsYW1iZGFfdGVtcCIsImNvbXB1dGVDIiwiQ29udGFjdEVxdWF0aW9uIiwicmVzdGl0dXRpb24iLCJuaSIsInJpeG4iLCJDb250YWN0RXF1YXRpb25fY29tcHV0ZUJfdGVtcDEiLCJyanhuIiwiQ29udGFjdEVxdWF0aW9uX2NvbXB1dGVCX3RlbXAyIiwidGF1aSIsInRhdWoiLCJwZW5ldHJhdGlvblZlYyIsIkNvbnRhY3RFcXVhdGlvbl9jb21wdXRlQl90ZW1wMyIsImVQbHVzT25lIiwiQiIsImdldEltcGFjdFZlbG9jaXR5QWxvbmdOb3JtYWwiLCJDb250YWN0RXF1YXRpb25fZ2V0SW1wYWN0VmVsb2NpdHlBbG9uZ05vcm1hbF92aSIsIkNvbnRhY3RFcXVhdGlvbl9nZXRJbXBhY3RWZWxvY2l0eUFsb25nTm9ybWFsX3ZqIiwiQ29udGFjdEVxdWF0aW9uX2dldEltcGFjdFZlbG9jaXR5QWxvbmdOb3JtYWxfeGkiLCJDb250YWN0RXF1YXRpb25fZ2V0SW1wYWN0VmVsb2NpdHlBbG9uZ05vcm1hbF94aiIsInJlbFZlbCIsIkNvbnRhY3RFcXVhdGlvbl9nZXRJbXBhY3RWZWxvY2l0eUFsb25nTm9ybWFsX3JlbFZlbCIsIlBvaW50VG9Qb2ludENvbnN0cmFpbnQiLCJwaXZvdEEiLCJwaXZvdEIiLCJlcXVhdGlvblgiLCJlcXVhdGlvblkiLCJlcXVhdGlvbloiLCJDb25lRXF1YXRpb24iLCJheGlzQSIsImF4aXNCIiwibmoiLCJuaXhuaiIsInRtcFZlYzEiLCJuanhuaSIsInRtcFZlYzIiLCJSb3RhdGlvbmFsRXF1YXRpb24iLCJtYXhBbmdsZSIsInRtcFZlYzEkMSIsInRtcFZlYzIkMSIsIkNvbmVUd2lzdENvbnN0cmFpbnQiLCJjb25lRXF1YXRpb24iLCJ0d2lzdEVxdWF0aW9uIiwidHdpc3RBbmdsZSIsImNvbmUiLCJ0d2lzdCIsIkRpc3RhbmNlQ29uc3RyYWludCIsImVxIiwiZGlzdGFuY2VFcXVhdGlvbiIsImhhbGZEaXN0IiwiTG9ja0NvbnN0cmFpbnQiLCJoYWxmV2F5IiwieEEiLCJ4QiIsInlBIiwieUIiLCJ6QSIsInpCIiwicm90YXRpb25hbEVxdWF0aW9uMSIsInJvdGF0aW9uYWxFcXVhdGlvbjIiLCJyMyIsInJvdGF0aW9uYWxFcXVhdGlvbjMiLCJtb3RvciIsIm1vdG9yRXF1YXRpb24iLCJSb3RhdGlvbmFsTW90b3JFcXVhdGlvbiIsInRhcmdldFZlbG9jaXR5IiwiSGluZ2VDb25zdHJhaW50Iiwicm90YXRpb25hbDEiLCJyb3RhdGlvbmFsMiIsImVuYWJsZU1vdG9yIiwiZGlzYWJsZU1vdG9yIiwic2V0TW90b3JTcGVlZCIsInNwZWVkIiwic2V0TW90b3JNYXhGb3JjZSIsIndvcmxkQXhpc0EiLCJIaW5nZUNvbnN0cmFpbnRfdXBkYXRlX3RtcFZlYzEiLCJ3b3JsZEF4aXNCIiwiSGluZ2VDb25zdHJhaW50X3VwZGF0ZV90bXBWZWMyIiwiRnJpY3Rpb25FcXVhdGlvbiIsInNsaXBGb3JjZSIsInJpeHQiLCJGcmljdGlvbkVxdWF0aW9uX2NvbXB1dGVCX3RlbXAxIiwicmp4dCIsIkZyaWN0aW9uRXF1YXRpb25fY29tcHV0ZUJfdGVtcDIiLCJDb250YWN0TWF0ZXJpYWwiLCJmcmljdGlvbiIsImNvbnRhY3RFcXVhdGlvblN0aWZmbmVzcyIsImNvbnRhY3RFcXVhdGlvblJlbGF4YXRpb24iLCJmcmljdGlvbkVxdWF0aW9uU3RpZmZuZXNzIiwiZnJpY3Rpb25FcXVhdGlvblJlbGF4YXRpb24iLCJtYXRlcmlhbHMiLCJNYXRlcmlhbCIsIm5hbWUiLCJTcHJpbmciLCJyZXN0TGVuZ3RoIiwiZGFtcGluZyIsImxvY2FsQW5jaG9yQSIsImxvY2FsQW5jaG9yQiIsIndvcmxkQW5jaG9yQSIsInNldFdvcmxkQW5jaG9yQSIsIndvcmxkQW5jaG9yQiIsInNldFdvcmxkQW5jaG9yQiIsImdldFdvcmxkQW5jaG9yQSIsImdldFdvcmxkQW5jaG9yQiIsImFwcGx5Rm9yY2VfciIsInJfdW5pdCIsImFwcGx5Rm9yY2Vfcl91bml0IiwiYXBwbHlGb3JjZV91IiwiYXBwbHlGb3JjZV9mIiwiYXBwbHlGb3JjZV90bXAiLCJhcHBseUZvcmNlX3dvcmxkQW5jaG9yQSIsImFwcGx5Rm9yY2Vfd29ybGRBbmNob3JCIiwiYXBwbHlGb3JjZV9yaSIsImFwcGx5Rm9yY2VfcmoiLCJyaV94X2YiLCJhcHBseUZvcmNlX3JpX3hfZiIsInJqX3hfZiIsImFwcGx5Rm9yY2VfcmpfeF9mIiwicmxlbiIsInRtcFJheSIsIlNwaGVyZSIsIkN5bGluZGVyIiwicmFkaXVzVG9wIiwicmFkaXVzQm90dG9tIiwiaGVpZ2h0IiwibnVtU2VnbWVudHMiLCJib3R0b21mYWNlIiwidG9wZmFjZSIsInRoZXRhIiwidGhldGFOIiwiUGFydGljbGUiLCJQbGFuZSIsIndvcmxkTm9ybWFsTmVlZHNVcGRhdGUiLCJjb21wdXRlV29ybGROb3JtYWwiLCJ0ZW1wTm9ybWFsIiwibWF4VmFsIiwiSGVpZ2h0ZmllbGQiLCJtYXhWYWx1ZSIsIm1pblZhbHVlIiwidXBkYXRlTWluVmFsdWUiLCJ1cGRhdGVNYXhWYWx1ZSIsImNhY2hlRW5hYmxlZCIsIl9jYWNoZWRQaWxsYXJzIiwic2V0SGVpZ2h0VmFsdWVBdEluZGV4IiwieWkiLCJjbGVhckNhY2hlZENvbnZleFRyaWFuZ2xlUGlsbGFyIiwiZ2V0UmVjdE1pbk1heCIsImNsYW1wIiwiZmxvb3IiLCJnZXRUcmlhbmdsZUF0IiwiZWRnZUNsYW1wIiwiZ2V0SGVpZ2h0QXRfaWR4IiwibG93ZXJEaXN0MiIsInVwcGVyRGlzdDIiLCJnZXRUcmlhbmdsZSIsImdldE5vcm1hbEF0IiwiZ2V0Tm9ybWFsQXRfYSIsImdldE5vcm1hbEF0X2IiLCJnZXROb3JtYWxBdF9jIiwiZ2V0Tm9ybWFsQXRfZTAiLCJnZXROb3JtYWxBdF9lMSIsImdldEhlaWdodEF0IiwiZ2V0SGVpZ2h0QXRfYSIsImdldEhlaWdodEF0X2IiLCJnZXRIZWlnaHRBdF9jIiwiYmFyeWNlbnRyaWNXZWlnaHRzIiwiZ2V0SGVpZ2h0QXRfd2VpZ2h0cyIsImdldENhY2hlQ29udmV4VHJpYW5nbGVQaWxsYXJLZXkiLCJnZXRVcHBlclRyaWFuZ2xlIiwiZ2V0Q2FjaGVkQ29udmV4VHJpYW5nbGVQaWxsYXIiLCJzZXRDYWNoZWRDb252ZXhUcmlhbmdsZVBpbGxhciIsImNvbnZleCIsIm9mZnNldFJlc3VsdCIsInNldEhlaWdodHNGcm9tSW1hZ2UiLCJpbWFnZSIsImNhbnZhcyIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsIndpZHRoIiwiY29udGV4dCIsImdldENvbnRleHQiLCJkcmF3SW1hZ2UiLCJpbWFnZURhdGEiLCJnZXRJbWFnZURhdGEiLCJ1bnNoaWZ0IiwiY3giLCJjeSIsIk9jdHJlZU5vZGUiLCJyb290IiwiY2hpbGRyZW4iLCJpbnNlcnQiLCJlbGVtZW50RGF0YSIsImxldmVsIiwibm9kZURhdGEiLCJtYXhEZXB0aCIsInN1YmRpdmlkZWQiLCJzdWJkaXZpZGUiLCJoYWxmRGlhZ29uYWwiLCJjaGlsZCIsInF1ZXVlIiwibm9kZSIsIkFycmF5IiwiYXBwbHkiLCJ0bXBBQUJCJDEiLCJyZW1vdmVFbXB0eU5vZGVzIiwiT2N0cmVlIiwiVHJpbWVzaCIsIkZsb2F0MzJBcnJheSIsIkludDE2QXJyYXkiLCJ1cGRhdGVFZGdlcyIsInVwZGF0ZU5vcm1hbHMiLCJ1cGRhdGVBQUJCIiwidXBkYXRlVHJlZSIsInRyaWFuZ2xlQUFCQiIsImkzIiwiX2dldFVuc2NhbGVkVmVydGV4IiwiZ2V0VHJpYW5nbGVzSW5BQUJCIiwidW5zY2FsZWRBQUJCIiwiaXN4IiwiaXN5IiwiaXN6Iiwic2V0U2NhbGUiLCJ3YXNVbmlmb3JtIiwiaXNVbmlmb3JtIiwiY29tcHV0ZU5vcm1hbHNfbiIsIk9iamVjdCIsInNwbGl0IiwicGFyc2VJbnQiLCJnZXRFZGdlVmVydGV4IiwiZWRnZUluZGV4IiwiZmlyc3RPclNlY29uZCIsInZlcnRleFN0b3JlIiwidmVydGV4SW5kZXgiLCJnZXRFZGdlVmVjdG9yIiwidmVjdG9yU3RvcmUiLCJnZXRFZGdlVmVjdG9yX3ZhIiwiZ2V0RWRnZVZlY3Rvcl92YiIsIm91dCIsImdldFdvcmxkVmVydGV4IiwiZ2V0VHJpYW5nbGVWZXJ0aWNlcyIsImNsaV9hYWJiIiwiY29tcHV0ZUxvY2FsQUFCQl93b3JsZFZlcnQiLCJjYWxjdWxhdGVXb3JsZEFBQkJfZnJhbWUiLCJjYWxjdWxhdGVXb3JsZEFBQkJfYWFiYiIsImNyZWF0ZVRvcnVzIiwidHViZSIsInJhZGlhbFNlZ21lbnRzIiwidHVidWxhclNlZ21lbnRzIiwiYXJjIiwiU29sdmVyIiwiYWRkRXF1YXRpb24iLCJyZW1vdmVFcXVhdGlvbiIsInJlbW92ZUFsbEVxdWF0aW9ucyIsIkdTU29sdmVyIiwiaXRlcmF0aW9ucyIsInRvbGVyYW5jZSIsIml0ZXIiLCJtYXhJdGVyIiwidG9sU3F1YXJlZCIsIk5lcSIsIk5ib2RpZXMiLCJpbnZDIiwiZGVsdGFsYW1iZGFUb3QiLCJHV2xhbWJkYSIsImxhbWJkYWoiLCJpbnZDcyIsIkdTU29sdmVyX3NvbHZlX2ludkNzIiwiQnMiLCJHU1NvbHZlcl9zb2x2ZV9CcyIsImxhbWJkYSIsIkdTU29sdmVyX3NvbHZlX2xhbWJkYSIsImludkR0IiwiUG9vbCIsIm9iamVjdHMiLCJyZWxlYXNlIiwiYXJncyIsIk5hcmdzIiwiY29uc3RydWN0T2JqZWN0IiwicmVzaXplIiwic2l6ZSIsIlZlYzNQb29sIiwiQ09MTElTSU9OX1RZUEVTIiwic3BoZXJlU3BoZXJlIiwic3BoZXJlUGxhbmUiLCJib3hCb3giLCJzcGhlcmVCb3giLCJwbGFuZUJveCIsImNvbnZleENvbnZleCIsInNwaGVyZUNvbnZleCIsInBsYW5lQ29udmV4IiwiYm94Q29udmV4Iiwic3BoZXJlSGVpZ2h0ZmllbGQiLCJib3hIZWlnaHRmaWVsZCIsImNvbnZleEhlaWdodGZpZWxkIiwic3BoZXJlUGFydGljbGUiLCJwbGFuZVBhcnRpY2xlIiwiYm94UGFydGljbGUiLCJjb252ZXhQYXJ0aWNsZSIsInNwaGVyZVRyaW1lc2giLCJwbGFuZVRyaW1lc2giLCJOYXJyb3dwaGFzZSIsImNvbnRhY3RQb2ludFBvb2wiLCJmcmljdGlvbkVxdWF0aW9uUG9vbCIsImZyaWN0aW9uUmVzdWx0IiwidjNwb29sIiwiY3VycmVudENvbnRhY3RNYXRlcmlhbCIsImRlZmF1bHRDb250YWN0TWF0ZXJpYWwiLCJlbmFibGVGcmljdGlvblJlZHVjdGlvbiIsImNyZWF0ZUNvbnRhY3RFcXVhdGlvbiIsInNpIiwic2oiLCJvdmVycmlkZVNoYXBlQSIsIm92ZXJyaWRlU2hhcGVCIiwiY20iLCJtYXRBIiwibWF0QiIsImNyZWF0ZUZyaWN0aW9uRXF1YXRpb25zRnJvbUNvbnRhY3QiLCJjb250YWN0RXF1YXRpb24iLCJvdXRBcnJheSIsInNoYXBlQSIsInNoYXBlQiIsIm11ZyIsImdyYXZpdHkiLCJyZWR1Y2VkTWFzcyIsInBvb2wiLCJjcmVhdGVGcmljdGlvbkZyb21BdmVyYWdlIiwibnVtQ29udGFjdHMiLCJmMSIsImYyIiwiYXZlcmFnZU5vcm1hbCIsImF2ZXJhZ2VDb250YWN0UG9pbnRBIiwiYXZlcmFnZUNvbnRhY3RQb2ludEIiLCJpbnZOdW1Db250YWN0cyIsImdldENvbnRhY3RzIiwib2xkY29udGFjdHMiLCJmcmljdGlvblBvb2wiLCJ0bXBRdWF0MSIsInFqIiwidG1wUXVhdDIiLCJ0bXBWZWMxJDIiLCJ0bXBWZWMyJDIiLCJib2R5Q29udGFjdE1hdGVyaWFsIiwiZ2V0Q29udGFjdE1hdGVyaWFsIiwianVzdFRlc3QiLCJzaGFwZUNvbnRhY3RNYXRlcmlhbCIsInJlc29sdmVySW5kZXgiLCJyZXNvbHZlciIsInJldHZhbCIsInNoYXBlT3ZlcmxhcEtlZXBlciIsImJvZHlPdmVybGFwS2VlcGVyIiwicnNpIiwicnNqIiwicG9pbnRfb25fcGxhbmVfdG9fc3BoZXJlIiwicGxhbmVfdG9fc3BoZXJlX29ydGhvIiwic3BoZXJlQm94X3NpZGVzIiwiYm94X3RvX3NwaGVyZSIsIlIiLCJzaWRlX25zIiwic3BoZXJlQm94X3NpZGVfbnMiLCJzaWRlX25zMSIsInNwaGVyZUJveF9zaWRlX25zMSIsInNpZGVfbnMyIiwic3BoZXJlQm94X3NpZGVfbnMyIiwic2lkZV9oIiwic2lkZV9wZW5ldHJhdGlvbnMiLCJzaWRlX2RvdDEiLCJzaWRlX2RvdDIiLCJzaWRlX2Rpc3RhbmNlIiwibnNpZGVzIiwibnMiLCJzcGhlcmVCb3hfbnMiLCJuczEiLCJzcGhlcmVCb3hfbnMxIiwibnMyIiwic3BoZXJlQm94X25zMiIsImgxIiwiaDIiLCJkb3QxIiwiZG90MiIsInNwaGVyZV90b19jb3JuZXIiLCJzcGhlcmVCb3hfc3BoZXJlX3RvX2Nvcm5lciIsImVkZ2VUYW5nZW50IiwiZWRnZUNlbnRlciIsIm9ydGhvZ29uYWwiLCJOc2lkZXMiLCJvcnRob25vcm0iLCJ0ZGlzdCIsIm5kaXN0IiwicmVzIiwic2VwQXhpcyIsImNvbnZleENvbnZleF9zZXBBeGlzIiwiY29udmV4Q29udmV4X3EiLCJjb252ZXhfdG9fc3BoZXJlIiwid29ybGRDb3JuZXIiLCJzcGhlcmVDb252ZXhfd29ybGRDb3JuZXIiLCJzcGhlcmVDb252ZXhfc3BoZXJlVG9Db3JuZXIiLCJuZmFjZXMiLCJzcGhlcmVDb252ZXhfd29ybGROb3JtYWwiLCJzcGhlcmVDb252ZXhfd29ybGRQb2ludCIsIndvcmxkU3BoZXJlUG9pbnRDbG9zZXN0VG9QbGFuZSIsInNwaGVyZUNvbnZleF93b3JsZFNwaGVyZVBvaW50Q2xvc2VzdFRvUGxhbmUiLCJzcGhlcmVDb252ZXhfcGVuZXRyYXRpb25WZWMiLCJwZW5ldHJhdGlvbiIsIndvcmxkUG9pbnRUb1NwaGVyZSIsInNwaGVyZUNvbnZleF9zcGhlcmVUb1dvcmxkUG9pbnQiLCJmYWNlVmVydHMiLCJOdmVydHMiLCJ3b3JsZFZlcnRleCIsInBvaW50SW5Qb2x5Z29uIiwicGVuZXRyYXRpb25WZWMyIiwicGVuZXRyYXRpb25TcGhlcmVQb2ludCIsIk5mYWNldmVydHMiLCJzcGhlcmVDb252ZXhfZWRnZSIsImVkZ2VVbml0Iiwic3BoZXJlQ29udmV4X2VkZ2VVbml0IiwidjFfdG9feGkiLCJ4aV90b19wIiwicGxhbmVTaGFwZSIsImNvbnZleFNoYXBlIiwicGxhbmVQb3NpdGlvbiIsImNvbnZleFBvc2l0aW9uIiwicGxhbmVRdWF0IiwiY29udmV4UXVhdCIsInBsYW5lQm9keSIsImNvbnZleEJvZHkiLCJwbGFuZUNvbnZleF92IiwicGxhbmVDb252ZXhfbm9ybWFsIiwicmVscG9zIiwicGxhbmVDb252ZXhfcmVscG9zIiwicHJvamVjdGVkIiwicGxhbmVDb252ZXhfcHJvamVjdGVkIiwic3BoZXJlU2hhcGUiLCJoZlNoYXBlIiwic3BoZXJlUG9zIiwiaGZQb3MiLCJzcGhlcmVRdWF0IiwiaGZRdWF0Iiwic3BoZXJlQm9keSIsImhmQm9keSIsInNwaGVyZUhlaWdodGZpZWxkX3RtcDIiLCJsb2NhbFNwaGVyZVBvcyIsInNwaGVyZUhlaWdodGZpZWxkX3RtcDEiLCJjZWlsIiwibWluTWF4IiwibnVtQ29udGFjdHNCZWZvcmUiLCJpbnRlcnNlY3RpbmciLCJjb252ZXhQb3MiLCJjb252ZXhIZWlnaHRmaWVsZF90bXAyIiwiY29udmV4SGVpZ2h0ZmllbGRfZmFjZUxpc3QiLCJsb2NhbENvbnZleFBvcyIsImNvbnZleEhlaWdodGZpZWxkX3RtcDEiLCJwYXJ0aWNsZVNwaGVyZV9ub3JtYWwiLCJwYXJ0aWNsZVBsYW5lX25vcm1hbCIsInBhcnRpY2xlUGxhbmVfcmVscG9zIiwicGFydGljbGVQbGFuZV9wcm9qZWN0ZWQiLCJwZW5ldHJhdGVkRmFjZUluZGV4IiwicGVuZXRyYXRlZEZhY2VOb3JtYWwiLCJjb252ZXhQYXJ0aWNsZV9wZW5ldHJhdGVkRmFjZU5vcm1hbCIsIndvcmxkUGVuZXRyYXRpb25WZWMiLCJjb252ZXhQYXJ0aWNsZV93b3JsZFBlbmV0cmF0aW9uVmVjIiwibWluUGVuZXRyYXRpb24iLCJsb2NhbCIsImNvbnZleFBhcnRpY2xlX2xvY2FsIiwiY3FqIiwiY29udmV4UGFydGljbGVfdmVydGV4VG9QYXJ0aWNsZSIsInRyaW1lc2hTaGFwZSIsInRyaW1lc2hQb3MiLCJ0cmltZXNoUXVhdCIsInRyaW1lc2hCb2R5IiwiZWRnZVZlcnRleEEiLCJzcGhlcmVUcmltZXNoX2VkZ2VWZXJ0ZXhBIiwiZWRnZVZlcnRleEIiLCJzcGhlcmVUcmltZXNoX2VkZ2VWZXJ0ZXhCIiwiZWRnZVZlY3RvciIsInNwaGVyZVRyaW1lc2hfZWRnZVZlY3RvciIsImVkZ2VWZWN0b3JVbml0Iiwic3BoZXJlVHJpbWVzaF9lZGdlVmVjdG9yVW5pdCIsInNwaGVyZVRyaW1lc2hfbG9jYWxTcGhlcmVQb3MiLCJzcGhlcmVUcmltZXNoX3RtcCIsImxvY2FsU3BoZXJlQUFCQiIsInNwaGVyZVRyaW1lc2hfbG9jYWxTcGhlcmVBQUJCIiwic3BoZXJlVHJpbWVzaF92MiIsInNwaGVyZVRyaW1lc2hfcmVscG9zIiwic3BoZXJlVHJpbWVzaF90cmlhbmdsZXMiLCJzcGhlcmVSYWRpdXMiLCJzcGhlcmVUcmltZXNoX3YiLCJyYWRpdXNTcXVhcmVkIiwicG9zaXRpb25BbG9uZ0VkZ2VCIiwicG9zaXRpb25BbG9uZ0VkZ2VBIiwic3BoZXJlVHJpbWVzaF92YSIsInNwaGVyZVRyaW1lc2hfdmIiLCJzcGhlcmVUcmltZXNoX3ZjIiwic3BoZXJlVHJpbWVzaF9ub3JtYWwiLCJwbGFuZVBvcyIsInBsYW5lVHJpbWVzaF9ub3JtYWwiLCJwbGFuZVRyaW1lc2hfcmVscG9zIiwicGxhbmVUcmltZXNoX3Byb2plY3RlZCIsInBvaW50SW5Qb2x5Z29uX2VkZ2UiLCJwb2ludEluUG9seWdvbl9lZGdlX3hfbm9ybWFsIiwicG9pbnRJblBvbHlnb25fdnRwIiwicG9zaXRpdmVSZXN1bHQiLCJlZGdlX3hfbm9ybWFsIiwidmVydGV4X3RvX3AiLCJPdmVybGFwS2VlcGVyIiwiY3VycmVudCIsInByZXZpb3VzIiwiZ2V0S2V5IiwidGljayIsImdldERpZmYiLCJhZGRpdGlvbnMiLCJyZW1vdmFscyIsImFsIiwiYmwiLCJrZXlBIiwidW5wYWNrQW5kUHVzaCIsImtleUIiLCJhcnJheSIsIlR1cGxlRGljdGlvbmFyeSIsIldvcmxkIiwiY29udGFjdHMiLCJmcmljdGlvbkVxdWF0aW9ucyIsInF1YXROb3JtYWxpemVTa2lwIiwic3RlcG51bWJlciIsImRlZmF1bHRfZHQiLCJuZXh0SWQiLCJoYXNBY3RpdmVCb2RpZXMiLCJzb2x2ZXIiLCJjb25zdHJhaW50cyIsIm5hcnJvd3BoYXNlIiwiY29sbGlzaW9uTWF0cml4IiwiY29sbGlzaW9uTWF0cml4UHJldmlvdXMiLCJjb250YWN0bWF0ZXJpYWxzIiwiY29udGFjdE1hdGVyaWFsVGFibGUiLCJkZWZhdWx0TWF0ZXJpYWwiLCJkb1Byb2ZpbGluZyIsInByb2ZpbGUiLCJtYWtlQ29udGFjdENvbnN0cmFpbnRzIiwiYWNjdW11bGF0b3IiLCJzdWJzeXN0ZW1zIiwiYWRkQm9keUV2ZW50IiwicmVtb3ZlQm9keUV2ZW50IiwiaWRUb0JvZHlNYXAiLCJudW1PYmplY3RzIiwiY29sbGlzaW9uTWF0cml4VGljayIsImFkZENvbnN0cmFpbnQiLCJyZW1vdmVDb25zdHJhaW50IiwicmF5VGVzdCIsInJheWNhc3RDbG9zZXN0IiwicmF5Y2FzdEFsbCIsInRtcFJheSQxIiwicmF5Y2FzdEFueSIsImFkZEJvZHkiLCJyZW1vdmVCb2R5IiwiZ2V0Qm9keUJ5SWQiLCJnZXRTaGFwZUJ5SWQiLCJzbCIsImFkZE1hdGVyaWFsIiwibSIsImFkZENvbnRhY3RNYXRlcmlhbCIsImNtYXQiLCJzdGVwIiwidGltZVNpbmNlTGFzdENhbGxlZCIsIm1heFN1YlN0ZXBzIiwiaW50ZXJuYWxTdGVwIiwidDAiLCJwZXJmb3JtYW5jZSIsIm5vdyIsInN1YnN0ZXBzIiwiV29ybGRfc3RlcF9wMSIsIldvcmxkX3N0ZXBfcDIiLCJwcm9maWxpbmdTdGFydCIsIldvcmxkX3N0ZXBfZnJpY3Rpb25FcXVhdGlvblBvb2wiLCJnbm9ybSIsImd4IiwiZ3kiLCJneiIsIk5zdWJzeXN0ZW1zIiwiTmNvbnN0cmFpbnRzIiwiV29ybGRfc3RlcF9vbGRDb250YWN0cyIsIk5vbGRDb250YWN0cyIsIk5vbGRGcmljdGlvbkVxdWF0aW9ucyIsIm5jb250YWN0cyIsIm11Iiwic3BlZWRTcXVhcmVkQiIsInNwZWVkTGltaXRTcXVhcmVkQiIsInNwZWVkU3F1YXJlZEEiLCJzcGVlZExpbWl0U3F1YXJlZEEiLCJXb3JsZF9zdGVwX2NvbGxpZGVFdmVudCIsImNvbnRhY3QiLCJlbWl0Q29udGFjdEV2ZW50cyIsImxkIiwiYXYiLCJhZCIsIldvcmxkX3N0ZXBfcHJlU3RlcEV2ZW50IiwiY2xlYXJGb3JjZXMiLCJXb3JsZF9zdGVwX3Bvc3RTdGVwRXZlbnQiLCJ0YXUiLCJ0bXBBQUJCMSIsImdsb2JhbFRoaXMiLCJub3dPZmZzZXQiLCJEYXRlIiwidGltaW5nIiwibmF2aWdhdGlvblN0YXJ0IiwiYmVnaW5Db250YWN0RXZlbnQiLCJlbmRDb250YWN0RXZlbnQiLCJiZWdpblNoYXBlQ29udGFjdEV2ZW50IiwiZW5kU2hhcGVDb250YWN0RXZlbnQiLCJoYXNCZWdpbkNvbnRhY3QiLCJoYXNFbmRDb250YWN0IiwiaGFzQmVnaW5TaGFwZUNvbnRhY3QiLCJoYXNFbmRTaGFwZUNvbnRhY3QiLCJzcHJpbmdzIiwicmF5cyIsImNvbmZpZyIsInN1YnNjcmlwdGlvbnMiLCJ0ZW1wVmVjdG9yIiwiY3JlYXRlU2hhcGUiLCJtYXAiLCJzeW5jQm9kaWVzIiwic2VsZiIsInBvc3RNZXNzYWdlIiwib3AiLCJ1dWlkIiwicmVkdWNlIiwiYWNjIiwib25tZXNzYWdlIiwicG9zaXRpb25zIiwicXVhdGVybmlvbnMiLCJicm9hZHBoYXNlcyIsImFzc2lnbiIsIm51bWJlck9mQm9kaWVzIiwib2JzZXJ2YXRpb25zIiwiYWN0aXZlIiwiYnVmZmVyIiwicm90YXRpb24iLCJib2R5VHlwZSIsIm9uQ29sbGlkZSIsImV4dHJhIiwidG9VcHBlckNhc2UiLCJmb3JFYWNoIiwic2hhcGVCb2R5IiwiaW1wYWN0VmVsb2NpdHkiLCJjb2xsaXNpb25GaWx0ZXJzIiwiYm9keUZpbHRlckdyb3VwIiwiYm9keUZpbHRlck1hc2siLCJ0YXJnZXRGaWx0ZXJHcm91cCIsInRhcmdldEZpbHRlck1hc2siLCJvcHRucyIsImlzQXJyYXkiLCJjb25zdHJhaW50IiwiZmlsdGVyIiwidGhpc0lkIiwic3ByaW5nIiwicG9zdFN0ZXBTcHJpbmciLCJyZXN0Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTs7Ozs7QUFrRkE7Ozs7Ozs7OztBQU9BLE1BQU1BLElBQU4sQ0FBVztBQUNUQyxFQUFBQSxXQUFXLENBQUNDLFFBQVEsR0FBRyxDQUFDLENBQUQsRUFBSSxDQUFKLEVBQU8sQ0FBUCxF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', false);
/* eslint-enable */

function Provider({
  children,
  step = 1 / 60,
  gravity = [0, -10, 0],
  tolerance = 0.001,
  iterations = 5,
  allowSleep = false,
  broadphase = 'Naive',
  axisIndex = 0,
  defaultContactMaterial = {
    contactEquationStiffness: 1e6
  },
  size = 1000
}) {
  const {
    gl,
    invalidate
  } = useThree();
  const [worker] = useState(() => new WorkerFactory());
  const [refs] = useState({});
  const [buffers] = useState(() => ({
    positions: new Float32Array(size * 3),
    quaternions: new Float32Array(size * 4)
  }));
  const [events] = useState({});
  const [subscriptions] = useState({});
  const bodies = useRef({});
  const loop = useMemo(() => () => {
    if (buffers.positions.byteLength !== 0 && buffers.quaternions.byteLength !== 0) {
      worker.postMessage(_extends({
        op: 'step'
      }, buffers), [buffers.positions.buffer, buffers.quaternions.buffer]);
    }
  }, []);
  const prevPresenting = useRef(false);
  useFrame(() => {
    if (gl.xr.isPresenting && !prevPresenting.current) {
      gl.xr.getSession().requestAnimationFrame(loop);
    }

    if (!gl.xr.isPresenting && prevPresenting.current) {
      requestAnimationFrame(loop);
    }

    prevPresenting.current = gl.xr.isPresenting;
  });
  useEffect(() => {
    worker.postMessage({
      op: 'init',
      props: {
        gravity,
        tolerance,
        step,
        iterations,
        broadphase,
        allowSleep,
        axisIndex,
        defaultContactMaterial
      }
    });

    worker.onmessage = e => {
      switch (e.data.op) {
        case 'frame':
          buffers.positions = e.data.positions;
          buffers.quaternions = e.data.quaternions;
          e.data.observations.forEach(([id, value]) => subscriptions[id](value));

          if (gl.xr.isPresenting) {
            gl.xr.getSession().requestAnimationFrame(loop);
          } else {
            requestAnimationFrame(loop);
          }

          if (e.data.active) invalidate();
          break;

        case 'sync':
          bodies.current = e.data.bodies.reduce((acc, id) => _extends({}, acc, {
            [id]: e.data.bodies.indexOf(id)
          }), {});
          break;

        case 'event':
          switch (e.data.type) {
            case 'collide':
              events[e.data.target](_extends({}, e.data, {
                target: refs[e.data.target],
                body: refs[e.data.body]
              }));
              break;

            case 'rayhit':
              events[e.data.ray.uuid](_extends({}, e.data, {
                body: e.data.body ? refs[e.data.body] : null
              }));
              break;
          }

          break;
      }
    };

    loop();
    return () => worker.terminate();
  }, []);
  const api = useMemo(() => ({
    worker,
    bodies,
    refs,
    buffers,
    events,
    subscriptions
  }), [worker, bodies, refs, buffers, events, subscriptions]);
  return /*#__PURE__*/React.createElement(context.Provider, {
    value: api
  }, children);
}

export default Provider;
