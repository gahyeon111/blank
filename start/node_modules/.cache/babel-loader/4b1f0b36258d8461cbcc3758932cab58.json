{"ast":null,"code":"import _objectSpread from \"/Users/chaehyun/Documents/GitHub/codrops-r3f-mirrors/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport { useMemo, useRef } from 'react';\nimport * as THREE from 'three';\nimport { useFrame } from 'react-three-fiber';\n\nfunction useRenderTarget() {\n  var settings = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var renderTarget = useMemo(function () {\n    var renderTargetSettings = {\n      format: THREE.RGBAFormat,\n      generateMipmaps: true\n    };\n    return new THREE.WebGLCubeRenderTarget(1024, _objectSpread(_objectSpread({}, renderTargetSettings), settings));\n  }, [settings]);\n  var cubeCamera = useRef();\n  useFrame(function (_ref) {\n    var gl = _ref.gl,\n        scene = _ref.scene;\n    if (!cubeCamera.current) return;\n    cubeCamera.current.update(gl, scene);\n  });\n  return [cubeCamera, renderTarget];\n}\n\nexport default useRenderTarget;","map":{"version":3,"sources":["/Users/chaehyun/Documents/GitHub/codrops-r3f-mirrors/src/use-render-target.js"],"names":["useMemo","useRef","THREE","useFrame","useRenderTarget","settings","renderTarget","renderTargetSettings","format","RGBAFormat","generateMipmaps","WebGLCubeRenderTarget","cubeCamera","gl","scene","current","update"],"mappings":";AAAA,SAASA,OAAT,EAAkBC,MAAlB,QAAgC,OAAhC;AACA,OAAO,KAAKC,KAAZ,MAAuB,OAAvB;AACA,SAASC,QAAT,QAAyB,mBAAzB;;AAEA,SAASC,eAAT,GAAwC;AAAA,MAAfC,QAAe,uEAAJ,EAAI;AACtC,MAAMC,YAAY,GAAGN,OAAO,CAAC,YAAM;AACjC,QAAMO,oBAAoB,GAAG;AAC3BC,MAAAA,MAAM,EAAEN,KAAK,CAACO,UADa;AAE3BC,MAAAA,eAAe,EAAE;AAFU,KAA7B;AAKA,WAAO,IAAIR,KAAK,CAACS,qBAAV,CAAgC,IAAhC,kCACFJ,oBADE,GAEFF,QAFE,EAAP;AAID,GAV2B,EAUzB,CAACA,QAAD,CAVyB,CAA5B;AAYA,MAAMO,UAAU,GAAGX,MAAM,EAAzB;AAEAE,EAAAA,QAAQ,CAAC,gBAAmB;AAAA,QAAhBU,EAAgB,QAAhBA,EAAgB;AAAA,QAAZC,KAAY,QAAZA,KAAY;AAC1B,QAAI,CAACF,UAAU,CAACG,OAAhB,EAAyB;AACzBH,IAAAA,UAAU,CAACG,OAAX,CAAmBC,MAAnB,CAA0BH,EAA1B,EAA8BC,KAA9B;AACD,GAHO,CAAR;AAKA,SAAO,CAACF,UAAD,EAAaN,YAAb,CAAP;AACD;;AAED,eAAeF,eAAf","sourcesContent":["import { useMemo, useRef } from 'react'\nimport * as THREE from 'three'\nimport { useFrame } from 'react-three-fiber'\n\nfunction useRenderTarget(settings = {}) {\n  const renderTarget = useMemo(() => {\n    const renderTargetSettings = {\n      format: THREE.RGBAFormat,\n      generateMipmaps: true\n    }\n\n    return new THREE.WebGLCubeRenderTarget(1024, {\n      ...renderTargetSettings,\n      ...settings\n    })\n  }, [settings])\n\n  const cubeCamera = useRef()\n\n  useFrame(({ gl, scene }) => {\n    if (!cubeCamera.current) return\n    cubeCamera.current.update(gl, scene)\n  })\n\n  return [cubeCamera, renderTarget]\n}\n\nexport default useRenderTarget\n"]},"metadata":{},"sourceType":"module"}